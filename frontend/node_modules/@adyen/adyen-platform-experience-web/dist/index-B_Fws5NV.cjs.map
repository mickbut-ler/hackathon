{"version":3,"file":"index-B_Fws5NV.cjs","sources":["../src/core/constants.ts","../src/utils/common.ts","../src/utils/value/is.ts","../src/utils/abort/constants.ts","../src/utils/value/bool.ts","../src/utils/struct/property.ts","../src/utils/value/compare.ts","../src/utils/abort/internals.ts","../src/utils/abort/main.ts","../src/utils/value/constants.ts","../src/utils/async/constants.ts","../src/utils/async/main.ts","../src/utils/collection/main.ts","../src/utils/datetime/main.ts","../src/utils/file/download.ts","../src/utils/value/number.ts","../src/utils/file/size.ts","../src/utils/file/upload.ts","../src/utils/random/uniqueId.ts","../src/utils/random/uuid.ts","../src/utils/struct/main.ts","../src/utils/value/string.ts","../src/core/Http/constants.ts","../src/core/Errors/AdyenPlatformExperienceError.ts","../src/core/Http/utils.ts","../src/core/Http/http.ts","../src/core/utils.ts","../src/core/ConfigContext/session/constants.ts","../src/primitives/async/abortable/main.ts","../src/primitives/async/deferred/main.ts","../src/primitives/async/promisor/main.ts","../src/core/Analytics/analytics/utils.ts","../src/core/ConfigContext/session/SetupContext.ts","../src/primitives/context/session/constants.ts","../src/primitives/context/session/internal/constants.ts","../src/primitives/context/session/internal/autofresher.ts","../src/primitives/time/interval/constants.ts","../src/primitives/time/interval/main.ts","../src/primitives/reactive/watchlist/helpers.ts","../src/primitives/reactive/watchlist/constants.ts","../src/primitives/reactive/watchlist/main.ts","../src/primitives/time/clock/main.ts","../src/primitives/reactive/eventEmitter/main.ts","../src/primitives/context/session/internal/deadline.ts","../src/primitives/context/session/internal/refresher.ts","../src/primitives/context/session/SessionContext.ts","../src/core/ConfigContext/session/AuthSessionSpecification.ts","../src/primitives/auxiliary/errorContainer/main.ts","../src/core/ConfigContext/session/AuthSession.ts","../src/translations/index.ts","../src/core/Localization/constants/localization.ts","../src/core/Localization/constants/currency-codes.ts","../src/core/Localization/constants/currency-decimals.ts","../src/core/Localization/amount/amount-util.ts","../src/core/Localization/datetime/restamper/constants.ts","../src/core/Localization/datetime/restamper/utils.ts","../src/core/Localization/datetime/restamper/restamper.ts","../src/core/Localization/utils.ts","../src/core/Localization/localization-utils.ts","../src/core/Localization/Localization.ts","../src/core/Assets/Assets.ts","../src/core/Analytics/analytics/customTranslations.ts","../src/core/core.ts","../node_modules/preact/dist/preact.module.js","../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js","../node_modules/preact/hooks/dist/hooks.module.js","../src/core/Context/analytics/AnalyticsContext.tsx","../src/core/Analytics/analytics/user-events.ts","../node_modules/preact/compat/dist/compat.module.js","../src/utils/preact/fixedForwardRef.ts","../src/utils/preact/memoComparator/main.ts","../src/utils/preact/className.ts","../src/utils/preact/props.ts","../src/components/internal/Button/constants.ts","../src/components/internal/Spinner/Spinner.tsx","../src/components/internal/Typography/constants.ts","../src/components/internal/Typography/types.ts","../src/components/internal/Typography/Typography.tsx","../src/components/internal/Button/hooks/useButton.tsx","../src/components/internal/Button/types.ts","../src/components/internal/Button/Button.tsx","../src/core/Context/CoreContext.ts","../src/core/Context/useCoreContext.ts","../src/components/internal/ErrorMessageDisplay/ErrorMessageDisplay.tsx","../src/core/ConfigContext/session/utils/sessionAwareComponentAvailability/helpers/componentAvailabilityRegistry.ts","../src/core/ConfigContext/session/utils/sessionReady.ts","../src/core/ConfigContext/session/utils/sessionAwareComponentAvailability/sessionAwareComponentAvailability.ts","../src/core/ConfigContext/session/utils/sessionAwareComponentAvailability/helpers/componentAvailabilityErrors.ts","../src/core/ConfigContext/context.tsx","../src/hooks/useMutation/useMutation.ts","../src/hooks/useAnalytics/usePushAnalyticEvent.ts","../src/core/Context/analytics/AnalyticsProvider.tsx","../src/hooks/useBooleanState.ts","../src/core/Context/CoreProvider.tsx","../src/components/external/BaseElement.ts","../src/components/external/UIElement/UIElement.tsx","../src/components/internal/Popover/utils/popoverUtil.ts","../src/primitives/reactive/reflex/constants.ts","../src/primitives/reactive/reflex/errors.ts","../src/primitives/reactive/reflex/helpers.ts","../src/primitives/reactive/reflex/register.ts","../src/primitives/reactive/reflex/main.ts","../src/hooks/useReflex.ts","../src/hooks/element/useClickOutside.ts","../src/constants/dateFormats.ts","../src/constants/index.ts","../src/hooks/useContainerQuery.ts","../src/hooks/useResponsiveContainer.ts","../src/primitives/dom/tabbableRoot/tabbable.ts","../src/components/types.ts","../src/hooks/element/useFocusTrap.ts","../src/components/internal/Icon/Icon.tsx","../src/components/internal/Modal/Modal.tsx","../src/hooks/useFetch.ts","../src/hooks/useUniqueId.ts","../src/components/internal/Accordion/constants.ts","../src/components/internal/Accordion/Accordion.tsx","../src/components/internal/Card/constants.ts","../src/components/internal/Card/Card.tsx","../src/components/internal/StructuredList/constants.ts","../src/components/internal/StructuredList/useStructuredListItem.ts","../src/components/internal/StructuredList/StructuredList.tsx","../src/components/internal/DataOverviewDetails/constants.ts","../src/components/internal/DataOverviewDetails/DataOverviewDetailsSkeleton.tsx","../src/hooks/useTimezoneAwareDateFormatting.ts","../src/components/external/PayoutDetails/components/constants.ts","../src/components/internal/Tag/types.ts","../src/components/internal/Tag/Tag.tsx","../src/components/internal/Link/Link.tsx","../src/components/internal/DataGrid/components/Icon.tsx","../src/components/internal/DataGrid/hooks/useDataGridContext.ts","../src/components/internal/DataGrid/DataGridCell.tsx","../src/components/internal/DataGrid/components/TableCells.tsx","../src/components/internal/Button/ButtonActions/types.ts","../src/components/internal/Button/ButtonActions/ButtonActions.tsx","../src/components/utils/translation/factory.ts","../src/components/utils/disputes/constants.ts","../src/components/external/TransactionsOverview/types.ts","../src/components/internal/Calendar/calendar/timerange/utils.ts","../src/components/internal/Calendar/calendar/timerange/factory.ts","../src/components/internal/Calendar/calendar/utils.ts","../src/components/internal/Calendar/calendar/timerange/presets/shared/offsetMonth.ts","../src/components/internal/Calendar/calendar/timerange/presets/lastMonth.ts","../src/components/internal/Calendar/calendar/timerange/presets/lastNDays.ts","../src/components/internal/Calendar/calendar/timerange/presets/shared/offsetWeek.ts","../src/components/internal/Calendar/calendar/timerange/presets/lastWeek.ts","../src/components/internal/Calendar/calendar/timerange/presets/thisMonth.ts","../src/components/internal/Calendar/calendar/timerange/presets/thisWeek.ts","../src/components/internal/Calendar/calendar/timerange/presets/yearToDate.ts","../src/components/external/TransactionsOverview/constants.ts","../src/components/utils/getCommonErrorCode.ts","../src/components/internal/Popover/constants.ts","../src/components/internal/Popover/PopoverDismissButton/PopoverDismissButton.tsx","../src/components/internal/Popover/PopoverTitle/PopoverTitle.tsx","../src/components/internal/Popover/types.ts","../src/components/internal/Popover/utils/utils.ts","../src/hooks/element/usePopoverPositioner.ts","../src/hooks/element/useUniqueIdentifier.ts","../src/components/internal/Popover/Popover.tsx","../src/components/internal/Tooltip/useTooltipListeners.ts","../src/components/internal/Tooltip/Tooltip.tsx","../src/components/internal/CopyText/CopyText.tsx","../src/components/utils/getErrorMessage.tsx","../src/components/internal/DataOverviewError/DataOverviewError.tsx","../src/components/internal/DataGrid/components/TableBody.tsx","../src/components/internal/DataGrid/hooks/useInteractiveDataGrid.ts","../src/components/internal/DataGrid/components/InteractiveBody.tsx","../src/components/internal/DataGrid/components/SkeletonBody.tsx","../src/components/internal/DataGrid/utils/DataGridProvider.tsx","../src/components/internal/DataGrid/components/TableHeaderCell.tsx","../src/components/internal/DataGrid/DataGrid.tsx","../src/core/Errors/constants.ts","../src/hooks/useCommitAction/types.ts","../src/hooks/useCommitAction/useCommitAction.ts","../src/components/internal/Img/Img.tsx","../src/components/internal/FormFields/Select/constants.ts","../src/components/internal/FormFields/Select/components/SelectButton.tsx","../src/components/internal/Popover/PopoverContainer.tsx","../src/components/internal/FormFields/Select/components/SelectListItem.tsx","../src/components/internal/FormFields/Select/components/SelectList.tsx","../src/components/internal/FormFields/Select/hooks/useSelect.ts","../src/components/internal/FormFields/Select/Select.tsx","../src/components/internal/Translation/Translation.tsx","../src/components/internal/Pagination/Pagination.tsx","../src/components/external/TransactionsOverview/components/TransactionsTable/constants.ts","../src/hooks/useImageUrl.ts","../src/components/internal/Image/Image.tsx","../src/components/external/TransactionsOverview/components/utils.ts","../src/components/external/TransactionsOverview/components/TransactionsTable/PaymentMethodCell.tsx","../src/hooks/useTableColumns.ts","../src/components/external/TransactionsOverview/components/TransactionsTable/TransactionsTable.tsx","../src/components/external/TransactionDetails/types.ts","../src/components/external/TransactionDetails/constants.ts","../src/components/utils/translation/getters.ts","../src/components/external/PayoutDetails/components/PayoutData.tsx","../src/hooks/useBalanceAccounts.ts","../src/components/internal/DataOverviewDetails/useDataOverviewDetailsTitle.ts","../src/components/external/PayoutsOverview/components/PayoutsTable/constants.ts","../src/components/external/PayoutsOverview/components/PayoutsTable/PayoutsTable.tsx","../src/hooks/useComponentHeadingElement.ts","../src/components/internal/Divider/constants.ts","../src/components/internal/Divider/Divider.tsx","../src/components/internal/Header/Header.tsx","../src/components/internal/DataOverviewDetails/DataOverviewDetails.tsx","../src/components/external/PayoutDetails/PayoutDetails.tsx","../src/components/internal/DataOverviewContainer/constants.ts","../src/components/internal/DataOverviewContainer/DataOverviewContainer.tsx","../src/components/external/PayoutsOverview/components/PayoutsOverview/constants.ts","../src/components/internal/FilterBar/FilterBar.tsx","../src/core/Context/analytics/useAnalyticsContext.tsx","../src/hooks/useAnalytics/useFilterAnalyticsEvent.ts","../src/hooks/useBalanceAccountSelection.ts","../src/components/internal/FormFields/Select/BalanceAccountSelector/BalanceAccountSelector.tsx","../src/components/internal/Pagination/constants.ts","../src/components/internal/Pagination/utils.ts","../src/components/internal/Pagination/hooks/usePageLimit.ts","../src/hooks/useMounted.ts","../src/components/internal/Pagination/hooks/usePagination.ts","../src/components/internal/Pagination/hooks/useCursorPagination.ts","../src/components/internal/Pagination/hooks/useOffsetPagination.ts","../src/hooks/useReactiveState/useReactiveState.ts","../src/components/internal/Pagination/hooks/usePaginatedRecordsFilters.ts","../src/components/internal/Pagination/types.ts","../src/components/internal/Pagination/hooks/usePaginatedRecords.ts","../src/components/internal/Pagination/hooks/useCursorPaginatedRecords.ts","../src/components/internal/Calendar/hooks/useTimezone.ts","../src/components/internal/DatePicker/components/TimeRangeSelector/useTimeRangeSelection.ts","../src/components/internal/DatePicker/components/TimeRangeSelector/TimeRangeSelector.tsx","../src/components/internal/Calendar/components/CalendarGrid/utils.ts","../src/components/internal/Calendar/types.ts","../src/components/internal/Calendar/components/CalendarGrid/CalendarGridDate.tsx","../src/components/internal/Calendar/components/CalendarGrid/CalendarGridDayOfWeek.tsx","../src/components/internal/Calendar/components/CalendarGrid/CalendarGrid.tsx","../src/components/internal/Calendar/calendar/constants.ts","../src/components/internal/Calendar/calendar/timeframe/common/utils.ts","../src/components/internal/Calendar/calendar/timeslice/TimeSlice.ts","../src/components/internal/Calendar/calendar/timeslice/index.ts","../src/components/internal/Calendar/calendar/types.ts","../src/components/internal/Calendar/calendar/timeframe/common/flags.ts","../src/primitives/auxiliary/indexed/helpers.ts","../src/primitives/auxiliary/indexed/main.ts","../src/primitives/time/today/main.ts","../src/components/internal/Calendar/calendar/timeframe/frames/TimeFrame.ts","../src/components/internal/Calendar/calendar/timeframe/frames/MonthFrame.ts","../src/primitives/reactive/effectStack/main.ts","../src/components/internal/Calendar/calendar/facade/Calendar.ts","../src/components/internal/Calendar/calendar/facade/index.ts","../src/components/internal/Calendar/components/CalendarControls/CalendarControls.tsx","../src/hooks/element/useFocusCursor.ts","../src/components/internal/Calendar/hooks/useCalendar.ts","../src/components/internal/Calendar/Calendar.tsx","../src/hooks/element/useDetachedRender.ts","../src/components/internal/Calendar/hooks/useCalendarControlsRendering.tsx","../src/components/internal/DatePicker/DatePicker.tsx","../src/components/internal/FilterBar/components/FilterButton/FilterButton.tsx","../src/components/internal/FormFields/utils.ts","../src/components/internal/FormFields/FieldError/FieldError.tsx","../src/components/internal/FormFields/InputBase.tsx","../src/components/internal/FormFields/InputText.tsx","../src/components/internal/FilterBar/filters/BaseFilter/BaseFilter.tsx","../src/components/internal/FilterBar/filters/DateFilter/types.ts","../src/components/internal/FilterBar/filters/DateFilter/DateFilterCore.tsx","../src/components/internal/FilterBar/filters/DateFilter/DateFilter.tsx","../src/hooks/useModalDetails/types.ts","../src/hooks/useModalDetails/useModalDetails.ts","../src/components/external/TransactionsOverview/components/MultiSelectionFilter/MultiSelectionFilter.tsx","../src/components/external/TransactionsOverview/components/MultiSelectionFilter/useMultiSelectionFilter/utils.ts","../src/components/external/TransactionsOverview/components/MultiSelectionFilter/useMultiSelectionFilter/useMultiSelectionFilter.ts","../src/components/external/TransactionsOverview/components/MultiSelectionFilter/useMultiSelectionFilter/constants.ts","../src/hooks/useDefaultOverviewFilterParams.ts","../src/components/internal/Modal/ModalContent/ModalContent.tsx","../src/components/internal/DataOverviewDisplay/DataDetailsModal.tsx","../src/hooks/useCustomColumnsData.ts","../src/components/utils/customData/hasCustomField.ts","../src/components/utils/customData/mergeRecords.ts","../src/components/external/PayoutsOverview/components/PayoutsOverview/PayoutsOverview.tsx","../src/components/external/PayoutsOverview/components/PayoutsOverviewContainer/constants.ts","../src/components/external/PayoutsOverview/components/PayoutsOverviewContainer/PayoutsOverviewContainer.tsx","../src/components/external/PayoutsOverview/PayoutsOverviewElement.tsx","../src/components/utils/customData/normalizeCustomFields.ts","../src/hooks/useComponentTiming.ts","../src/components/external/TransactionDetails/components/PaymentRefund/PaymentRefundActions.tsx","../src/components/external/TransactionDetails/components/PaymentRefund/PaymentRefundAmount.tsx","../src/components/external/TransactionDetails/components/PaymentRefund/PaymentRefundNotice.tsx","../src/components/external/TransactionDetails/components/PaymentRefund/PaymentRefundReason.tsx","../src/components/internal/Alert/types.ts","../src/components/internal/Alert/AlertIcon.tsx","../src/components/internal/Alert/Alert.tsx","../src/components/external/TransactionDetails/components/PaymentRefund/PaymentRefund.tsx","../src/hooks/useTabbedControl.ts","../src/components/internal/Tabs/Tabs.tsx","../src/components/external/TransactionDetails/components/PaymentDetails/PaymentRefundAlerts.tsx","../src/components/external/TransactionDetails/components/PaymentDetails/PaymentDetailsActions.tsx","../src/components/external/TransactionDetails/components/PaymentDetails/PaymentDetailsProperties.tsx","../src/components/internal/StatusBox/constants.ts","../src/components/internal/StatusBox/StatusBox.tsx","../src/components/internal/StatusBox/utils.ts","../src/components/internal/StatusBox/useStatusBox.tsx","../src/components/external/TransactionDetails/utils.ts","../src/components/external/TransactionDetails/components/PaymentDetails/PaymentDetailsStatusBox.tsx","../src/components/external/TransactionDetails/components/PaymentDetails/PaymentDetailsSummary.tsx","../src/components/internal/Timeline/types.ts","../src/components/internal/Timeline/context.ts","../src/components/internal/Timeline/components/DateText.tsx","../src/components/internal/Timeline/components/TimelineItem.tsx","../src/components/internal/Timeline/Timeline.tsx","../src/components/external/TransactionDetails/components/PaymentDetails/PaymentDetailsTimeline.tsx","../src/components/external/TransactionDetails/components/PaymentDetails/PaymentDetails.tsx","../src/components/external/TransactionDetails/hooks/useRefundMetadata/useRefundMetadata.ts","../src/hooks/useAnalytics/useLandedPageEvent.ts","../src/components/external/TransactionDetails/components/TransactionData/TransactionDataContent.tsx","../src/components/external/TransactionDetails/hooks/useTransaction/transactionNavigator/createDuplexTransactionNavigator.ts","../src/components/external/TransactionDetails/hooks/useTransaction/useTransaction.ts","../src/components/external/TransactionDetails/components/TransactionData/TransactionData.tsx","../src/components/external/TransactionDetails/TransactionDetails.tsx","../src/components/external/TransactionsOverview/hooks/useTransactionsList.ts","../src/components/external/TransactionsOverview/hooks/useTransactionsTotals.ts","../src/hooks/useAccountBalances.ts","../src/hooks/useAnalytics/useDurationEvent.ts","../src/components/external/TransactionsOverview/components/TransactionsList/TransactionDetailsModal.tsx","../src/components/external/TransactionsOverview/components/TransactionsList/TransactionsList.tsx","../src/components/internal/BaseButton/constants.ts","../src/components/internal/BaseButton/BaseButton.tsx","../src/components/internal/ExpandableCard/constants.ts","../src/components/internal/ExpandableCard/ExpandableCard.tsx","../src/components/external/TransactionsOverview/components/AmountSkeleton/constants.ts","../src/components/external/TransactionsOverview/components/AmountSkeleton/AmountSkeleton.tsx","../src/components/external/TransactionsOverview/components/SummaryItem/constants.ts","../src/components/external/TransactionsOverview/components/SummaryItem/SummaryItemLabel.tsx","../src/components/external/TransactionsOverview/components/SummaryItem/SummaryItem.tsx","../src/components/external/TransactionsOverview/components/TransactionTotalItem/TransactionTotalItem.tsx","../src/components/external/TransactionsOverview/hooks/useMaxWidths.ts","../src/components/external/TransactionsOverview/components/TransactionTotals/TotalsCard.tsx","../src/components/external/TransactionsOverview/components/TransactionTotals/constants.ts","../src/components/external/TransactionsOverview/components/TransactionTotals/TransactionTotals.tsx","../src/components/external/TransactionsOverview/components/BalanceItem/BalanceItem.tsx","../src/components/external/TransactionsOverview/components/Balances/BalancesCard.tsx","../src/components/external/TransactionsOverview/components/Balances/constants.ts","../src/components/external/TransactionsOverview/components/Balances/Balances.tsx","../src/components/external/TransactionsOverview/components/TransactionsOverview/TransactionsOverviewList.tsx","../src/components/external/TransactionsOverview/components/InsightsTotals/constants.ts","../src/components/external/TransactionsOverview/components/AmountDisplay/constants.ts","../src/components/external/TransactionsOverview/components/AmountDisplay/AmountDisplay.tsx","../src/components/external/TransactionsOverview/components/InsightsTotals/InsightsTotals.tsx","../src/components/external/TransactionsOverview/components/TransactionsOverview/TransactionsOverviewInsights.tsx","../src/hooks/useMultiSelectionFilterProps.ts","../src/components/external/TransactionsOverview/components/TransactionFilters/TransactionMultiSelectionFilter.tsx","../src/components/internal/FilterBar/filters/TextFilter/TextFilter.tsx","../src/components/external/TransactionsOverview/components/TransactionFilters/TransactionPspReferenceFilter.tsx","../src/components/external/TransactionsOverview/hooks/useCurrencySelection.ts","../src/components/external/TransactionsOverview/components/TransactionFilters/TransactionDateFilter.tsx","../src/components/external/TransactionsOverview/components/TransactionFilters/TransactionFilters.tsx","../src/components/internal/Button/DownloadButton/useDownload.ts","../src/components/internal/ToggleSwitch/constants.ts","../src/components/internal/ToggleSwitch/ToggleSwitch.tsx","../src/components/external/TransactionsOverview/components/TransactionsExport/constants.ts","../src/components/external/TransactionsOverview/components/TransactionsExport/TransactionsExport.tsx","../src/components/internal/SegmentedControl/SegmentedControl.tsx","../src/components/external/TransactionsOverview/components/TransactionsOverview/TransactionsOverview.tsx","../src/components/external/TransactionsOverview/components/TransactionsOverviewContainer/constants.ts","../src/components/external/TransactionsOverview/components/TransactionsOverviewContainer/TransactionsOverviewContainer.tsx","../src/components/external/TransactionsOverview/TransactionsOverviewElement.tsx","../src/components/internal/CapitalHeader/constants.ts","../src/components/internal/CapitalHeader/helpers.ts","../src/components/utils/capital/getCapitalErrorMessage.tsx","../src/components/external/CapitalOffer/components/utils/CapitalErrorMessageDisplay.tsx","../src/components/external/CapitalOffer/components/CapitalOffer/constants.ts","../src/components/internal/CapitalHeader/CapitalHeader.tsx","../src/components/internal/InfoBox/InfoBox.tsx","../src/components/external/CapitalOffer/components/utils/utils.ts","../src/components/internal/Slider/calculateProgress.ts","../src/components/internal/Slider/Slider.tsx","../src/components/internal/CapitalSlider/CapitalSlider.tsx","../src/components/constants.ts","../src/components/utils/utils.ts","../src/components/external/CapitalOffer/components/CapitalOfferSelection/CapitalOfferSelection.tsx","../src/components/internal/AnchorButton/AnchorButton.tsx","../src/components/external/CapitalOffer/components/CapitalOfferSummary/constants.ts","../src/components/external/CapitalOffer/components/CapitalOfferLegalNotice/CapitalOfferLegalNotice.tsx","../src/components/external/CapitalOffer/components/CapitalOfferSummary/CapitalOfferSummary.tsx","../src/components/external/CapitalOffer/components/CapitalOffer/CapitalOffer.tsx","../src/components/external/CapitalOffer/CapitalOfferElement.tsx","../src/hooks/useFreezePeriod.ts","../src/components/internal/Button/DownloadButton/DownloadButton.tsx","../src/components/external/ReportsOverview/components/ReportsTable/constants.ts","../src/components/external/ReportsOverview/components/ReportsTable/ReportsTable.tsx","../src/components/external/ReportsOverview/components/ReportsOverview/constants.ts","../src/components/external/ReportsOverview/components/ReportsOverview/ReportsOverview.tsx","../src/components/external/ReportsOverview/components/ReportsOverviewContainer/constants.ts","../src/components/external/ReportsOverview/components/ReportsOverviewContainer/ReportsOverviewContainer.tsx","../src/components/external/ReportsOverview/ReportsOverviewElement.tsx","../src/components/external/CapitalOverview/constants.ts","../src/components/external/CapitalOverview/components/Unqualified.tsx","../src/components/external/CapitalOverview/components/PreQualifiedIntro.tsx","../src/components/external/CapitalOverview/components/PreQualified/PreQualified.tsx","../src/components/internal/BaseList/constants.ts","../src/components/internal/BaseList/BaseList.tsx","../src/components/internal/ProgressBar/ProgressBar.tsx","../src/components/external/CapitalOverview/components/GrantItem/constants.ts","../src/components/external/CapitalOverview/components/GrantItem/utils.ts","../src/components/external/CapitalOverview/components/GrantDetails/constants.ts","../src/components/external/CapitalOverview/components/GrantDetails/GrantDetails.tsx","../src/components/external/CapitalOverview/components/GrantActions/constants.ts","../src/components/external/CapitalOverview/components/GrantActions/utils.ts","../src/components/external/CapitalOverview/components/GrantActions/GrantActions.tsx","../src/components/external/CapitalOverview/components/GrantItem/GrantItem.tsx","../src/components/external/CapitalOverview/components/GrantAdjustmentDetails/constants.ts","../src/components/external/CapitalOverview/components/AccountDetails/AccountDetail.tsx","../src/components/external/CapitalOverview/components/AccountDetails/utils.ts","../src/components/external/CapitalOverview/components/AccountDetails/AccountDetails.tsx","../src/components/external/CapitalOverview/components/GrantAdjustmentDetails/GrantAdjustmentDetails.tsx","../src/components/external/CapitalOverview/components/GrantRepaymentDetails/GrantRepaymentDetails.tsx","../src/components/external/CapitalOverview/components/GrantList/GrantsDisplay.tsx","../src/components/external/CapitalOverview/components/GrantList/GrantList.tsx","../src/components/external/CapitalOverview/components/CapitalOverview/CapitalOverview.tsx","../src/components/external/CapitalOverview/CapitalOverviewElement.tsx","../src/components/external/DisputesOverview/components/DisputesOverview/constants.ts","../src/components/utils/disputes/actionNeeded.ts","../src/components/external/DisputesOverview/components/DisputesTable/constants.ts","../src/components/external/DisputesOverview/components/DisputesTable/DisputeStatusTag.tsx","../src/components/external/DisputesOverview/components/DisputesTable/DisputesTable.tsx","../src/components/external/DisputeManagement/context/dispute/context.tsx","../src/components/external/DisputeManagement/components/AcceptDisputeFlow/AcceptDisputeFlow.tsx","../src/components/internal/FormFields/FileInput/constants.ts","../src/components/internal/FormFields/FileInput/components/UploadedFile.tsx","../src/hooks/useTrackedRef.ts","../src/components/internal/FormFields/FileInput/components/Dropzone.tsx","../src/components/internal/FormFields/FileInput/FileInput.tsx","../src/components/external/DisputeManagement/utils/index.ts","../src/components/external/DisputeManagement/components/DefendDisputeFlow/constants.ts","../src/components/external/DisputeManagement/components/DefendDisputeFlow/DefendDocumentUpload.tsx","../src/components/external/DisputeManagement/components/DefendDisputeFlow/SelectAndUploadOptionalDoc.tsx","../src/components/external/DisputeManagement/components/DefendDisputeFlow/DefendDisputeFileUpload.tsx","../src/components/external/DisputeManagement/components/DefendDisputeFlow/DefendDisputeReason.tsx","../src/components/external/DisputeManagement/components/DefendDisputeFlow/DefendDisputeResponse.tsx","../src/components/external/DisputeManagement/components/DefendDisputeFlow/DefendDisputeFlow.tsx","../src/components/external/DisputeManagement/components/DisputesData/constants.ts","../src/components/external/DisputeManagement/components/DisputesData/DisputeIssuerComments.tsx","../src/components/external/DisputeManagement/components/DisputesData/DisputeDataProperties.tsx","../src/components/utils/disputes/getDisputesErrorMessage.tsx","../src/components/external/DisputeManagement/components/DisputesData/DisputeData.tsx","../src/components/external/DisputeManagement/components/DisputeDetails/DisputeDetails.tsx","../src/components/external/DisputeManagement/components/DisputeDetailsContainer/DisputeDetailsContainer.tsx","../src/components/external/DisputesOverview/components/DisputeManagementModal/DisputeManagementModal.tsx","../src/components/external/DisputesOverview/components/DisputesOverview/DisputesOverview.tsx","../src/components/external/DisputesOverview/components/DisputesContainer/DisputesContainer.tsx","../src/components/external/DisputesOverview/DisputesOverviewElement.tsx","../src/components/external/DisputeManagement/DisputeManagementElement.tsx","../src/components/external/PaymentLinksOverview/components/constants.ts","../src/components/utils/payByLink/actionLevel.ts","../src/components/external/PaymentLinksOverview/utils/getPaymentLinksErrorMessage.tsx","../src/components/external/PaymentLinksOverview/components/PaymentLinksErrors.tsx","../src/components/external/PaymentLinksOverview/components/PaymentLinksTable.tsx","../src/components/external/PaymentLinkDetails/components/PaymentLinkSummary/PaymentLinkSummary.tsx","../src/components/external/PaymentLinkDetails/components/PaymentLinkActivity/utils.ts","../src/components/external/PaymentLinkDetails/components/PaymentLinkActivity/PaymentLinkActivity.tsx","../src/components/external/PaymentLinkDetails/components/PaymentLinkTabs/PaymentLinkTabs.tsx","../src/components/external/PaymentLinkDetails/components/PaymentLinkExpiration/PaymentLinkExpiration.tsx","../src/components/external/PaymentLinkDetails/components/PaymentLinkSkeleton/PaymentLinkSkeleton.tsx","../src/components/external/PaymentLinkDetails/components/PaymentLinkError/getPaymentLinkErrorMessage.tsx","../src/components/external/PaymentLinkDetails/components/PaymentLinkError/PaymentLinkError.tsx","../src/components/external/PaymentLinkDetails/components/PaymentLinkDetails/PaymentLinkDetails.tsx","../src/components/external/PaymentLinksOverview/components/PaymentLinkDetailsModal/PaymentLinkDetailsModal.tsx","../src/components/internal/Stepper/Step.tsx","../src/components/internal/Stepper/Stepper.tsx","../src/hooks/form/wizard/WizardFormContext.tsx","../src/components/external/PaymentLinkCreation/utils.ts","../src/hooks/form/useForm.ts","../src/hooks/form/wizard/useWizardForm.ts","../src/components/external/PaymentLinkCreation/components/PaymentLinkCreationFormContainer/usePaymentLinkFormData.ts","../src/components/internal/FormWrappers/FormField.tsx","../src/hooks/form/Controller.tsx","../src/hooks/form/useWatch.ts","../src/components/internal/FormWrappers/VisibleField.tsx","../src/components/internal/FormWrappers/FormTextInput.tsx","../src/components/external/PaymentLinkCreation/constants.ts","../src/components/external/PaymentLinkCreation/components/Form/CustomerDetailsForm/Fields/ShopperEmailField.tsx","../src/components/external/PaymentLinkCreation/components/Form/CustomerDetailsForm/Fields/ShopperPhoneField.tsx","../src/components/internal/FormWrappers/FormSelect.tsx","../src/components/external/PaymentLinkCreation/components/Form/CustomerDetailsForm/Fields/CountryRegionField.tsx","../src/components/external/PaymentLinkCreation/components/Form/CustomerDetailsForm/Fields/Address/ShippingStreetField.tsx","../src/components/external/PaymentLinkCreation/components/Form/CustomerDetailsForm/Fields/LanguageField.tsx","../src/components/external/PaymentLinkCreation/components/Form/CustomerDetailsForm/Fields/BillingAndShippingCheckboxField.tsx","../src/components/external/PaymentLinkCreation/components/Form/CustomerDetailsForm/Fields/Address/ShippingHouseNumberField.tsx","../src/components/external/PaymentLinkCreation/components/Form/CustomerDetailsForm/Fields/Address/ShippingCountryField.tsx","../src/components/external/PaymentLinkCreation/components/Form/CustomerDetailsForm/Fields/Address/ShippingCityField.tsx","../src/components/external/PaymentLinkCreation/components/Form/CustomerDetailsForm/Fields/Address/ShippingPostalCodeField.tsx","../src/components/external/PaymentLinkCreation/components/Form/CustomerDetailsForm/Fields/Address/BillingCountryField.tsx","../src/components/external/PaymentLinkCreation/components/Form/CustomerDetailsForm/useAddressChecker.ts","../src/components/external/PaymentLinkCreation/components/Form/CustomerDetailsForm/CustomerDetailsForm.tsx","../src/components/external/PaymentLinkCreation/components/Form/PaymentDetailsForm/Fields/ValidityField.tsx","../src/components/internal/FormFields/CurrencyInput/constants.ts","../src/utils/currency/main.ts","../src/components/internal/FormFields/CurrencyInput/CurrencyInput.tsx","../src/components/external/PaymentLinkCreation/components/Form/PaymentDetailsForm/Fields/AmountField.tsx","../src/components/external/PaymentLinkCreation/components/Form/PaymentDetailsForm/Fields/LinkTypeField.tsx","../src/components/internal/FormFields/CalendarInput/components/CalendarInputButton.tsx","../src/components/internal/FormFields/CalendarInput/components/CalendarInputPopover.tsx","../src/components/internal/FormFields/CalendarInput/CalendarInput.tsx","../src/components/internal/FormWrappers/FormCalendarInput.tsx","../src/components/external/PaymentLinkCreation/components/Form/PaymentDetailsForm/PaymentDetailsForm.tsx","../src/components/external/PaymentLinkCreation/components/Form/Summary/constants.ts","../src/components/external/PaymentLinkCreation/components/Form/Summary/FormSummary.tsx","../src/components/external/PaymentLinkCreation/components/Form/StoreForm/Fields/StoreField.tsx","../src/components/external/PaymentLinkCreation/components/Form/StoreForm/StoreForm.tsx","../src/components/external/PaymentLinkCreation/components/PaymentLinkCreationFormContainer/FormStepRenderer.tsx","../src/components/external/PaymentLinkSettings/components/PaymentLinkSettingsContainer/context/constants.ts","../src/hooks/useStores.ts","../src/components/external/PaymentLinkSettings/components/PaymentLinkSettingsContainer/utils/getThemePayload.ts","../src/components/external/PaymentLinkSettings/hooks/useStoreTheme.ts","../src/components/external/PaymentLinkSettings/hooks/useStoreTermsAndConditions.ts","../src/components/external/PaymentLinkSettings/components/PaymentLinkThemeContainer/types.ts","../src/components/external/PaymentLinkSettings/hooks/useSaveAction.ts","../src/components/external/PaymentLinkSettings/components/PaymentLinkSettingsContainer/context/context.tsx","../src/components/internal/SecondaryNav/SecondaryNav.tsx","../src/components/external/PaymentLinkSettings/components/PaymentLinkSettingsContainer/constants.ts","../src/components/internal/StoreSelector/StoreSelectorButton/StoreSelectorButton.tsx","../src/components/internal/StoreSelector/StoreSelectorItem/StoreSelectorItem.tsx","../src/components/internal/StoreSelector/StoreSelector.tsx","../src/components/internal/Checkbox/Checkbox.tsx","../src/components/external/PaymentLinkSettings/components/PaymentLinkSettingsContainer/utils/validateTermsAndConditionsURL.ts","../src/components/external/PaymentLinkSettings/components/TermsAndConditions/Requirements/useTermsRequirementsConfig.ts","../src/components/external/PaymentLinkSettings/components/TermsAndConditions/Requirements/Requirements.tsx","../src/components/external/PaymentLinkSettings/components/TermsAndConditions/TermsAndConditions.tsx","../src/components/external/PaymentLinkSettings/components/PaymentLinkSettingsContainer/utils/getSettingsErrorMessage.tsx","../src/components/external/PaymentLinkSettings/components/PaymentLinkSettingsContainer/components/SettingsError/SettingsError.tsx","../src/components/external/PaymentLinkSettings/components/PaymentLinkSettingsContainer/components/LoadingSkeleton/LoadingSkeleton.tsx","../src/components/external/PaymentLinkSettings/components/TermsAndConditions/TermsAndConditionsContainer.tsx","../src/components/external/PaymentLinkSettings/components/PaymentLinkThemeContainer/components/ThemeForm/constants.ts","../src/components/external/PaymentLinkSettings/components/PaymentLinkThemeContainer/components/LogoPreview/LogoPreview.tsx","../src/components/internal/FormFields/FileInput/helpers/defaultMapError.ts","../src/utils/file/naming.ts","../src/components/external/PaymentLinkSettings/components/PaymentLinkThemeContainer/components/LogoRequirements/LogoRequirements.tsx","../src/components/external/PaymentLinkSettings/components/PaymentLinkThemeContainer/components/LogoInput/LogoInput.tsx","../src/components/external/PaymentLinkSettings/components/PaymentLinkThemeContainer/components/ThemeForm/ThemeForm.tsx","../src/components/external/PaymentLinkSettings/components/PaymentLinkThemeContainer/PaymentLinkThemeContainer.tsx","../src/components/external/PaymentLinkSettings/components/PaymentLinkSettingsContainer/components/PaymentLinkSettingsContentLoading/PaymentLinkSettingsContentLoading.tsx","../src/components/external/PaymentLinkSettings/components/PaymentLinkSettingsContainer/components/PaymentLinkSettingsContent/PaymentLinkSettingsContent.tsx","../src/components/external/PaymentLinkSettings/components/PaymentLinkSettingsContainer/components/SettingsActionButtons/SettingsActionButtons.tsx","../src/components/external/PaymentLinkSettings/components/PaymentLinkSettingsContainer/PaymentLinkSettings.tsx","../src/components/external/PaymentLinkSettings/components/PaymentLinkSettingsContainer/PaymentLinkSettingsContainer.tsx","../src/components/external/PaymentLinkCreation/hooks/useInvalidFieldsConfig.ts","../src/components/external/PaymentLinkCreation/components/PaymentLinkCreationFormContainer/PaymentLinkCreationFormContainer.tsx","../src/components/external/PaymentLinkCreation/components/Form/FormSuccess/FormSuccess.tsx","../src/components/external/PaymentLinkCreation/components/PaymentLinkCreationContainer/PaymentLinkCreationContainer.tsx","../src/components/external/PaymentLinksOverview/components/PaymentLinksOverviewModal.tsx","../src/components/external/PaymentLinksOverview/components/PaymentLinksOverview.tsx","../src/hooks/usePaymentLinkFilters.ts","../src/components/external/PaymentLinksOverview/components/PaymentLinksOverviewContainer.tsx","../src/components/external/PaymentLinksOverview/PaymentLinksOverviewElement.tsx","../src/components/external/PaymentLinkCreation/PaymentLinkCreationElement.tsx","../src/components/external/PaymentLinkSettings/PaymentLinkSettingsElement.tsx","../src/components/external/PaymentLinkDetails/PaymentLinkDetailsElement.tsx","../src/index.ts"],"sourcesContent":["export const API_ENVIRONMENTS = {\n    test: 'https://platform-components-external-test.adyen.com/platform-components-external/api/',\n    live: 'https://platform-components-external-live.adyen.com/platform-components-external/api/',\n} as const;\n\nexport const CDN_ENVIRONMENTS = {\n    test: 'https://18e8543875.cdn.adyen.com/platform-components/v1-cdn-test',\n    live: 'https://bae81f955b.cdn.adyen.com/platform-components/v1-cdn-live',\n} as const;\n","import type { DeepReadonly, ListWithoutFirst } from './types';\n\ntype _BoundFn<T, Args extends any[]> = Args extends []\n    ? T extends (this: infer ThisType, ...args: [...infer RestArgs]) => infer ReturnType\n        ? (thisValue: ThisType, ...args: RestArgs) => ReturnType\n        : never\n    : T extends (this: Args[0], ...args: [...ListWithoutFirst<Args>, ...infer RestArgs]) => infer ReturnType\n      ? (...args: RestArgs) => ReturnType\n      : never;\n\nexport const fn: <T, Args extends any[]>(func: T, ...args: Args) => _BoundFn<T, Args> = Function.prototype.bind.bind(Function.prototype.call);\n\n// prettier-ignore\nexport const constant = <T>(value?: T) => () => value;\n\nexport const asyncNoop = async () => {};\nexport const identity = <T>(value?: T) => value;\nexport const noop = () => {};\n\nexport const panic = (reason?: any) => {\n    throw reason;\n};\n\nexport const unreachable = (value: never): never => {\n    throw new Error(`Unreachable code with value: ${value}`);\n};\n\nconst _toString = fn(Object.prototype.toString);\nexport const toStringTag = (value?: any) => _toString(value).slice(8, -1);\n\nexport const deepFreeze = <T extends object>(obj: T): DeepReadonly<T> => {\n    Object.keys(obj).forEach(prop => {\n        const value = obj[prop as keyof T];\n        if (value && typeof value === 'object' && !Object.isFrozen(value)) {\n            deepFreeze(value);\n        }\n    });\n    return Object.freeze(obj) as DeepReadonly<T>;\n};\n","import { toStringTag } from '../common';\nimport type { GetPredicateType } from '../types';\n\nexport const isBoolean = (value?: any): value is boolean => value === !!value;\nexport const isFunction = <T>(value?: T): value is GetPredicateType<(...args: any[]) => any, T> => typeof value === 'function';\nexport const isNull = (value?: any): value is null => value === null;\nexport const isNullish = (value?: any): value is undefined | null => value == undefined;\nexport const isNumber = (value?: any): value is number => typeof value === 'number';\nexport const isPlainObject = <T>(value?: T): value is GetPredicateType<Record<any, any>, T> => toStringTag(value) === 'Object';\nexport const isString = (value?: any): value is string => typeof value === 'string';\nexport const isSymbol = (value?: any): value is symbol => typeof value === 'symbol';\nexport const isUndefined = (value?: any): value is undefined => value === undefined;\n","export const ABORT_EVENT = 'abort';\nexport const DEFAULT_ABORT_ERROR_MESSAGE = 'signal is aborted without reason';\nexport const DEFAULT_TIMEOUT_ERROR_MESSAGE = 'signal timed out';\nexport const MAX_ABORT_TIMEOUT = 0x7fffffff;\n","import { isBoolean } from './is';\n\nexport const boolify = (value?: any, fallbackBoolean = value) => (isBoolean(value) ? value : !!fallbackBoolean);\n\nexport const boolOrFalse = (value?: any) => value === true;\nexport const boolOrTrue = (value?: any) => value !== false;\n\nexport const falsify = (_?: any): false => false;\nexport const truthify = (_?: any): true => true;\n","import { fn } from '../common';\nimport { boolOrFalse, boolOrTrue } from '../value/bool';\nimport type { GetterPropertyDescriptor, ValuePropertyDescriptor } from './types';\n\nexport const enumerable = <T>(value: T, writable = false): ValuePropertyDescriptor<T> => ({\n    writable: boolOrFalse(writable),\n    enumerable: true,\n    value,\n});\n\nexport const getter = <T>(get: () => T, enumerable = true): GetterPropertyDescriptor<T> => ({\n    enumerable: boolOrTrue(enumerable),\n    get,\n});\n\nexport const hasOwnProperty = fn(Object.prototype.hasOwnProperty);\n","/**\n * Compares two values using [`SameValueZero`](https://tc39.es/ecma262/multipage/abstract-operations.html#sec-samevaluezero) comparison and returns `true` if they are the same, or `false` otherwise.\n * The comparison is very similar to strict equality comparison but also returns `true` if both values are `NaN`.\n */\nexport const sameValue = (a: any, b: any) => a === b || !(a === a || b === b);\n","import { enumerable, getter, hasOwnProperty } from '../struct/property';\nimport { DEFAULT_ABORT_ERROR_MESSAGE, DEFAULT_TIMEOUT_ERROR_MESSAGE } from './constants';\nimport { sameValue } from '../value/compare';\n\nif (!hasOwnProperty(AbortSignal.prototype, 'reason')) {\n    try {\n        // Polyfill `AbortSignal.prototype.reason`\n        Object.defineProperty(AbortSignal.prototype, 'reason', {\n            ...getter(function _getReason(this: AbortSignal) {\n                return this.aborted ? abortError() : void 0;\n            }, true),\n            configurable: true,\n        });\n    } catch {\n        // `AbortSignal.prototype` is non-extensible or `reason` property already exists\n        // do nothing (fail silently)\n    }\n}\n\nif (!hasOwnProperty(AbortSignal.prototype, 'throwIfAborted')) {\n    // Polyfill `AbortSignal.prototype.throwIfAborted`\n    AbortSignal.prototype.throwIfAborted = function _throwIfAborted(this: AbortSignal) {\n        if (this.aborted) throw this.reason ?? abortError();\n    };\n}\n\nexport const abortError = (message = DEFAULT_ABORT_ERROR_MESSAGE) => new DOMException(message, 'AbortError');\nexport const timeoutError = (message = DEFAULT_TIMEOUT_ERROR_MESSAGE) => new DOMException(message, 'TimeoutError');\n\nexport const augmentSignalReason = (signal: AbortSignal, reason: any) => {\n    if (!sameValue(signal.reason, reason)) {\n        try {\n            Object.defineProperty(signal, 'reason', enumerable(reason));\n        } catch {\n            // `signal` is non-extensible or `reason` property already exists\n            // do nothing (fail silently)\n        }\n    }\n    return signal;\n};\n","import { clamp } from '../value/number';\nimport { isUndefined } from '../value/is';\nimport { ABORT_EVENT, MAX_ABORT_TIMEOUT } from './constants';\nimport { abortError, augmentSignalReason, timeoutError } from './internals';\n\ndeclare let AbortSignal: {\n    any: (signals: AbortSignal[]) => AbortSignal;\n} & typeof window.AbortSignal;\n\nexport const abortedSignal = (reason: unknown = abortError()) => {\n    if ('abort' in AbortSignal) {\n        return AbortSignal.abort(reason);\n    }\n\n    const _controller = new AbortController();\n    const _reason = isUndefined(reason) ? abortError() : reason;\n    const { signal } = _controller;\n\n    _controller.abort(_reason);\n    augmentSignalReason(signal, _reason);\n    return signal;\n};\n\nexport const abortSignalForAny = (signals: AbortSignal[]) => {\n    if ('any' in AbortSignal) {\n        return AbortSignal.any(signals);\n    }\n\n    let _sourceSignals = new Set<AbortSignal>();\n    let _controller = new AbortController();\n    const { signal } = _controller;\n\n    let abort = function (this: AbortSignal) {\n        _sourceSignals.forEach(signal => signal.removeEventListener(ABORT_EVENT, abort));\n        _sourceSignals.clear();\n\n        const reason = this?.reason ?? abortError();\n\n        _controller.abort(reason);\n        augmentSignalReason(signal, reason);\n        _controller = _sourceSignals = abort = undefined!;\n    };\n\n    setup: {\n        const NIL_EXCEPTION = Symbol('<NIL_EXCEPTION>');\n        let _exception: any = NIL_EXCEPTION;\n\n        filter: {\n            try {\n                for (const maybeSignal of signals) {\n                    if (!isAbortSignal(maybeSignal)) throw new TypeError(`Failed to convert value to 'AbortSignal'`);\n                    if (maybeSignal.aborted) break filter;\n                    _sourceSignals.add(maybeSignal);\n                }\n            } catch (ex) {\n                _exception = ex;\n                break filter;\n            }\n\n            _sourceSignals.forEach(signal => signal.addEventListener(ABORT_EVENT, abort));\n\n            // Mark setup as complete\n            break setup;\n        }\n\n        // If control flow reaches here, it means either of the following:\n        //  (1) at least one of the source signals is already aborted\n        //  (2) at least one invalid value was passed as source signal\n\n        // Hence, the need to abort the `signal` and destroy everything\n        abort.call(signal);\n\n        // And also throw the appropriate exception (if applicable)\n        if (_exception !== NIL_EXCEPTION) throw _exception;\n    }\n\n    return signal;\n};\n\nexport const isAbortSignal = (value?: any): value is AbortSignal => value instanceof AbortSignal;\n","export const EMPTY_ARRAY = Object.freeze([]);\nexport const EMPTY_OBJECT = Object.freeze(Object.create(null)) as Readonly<{}>;\n","import { EMPTY_ARRAY } from '../value/constants';\n\nexport const ALREADY_RESOLVED_PROMISE = Promise.resolve();\nexport const FOREVER_PENDING_PROMISE = Promise.race(EMPTY_ARRAY);\n","import { ALREADY_RESOLVED_PROMISE } from './constants';\nimport { Promised, PromiseState } from '../types';\n\nconst _pending = () => _PENDING;\nconst _PENDING: unique symbol = Symbol('<<PENDING>>');\n\nexport const getPromiseState = async (promise: Promise<any>): Promise<PromiseState> => {\n    try {\n        const value = await Promise.race([promise, ALREADY_RESOLVED_PROMISE.then(_pending)]);\n        return value === _PENDING ? PromiseState.PENDING : PromiseState.FULFILLED;\n    } catch {\n        return PromiseState.REJECTED;\n    }\n};\n\nexport const tryResolve = function <T extends any, Params extends any[] = []>(\n    this: any,\n    fn: (this: any, ...args: Params) => Promised<T>,\n    ...args: Params\n) {\n    return new Promise<T>(resolve => resolve(fn.call(this, ...args)));\n};\n","import { fn, identity } from '../common';\nimport { EMPTY_ARRAY } from '../value/constants';\nimport { isFunction, isNullish, isUndefined } from '../value/is';\nimport type { MapGetter } from './types';\nimport type { List } from '../types';\n\nexport const getMappedValue: MapGetter = (key, map, factory) => {\n    let value = map.get(key);\n\n    if (isUndefined(value) && isFunction(factory)) {\n        if (!isUndefined((value = factory(key, map)))) {\n            map.set(key, value);\n        }\n    }\n\n    return value;\n};\n\nexport const listFrom = <T extends string = string>(value?: string | any[], fallbackList = EMPTY_ARRAY as unknown as T[]) => {\n    const stringedValue = `${value || ''}`.trim();\n    const stringedList = (stringedValue ? stringedValue.split(/(?:\\s*,\\s*)+/).filter(identity) : EMPTY_ARRAY) as T[];\n    return stringedList.length ? stringedList : fallbackList;\n};\n\nexport const pickFrom = <C extends readonly any[] | any[]>(list: C, option?: C[number], defaultOption?: C[number]) => {\n    if (list.includes(option)) return option;\n    if (isNullish(option)) return list[0];\n    return list.includes(defaultOption) ? defaultOption : list[0];\n};\n\nexport const some = fn(Array.prototype.some);\n\nconst _uniqueFlatten = function _uniqueFlatten<T>(reversed: boolean, items: List<T>, uniqueItems: Set<T> = new Set<T>()) {\n    for (const item of items) {\n        if (!Array.isArray(item)) {\n            reversed && uniqueItems.delete(item);\n            uniqueItems.add(item);\n        } else _uniqueFlatten(reversed, item, uniqueItems);\n    }\n    return uniqueItems;\n};\n\ntype _UniqueFlatten = <T>(items: List<T>, uniqueItems?: Set<T>) => Set<T>;\n\nexport const uniqueFlatten = fn(_uniqueFlatten, void 0, false) as _UniqueFlatten;\nexport const uniqueFlattenReversed = fn(_uniqueFlatten, void 0, true) as _UniqueFlatten;\n","import { isString } from '../value/is';\nimport type { DateFunction, DateTimeComponents } from './types';\n\nconst MINUTE_IN_MS = 60 * 1000;\nconst HOUR_IN_MS = 60 * MINUTE_IN_MS;\nconst DAY_IN_MS = 24 * HOUR_IN_MS;\nconst WEEK_IN_MS = 7 * DAY_IN_MS;\n\nexport const parseDate = ((...args) => {\n    const [value] = args;\n\n    const date =\n        args.length >= 2\n            ? new Date(...(args as DateTimeComponents))\n            : value instanceof Date\n              ? value\n              : new Date((isString(value) || Number.isFinite(value) ? value : undefined)!);\n\n    const timestamp = date.getTime();\n    return Number.isFinite(timestamp) ? timestamp : undefined;\n}) as DateFunction<number | undefined>;\n\nexport const transformToMS = (unit: string, value: number): number => {\n    switch (unit) {\n        case 'hour':\n            return value * HOUR_IN_MS;\n        case 'minute':\n            return value * MINUTE_IN_MS;\n        case 'day':\n            return value * DAY_IN_MS;\n        case 'week':\n            return value * WEEK_IN_MS;\n        default:\n            console.warn(`Unknown unit: ${unit}`);\n            return 0;\n    }\n};\n","import { EndpointDownloadStreamData } from '../../types/api/endpoints';\n\nexport const downloadBlob = ({ blob, filename }: EndpointDownloadStreamData) => {\n    const a = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    const clickHandler = () => void setTimeout(() => URL.revokeObjectURL(url), 150);\n\n    a.href = url;\n    a.download = filename || 'download';\n    a.addEventListener('click', clickHandler, { once: true });\n\n    a.click();\n};\n","import { isNumber, isSymbol } from './is';\n\nexport const clamp = <T extends number = number>(min: T, value: T, max: T) => {\n    if (Math.min(min, max) !== min) [min, max] = [max, min];\n    return Math.max(min, Math.min(value, max));\n};\n\nexport const isBitSafeInteger = (value?: any): value is number => !isSymbol(value) && value === ~~value;\nexport const isInfinity = (value?: any): value is number => isNumber(value) && 1 / value === 0;\n\nexport const mid = (low: number, high: number) => {\n    if (Number.isInteger(low) && Number.isInteger(high)) {\n        return low + Math.floor((high - low) / 2);\n    }\n    throw TypeError(`Expects 2 integer values: [${low}, ${high}]`);\n};\n\nexport const mod = (value: number, modulo: number) => ((value % modulo) + modulo) % modulo;\n","import { clamp } from '../value/number';\n\nexport const enum ByteScale {\n    BYTES = 0,\n    KB = 1,\n    MB = 2,\n    GB = 3,\n}\n\nexport type FileSize = {\n    /**\n     * Byte scale of file.\n     * Maximum byte scale is {@link MAX_BYTE_SCALE}.\n     */\n    scale: ByteScale;\n\n    /**\n     * Approximate (low precision) size of file at the given byte scale.\n     * @example\n     * { scale: ByteScale.KB, size: 34 } // approx. 34 KB\n     * { scale: ByteScale.MB, size: 4.5 } // approx. 4.5 MB\n     */\n    size: number;\n};\n\n/**\n * Represents the maximum byte scale for file sizes.\n * Not expecting bytes beyond the GB (Scale 3) range.\n */\nconst MAX_BYTE_SCALE = ByteScale.GB satisfies ByteScale;\n\n/**\n * Given a number of bytes, will compute and return the corresponding {@link ByteScale byte scale}.\n * May return an integer greater than 3 if given a sufficiently large number of bytes,\n * though the predefined {@link MAX_BYTE_SCALE maximum byte scale} value is 3.\n *\n * @param bytes - Number of bytes\n */\nexport const getByteScale = (bytes: number): ByteScale => {\n    // Computations involving logarithms are used to determine the byte scale.\n    // The base for computation is 1024 (since 1024 bytes => 1KB, 1024KB => 1MB, 1024MB => 1GB).\n    // The required computation is: floor( log1024(bytes) )\n\n    // Logarithms are positive for values > 1, and not defined for values <= 0.\n    // Hence, for values <= 1, the byte scale is the zero (0) minimum (ByteScale.BYTES)\n    if (bytes <= 1) return ByteScale.BYTES;\n\n    // Change base for computation using natural logarithms: log1024(x) => log(x) / log(1024)\n    // The required computation becomes: floor( log(bytes) / log(1024) )\n    return Math.floor(Math.log(bytes) / Math.log(1024)) as ByteScale;\n};\n\n/**\n * Given a number of bytes, will compute and return the approximate low-precision {@link FileSize file size}\n * at the most appropriate {@link ByteScale byte scale}. For sufficiently large number of bytes, the scale is\n * capped at the predefined {@link MAX_BYTE_SCALE maximum byte scale} value of 3. Hence, the size for bytes\n * beyond the GB range, for example, will be expressed as integers greater than 1000.\n *\n * @param bytes - Number of bytes\n */\nexport const getFileSize = (bytes: number): Readonly<FileSize> => {\n    let scale = ByteScale.BYTES;\n\n    // Clamp number of bytes to zero (0) minimum.\n    // Round fractional bytes to the nearest integer.\n    let size = Math.max(0, Math.round(bytes));\n\n    if (size > 999) {\n        // For sizes < 1024, the byte scale will be zero (0).\n        // To approximate those sizes in KB (Scale 1) instead of bytes (Scale 0),\n        // clamp the actual byte scale using 1 as the minimum byte scale.\n        scale = clamp<ByteScale>(1, getByteScale(size), MAX_BYTE_SCALE);\n\n        // Given the byte scale, the corresponding size is derived by: size / (1024 ^ scale)\n        // For lower precision approximation of the size, only 3 significant digits is needed.\n        // Finally, ensure a maximum precision of 1 decimal place: round( approx_size * 10 ) / 10\n        size = Math.round(Number((size / 1024 ** scale).toPrecision(3)) * 10) / 10;\n    }\n\n    return { scale, size } as const;\n};\n\n/**\n * Given a number of bytes, will compute and return the approximate low-precision {@link FileSize file size}\n * as human-readable string (e.g. 512 bytes, 23.1 KB, 4.4 GB, etc.)\n *\n * @param bytes - Number of bytes\n */\nexport const getHumanReadableFileSize = (bytes: number): string => {\n    const { scale, size } = getFileSize(bytes);\n    /*\n     * The human-readable file size string is formed by joining the approximate file size and the byte scale\n     * unit (Bytes, KB, MB, etc.), both of which are separated by a non-breaking whitespace. Non-breaking\n     * whitespace is used here instead of the regular whitespace to ensure that the human-readable file size\n     * string is presented without any line breaks (whenever possible).\n     */\n    switch (scale) {\n        case ByteScale.BYTES:\n            return `${size}byte${size === 1 ? '' : 's'}`;\n        case ByteScale.KB:\n            return `${size}KB`;\n        case ByteScale.MB:\n            return `${size}MB`;\n        case ByteScale.GB:\n            return `${size}GB`;\n    }\n};\n","/**\n * A unified interface for file (uploaded files) sources, such as:\n * - {@link HTMLInputElement `HTMLInputElement`}  with type of `file`\n * - {@link ClipboardEvent `ClipboardEvent`}`.clipboardData`\n * - {@link DragEvent `DragEvent`}`.dataTransfer`\n * - {@link InputEvent `InputEvent`}`.dataTransfer`\n */\nexport interface UploadedFileSource {\n    files?: FileList | null;\n    items?: DataTransferItemList | null;\n}\n\n/**\n * Extracts uploaded {@link File files} from the specified file source and returns them in an array.\n * @param uploadedFileSource\n */\nexport const getUploadedFilesFromSource = <T extends UploadedFileSource>(uploadedFileSource?: T | null): File[] => {\n    const uploadedFiles = new Set<File>();\n\n    if (uploadedFileSource?.items) {\n        // If there is a `DataTransferItemList` in the source (e.g. for data transfers),\n        // try extracting the uploaded files from the `items` list.\n        for (const item of uploadedFileSource.items) {\n            if (item.kind !== 'file') continue;\n            const file = item.getAsFile();\n            if (file) uploadedFiles.add(file);\n        }\n    }\n\n    // If there are no files in the `DataTransferItemList` of the source,\n    // or there is no `DataTransferItemList` in the source (e.g. for input elements),\n    // try extracting the uploaded files from the `files` list of the source.\n\n    // prettier-ignore\n    return Array.from(\n        uploadedFiles.size === 0\n            ? new Set<File>(uploadedFileSource?.files ?? uploadedFiles)\n            : uploadedFiles\n    );\n};\n","export const uniqueId = (() => {\n    let counter = Date.now();\n    return (prefix = 'adyen-pe') => `${prefix}-${++counter}`;\n})();\n\nexport default uniqueId;\n","export const UUID_V4_REGEXP = /^[a-f\\d]{8}-[a-f\\d]{4}-4[a-f\\d]{3}-[89ab][a-f\\d]{3}-[a-f\\d]{12}$/i;\n\nexport const uuid = (() => {\n    const _UUID_V4_FILLER_STRING = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx';\n\n    return () =>\n        _UUID_V4_FILLER_STRING.replace(/[xy]/g, xy => {\n            const randomNibble = (Math.random() * 16) | 0;\n            const nibble = xy == 'x' ? randomNibble : (randomNibble & 0x3) | 0x8;\n            return nibble.toString(16);\n        });\n})();\n\nexport default uuid;\n","import { fn } from '../common';\nimport { EMPTY_OBJECT } from '../value/constants';\nimport { truthify } from '../value/bool';\nimport { isPlainObject } from '../value/is';\nimport type { PredicateType } from '../types';\n\ntype _PlainObject<T> = PredicateType<typeof isPlainObject<T>>;\n\nexport const asPlainObject = <T>(value?: T, fallback = EMPTY_OBJECT as _PlainObject<T>): _PlainObject<T> =>\n    isPlainObject(value) ? value : asPlainObject(fallback, EMPTY_OBJECT as _PlainObject<T>);\n\ninterface _StructFrom {\n    <T extends Record<any, any>, P extends object | null>(o: P, properties: { [K in keyof T]: TypedPropertyDescriptor<T[K]> }): P extends object\n        ? Omit<P, keyof T> & T\n        : T;\n    <P extends object | null>(o: P): P extends object ? { [K in keyof P]: P[K] } : Record<any, any>;\n}\n\ninterface _Struct {\n    <T extends Record<any, any>>(properties: { [K in keyof T]: TypedPropertyDescriptor<T[K]> }): T;\n    (): Record<any, any>;\n}\n\nexport const structFrom = fn(Object.create, void 0) as _StructFrom;\nexport const struct: _Struct = fn(structFrom, void 0, null);\n\nexport const withFreezeProxyHandlers = <T extends object>(handler: ProxyHandler<T> = EMPTY_OBJECT): Readonly<ProxyHandler<T>> => {\n    return Object.freeze({ ...handler, defineProperty: truthify, set: truthify } as const);\n};\n","import { isNullish, isString } from './is';\n\nexport const capitalize = (str?: string) => (str && str?.length > 0 ? `${str[0]!.toUpperCase()}${str.slice(1)}` : str);\nexport const isEmptyString = (str?: string) => isNullish(str) || (isString(str) && /^\\s*$/.test(str));\n","export const API_VERSION = 'v1';\n","import { ErrorTypes } from '../Http/utils';\nexport type InvalidField = { name: string; message: string; value: string };\n\nclass AdyenPlatformExperienceError extends Error {\n    public type: string;\n    public errorCode?: string;\n    public requestId?: string;\n    public invalidFields?: InvalidField[];\n    public status?: string;\n    constructor(type: ErrorTypes, requestId?: string, message?: string, errorCode?: string, invalidFields?: InvalidField[], status?: string) {\n        super(message);\n        this.type = type;\n        this.name = type;\n        this.errorCode = errorCode;\n        this.requestId = requestId;\n        this.invalidFields = invalidFields;\n        this.status = status;\n    }\n}\n\nexport default AdyenPlatformExperienceError;\n","import { isNullish } from '../../utils';\nimport { API_VERSION } from './constants';\nimport { AdyenErrorResponse, ErrorLevel, HttpOptions } from './types';\nimport AdyenPlatformExperienceError, { InvalidField } from '../Errors/AdyenPlatformExperienceError';\n\nconst FILENAME_EXTRACTION_REGEX = /^[^]*?filename[^;\\n]*=\\s*(?:UTF-\\d['\"]*)?(?:(['\"])([^]*?)\\1|([^;\\n]*))?[^]*?$/;\n\nexport const enum ErrorTypes {\n    /** HTTP error. */\n    HTTP_ERROR = 'HTTP_ERROR',\n\n    /** Network error. */\n    NETWORK_ERROR = 'NETWORK_ERROR',\n\n    /** Shopper canceled the current transaction. */\n    CANCEL = 'CANCEL',\n\n    /** Implementation error. The method or parameter are incorrect or are not supported. */\n    IMPLEMENTATION_ERROR = 'IMPLEMENTATION_ERROR',\n\n    /** Generic error. */\n    ERROR = 'ERROR',\n\n    /** Token expired */\n    EXPIRED_TOKEN = 'EXPIRED_TOKEN',\n}\n\nexport const getErrorType = (errorCode: number): ErrorTypes => {\n    switch (errorCode) {\n        case 401:\n            return ErrorTypes.EXPIRED_TOKEN;\n        default:\n            return ErrorTypes.HTTP_ERROR;\n    }\n};\n\nexport const getApiVersion = (options: HttpOptions) => {\n    const [, version] = String(options.apiVersion).match(/^v?([1-9]\\d*)$/i) ?? [];\n    return version ? `v${version}` : API_VERSION;\n};\n\nexport const getResponseContentType = (response: Response): string | undefined => response.headers.get('Content-Type')?.split(';', 1)[0];\n\nexport const getResponseDownloadFilename = (response: Response): string | undefined => {\n    const disposition = response.headers.get('Content-Disposition') ?? '';\n    const filename = disposition.replace(FILENAME_EXTRACTION_REGEX, '$2$3');\n    return decodeURIComponent(filename);\n};\n\nexport const getRequestBodyForContentType = (body: any, contentType?: string) => {\n    switch (contentType) {\n        case 'application/json':\n            return JSON.stringify(body);\n        case 'multipart/form-data':\n            return body instanceof FormData ? body : new FormData();\n        default:\n            return String(body);\n    }\n};\n\nexport const getRequestObject = (options: HttpOptions): RequestInit => {\n    const { headers = [], method = 'GET' } = options;\n    const SDKVersion = !options.versionless && process.env.VITE_VERSION;\n    const contentType = options.skipContentType ? undefined : (options.contentType?.toLowerCase() ?? 'application/json');\n\n    return {\n        method,\n        mode: 'cors',\n        cache: 'default',\n        credentials: 'same-origin',\n        headers: {\n            Accept: 'application/json, text/plain, */*',\n            ...headers,\n\n            // Skip Content-Type header for multipart/form-data requests\n            // The browser will automatically set the content-type for such requests\n            ...(contentType && contentType !== 'multipart/form-data' && { 'Content-Type': contentType }),\n\n            ...(SDKVersion && { 'SDK-Version': SDKVersion }),\n        },\n        redirect: 'follow',\n        signal: options.signal,\n        keepalive: options.keepalive,\n        referrerPolicy: 'no-referrer-when-downgrade',\n        ...(method === 'POST' && options.body && { body: getRequestBodyForContentType(options.body, contentType) }),\n    };\n};\n\nexport function handleFetchError({\n    message,\n    level,\n    errorCode,\n    type = ErrorTypes.NETWORK_ERROR,\n    requestId,\n    invalidFields,\n}: {\n    message: string;\n    level: ErrorLevel | undefined;\n    errorCode?: string;\n    type?: ErrorTypes;\n    requestId?: string;\n    status?: number;\n    invalidFields?: InvalidField[];\n}) {\n    switch (level) {\n        case 'silent': {\n            break;\n        }\n        case 'info':\n        case 'warn':\n            console[level](message);\n            break;\n        case 'error':\n        default:\n            throw new AdyenPlatformExperienceError(type, requestId, message, errorCode, invalidFields);\n    }\n}\n\nexport function isAdyenErrorResponse(data: any): data is AdyenErrorResponse {\n    return data && data.errorCode && data.type && (data.detail || data.invalidFields) && data.status;\n}\n\nexport function parseSearchParams<T extends Record<string, any>>(parameters: T) {\n    const params = new URLSearchParams();\n\n    for (const param of Object.keys(parameters)) {\n        const value = parameters[param];\n        if (!isNullish(value)) {\n            if (Array.isArray(value)) {\n                value.forEach(item => params.append(param, item));\n            } else {\n                // For non-array values, just set the key and value normally\n                params.set(param, String(value));\n            }\n        }\n    }\n\n    return params;\n}\n","import {\n    ErrorTypes,\n    getApiVersion,\n    getErrorType,\n    getRequestObject,\n    getResponseContentType,\n    getResponseDownloadFilename,\n    handleFetchError,\n    isAdyenErrorResponse,\n} from './utils';\nimport { EndpointDownloadStreamData } from '../../types/api/endpoints';\nimport { normalizeLoadingContext, normalizeUrl } from '../utils';\nimport { HttpOptions } from './types';\nimport { onErrorHandler } from '../types';\n\nconst errorHandlerHelper = (errorHandler?: onErrorHandler, error?: any) => {\n    // Always throws\n    try {\n        errorHandler?.(error);\n    } catch {\n        throw error;\n    }\n};\n\nexport async function http<T>(options: HttpOptions): Promise<T> {\n    const { errorLevel, loadingContext = '', path } = options;\n    const versionless = options.versionless || false;\n    const apiVersion = getApiVersion(options);\n    const request = getRequestObject(options);\n    const baseUrl = normalizeLoadingContext(loadingContext);\n    const versionPath = versionless ? '' : apiVersion;\n    const url = new URL(`${baseUrl}${versionPath}${normalizeUrl(path)}`);\n\n    if (options.params) {\n        options.params.forEach((value, param) => {\n            const decodedValue = decodeURIComponent(value);\n            if (decodedValue) url.searchParams.append(param, decodedValue);\n        });\n    }\n\n    return (async () => {\n        // Boolean flag:\n        // Indicates whether a resulting exception will be propagated to the caller (unhandled).\n        // If set to `true`, the resulting exception will be propagated (unhandled).\n        let errorPassThrough = false;\n\n        const error = { level: errorLevel } as Parameters<typeof handleFetchError>[0];\n\n        try {\n            // The `fetch()` could fail and thus throw an exception due to several causes,\n            // including but not limited to: fetch signal aborted, CORS errors, network errors\n            // (e.g device is offline or poor connection), etc.\n            const res = await fetch(url, request); // (!)\n\n            if (res.ok) {\n                if (res.status === 204) {\n                    // No content to process\n                    return null;\n                }\n\n                try {\n                    const contentType = getResponseContentType(res);\n\n                    //TODO: when backend is ready double check this logic\n                    switch (contentType) {\n                        case 'application/json':\n                            // This could throw an exception if response body content is not valid JSON\n                            const text = await res.clone().text();\n                            if (!text) {\n                                if (process.env.VITE_MODE === 'development') {\n                                    console.warn(`Response from ${url} has an empty body. Review the API response.`);\n                                }\n                                return null;\n                            }\n                            return await res.json();\n                        default:\n                            const blob = await res.blob();\n                            const filename = getResponseDownloadFilename(res);\n                            return { blob, filename } as const satisfies EndpointDownloadStreamData;\n                    }\n                } catch (ex) {\n                    // If it does throw an exception, the exception will be propagated to the caller (unhandled).\n                    errorPassThrough = true;\n\n                    // Consider transforming the exception before propagating it to the caller,\n                    // thus making it easier for the caller to differentiate it from other errors.\n                    throw ex;\n                }\n            }\n\n            error.type = getErrorType(res.status);\n\n            // This could throw an exception in one of these two cases:\n            //   (1) if response has no body content\n            //   (2) if response body content is not valid JSON\n            //\n            // If it does throw an exception, the exception will be handled,\n            // since we have the `errorCode` (HTTP status code).\n            const response = await res.json(); // (!)\n\n            error.message = options.errorMessage || `Service at ${url} not available`;\n            error.errorCode = response?.status == undefined ? undefined : String(response.status);\n            error.requestId = response?.requestId;\n\n            if (isAdyenErrorResponse(response)) {\n                error.message = response.detail;\n                error.errorCode = response.errorCode;\n                error.status = response.status;\n                error.invalidFields = response.invalidFields;\n            }\n            errorHandlerHelper(options.errorHandler, error);\n        } catch (ex) {\n            if (errorPassThrough) {\n                // Since the `errorPassThrough` flag is set to `true`,\n                // The exception will be propagated to the caller (unhandled)\n                errorHandlerHelper(options.errorHandler, ex);\n                throw ex;\n            }\n\n            if (!error.type) {\n                // If the error type isn't already set, mark the error as a network error.\n                // [Note]: There could be other reasons (besides network) for having an error here.\n                error.type = ErrorTypes.NETWORK_ERROR;\n            }\n\n            errorHandlerHelper(options.errorHandler, ex);\n\n            error.message = options.errorMessage || `Call to ${url} failed. Error: ${ex}`;\n        }\n\n        // Handle the resulting error\n        // This could throw an exception, depending on the `errorLevel`\n        // If it does throw an exception, the exception will be propagated to the caller (unhandled).\n        handleFetchError(error); // (!!)\n    })();\n}\n\nexport function httpGet<T>(options: Omit<HttpOptions, 'method'>): Promise<T> {\n    return http<T>({ ...options, method: 'GET' });\n}\n\nexport function httpPost<T>(options: Omit<HttpOptions, 'method'>): Promise<T> {\n    return http<T>({ ...options, method: 'POST' });\n}\n","import { DevEnvironment } from './types';\nimport { API_ENVIRONMENTS, CDN_ENVIRONMENTS } from './constants';\nimport { httpGet } from './Http/http';\n\nexport const FALLBACK_ENV = 'test' satisfies DevEnvironment;\nexport const FALLBACK_CDN_ENV = 'live' satisfies DevEnvironment;\nexport const normalizeLoadingContext = (loadingContext: string) => loadingContext?.replace?.(/([^/])$/, '$1/');\nexport const normalizeUrl = (url: string) => url?.replace(/^([^/])/, '/$1');\n\nexport const resolveEnvironment = (() => {\n    const envs: Partial<Record<DevEnvironment, string>> = API_ENVIRONMENTS;\n    const cdnEnvs: Partial<Record<DevEnvironment, string>> = CDN_ENVIRONMENTS;\n\n    return (env?: DevEnvironment) => {\n        const cdnEnv = process.env.VITE_TEST_CDN_ASSETS ? 'test' : env === 'test' ? 'live' : env;\n\n        const cdnUrl = cdnEnvs[cdnEnv ?? FALLBACK_CDN_ENV] || cdnEnvs[FALLBACK_CDN_ENV]!;\n        const apiUrl = envs[env ?? FALLBACK_ENV] || envs[FALLBACK_ENV]!;\n\n        return {\n            apiUrl,\n            cdnTranslationsUrl: `${cdnUrl}/assets/translations`,\n            cdnAssetsUrl: `${cdnUrl}/assets`,\n            cdnConfigUrl: `${cdnUrl}/config`,\n        };\n    };\n})();\n\nexport const getConfigFromCdn = ({ url }: { url: string }) => {\n    return async <Fallback>({\n        name,\n        extension = 'json',\n        fallback,\n        subFolder = '',\n    }: {\n        name: string;\n        extension?: string;\n        subFolder?: string;\n        fallback?: Fallback;\n    }) => {\n        // If VITE_LOCAL_ASSETS is enabled load from local config folder\n        if (process.env.VITE_LOCAL_ASSETS) {\n            try {\n                const configPath = `../config${subFolder ? `/${subFolder}` : ''}/${name}.${extension}`;\n                const module = await import(/* @vite-ignore */ configPath);\n                return module.default || module;\n            } catch (error) {\n                console.warn(error);\n                return fallback;\n            }\n        }\n\n        // Otherwise, fetch from CDN\n        try {\n            return await httpGet<any>({\n                loadingContext: `${url}${subFolder ? `/${subFolder}` : ''}`,\n                path: `/${name}.${extension}`,\n                versionless: true,\n                skipContentType: true,\n                errorLevel: 'error',\n            });\n        } catch (error) {\n            console.warn(error);\n            return fallback;\n        }\n    };\n};\n\nexport const getDatasetFromCdn = ({ url }: { url: string }) => {\n    return async <Fallback>({\n        name,\n        extension = 'json',\n        fallback,\n        subFolder = '',\n    }: {\n        name: string;\n        extension?: string;\n        subFolder?: string;\n        fallback?: Fallback;\n    }) => {\n        // If VITE_LOCAL_ASSETS is enabled load from local assets/datasets folder\n        if (process.env.VITE_LOCAL_ASSETS) {\n            try {\n                const datasetPath = `../assets/datasets${subFolder ? `/${subFolder}` : ''}/${name}.${extension}`;\n                const module = await import(/* @vite-ignore */ datasetPath);\n                return (module.default || module) as Fallback;\n            } catch (error) {\n                console.warn(error);\n                return fallback as Fallback;\n            }\n        }\n\n        // Otherwise, fetch from CDN\n        try {\n            return (await httpGet<any>({\n                loadingContext: `${url}${subFolder ? `/${subFolder}` : ''}`,\n                path: `/${name}.${extension}`,\n                versionless: true,\n                skipContentType: true,\n                errorLevel: 'error',\n            })) as Fallback;\n        } catch (error) {\n            console.warn(error);\n            // Try dynamic import of local dataset as a fallback\n            try {\n                const datasetPath = `../assets/datasets${subFolder ? `/${subFolder}` : ''}/${name}.${extension}`;\n                const module = await import(/* @vite-ignore */ datasetPath);\n                return (module.default || module) as Fallback;\n            } catch (localError) {\n                console.warn(localError);\n                return fallback as Fallback;\n            }\n        }\n    };\n};\n","import { boolOrFalse } from '../../../utils';\nimport { EndpointName } from '../../../types/api/endpoints';\nimport { HttpOptions } from '../../Http/types';\n\nexport const SETUP_ENDPOINTS_API_VERSIONS: Partial<Record<EndpointName, HttpOptions['apiVersion']>> = {\n    getTransaction: 2,\n    getTransactions: 2,\n    getTransactionTotals: 2,\n} as const;\n\nexport const SETUP_ENDPOINT_PATH = '/setup';\nexport const AUTO_REFRESH = boolOrFalse(process.env.SESSION_AUTO_REFRESH);\n\nexport const MAX_AGE_MS = (() => {\n    // Value provisioned in `SESSION_MAX_AGE_MS` env variable\n    let maxAgeMs = ~~process.env.SESSION_MAX_AGE_MS!;\n\n    if (Number.isFinite(maxAgeMs) && (maxAgeMs = Math.max(0, ~~maxAgeMs))) {\n        return maxAgeMs;\n    }\n})();\n","import { boolOrFalse, enumerable, getter, isUndefined, noop, struct } from '../../../utils';\nimport type { Abortable } from './types';\n\nexport const createAbortable = <T>(abortReason?: T) => {\n    let _abortController: AbortController | undefined;\n    let _abortSignal: AbortSignal;\n    let _abortPromise: Promise<never>;\n\n    const _abort = () => {\n        if (isUndefined(_abortController)) return;\n\n        // Capture a reference of the signal abort procedure to be triggered\n        const _abort: typeof noop = _abortController.abort.bind(_abortController);\n\n        // Since abortable can only be refreshed if `_abortController` is `undefined`, trigger the\n        // signal abort procedure after setting `_abortController` to `undefined`. This ensures that\n        // `_abortController` is already `undefined` before any signal abort listener gets a chance\n        // to run. Think about a signal abort listener that triggers an abortable refresh when it\n        // runs  that refresh can only happen if `_abortController` is already set to `undefined`.\n        _abortController = undefined;\n        _abort();\n    };\n\n    const _getAbortPromise = () => {\n        _abortPromise = new Promise<never>((_, reject) => {\n            _abortSignal.addEventListener('abort', function _abort() {\n                _abortSignal.removeEventListener('abort', _abort);\n                reject(abortReason);\n            });\n\n            if (_abortSignal.aborted) throw abortReason;\n        });\n\n        // no-op catch callback to silence unnecessary \"unhandled rejection\" warnings\n        _abortPromise.catch(noop);\n\n        return _abortPromise;\n    };\n\n    const _refresh = (abort = false) => {\n        if (boolOrFalse(abort)) _abort();\n        if (isUndefined(_abortController)) {\n            _abortController = new AbortController();\n            _abortSignal = _abortController.signal;\n            _abortPromise = _getAbortPromise();\n        }\n        return abortable;\n    };\n\n    const abortable = struct<Abortable<T>>({\n        abort: enumerable(_abort),\n        promise: getter(() => _abortPromise),\n        reason: enumerable(abortReason),\n        refresh: enumerable(_refresh),\n        signal: getter(() => _abortSignal),\n    });\n\n    return _refresh();\n};\n\nexport default createAbortable;\n","import { enumerable, getter, noop, struct } from '../../../utils';\nimport type { Promised } from '../../../utils/types';\nimport type { Deferred } from './types';\n\nexport const createDeferred = <T extends Promised<any> = any>() => {\n    let _promise: Deferred<T>['promise'];\n    let _reject: Deferred<T>['reject'];\n    let _resolve: Deferred<T>['resolve'];\n\n    const _refresh = () => {\n        const previousResolve = _resolve ?? noop;\n\n        const currentPromise = new Promise<T>((resolve, reject) => {\n            _resolve = resolve;\n            _reject = reject;\n        });\n\n        previousResolve((_promise = currentPromise));\n        return deferred;\n    };\n\n    const deferred = struct<Deferred<T>>({\n        promise: getter(() => _promise),\n        refresh: enumerable(_refresh),\n        reject: enumerable(reason => _reject(reason)),\n        resolve: enumerable(value => _resolve(value)),\n    });\n\n    return _refresh();\n};\n\nexport default createDeferred;\n","import { createAbortable } from '../abortable';\nimport { createDeferred } from '../deferred';\nimport { enumerable, getter, isUndefined, tryResolve } from '../../../utils';\nimport type { Promised } from '../../../utils/types';\nimport type { Promisor } from './types';\n\nexport const createPromisor = <T extends any, Params extends any[] = []>(\n    factory: (this: any, signal: AbortSignal, ...args: Params) => Promised<T>\n) => {\n    const _abortable = createAbortable();\n    const _deferred = createDeferred<T>();\n    let _promise: Promisor<T, Params>['promise'] | undefined;\n\n    const promisor = function (this: any, ...args) {\n        isUndefined(_promise) ? _deferred.refresh() : _abortable.abort();\n\n        const currentPromise = tryResolve.call(this, factory, _abortable.refresh().signal, ...args) as Promise<T>;\n\n        (async () => {\n            let isLatestPromise = _promise === (_promise = currentPromise);\n            try {\n                const value = await currentPromise.finally(() => {\n                    isLatestPromise = _promise === currentPromise;\n                    isLatestPromise && (_promise = undefined);\n                });\n                isLatestPromise && _deferred.resolve(value);\n            } catch (ex) {\n                isLatestPromise && _deferred.reject(ex);\n            }\n        })();\n\n        return currentPromise;\n    } as Promisor<T, Params>;\n\n    return Object.defineProperties(promisor, {\n        abort: enumerable(_abortable.abort),\n        promise: getter(() => _deferred.promise),\n        refresh: enumerable(() => void _deferred.refresh()),\n    });\n};\n\nexport default createPromisor;\n","export function bytesToBase64(bytes: Uint8Array) {\n    const binString = Array.from(bytes, (byte: number) => String.fromCodePoint(byte)).join('');\n    return btoa(binString);\n}\n\nexport const encodeAnalyticsEvent = (event: any) => {\n    try {\n        const formattedOptions = JSON.stringify(event);\n        const encodedData = bytesToBase64(new TextEncoder().encode(formattedOptions));\n        const data = new URLSearchParams();\n        data.set('data', encodedData);\n        return data;\n    } catch (err) {\n        return null;\n    }\n};\n","import Core from '../../core';\nimport { SETUP_ENDPOINT_PATH, SETUP_ENDPOINTS_API_VERSIONS } from './constants';\nimport { parseSearchParams } from '../../Http/utils';\nimport { SessionContext } from '../../../primitives/context/session';\nimport { createPromisor } from '../../../primitives/async/promisor';\nimport {\n    abortSignalForAny,\n    asPlainObject,\n    deepFreeze,\n    EMPTY_OBJECT,\n    isAbortSignal,\n    isPlainObject,\n    isUndefined,\n    noop,\n    struct,\n    withFreezeProxyHandlers,\n} from '../../../utils';\nimport type { EndpointHttpCallables, EndpointSuccessResponse, SessionObject, SetupContextObject, SetupResponse } from '../types';\nimport type { EndpointName, SetupEndpoint } from '../../../types/api/endpoints';\nimport type { HttpMethod, HttpOptions } from '../../Http/types';\nimport { encodeAnalyticsEvent } from '../../Analytics/analytics/utils';\n\nexport class SetupContext {\n    private _endpoints: SetupContextObject['endpoints'] = EMPTY_OBJECT;\n    private _extraConfig: SetupContextObject['extraConfig'] = EMPTY_OBJECT;\n    private _revokeEndpointsProxy = noop;\n\n    private readonly _beforeHttp = async () => {\n        // a no-op catch callback is used here (`noop`),\n        // to silence unnecessary unhandled promise rejection warnings\n        await this._refreshPromisor.promise.catch(noop);\n    };\n\n    private readonly _refreshPromisor = createPromisor((promisorSignal, signal?: AbortSignal | null | undefined) => {\n        const abortSignal = isAbortSignal(signal) ? abortSignalForAny([signal, promisorSignal]) : promisorSignal;\n        return this._fetchSetupEndpoint(abortSignal);\n    });\n\n    declare public loadingContext?: Core<any>['loadingContext'];\n    declare public analyticsPayload?: Array<URLSearchParams> | undefined;\n    declare public analyticsEnabled?: boolean;\n    declare public readonly refresh: (signal: AbortSignal) => Promise<void>;\n\n    constructor(private readonly _session: SessionContext<SessionObject, any[]>) {\n        let _refreshPromise: Promise<void> | undefined;\n\n        this.refresh = signal => {\n            this._refreshPromisor(signal).catch(noop);\n\n            return (_refreshPromise ??= this._refreshPromisor.promise\n                .finally(() => (_refreshPromise = undefined))\n                .then(({ endpoints, ...rest }) => {\n                    this._resetEndpoints();\n                    ({ proxy: this._endpoints, revoke: this._revokeEndpointsProxy } = this._getEndpointsProxy(endpoints));\n                    this._extraConfig = deepFreeze(rest);\n                    if (this.analyticsEnabled) {\n                        this._setAnalyticsUserProfile()?.then(() => {\n                            this.setCustomTranslationsAnalytics();\n                        });\n                    }\n                }));\n        };\n    }\n\n    get endpoints() {\n        return this._endpoints;\n    }\n\n    get extraConfig() {\n        return this._extraConfig;\n    }\n\n    private _fetchSetupEndpoint(signal: AbortSignal) {\n        return this._session.http(null, {\n            method: 'POST',\n            path: SETUP_ENDPOINT_PATH,\n            errorLevel: 'fatal',\n            loadingContext: this.loadingContext,\n            signal,\n        }) as Promise<SetupResponse>;\n    }\n\n    private async _setAnalyticsUserProfile() {\n        const data = encodeAnalyticsEvent([{}]);\n        if (this._endpoints.sendEngageEvent && data) {\n            return this._endpoints.sendEngageEvent(\n                {\n                    body: data,\n                    contentType: 'application/x-www-form-urlencoded',\n                    keepalive: true,\n                },\n                EMPTY_OBJECT\n            );\n        }\n        return;\n    }\n\n    private async setCustomTranslationsAnalytics() {\n        if (this.analyticsPayload && this.analyticsPayload?.length > 0 && this._endpoints && this._endpoints.sendTrackEvent) {\n            const retryPayload: URLSearchParams[] = [];\n            Promise.all(\n                this.analyticsPayload.map((payload: URLSearchParams) => {\n                    return this._endpoints.sendTrackEvent!(\n                        {\n                            body: payload,\n                            contentType: 'application/x-www-form-urlencoded',\n                            keepalive: true,\n                        },\n                        EMPTY_OBJECT\n                    ).catch(() => {\n                        retryPayload.push(payload);\n                    });\n                })\n            ).finally(() => {\n                this.analyticsPayload = retryPayload.length > 0 ? retryPayload : undefined;\n            });\n        }\n        return;\n    }\n\n    private _getEndpointsProxy(endpoints: SetupEndpoint) {\n        const availableEndpoints: Set<EndpointName> = new Set(Object.keys(endpoints) as (keyof typeof endpoints)[]);\n        const sessionAwareEndpoints: SetupContextObject['endpoints'] = struct();\n\n        return Proxy.revocable(\n            EMPTY_OBJECT as typeof sessionAwareEndpoints,\n            withFreezeProxyHandlers({\n                get: <Endpoint extends EndpointName>(target: typeof sessionAwareEndpoints, endpoint: Endpoint, receiver: any) => {\n                    if (!availableEndpoints.has(endpoint)) {\n                        return Reflect.get(target, endpoint, receiver);\n                    }\n\n                    const apiVersion = SETUP_ENDPOINTS_API_VERSIONS[endpoint];\n                    const overrideHttpOptions: Partial<HttpOptions> = apiVersion ? { apiVersion } : EMPTY_OBJECT;\n\n                    sessionAwareEndpoints[endpoint] ??= (() => {\n                        const { method = 'GET', url } = endpoints[endpoint];\n                        if (isUndefined(url || undefined)) return;\n\n                        return ((...args: Parameters<EndpointHttpCallables>) => {\n                            const httpOptions = {\n                                ...this._getHttpOptions(method as HttpMethod, url!, ...args),\n                                ...overrideHttpOptions,\n                            };\n                            return this._session.http(this._beforeHttp, httpOptions) as Promise<EndpointSuccessResponse<Endpoint>>;\n                        }) as EndpointHttpCallables<Endpoint>;\n                    })()!;\n\n                    return sessionAwareEndpoints[endpoint];\n                },\n            })\n        );\n    }\n\n    private _getHttpOptions(method: HttpMethod, path: string, ...args: Parameters<EndpointHttpCallables>) {\n        const { loadingContext } = this;\n        const [request, requestParams] = args;\n        const { path: pathParams, query: searchParams } = asPlainObject(requestParams as any);\n        const params = searchParams && parseSearchParams(searchParams);\n\n        if (isPlainObject(pathParams)) {\n            for (const pathParamKey of Object.keys(pathParams)) {\n                path = path.replace(`{${pathParamKey}}`, pathParams[pathParamKey]);\n            }\n        }\n\n        return { loadingContext, ...request, method, params, path } as const;\n    }\n\n    private _resetEndpoints() {\n        this._revokeEndpointsProxy();\n        this._revokeEndpointsProxy = noop;\n        this._endpoints = EMPTY_OBJECT;\n    }\n}\n\nexport default SetupContext;\n","export const ERR_SESSION_EXPIRED: unique symbol = Symbol('Error<SESSION_EXPIRED>');\nexport const ERR_SESSION_FACTORY_UNAVAILABLE: unique symbol = Symbol('Error<SESSION_FACTORY_UNAVAILABLE>');\nexport const ERR_SESSION_HTTP_UNAVAILABLE: unique symbol = Symbol('Error<SESSION_HTTP_UNAVAILABLE>');\nexport const ERR_SESSION_INVALID: unique symbol = Symbol('Error<SESSION_INVALID>');\nexport const ERR_SESSION_REFRESH_ABORTED: unique symbol = Symbol('Error<SESSION_REFRESH_ABORTED>');\nexport const EVT_SESSION_EXPIRED = '_sessionExpired';\nexport const EVT_SESSION_READY = '_sessionReady';\nexport const EVT_SESSION_REFRESHED = '_sessionRefreshed';\nexport const EVT_SESSION_REFRESHING_END = '_sessionRefreshingEnd';\nexport const EVT_SESSION_REFRESHING_START = '_sessionRefreshingStart';\n","export const INTERNAL_EVT_SESSION_DEADLINE = '_session.deadline';\nexport const INTERNAL_EVT_SESSION_READY = '_session.ready';\nexport const INTERNAL_EVT_SESSION_REFRESHING_END = '_session.refreshingEnd';\nexport const INTERNAL_EVT_SESSION_REFRESHING_START = '_session.refreshingStart';\n","import { boolOrFalse, falsify, getter, isFunction, noop, tryResolve } from '../../../../utils';\nimport { createPromisor } from '../../../async/promisor';\nimport { EVT_SESSION_EXPIRED } from '../constants';\nimport type { SessionRefresher } from './types';\n\nexport const _canAutofresh = async <T extends any>(refresher: SessionRefresher<T>) => {\n    const { specification } = refresher.context;\n\n    const canAutofresh = await tryResolve(async () => {\n        const _autoRefresh = specification.autoRefresh;\n        return isFunction(_autoRefresh) ? _autoRefresh.call(specification, refresher.session) : _autoRefresh;\n    }).catch(falsify);\n\n    return boolOrFalse(canAutofresh);\n};\n\nexport const createSessionAutofresher = <T extends any>(refresher: SessionRefresher<T>) => {\n    let _unlistenExpired = refresher.context.emitter.on(EVT_SESSION_EXPIRED, () => _autofresh(false));\n    let _autofreshSignal: AbortSignal | undefined;\n\n    let _autofreshPromisor = createPromisor(async (signal, skipCanAutofreshCheck = false) => {\n        _autofreshSignal = signal;\n\n        const canAutofresh = boolOrFalse(skipCanAutofreshCheck) || (await _canAutofresh(refresher));\n\n        if (_autofreshSignal !== signal) {\n            // The current autofresh signal does not match the autofresh attempt `signal`,\n            // meaning that this autofresh attempt is not the latest attempt.\n            // Return immediately to silently ignore this autofresh attempt.\n            return;\n        }\n\n        if (canAutofresh && refresher.pending && !refresher.refreshing) {\n            // a no-op catch callback is used here (`noop`),\n            // to silence unnecessary unhandled promise rejection warnings\n            refresher.refresh(_autofreshSignal).catch(noop);\n        }\n    });\n\n    let _autofresh = (skipCanAutofreshCheck = false) => {\n        if (!refresher.refreshing) void _autofreshPromisor(skipCanAutofreshCheck);\n    };\n\n    let _destruct = () => {\n        _unlistenExpired();\n        _autofreshPromisor.abort();\n        _autofreshPromisor = _autofreshSignal = _unlistenExpired = undefined!;\n        _autofresh = _destruct = noop;\n    };\n\n    const autofresh = (skipCanAutofreshCheck = false) => _autofresh(skipCanAutofreshCheck);\n\n    return Object.defineProperties(autofresh as typeof autofresh & { readonly destruct: () => void }, {\n        destruct: getter(() => _destruct, false),\n    });\n};\n\nexport default createSessionAutofresher;\n","export const DEFAULT_INTERVAL_MS = 1000;\nexport const MAX_INTERVAL_MS = 0x7fffffff;\n","import { boolOrFalse, clamp, enumerable, struct } from '../../../utils';\nimport { DEFAULT_INTERVAL_MS, MAX_INTERVAL_MS } from './constants';\nimport type { Interval } from './types';\n\n/**\n * Starts an abortable interval with autocorrection for time drifts.\n *\n * @example\n * // Schedule a callback every second:\n * let interval = createInterval(time => {\n *   console.log('clock!', time);\n * }, 1000, true);\n *\n * // And to stop it:\n * interval.cancel();\n *\n * // Don't forget to clean up:\n * interval = null;\n *\n * @param callback Callback to be executed at interval\n * @param ms Interval (in milliseconds)\n * @param runCallbackAsap Whether to execute callback as soon as possible\n *\n * @see [Gist by Jake Archibald](https://gist.github.com/jakearchibald/cb03f15670817001b1157e62a076fe95)\n */\nexport const createInterval = (callback: (time: DOMHighResTimeStamp) => any, ms = DEFAULT_INTERVAL_MS, runCallbackAsap = false) => {\n    let _abortController: AbortController | undefined = new AbortController();\n    let _intervalDelay = clamp(0, ~~ms, MAX_INTERVAL_MS);\n    let _shouldRunCallbackAsap = boolOrFalse(runCallbackAsap);\n\n    if (!Number.isFinite(_intervalDelay)) {\n        _intervalDelay = DEFAULT_INTERVAL_MS;\n    }\n\n    // Prefer `currentTime`, as it'll better sync animations queued in the same frame,\n    // but if it isn't supported, `performance.now()` is fine.\n    const _startTime = (document.timeline?.currentTime as number) ?? performance.now();\n\n    const _cancel = () => {\n        // Release the abort controller resource once aborted\n        _abortController?.abort();\n        _abortController = undefined;\n    };\n\n    const _frame = (time: number) => {\n        if (!_abortController || _abortController.signal.aborted) return;\n        _scheduleFrame(time);\n        callback(time);\n    };\n\n    const _scheduleFrame = (time: number) => {\n        // Just in case the interval callback needs to be executed as soon as possible,\n        // start with a zero delay (instead of the adjusted `ms` delay)\n        let delay = 0;\n\n        if (!_shouldRunCallbackAsap) {\n            const elapsed = time - _startTime;\n            const roundedElapsed = Math.round(elapsed / _intervalDelay) * _intervalDelay;\n            const targetNext = _startTime + roundedElapsed + _intervalDelay;\n\n            // Callback should be executed after adjusted `ms` delay\n            delay = targetNext - performance.now();\n        }\n\n        setTimeout(() => requestAnimationFrame(_frame), delay);\n    };\n\n    _scheduleFrame(_startTime);\n\n    // A frame must have already been scheduled for immediate run\n    _shouldRunCallbackAsap = false;\n\n    return struct<Interval>({\n        cancel: enumerable(_cancel),\n        delay: enumerable(ms),\n        signal: enumerable(_abortController.signal),\n    });\n};\n\nexport default createInterval;\n","import { getter, isFunction, isNullish, noop, struct } from '../../../utils';\nimport type { WatchListEntries, WatchListSubscriptionEventCallbacks } from './types';\n\nexport const createWatchListCurrentStateRecord = <T extends Record<string, any>>(entries: WatchListEntries<T>) => {\n    const statePropertyDescriptors = {} as { [K in keyof T]: TypedPropertyDescriptor<T[K]> };\n    const entriesPropertyDescriptors = Object.getOwnPropertyDescriptors(entries) as typeof statePropertyDescriptors;\n\n    for (const key of Object.keys(entries) as (keyof T)[]) {\n        const { get, value } = entriesPropertyDescriptors[key];\n\n        statePropertyDescriptors[key] = getter(\n            get ||\n                ((isFunction(value)\n                    ? // ensure that the `this` binding of the getter function is preserved\n                      value.bind(entries)\n                    : () => value) as NonNullable<typeof get>)\n        );\n    }\n\n    return struct<Readonly<T>>(statePropertyDescriptors);\n};\n\nexport const createWatchListSubscriptionEventCallbacks = () => {\n    const callbacks = { idle: null, resume: null } as {\n        [K in keyof WatchListSubscriptionEventCallbacks]: NonNullable<WatchListSubscriptionEventCallbacks[K]> | null;\n    };\n\n    const descriptors = {} as {\n        [K in keyof typeof callbacks]: {\n            get: () => (typeof callbacks)[K];\n            set: (callback?: (typeof callbacks)[K]) => void;\n        };\n    };\n\n    for (const key of Object.keys(callbacks) as (keyof typeof callbacks)[]) {\n        descriptors[key] = {\n            get: () => callbacks[key] ?? noop,\n            set: (callback?: (typeof callbacks)[typeof key]) => {\n                if (isNullish(callback)) {\n                    callbacks[key] = null;\n                } else if (isFunction(callback) && callback !== callbacks[key]) {\n                    callbacks[key] = callback;\n                }\n            },\n        };\n    }\n\n    return struct(descriptors) as WatchListSubscriptionEventCallbacks;\n};\n","export const UNSUBSCRIBE_TOKEN: unique symbol = Symbol('<<UNSUBSCRIBE>>');\n","import { enumerable, getMappedValue, getter, isFunction, noop, sameValue, struct } from '../../../utils';\nimport { createWatchListCurrentStateRecord, createWatchListSubscriptionEventCallbacks } from './helpers';\nimport type { WatchList, WatchListEntries, WatchListSubscriptionCallback } from './types';\nimport { UNSUBSCRIBE_TOKEN } from './constants';\n\nexport const isWatchlistUnsubscribeToken = <T extends Record<string, any>>(\n    currentStateSnapshotOrUnsubscribeToken?: Parameters<WatchListSubscriptionCallback<T>>[0]\n): currentStateSnapshotOrUnsubscribeToken is typeof UNSUBSCRIBE_TOKEN => currentStateSnapshotOrUnsubscribeToken === UNSUBSCRIBE_TOKEN;\n\nexport const createWatchlist = <T extends Record<string, any>>(entries: WatchListEntries<T>) => {\n    let lastStateSnapshot: Readonly<T> | undefined;\n\n    const currentState = createWatchListCurrentStateRecord(entries);\n    const subscriptionEventCallbacks = createWatchListSubscriptionEventCallbacks();\n    const subscriptionCallbacksWithReferenceCounting = new Map<WatchListSubscriptionCallback<T>, number>();\n    const unsubscribeCallbacks = new WeakMap<WatchListSubscriptionCallback<T>, (...args: any[]) => void>();\n\n    const _getCurrentStateSnapshot = () => Object.freeze({ ...currentState });\n    const _isWithoutSubscriptionCallbacks = () => subscriptionCallbacksWithReferenceCounting.size === 0;\n\n    const _notifySubscriptions = (unsubscribeToken?: typeof UNSUBSCRIBE_TOKEN) => {\n        if (_isWithoutSubscriptionCallbacks()) return;\n\n        if (isWatchlistUnsubscribeToken(unsubscribeToken)) {\n            const subscriptionCallbacks: WatchListSubscriptionCallback<T>[] = [];\n\n            subscriptionCallbacksWithReferenceCounting.forEach((referenceCount, callback) => {\n                subscriptionCallbacks.push(callback);\n                const unsubscribeCallback = unsubscribeCallbacks.get(callback)!;\n                while (referenceCount--) unsubscribeCallback?.();\n            });\n\n            subscriptionCallbacks.forEach(callback => callback(unsubscribeToken));\n            return true;\n        }\n\n        const currentStateSnapshot = lastStateSnapshot as Readonly<T>;\n\n        lastStateSnapshot = _getCurrentStateSnapshot();\n\n        for (const key of Object.keys(lastStateSnapshot) as (keyof T)[]) {\n            if (sameValue(lastStateSnapshot[key], currentStateSnapshot[key])) continue;\n            subscriptionCallbacksWithReferenceCounting.forEach((_, callback) => callback(lastStateSnapshot!));\n            return true;\n        }\n\n        return false;\n    };\n\n    const subscribe: WatchList<T>['subscribe'] = (subscriptionCallback?: WatchListSubscriptionCallback<T>) => {\n        if (!isFunction(subscriptionCallback)) return noop;\n\n        const unsubscribeCallback = getMappedValue(subscriptionCallback, unsubscribeCallbacks, () => {\n            let unsubscribe: (() => void) | undefined = () => {\n                const subscriptionCallbackReferenceCount = subscriptionCallbacksWithReferenceCounting.get(subscriptionCallback) || 0;\n\n                if (subscriptionCallbackReferenceCount === 1) {\n                    unsubscribe = undefined;\n                    subscriptionCallbacksWithReferenceCounting.delete(subscriptionCallback);\n                    unsubscribeCallbacks.delete(subscriptionCallback);\n\n                    if (_isWithoutSubscriptionCallbacks()) {\n                        lastStateSnapshot = undefined;\n                        subscriptionEventCallbacks.idle();\n                    }\n                } else if (subscriptionCallbackReferenceCount > 1) {\n                    subscriptionCallbacksWithReferenceCounting.set(subscriptionCallback, subscriptionCallbackReferenceCount - 1);\n                }\n            };\n\n            return () => {\n                unsubscribe?.();\n            };\n        })!;\n\n        const willResumeSubscriptions = _isWithoutSubscriptionCallbacks();\n\n        subscriptionCallbacksWithReferenceCounting.set(\n            subscriptionCallback,\n            (subscriptionCallbacksWithReferenceCounting.get(subscriptionCallback) || 0) + 1\n        );\n\n        if (willResumeSubscriptions) {\n            lastStateSnapshot = _getCurrentStateSnapshot();\n            subscriptionEventCallbacks.resume();\n        }\n\n        subscriptionCallback(lastStateSnapshot!);\n\n        return unsubscribeCallback;\n    };\n\n    return struct<WatchList<T>>({\n        idle: getter(_isWithoutSubscriptionCallbacks),\n        on: enumerable(subscriptionEventCallbacks),\n        cancelSubscriptions: enumerable(() => _notifySubscriptions(UNSUBSCRIBE_TOKEN) as true),\n        requestNotification: enumerable(() => _notifySubscriptions()),\n        snapshot: getter(() => lastStateSnapshot ?? _getCurrentStateSnapshot()),\n        subscribe: enumerable(subscribe),\n    });\n};\n\nexport default createWatchlist;\n","import { createInterval, Interval } from '../interval';\nimport { createWatchlist } from '../../reactive/watchlist';\nimport { enumerable, struct } from '../../../utils';\nimport type { Clock, ClockWatchListEntries } from './types';\n\nexport const clock = (() => {\n    let interval: Interval | undefined;\n\n    const { cancelSubscriptions, requestNotification, subscribe, on } = createWatchlist<ClockWatchListEntries>({\n        // Use wrapper function instead of direct reference to `Date.now`,\n        // otherwise, tests will fail since `Date.now` won't be mocked\n        now: () => Date.now(),\n    });\n\n    on.resume = () => {\n        interval = createInterval(requestNotification, 1000, false);\n    };\n\n    on.idle = () => {\n        interval?.cancel();\n        interval = undefined;\n    };\n\n    return struct<Clock>({\n        cancelSubscriptions: enumerable(cancelSubscriptions),\n        subscribe: enumerable(subscribe),\n    });\n})();\n\nexport default clock;\n","import { enumerable, isFunction, isUndefined, noop, struct } from '../../../utils';\nimport type { EmittableEvent, Emitter, EmitterEvents } from './types';\n\nexport const createEventEmitter = <Events extends EmitterEvents>() => {\n    const _eventTarget = new (class extends EventTarget {})();\n\n    const _emitEvent: Emitter<Events>['emit'] = (type, ...restArgs) => {\n        const [detail] = restArgs;\n\n        if (restArgs.length && isUndefined(detail)) {\n            // `undefined` has been explicitly passed as the detail of the event to be dispatched.\n            // Notify the consumer with a corresponding warning indicating possible resolutions.\n            // Warning can further be conditioned to only be available in development environment.\n            console.warn(\n                'Unexpected value `undefined` provided for event detail.\\n' +\n                    '\\tTurn off this warning by doing either of the following:\\n' +\n                    '\\t(1) omit the optional event detail parameter.\\n' +\n                    '\\t(2) explicitly pass `null` for the event detail parameter (instead of `undefined`).\\n'\n            );\n        }\n\n        const event = new CustomEvent(\n            type,\n            struct({\n                bubbles: enumerable(false),\n                cancelable: enumerable(false),\n                detail: enumerable(detail ?? null),\n            })\n        ) as EmittableEvent<Events, typeof type>;\n\n        return _eventTarget.dispatchEvent(event);\n    };\n\n    const _onEvent: Emitter<Events>['on'] = (type, listener) => {\n        if (!isFunction(listener)) return noop;\n\n        const _listener = (evt: Event) =>\n            listener.call(\n                null,\n                struct({\n                    detail: enumerable((evt as EmittableEvent<Events, typeof type>).detail),\n                    timeStamp: enumerable(evt.timeStamp),\n                    type: enumerable((evt as EmittableEvent<Events, typeof type>).type),\n                })\n            );\n\n        _eventTarget.addEventListener(type, _listener);\n\n        return () => _eventTarget.removeEventListener(type, _listener);\n    };\n\n    return struct<Emitter<Events>>({\n        emit: enumerable(_emitEvent),\n        on: enumerable(_onEvent),\n    });\n};\n\nexport default createEventEmitter;\n","import {\n    abortedSignal,\n    abortSignalForAny,\n    enumerable,\n    getter,\n    isAbortSignal,\n    isFunction,\n    noop,\n    parseDate,\n    struct,\n    tryResolve,\n} from '../../../../utils';\nimport clock from '../../../time/clock';\nimport { createAbortable } from '../../../async/abortable';\nimport { createPromisor } from '../../../async/promisor';\nimport { isWatchlistUnsubscribeToken } from '../../../reactive/watchlist';\nimport { createEventEmitter, Emitter } from '../../../reactive/eventEmitter';\nimport { INTERNAL_EVT_SESSION_DEADLINE } from './constants';\nimport type { SessionEventType, SessionSpecification } from '../types';\nimport type { SessionDeadline, SessionDeadlineEmitter } from './types';\n\nexport const createSessionDeadline = <T extends any>(emitter: Emitter<SessionEventType>, specification: SessionSpecification<T>) => {\n    let _deadlineSignal: AbortSignal | undefined;\n    let _deadlineTimestamp = Infinity;\n    let _refreshPromisorSignal: AbortSignal | undefined;\n    let _stopDeadlineClock: (() => void) | undefined;\n\n    const _deadlineAbortable = createAbortable();\n    const _deadlineEmitter: SessionDeadlineEmitter = createEventEmitter();\n\n    const _clearDeadline = () => {\n        _deadlineSignal?.removeEventListener('abort', _clearDeadline);\n        _deadlineTimestamp = Infinity;\n        _stopDeadlineClock?.();\n        _deadlineAbortable.refresh();\n        _deadlineEmitter.emit(INTERNAL_EVT_SESSION_DEADLINE);\n    };\n\n    const _refreshPromisor = createPromisor(async (signal, session: T | undefined) => {\n        _refreshPromisorSignal = signal;\n\n        const deadline = await tryResolve(() => {\n            const _deadline = specification.deadline;\n            return isFunction(_deadline) ? _deadline.call(specification, session, signal) : _deadline;\n        }).catch(noop as () => undefined);\n\n        if (_refreshPromisorSignal !== signal) return;\n\n        const _deadlines = (Array.isArray(deadline) ? deadline : [deadline]).filter(deadline => deadline || deadline === 0);\n\n        if (_deadlines.length > 0) {\n            let _deadlineElapsed = false;\n            let _signals = new Set<AbortSignal>();\n\n            for (const deadline of _deadlines) {\n                if (isAbortSignal(deadline)) {\n                    if ((_deadlineElapsed = deadline.aborted)) break;\n                    _signals.add(deadline);\n                } else {\n                    _deadlineTimestamp = Math.min(_deadlineTimestamp, parseDate(deadline) ?? Infinity);\n                    if ((_deadlineElapsed = _deadlineTimestamp <= Date.now())) break;\n                }\n            }\n\n            _deadlineElapsed ||= _signals.size < 1 && !Number.isFinite(_deadlineTimestamp);\n\n            if (!_deadlineElapsed) {\n                _deadlineSignal = abortSignalForAny([..._signals, _deadlineAbortable.signal]);\n                _deadlineSignal.addEventListener('abort', _clearDeadline);\n                _startDeadlineClock();\n            } else _deadlineSignal ??= abortedSignal();\n\n            // clear collections\n            _deadlines.length = 0;\n            _signals.clear();\n        } else _deadlineSignal = undefined;\n    });\n\n    const _startDeadlineClock = () => {\n        if (!Number.isFinite(_deadlineTimestamp)) return;\n\n        let unsubscribeClock = clock.subscribe(snapshotOrSignal => {\n            if (isWatchlistUnsubscribeToken(snapshotOrSignal)) return _clearDeadline();\n            if (snapshotOrSignal.now >= _deadlineTimestamp) _deadlineAbortable.abort();\n        });\n\n        _stopDeadlineClock = () => {\n            unsubscribeClock?.();\n            unsubscribeClock = _stopDeadlineClock = undefined!;\n        };\n    };\n\n    return struct<SessionDeadline<T>>({\n        elapse: enumerable(_deadlineAbortable.abort),\n        elapsed: getter(() => _deadlineSignal && _deadlineSignal.aborted),\n        on: enumerable(_deadlineEmitter.on),\n        refresh: enumerable(_refreshPromisor.bind(undefined)),\n        signal: getter(() => _deadlineAbortable.signal),\n    });\n};\n\nexport default createSessionDeadline;\n","import { createPromisor } from '../../../async/promisor';\nimport { createEventEmitter, Emitter } from '../../../reactive/eventEmitter';\nimport { abortSignalForAny, ALREADY_RESOLVED_PROMISE, enumerable, getter, isAbortSignal, isFunction, struct, tryResolve } from '../../../../utils';\nimport { INTERNAL_EVT_SESSION_READY, INTERNAL_EVT_SESSION_REFRESHING_END, INTERNAL_EVT_SESSION_REFRESHING_START } from './constants';\nimport { ERR_SESSION_FACTORY_UNAVAILABLE, ERR_SESSION_INVALID, ERR_SESSION_REFRESH_ABORTED, EVT_SESSION_EXPIRED } from '../constants';\nimport type { SessionRefresher, SessionRefresherContext, SessionRefresherEmitter } from './types';\nimport type { SessionEventType, SessionSpecification } from '../types';\n\nexport const createSessionRefresher = <T extends any>(emitter: Emitter<SessionEventType>, specification: SessionSpecification<T>) => {\n    let _refreshPending = false;\n    let _refreshingPromise: Promise<void> | undefined;\n    let _refreshingSignal: AbortSignal;\n    let _waitForRefreshingPromise = true;\n    let _session: T | undefined;\n\n    const _sessionPlaceholder = Symbol('<next_session>');\n    const _refresherEmitter: SessionRefresherEmitter = createEventEmitter();\n\n    function _assertSession(value: any): asserts value is T {\n        try {\n            specification.assert?.(value);\n        } catch (ex) {\n            throw ERR_SESSION_INVALID;\n        }\n    }\n\n    function _assertSessionFactory(value: any): asserts value is NonNullable<SessionSpecification<T>['onRefresh']> {\n        if (!isFunction(value)) throw ERR_SESSION_FACTORY_UNAVAILABLE;\n    }\n\n    const _refreshPromisor = createPromisor((promisorSignal, signal?: AbortSignal | null | undefined) => {\n        if (!_refreshingSignal) _refreshingSignal = promisorSignal;\n        else return _refreshSession(isAbortSignal(signal) ? abortSignalForAny([signal, promisorSignal]) : promisorSignal);\n    });\n\n    const _refreshSession = async (signal: AbortSignal) => {\n        let nextSession: any = _sessionPlaceholder;\n        try {\n            _refreshPending = false;\n            _refreshingSignal = signal;\n\n            if (_waitForRefreshingPromise) {\n                await (_refreshingPromise ??= (async () => {\n                    /////////////////////////////////////////////////////////////////\n                    // Should run only once for each batch of refresh attempts, at //\n                    // the start (the first refresh attempt) of the current batch. //\n                    /////////////////////////////////////////////////////////////////\n\n                    // Defer dispatching `EVT_SESSION_REFRESHING_START` event\n                    // until the next tick, thus guaranteeing consistent async behavior\n                    // for every `refreshPromisor()` call.\n                    await ALREADY_RESOLVED_PROMISE;\n\n                    // Subsequent refresh attempts need not await `_refreshingPromise` anymore\n                    _waitForRefreshingPromise = false;\n\n                    _refresherEmitter.emit(INTERNAL_EVT_SESSION_REFRESHING_START);\n                })());\n            }\n\n            _assertSessionFactory(specification.onRefresh);\n\n            nextSession = await tryResolve(() => specification.onRefresh(_session, signal)).finally(() => {\n                if (signal.aborted) throw ERR_SESSION_REFRESH_ABORTED;\n            });\n        } finally {\n            if (_refreshingSignal === signal) {\n                //////////////////////////////////////////////////////////////////\n                // These session refresh completion steps should run only once, //\n                // at the end of each batch of session refresh attempts (only   //\n                // for the last session refresh request).                       //\n                //////////////////////////////////////////////////////////////////\n\n                try {\n                    if (nextSession !== _sessionPlaceholder) {\n                        _assertSession(nextSession);\n                        _session = nextSession;\n                        _refresherEmitter.emit(INTERNAL_EVT_SESSION_READY);\n                    }\n                } finally {\n                    // Mark current batch of refresh attempts as completed\n                    _refreshingPromise = undefined;\n                    _waitForRefreshingPromise = true;\n                    _refresherEmitter.emit(INTERNAL_EVT_SESSION_REFRESHING_END);\n                }\n            }\n        }\n    };\n\n    emitter.on(EVT_SESSION_EXPIRED, () => (_refreshPending = !_refreshingPromise));\n\n    // Initial refresh promisor call to capture the refreshing signal\n    void _refreshPromisor();\n\n    return struct<SessionRefresher<T>>({\n        context: enumerable(\n            struct<SessionRefresherContext<T>>({\n                emitter: enumerable(emitter),\n                specification: enumerable(specification),\n            })\n        ),\n        on: enumerable(_refresherEmitter.on),\n        pending: getter(() => _refreshPending),\n        promise: getter(() => _refreshPromisor.promise),\n        refresh: enumerable(_refreshPromisor.bind(undefined)),\n        refreshing: getter(() => !!_refreshingPromise),\n        session: getter(() => _session),\n        signal: getter(() => _refreshingSignal),\n    });\n};\n\nexport default createSessionRefresher;\n","import {\n    ERR_SESSION_EXPIRED,\n    ERR_SESSION_HTTP_UNAVAILABLE,\n    EVT_SESSION_EXPIRED,\n    EVT_SESSION_READY,\n    EVT_SESSION_REFRESHED,\n    EVT_SESSION_REFRESHING_END,\n    EVT_SESSION_REFRESHING_START,\n} from './constants';\nimport {\n    INTERNAL_EVT_SESSION_DEADLINE,\n    INTERNAL_EVT_SESSION_READY,\n    INTERNAL_EVT_SESSION_REFRESHING_END,\n    INTERNAL_EVT_SESSION_REFRESHING_START,\n} from './internal/constants';\nimport { createSessionAutofresher } from './internal/autofresher';\nimport { createSessionDeadline } from './internal/deadline';\nimport { createSessionRefresher } from './internal/refresher';\nimport { createEventEmitter } from '../../reactive/eventEmitter';\nimport { isFunction, noop } from '../../../utils';\nimport type { SessionEventType, SessionSpecification } from './types';\n\nexport class SessionContext<T, HttpParams extends any[] = any[]> {\n    private _session: T | undefined;\n\n    private readonly _autofresh;\n    private readonly _deadline;\n    private readonly _refresher;\n\n    private readonly _eventEmitter = createEventEmitter<SessionEventType>();\n\n    public declare readonly http: typeof this._sessionHttp;\n    public declare readonly on: (typeof this._eventEmitter)['on'];\n    public declare readonly refresh: (typeof this._refresher)['refresh'];\n\n    constructor(private readonly _specification: SessionSpecification<T, HttpParams>) {\n        this._deadline = createSessionDeadline(this._eventEmitter, this._specification as SessionSpecification<T>);\n        this._refresher = createSessionRefresher(this._eventEmitter, this._specification as SessionSpecification<T>);\n        this._autofresh = createSessionAutofresher(this._refresher);\n\n        this._deadline.on(INTERNAL_EVT_SESSION_DEADLINE, () => this._eventEmitter.emit(EVT_SESSION_EXPIRED));\n        this._refresher.on(INTERNAL_EVT_SESSION_REFRESHING_START, () => this._eventEmitter.emit(EVT_SESSION_REFRESHING_START));\n        this._refresher.on(INTERNAL_EVT_SESSION_REFRESHING_END, () => this._eventEmitter.emit(EVT_SESSION_REFRESHING_END));\n\n        this._refresher.on(INTERNAL_EVT_SESSION_READY, () => {\n            this._session = this._refresher.session;\n            this._deadline.refresh(this._session).finally(() => this._eventEmitter.emit(EVT_SESSION_REFRESHED));\n            this._eventEmitter.emit(EVT_SESSION_READY);\n        });\n\n        this.http = this._sessionHttp.bind(this);\n        this.on = this._eventEmitter.on;\n        this.refresh = this._refresher.refresh;\n    }\n\n    get isExpired() {\n        return this._deadline.elapsed;\n    }\n\n    get refreshing() {\n        return this._refresher.refreshing;\n    }\n\n    private _assertSessionHttp(value: any): asserts value is NonNullable<SessionSpecification<T, HttpParams>['http']> {\n        if (!isFunction(value)) throw ERR_SESSION_HTTP_UNAVAILABLE;\n    }\n\n    private async _sessionHttp(\n        beforeHttp?: ((currentSession: T | undefined, signal: AbortSignal, ...args: HttpParams) => any) | null,\n        ...args: HttpParams\n    ) {\n        this._autofresh(true);\n        while (true) {\n            try {\n                // a no-op catch callback is used here (`noop`),\n                // to silence unnecessary unhandled promise rejection warnings\n                await this._refresher.promise.catch(noop);\n\n                const { signal } = this._deadline;\n\n                await beforeHttp?.(this._session, signal, ...args);\n                this._assertSessionHttp(this._specification.http);\n\n                return await this._specification.http(this._session, signal, ...args);\n            } catch (ex) {\n                if (ex !== ERR_SESSION_EXPIRED) throw ex;\n                if (this._refresher.pending) continue;\n                this._deadline.elapse();\n            }\n        }\n    }\n}\n\nexport default SessionContext;\n","import { ERR_SESSION_EXPIRED, SessionSpecification } from '../../../primitives/context/session';\nimport { abortSignalForAny, enumerable, isAbortSignal, isPlainObject, isString, isUndefined } from '../../../utils';\nimport { http as _http } from '../../Http/http';\nimport { ErrorTypes } from '../../Http/utils';\nimport { AUTO_REFRESH, MAX_AGE_MS } from './constants';\nimport type { SessionObject, SessionRequest } from '../types';\nimport type { HttpOptions } from '../../Http/types';\nimport type { onErrorHandler } from '../../types';\n\ntype _AuthSessionSpecification = SessionSpecification<SessionObject, Parameters<typeof _http>>;\n\nexport class AuthSessionSpecification implements _AuthSessionSpecification {\n    public declare errorHandler: onErrorHandler | null;\n\n    public declare readonly autoRefresh: _AuthSessionSpecification['autoRefresh'];\n    public declare readonly onRefresh: _AuthSessionSpecification['onRefresh'];\n\n    constructor(public onSessionCreate?: SessionRequest) {\n        this._errorHandler = this._errorHandler.bind(this);\n\n        Object.defineProperties(this, {\n            autoRefresh: enumerable<typeof this.autoRefresh>(AUTO_REFRESH),\n            onRefresh: enumerable<typeof this.onRefresh>((_, signal) => this.onSessionCreate!(signal)),\n        });\n    }\n\n    public readonly assert: _AuthSessionSpecification['assert'] = maybeSession => {\n        if (isPlainObject(maybeSession)) {\n            const id = isString(maybeSession.id) ? maybeSession.id.trim() : undefined;\n            const token = isString(maybeSession.token) ? maybeSession.token.trim() : undefined;\n            if (id && token) return;\n        }\n        throw undefined;\n    };\n\n    public readonly deadline: _AuthSessionSpecification['deadline'] = session => {\n        const deadlines = [];\n        let issuedAt: number;\n        let expiresAt: number;\n\n        try {\n            ({ iat: issuedAt, exp: expiresAt } = JSON.parse(atob(session?.token.split('.')[1]!)));\n            deadlines.push(expiresAt);\n        } catch {\n            /* ignore malformed token errors */\n            issuedAt = Date.now();\n        }\n\n        if (!isUndefined(MAX_AGE_MS)) {\n            const issuedAtDate = new Date(issuedAt);\n            deadlines.push(issuedAtDate.setMilliseconds(issuedAtDate.getMilliseconds() + MAX_AGE_MS));\n        }\n\n        return deadlines;\n    };\n\n    public http: _AuthSessionSpecification['http'] = async (session, sessionSignal, httpOptions: HttpOptions) => {\n        const { headers, signal, ...restOptions } = httpOptions;\n        try {\n            const sessionHttpOptions = {\n                ...restOptions,\n                headers: {\n                    ...headers,\n                    ...(session && { Authorization: `Bearer ${session.token}` }),\n                },\n                errorHandler: this._errorHandler,\n                signal: isAbortSignal(signal) ? abortSignalForAny([sessionSignal, signal]) : sessionSignal,\n            };\n            return await _http(sessionHttpOptions);\n        } catch (ex: any) {\n            if (ex?.type === ErrorTypes.EXPIRED_TOKEN) throw ERR_SESSION_EXPIRED;\n            throw ex;\n        }\n    };\n\n    private _errorHandler(error: any) {\n        try {\n            if (this.errorHandler) this.errorHandler(error);\n        } catch {\n            /* Not interested in errors resulting from this instance's `errorHandler()` method */\n        }\n        throw error;\n    }\n}\n\nexport default AuthSessionSpecification;\n","import { enumerable, getter, struct } from '../../../utils';\nimport type { ErrorContainer } from './types';\n\nconst _NO_ERR: unique symbol = Symbol('<<NO_ERR>>');\n\nfunction _assertError<T>(error: any): asserts error is T {\n    /* istanbul ignore if -- @preserve */\n    if (error === _NO_ERR) {\n        // Code execution should never reach this block.\n        // If it does, then the consumer is doing something wrong.\n        // The consumer needs to call the `reset()` method instead.\n        throw new TypeError('Illegal error');\n    }\n}\n\nexport const createErrorContainer = <T = unknown>() => {\n    let _error: T | typeof _NO_ERR = _NO_ERR;\n\n    const _resetError = () => {\n        _error = _NO_ERR;\n    };\n\n    const _setError = (error: T) => {\n        _assertError<T>(error);\n        _error = error;\n    };\n\n    return struct<ErrorContainer<T>>({\n        error: getter(() => (_error === _NO_ERR ? undefined : _error)),\n        hasError: getter(() => _error !== _NO_ERR),\n        reset: enumerable(_resetError),\n        set: enumerable(_setError),\n    });\n};\n\nexport default createErrorContainer;\n","import SetupContext from './SetupContext';\nimport AuthSessionSpecification from './AuthSessionSpecification';\nimport { ERR_SESSION_REFRESH_ABORTED, EVT_SESSION_EXPIRED, EVT_SESSION_READY, SessionContext } from '../../../primitives/context/session';\nimport { createErrorContainer } from '../../../primitives/auxiliary/errorContainer';\nimport { createPromisor } from '../../../primitives/async/promisor';\nimport { createWatchlist } from '../../../primitives/reactive/watchlist';\nimport { boolOrFalse, boolOrTrue, isFunction } from '../../../utils';\n\nimport type { onErrorHandler } from '../../types';\n\nexport class AuthSession {\n    private _canSkipSessionRefresh = false;\n    private _refreshPromisorSignal: AbortSignal | undefined;\n    private _sessionIsFrozen = false;\n\n    private readonly _errorContainer = createErrorContainer();\n    private readonly _specification = new AuthSessionSpecification();\n    private readonly _sessionContext = new SessionContext(this._specification);\n    private readonly _setupContext = new SetupContext(this._sessionContext);\n\n    private readonly _refreshPromisor = createPromisor(async (signal, skipSessionRefreshIfPossible = false) => {\n        let authStateChanged = !this._refreshPromisorSignal;\n        let isLatestRefresh = this._refreshPromisorSignal === (this._refreshPromisorSignal = signal);\n        const onlySetupRefresh = boolOrFalse(skipSessionRefreshIfPossible) && this._canSkipSessionRefresh;\n\n        if (authStateChanged) {\n            authStateChanged = false;\n            this._errorContainer.reset();\n            this._onAuthStateChanged();\n        }\n\n        try {\n            await (onlySetupRefresh ? this._setupContext : this._sessionContext)\n                .refresh(signal)\n                .finally(() => (isLatestRefresh = this._refreshPromisorSignal === signal));\n        } catch (ex) {\n            if (!isLatestRefresh) return;\n            if (!signal.aborted && (onlySetupRefresh || ex !== ERR_SESSION_REFRESH_ABORTED)) this._errorContainer.set(ex);\n            authStateChanged = !onlySetupRefresh;\n        } finally {\n            if (authStateChanged || (onlySetupRefresh && isLatestRefresh)) {\n                this._refreshPromisorSignal = undefined;\n                this._onAuthStateChanged();\n            }\n        }\n    });\n\n    private readonly _watchlist = createWatchlist({\n        endpoints: () => this._setupContext.endpoints,\n        extraConfig: () => this._setupContext.extraConfig,\n        hasError: () => this._errorContainer.hasError,\n        isExpired: () => this._sessionContext.isExpired,\n        isFrozen: () => this._sessionIsFrozen,\n        refreshing: () => !!this._refreshPromisorSignal,\n    });\n\n    public readonly freeze = () => {\n        this._sessionIsFrozen = true;\n        this._watchlist.on.resume = undefined;\n        this._watchlist.cancelSubscriptions();\n    };\n\n    public readonly http = this._sessionContext.http.bind(this._sessionContext, null);\n    public readonly refresh = this._refresh.bind(this);\n    public readonly subscribe = this._watchlist.subscribe;\n\n    constructor() {\n        this._watchlist.on.resume = () => {\n            const unlisteners = [\n                this._sessionContext.on(EVT_SESSION_EXPIRED, () => {\n                    this._canSkipSessionRefresh = false;\n                    this._onAuthStateChanged();\n                }),\n\n                this._sessionContext.on(EVT_SESSION_READY, () => {\n                    void this._refresh((this._canSkipSessionRefresh = true));\n                }),\n            ];\n\n            this._watchlist.on.idle = () => {\n                this._watchlist.on.idle = undefined;\n                unlisteners.forEach(unlisten => unlisten());\n                unlisteners.length = 0;\n            };\n\n            if (!this.context.refreshing && boolOrTrue(this.context.isExpired)) {\n                this._refresh();\n            }\n        };\n    }\n\n    get context() {\n        return this._watchlist.snapshot;\n    }\n\n    set loadingContext(loadingContext: typeof this._setupContext.loadingContext) {\n        this._setupContext.loadingContext = loadingContext;\n    }\n\n    set analyticsPayload(payload: Array<URLSearchParams>) {\n        this._setupContext.analyticsPayload = payload;\n    }\n\n    set analyticsEnabled(analyticsEnabled: boolean) {\n        this._setupContext.analyticsEnabled = analyticsEnabled;\n    }\n\n    set errorHandler(errorHandler: onErrorHandler | null) {\n        this._specification.errorHandler = errorHandler;\n    }\n\n    set onSessionCreate(onSessionCreate: typeof this._specification.onSessionCreate) {\n        if (this._specification.onSessionCreate === onSessionCreate) return;\n\n        this._specification.onSessionCreate = onSessionCreate;\n        if (!this._refreshPromisorSignal) return;\n\n        if (isFunction(this._specification.onSessionCreate)) {\n            this._canSkipSessionRefresh = false;\n            this._refresh();\n        }\n    }\n\n    private _onAuthStateChanged() {\n        this._watchlist.requestNotification();\n    }\n\n    private _refresh(skipSessionRefreshIfPossible = false) {\n        void this._refreshPromisor(skipSessionRefreshIfPossible);\n    }\n}\n\nexport default AuthSession;\n","import type { KeyOfRecord } from '../utils/types';\nimport EN_US from '../assets/translations/en-US.json' with { type: 'json' };\nconst _en_US = { ...EN_US };\n\ntype _SupportedLocale = KeyOfRecord<typeof all_locales>;\ntype _Translations = Translations | PromiseLike<Translations>;\n\nexport type CustomTranslations = Record<string, Translations>;\nexport type Locale = `${Lowercase<string>}-${Uppercase<string>}`;\nexport type TranslationKey = KeyOfRecord<typeof _en_US>;\nexport type Translations = { [key in TranslationKey]?: string };\nexport type TranslationSource = _Translations | (() => _Translations);\n\nexport type TranslationSourceRecord = {\n    [K in _SupportedLocale]: {\n        [P in K]: TranslationSource;\n    };\n}[_SupportedLocale];\n\nexport type TranslationOptions = {\n    values?: Record<string, any> | ((placeholder: string, index: number, repetitionIndex: number) => any);\n    count?: number;\n};\n\n// TODO - Remove this in v2. It was previously used to expose the available translations to the user.\nexport const da_DK = { da_DK: () => ({}) };\nexport const de_DE = { de_DE: () => ({}) };\nexport const es_ES = { es_ES: () => ({}) };\nexport const fi_FI = { fi_FI: () => ({}) };\nexport const fr_FR = { fr_FR: () => ({}) };\nexport const it_IT = { it_IT: () => ({}) };\nexport const nl_NL = { nl_NL: () => ({}) };\nexport const no_NO = { no_NO: () => ({}) };\nexport const pt_BR = { pt_BR: () => ({}) };\nexport const sv_SE = { sv_SE: () => ({}) };\n\nexport const en_US = { en_US: _en_US as Translations };\n\n// TODO - Remove this in v2. It was previously used to expose all the available translations to the user.\nexport const all_locales = {\n    ...da_DK,\n    ...de_DE,\n    ...en_US,\n    ...es_ES,\n    ...fi_FI,\n    ...fr_FR,\n    ...it_IT,\n    ...nl_NL,\n    ...no_NO,\n    ...pt_BR,\n    ...sv_SE,\n} as const;\n","import { en_US } from '../../../translations';\nimport type { Locale, Translations, TranslationSource } from '../../../translations';\n\nexport const FALLBACK_LOCALE = 'en-US' as const;\nexport const DEFAULT_TRANSLATIONS: Translations = en_US['en_US'];\nexport const DEFAULT_DATETIME_FORMAT = { year: 'numeric', month: '2-digit', day: '2-digit' } as Intl.DateTimeFormatOptions;\nexport const EXCLUDE_PROPS = ['constructor', 'i18n', 'watch', 'preferredTranslations'] as const;\n\nexport const getLocalesFromTranslationSourcesRecord = (sources: Record<Locale, TranslationSource>) =>\n    [\n        ...new Set(\n            Object.keys(sources)\n                .map(locale => locale.replace(/_/g, '-'))\n                .sort()\n        ),\n    ] as Locale[];\n\nexport const SUPPORTED_LOCALES = [\n    'da-DK',\n    'de-DE',\n    'en-US',\n    'es-ES',\n    'fi-FI',\n    'fr-FR',\n    'it-IT',\n    'nl-NL',\n    'no-NO',\n    'pt-BR',\n    'sv-SE',\n] satisfies Locale[];\n","/**\n * Currency Codes\n */\nconst CURRENCY_CODES = {\n    AED: '.',\n    AFN: '',\n    ALL: 'L',\n    ANG: '',\n    AOA: 'Kz',\n    ARS: '$',\n    AUD: '$',\n    AWG: '',\n    AZN: '',\n    BAM: 'KM',\n    BBD: '$',\n    BDT: '',\n    BGN: '',\n    BHD: '..',\n    BIF: 'FBu',\n    BMD: '$',\n    BND: '$',\n    BOB: 'Bs.',\n    BRL: 'R$',\n    BSD: '$',\n    BTC: '',\n    BTN: 'Nu.',\n    BWP: 'P',\n    BYR: 'p.',\n    BYN: 'Br',\n    BZD: 'BZ$',\n    CAD: '$',\n    CDF: 'FC',\n    CHF: 'Fr.',\n    CLP: '$',\n    CNY: '',\n    COP: '$',\n    CRC: '',\n    CUC: '$',\n    CUP: '',\n    CVE: '$',\n    CZK: 'K',\n    DJF: 'Fdj',\n    DKK: 'kr',\n    DOP: 'RD$',\n    DZD: '',\n    EEK: 'kr',\n    EGP: '',\n    ERN: 'Nfk',\n    ETB: 'Br',\n    EUR: '',\n    FJD: '$',\n    FKP: '',\n    GBP: '',\n    GEL: '',\n    GGP: '',\n    GHC: '',\n    GHS: 'GH',\n    GIP: '',\n    GMD: 'D',\n    GNF: 'FG',\n    GTQ: 'Q',\n    GYD: '$',\n    HKD: '$',\n    HNL: 'L',\n    HRK: 'kn',\n    HTG: 'G',\n    HUF: 'Ft',\n    IDR: 'Rp',\n    ILS: '',\n    IMP: '',\n    INR: '',\n    IQD: '.',\n    IRR: '',\n    ISK: 'kr',\n    JEP: '',\n    JMD: 'J$',\n    JPY: '',\n    KES: 'KSh',\n    KGS: '',\n    KHR: '',\n    KMF: 'CF',\n    KPW: '',\n    KRW: '',\n    KYD: '$',\n    KZT: '',\n    LAK: '',\n    LBP: '',\n    LKR: '',\n    LRD: '$',\n    LSL: 'M',\n    LTL: 'Lt',\n    LVL: 'Ls',\n    MAD: 'MAD',\n    MDL: 'lei',\n    MGA: 'Ar',\n    MKD: '',\n    MMK: 'K',\n    MNT: '',\n    MOP: 'MOP$',\n    MUR: '',\n    MVR: 'Rf',\n    MWK: 'MK',\n    MXN: '$',\n    MYR: 'RM',\n    MZN: 'MT',\n    NAD: '$',\n    NGN: '',\n    NIO: 'C$',\n    NOK: 'kr',\n    NPR: '',\n    NZD: '$',\n    OMR: '',\n    PAB: 'B/.',\n    PEN: 'S/.',\n    PGK: 'K',\n    PHP: '',\n    PKR: '',\n    PLN: 'z',\n    PYG: 'Gs',\n    QAR: '',\n    RMB: '',\n    RON: 'lei',\n    RSD: '.',\n    RUB: '',\n    RWF: 'R',\n    SAR: '',\n    SBD: '$',\n    SCR: '',\n    SDG: '..',\n    SEK: 'kr',\n    SGD: '$',\n    SHP: '',\n    SLL: 'Le',\n    SOS: 'S',\n    SRD: '$',\n    SSP: '',\n    STD: 'Db',\n    SVC: '$',\n    SYP: '',\n    SZL: 'E',\n    THB: '',\n    TJS: 'SM',\n    TMT: 'T',\n    TND: '.',\n    TOP: 'T$',\n    TRL: '',\n    TRY: '',\n    TTD: 'TT$',\n    TVD: '$',\n    TWD: 'NT$',\n    TZS: 'TSh',\n    UAH: '',\n    UGX: 'USh',\n    USD: '$',\n    UYU: '$U',\n    UZS: '',\n    VEF: 'Bs',\n    VND: '',\n    VUV: 'VT',\n    WST: 'WS$',\n    XAF: 'FCFA',\n    XBT: '',\n    XCD: '$',\n    XOF: 'CFA',\n    XPF: '',\n    YER: '',\n    ZAR: 'R',\n    ZWD: 'Z$',\n};\n\nexport default CURRENCY_CODES;\n","const CURRENCY_DECIMALS = {\n    // ZERO_DECIMAL_CURRENCIES\n    IDR: 1,\n    JPY: 1,\n    KRW: 1,\n    VND: 1,\n    BYR: 1,\n    CVE: 1,\n    DJF: 1,\n    GHC: 1,\n    GNF: 1,\n    KMF: 1,\n    PYG: 1,\n    RWF: 1,\n    UGX: 1,\n    VUV: 1,\n    XAF: 1,\n    XOF: 1,\n    XPF: 1,\n\n    // ONE_DECIMAL_CURRENCIES\n    MRO: 10,\n\n    // THREE_DECIMAL_CURRENCIES\n    BHD: 1000,\n    IQD: 1000,\n    JOD: 1000,\n    KWD: 1000,\n    OMR: 1000,\n    LYD: 1000,\n    TND: 1000,\n};\n\nexport default CURRENCY_DECIMALS;\n","import CURRENCY_CODES from '../constants/currency-codes';\nimport CURRENCY_DECIMALS from '../constants/currency-decimals';\nimport { CurrencyCode, CurrencyDecimalCode } from '../types';\n\n/**\n * @internal\n * @param currencyCode -\n * Get divider amount\n */\nexport const getDivider = (currencyCode: string): number => CURRENCY_DECIMALS[currencyCode as CurrencyDecimalCode] || 100;\n\n/**\n * @internal\n * @param currencyCode -\n * Returns whether a CURRENCY CODE is valid\n */\nexport const isValidCurrencyCode = (currencyCode: string): currencyCode is CurrencyCode => !!CURRENCY_CODES[currencyCode as CurrencyCode];\n\n/**\n * @internal\n */\nexport const getCurrencyCode = (currencyCode: string): string | null => (isValidCurrencyCode(currencyCode) ? CURRENCY_CODES[currencyCode] : null);\n\n/**\n * @internal\n */\nexport const getDecimalAmount = (amount: number | string, currencyCode: string): number => {\n    const divider = getDivider(currencyCode);\n    return parseInt(String(amount), 10) / divider;\n};\n\n/**\n * @internal\n */\nexport const getLocalisedAmount = (\n    amount: number,\n    locale: string,\n    currencyCode: string,\n    hideCurrency = false,\n    options: Intl.NumberFormatOptions = {}\n): string => {\n    const stringAmount = amount.toString(); // Changing amount to string to avoid 0-value from returning false\n    const decimalAmount = getDecimalAmount(stringAmount, currencyCode);\n\n    const formatterLocale = locale.replace('_', '-');\n    const formatterOptions = {\n        style: 'currency',\n        currency: currencyCode,\n        currencyDisplay: 'symbol',\n        ...options,\n    } as const;\n\n    try {\n        return hideCurrency\n            ? formatAmountWithoutCurrency(formatterLocale, formatterOptions, decimalAmount)\n            : decimalAmount.toLocaleString(formatterLocale, formatterOptions);\n    } catch (e) {\n        return stringAmount;\n    }\n};\n\nexport const formatAmountWithoutCurrency = (locale: string, options: Intl.NumberFormatOptions, amount: number) => {\n    return Intl.NumberFormat(locale, options)\n        .formatToParts(amount)\n        .filter(p => p.type !== 'currency')\n        .reduce((s, p) => s + p.value, '')\n        .trim();\n};\n\n/**\n * @internal\n */\nexport const getLocalisedPercentage = (percent = 0, locale: string): string | null => {\n    const decimalPercent = percent / 100 / 100;\n    const localeOptions = {\n        style: 'percent',\n        maximumFractionDigits: 2,\n    } as const;\n\n    try {\n        return decimalPercent.toLocaleString(locale, localeOptions);\n    } catch (e) {\n        return null;\n    }\n};\n","import type { RestampContext } from './types';\n\nexport const REGEX_TZ_OFFSET = /GMT(?:[-+](?:0?\\d|1[0-4])(?::?[0-5]\\d)?)?$/;\n\nexport const { BASE_FORMAT_OPTIONS, BASE_LOCALE, SYSTEM_TIMEZONE, SYSTEM_TIMEZONE_FORMATTER } = (() => {\n    const BASE_LOCALE = 'en-US';\n    const DIGITS_2 = '2-digit';\n    const NUMERIC = 'numeric';\n    const SHORT = 'short';\n    const TZ_LONG = 'longOffset';\n    const FRACTIONAL_SECOND_DIGITS = 3;\n\n    const BASE_FORMAT_OPTIONS: Readonly<Intl.DateTimeFormatOptions> = Object.freeze({\n        year: NUMERIC,\n        month: SHORT,\n        day: NUMERIC,\n        hour: DIGITS_2,\n        minute: DIGITS_2,\n        second: DIGITS_2,\n        fractionalSecondDigits: FRACTIONAL_SECOND_DIGITS,\n        timeZoneName: TZ_LONG, // should not be changed  needed for the tz offsets regexp\n    });\n\n    let SYSTEM_TIMEZONE: RestampContext['TIMEZONE'];\n    let SYSTEM_TIMEZONE_FORMATTER: RestampContext['formatter'];\n\n    try {\n        SYSTEM_TIMEZONE_FORMATTER = new Intl.DateTimeFormat(BASE_LOCALE, BASE_FORMAT_OPTIONS);\n        SYSTEM_TIMEZONE = SYSTEM_TIMEZONE_FORMATTER.resolvedOptions().timeZone;\n    } catch (ex) {\n        SYSTEM_TIMEZONE = undefined;\n    }\n\n    return { BASE_FORMAT_OPTIONS, BASE_LOCALE, SYSTEM_TIMEZONE, SYSTEM_TIMEZONE_FORMATTER };\n})();\n","import { EMPTY_ARRAY, mod } from '../../../../utils';\nimport { REGEX_TZ_OFFSET, SYSTEM_TIMEZONE_FORMATTER } from './constants';\nimport type { RestampContext, Restamper, RestampResult } from './types';\n\nconst REGEX_GMT_OFFSET_UNWANTED_SUBSTRINGS = /\\+(?=-)|([+-]00:00)/g;\nconst REGEX_TZ_SINGLE_DIGIT_OFFSET = /(^\\D?)(\\d)$/;\n\nexport const computeTimezoneOffsetInMinutes = ([offsetHours, offsetMinutes]: readonly [number, number]) =>\n    (Math.abs(offsetHours * 60) + offsetMinutes) * (offsetHours < 0 ? -1 : 1);\n\nexport const computeTimezoneOffsetsFromMinutes = (timezoneOffsetInMinutes: number) =>\n    Object.freeze([\n        Math.floor(timezoneOffsetInMinutes / 60), // offset hours\n        mod(timezoneOffsetInMinutes, 60), // offset minutes\n    ] as const);\n\nexport const parseTimezoneOffset = (offset: string | number) => parseInt(offset as string, 10) || 0;\n\n/**\n * @param timezoneOffset {number} The minute offsets relative to GMT (Greenwich Mean Time).\n * @returns {string} The GMT suffixed string for the specified offsets in the format GMT(+|-)[HH]:[MM], or just GMT (if [HH]:[MM] is 00:00).\n */\nexport const getGMTSuffixForTimezoneOffset = (timezoneOffset: RestampResult['offset']): string => {\n    const offsets = computeTimezoneOffsetsFromMinutes(timezoneOffset);\n    const offsetString = offsets.map(offset => `${offset}`.replace(REGEX_TZ_SINGLE_DIGIT_OFFSET, '$10$2')).join(':');\n    return `GMT+${offsetString}`.replace(REGEX_GMT_OFFSET_UNWANTED_SUBSTRINGS, '');\n};\n\n/**\n * @param timezoneOffset {number} The minute offsets of the timezone relative to GMT (Greenwich Mean Time).\n * @param timezoneOffsetRelativeToSystem {number} The minute offsets of the timezone relative to the system timezone.\n * @returns {string} The system timezone GMT suffixed string in the format GMT(+|-)[HH]:[MM], or just GMT (if [HH]:[MM] is 00:00).\n */\nexport const getSystemTimezoneGMTSuffixFromTimezoneOffsets = (\n    timezoneOffset: RestampResult['offset'],\n    timezoneOffsetRelativeToSystem: RestampResult['offset']\n): string => getGMTSuffixForTimezoneOffset(timezoneOffset - timezoneOffsetRelativeToSystem);\n\nexport const getTimezoneOffsetFromFormattedDateString = (date?: string): number => {\n    const offsets = date?.match(REGEX_TZ_OFFSET)?.[0].replace('GMT', '').split(':', 2).map(parseTimezoneOffset) ?? (EMPTY_ARRAY as readonly number[]);\n    return computeTimezoneOffsetInMinutes(offsets.concat(0, 0).slice(0, 2) as [number, number]);\n};\n\nexport const getTimezoneOffsetForTimestamp = (timestamp: number, timezoneFormatter: RestampContext['formatter'] = SYSTEM_TIMEZONE_FORMATTER) => {\n    const date = new Date(timestamp);\n    const systemOffset = getTimezoneOffsetFromFormattedDateString(SYSTEM_TIMEZONE_FORMATTER?.format(date));\n    const timezoneOffset = getTimezoneOffsetFromFormattedDateString(timezoneFormatter?.format(date));\n    return timezoneOffset - systemOffset;\n};\n\nconst restamp = <R extends Restamper = Restamper>(restamper: R, time: Parameters<R>[0], direction: -1 | 1 = 1) => {\n    const { offset, timestamp } = restamper(time);\n    return timestamp - offset * direction * 60000;\n};\n\nexport const systemToTimezone = <R extends Restamper = Restamper>(restamper: R, time: Parameters<R>[0]) => restamp(restamper, time, 1);\nexport const timezoneToSystem = <R extends Restamper = Restamper>(restamper: R, time: Parameters<R>[0]) => restamp(restamper, time, -1);\n","import { isNullish, isUndefined, struct } from '../../../../utils';\nimport { BASE_FORMAT_OPTIONS, BASE_LOCALE, SYSTEM_TIMEZONE, SYSTEM_TIMEZONE_FORMATTER } from './constants';\nimport type { RestampContext, RestamperWithTimezone, RestampResult } from './types';\nimport { getTimezoneOffsetForTimestamp } from './utils';\n\nconst restamper = (() => {\n    let getTimeZone: (this: RestampContext) => RestampContext['TIMEZONE'];\n    let setTimeZone: (this: RestampContext, timezone?: RestampContext['TIMEZONE'] | null) => void;\n\n    if (!isUndefined(SYSTEM_TIMEZONE)) {\n        getTimeZone = function () {\n            return this.TIMEZONE;\n        };\n\n        setTimeZone = function (timeZone) {\n            if (!isNullish(timeZone)) {\n                try {\n                    const nextFormatter = new Intl.DateTimeFormat(BASE_LOCALE, { ...BASE_FORMAT_OPTIONS, timeZone });\n                    const nextTimeZone = nextFormatter.resolvedOptions().timeZone;\n\n                    if (this.TIMEZONE === nextTimeZone) return;\n\n                    this.TIMEZONE = nextTimeZone;\n                    this.formatter = nextFormatter;\n                } catch (ex) {\n                    // Silently ignore invalid timezone updates\n                    if (import.meta.env.DEV) console.error(ex);\n                }\n            } else {\n                this.TIMEZONE = SYSTEM_TIMEZONE;\n                this.formatter = SYSTEM_TIMEZONE_FORMATTER;\n            }\n        };\n    }\n\n    function restamp(this: RestampContext, ...args: [(string | number | Date)?]): RestampResult {\n        if (args.length === 0) return restamp.call(this, Date.now());\n\n        const time = args[0];\n        const timestamp = new Date(time as NonNullable<typeof time>).getTime();\n        const formatter = this.formatter ?? SYSTEM_TIMEZONE_FORMATTER;\n\n        return Object.freeze({\n            formatted: formatter?.format(new Date(timestamp)),\n            offset: getTimezoneOffsetForTimestamp(timestamp, formatter),\n            timestamp,\n        } as const);\n    }\n\n    return () => {\n        const context = { TIMEZONE: SYSTEM_TIMEZONE } as RestampContext;\n        const set = setTimeZone?.bind(context);\n\n        const tz = struct({\n            current: { get: getTimeZone?.bind(context), set },\n            system: { value: SYSTEM_TIMEZONE },\n        });\n\n        return Object.defineProperties(restamp.bind(context) as RestamperWithTimezone, {\n            tz: { get: () => tz, set },\n        });\n    };\n})();\n\nexport default restamper;\n","import { JSX } from 'preact';\nimport { DEFAULT_TRANSLATIONS, FALLBACK_LOCALE, SUPPORTED_LOCALES } from './constants/localization';\nimport { asPlainObject, EMPTY_OBJECT, hasOwnProperty, isFunction } from '../../utils';\nimport type { CustomTranslations, Locale, TranslationOptions, Translations } from '../../translations';\nimport { SupportedLocales } from './types';\n\nconst DEFAULT_TRANSLATION_OPTIONS: TranslationOptions = { values: EMPTY_OBJECT, count: 0 } as const;\nconst LOCALE_FORMAT_REGEX = /^[a-z]{2}-[A-Z]{2}$/;\n\n/**\n * Convert to ISO 639-1\n */\nexport const toTwoLetterCode = (locale: string) => locale.substring(0, 2).toLowerCase();\n\n/**\n * Matches a string with one of the locales\n * @param locale -\n * @param supportedLocales -\n\n * @example\n * matchLocale('en-GB');\n * // 'en-US'\n */\nexport function matchLocale(locale: string, supportedLocales: Locale[]): Locale | null {\n    if (!locale) return null;\n    const twoLetterCode = toTwoLetterCode(locale);\n    return supportedLocales.find(supportedLocale => toTwoLetterCode(supportedLocale) === twoLetterCode) || null;\n}\n\n/**\n * Returns a locale with the proper format\n * @param locale -\n *\n * @example\n * formatLocale('En_us');\n * // 'en-US'\n */\nexport function formatLocale(locale: string): Locale | null {\n    const localeString = locale.replace('_', '-');\n\n    // If it's already formatted, return the locale\n    if (LOCALE_FORMAT_REGEX.test(localeString)) return localeString as Locale;\n\n    // Split the string in two\n    const [languageCode, countryCode] = localeString.split('-');\n\n    // If the locale or the country codes are missing, return null\n    if (!languageCode || !countryCode) return null;\n\n    // Ensure correct format and join the strings back together\n    const fullLocale = `${languageCode.toLowerCase()}-${countryCode.toUpperCase()}` as Locale;\n\n    return fullLocale.length === 5 ? fullLocale : null;\n}\n\n/**\n * Checks the locale format.\n * Also checks if it's on the locales array.\n * If it is not, tries to match it with one.\n * @param locale -\n * @param supportedLocales -\n */\nexport function parseLocale(locale: string, supportedLocales: Locale[]): Locale | null {\n    const trimmedLocale = locale.trim();\n    if (!trimmedLocale || trimmedLocale.length < 1 || trimmedLocale.length > 5) return FALLBACK_LOCALE;\n\n    const formattedLocale = formatLocale(trimmedLocale);\n\n    if (formattedLocale && supportedLocales.includes(formattedLocale)) return formattedLocale;\n\n    return matchLocale(formattedLocale ?? trimmedLocale, supportedLocales);\n}\n\n/**\n * Formats the locales inside the customTranslations object against the supportedLocales\n * @param customTranslations -\n * @param supportedLocales -\n */\nexport function formatCustomTranslations(customTranslations: CustomTranslations = EMPTY_OBJECT, supportedLocales: Locale[]): CustomTranslations {\n    if (customTranslations === EMPTY_OBJECT) return customTranslations;\n\n    return (Object.keys(customTranslations) as Extract<keyof CustomTranslations, string>[]).reduce((translations, locale) => {\n        const formattedLocale = formatLocale(locale) || parseLocale(locale, supportedLocales);\n\n        if (formattedLocale && customTranslations[locale]) {\n            translations[formattedLocale] = customTranslations[locale]!;\n        }\n        return translations;\n    }, {} as CustomTranslations);\n}\n\nconst replaceTranslationValues = (translation: string, values?: TranslationOptions['values']) => {\n    if (isFunction(values)) {\n        const repetitions = new Map<string, number>();\n        let placeholderIndex = -1;\n\n        return translation.replace(/%{(\\w+)}/g, (_, placeholder) => {\n            let repetitionIndex = repetitions.get(placeholder) ?? -1;\n            const replacementValue = values(placeholder, ++placeholderIndex, ++repetitionIndex) ?? '';\n            repetitions.set(placeholder, repetitionIndex);\n            return replacementValue;\n        });\n    }\n\n    return translation.replace(/%{(\\w+)}/g, (_, placeholder) => values?.[placeholder] ?? '');\n};\n\n/**\n * Returns a translation string by key\n * @param translations -\n * @param key -\n * @param options -\n *\n * @internal\n */\nexport const getTranslation = (translations: Record<string, string>, key: string, options = DEFAULT_TRANSLATION_OPTIONS): string | null => {\n    const count = options.count ?? 0;\n    const countKey = `${key}__${count}`;\n\n    // Find {key}__{count} translation key\n    if (hasOwnProperty(translations, countKey) && translations[countKey]) {\n        return replaceTranslationValues(translations[countKey] as string, options.values);\n    }\n\n    const pluralKey = `${key}__plural`;\n\n    // Find {key}__plural translation key, if `count` greater than 1 (e.g. myTranslation__plural)\n    if (hasOwnProperty(translations, pluralKey) && count > 1 && translations[pluralKey]) {\n        return replaceTranslationValues(translations[pluralKey] as string, options.values);\n    }\n\n    // Find {key} translation key (e.g. myTranslation)\n    if (hasOwnProperty(translations, key) && translations[key]) {\n        return replaceTranslationValues(translations[key] as string, options.values);\n    }\n\n    return null;\n};\n\n/**\n * Returns an array with all the locales\n * @param locale - The locale the user wants to use\n * @param fetchTranslationFromCdnPromise -\n * @param customTranslations -\n */\nexport const loadTranslations = async (\n    locale: string,\n    fetchTranslationFromCdnPromise: (locale: SupportedLocales) => Promise<any>,\n    customTranslations: CustomTranslations = EMPTY_OBJECT\n): Promise<Translations> => {\n    // Match locale to one of our available locales (e.g. es-AR => es-ES)\n    const localeToLoad = parseLocale(locale, SUPPORTED_LOCALES) || FALLBACK_LOCALE;\n\n    const loadedLocale = fetchTranslationFromCdnPromise(localeToLoad as SupportedLocales);\n\n    return {\n        ...DEFAULT_TRANSLATIONS, // Default en-US translations (in case any other translation file is missing any key)\n        ...((await loadedLocale) ?? EMPTY_OBJECT), // Merge with our locale file of the locale they are loading\n        ...asPlainObject(customTranslations?.[locale]), // Merge with their custom locales if available\n    };\n};\n\n/**\n * Injects JSX elements in a middle of a translation and returns a JSX array\n * The input string should use %# as the token to know where to insert the component\n * @param translation - Translation string\n * @param renderFunctions - An array function that renders JSX elements\n */\nexport const interpolateElement = (translation: string, renderFunctions: Array<(translation: string) => JSX.Element>) => {\n    // splits by regex group, it guarantees that it only splits with 2 tokens (%#)\n    const matches = translation.split(/%#(.*?)%#/gm);\n    // the map will create an array of JSX / string elements, this syntax in accepted in JSX/react to render elements\n    return matches.map((term, index) => {\n        // math to get the index of the renderFunction that should be used\n        // since we split on tokens, that means the index of the render function is half of the index of the string\n        const indexInFunctionArray = Math.floor(index / 2);\n        return index % 2 === 0 ? term : renderFunctions[indexInFunctionArray]?.(term);\n    });\n};\n","import Localization from './Localization';\nimport { isFunction, struct } from '../../utils';\nimport { formatLocale, loadTranslations, parseLocale } from './utils';\nimport { EXCLUDE_PROPS, FALLBACK_LOCALE } from './constants/localization';\nimport type { CustomTranslations, Locale } from '../../translations';\nimport { SupportedLocales } from './types';\n\nexport function createTranslationsLoader(this: Localization) {\n    type TranslationsLoader = {\n        load: (\n            fetchTranslationFromCdnPromise: (locale: SupportedLocales) => Promise<any>,\n            customTranslations?: CustomTranslations\n        ) => ReturnType<typeof loadTranslations>;\n        get locale(): Locale;\n        set locale(locale: string);\n        supportedLocales: Locale[];\n    };\n\n    let _locale = this.locale;\n    let _preferredLocale: string = _locale;\n    let _supportedLocales: TranslationsLoader['supportedLocales'] = [...this.supportedLocales];\n\n    return struct<TranslationsLoader>({\n        load: {\n            value: (fetchTranslationFromCdnPromise: (locale: SupportedLocales) => Promise<any>, customTranslations?: CustomTranslations) =>\n                loadTranslations(_locale, fetchTranslationFromCdnPromise, customTranslations),\n        },\n        locale: {\n            get: () => _locale,\n            set: (locale: string) => {\n                _preferredLocale = locale;\n                _locale = formatLocale(locale) || parseLocale(locale, _supportedLocales) || FALLBACK_LOCALE;\n            },\n        },\n        supportedLocales: {\n            get: () => _supportedLocales,\n            set(this: TranslationsLoader, supportedLocales: Locale[]) {\n                _supportedLocales = supportedLocales;\n                this.locale = _preferredLocale;\n            },\n        },\n    });\n}\n\nexport function getLocalizationProxyDescriptors(this: Localization) {\n    const descriptors = {} as any;\n\n    for (const [prop, descriptor] of Object.entries(Object.getOwnPropertyDescriptors(Localization.prototype))) {\n        if (EXCLUDE_PROPS.includes(prop as (typeof EXCLUDE_PROPS)[number])) continue;\n\n        if (isFunction(descriptor.get)) {\n            descriptors[prop] = {\n                get: descriptor.get.bind(this),\n                ...(prop === 'timezone' && { set: descriptor.set?.bind(this) }),\n            };\n        } else if (isFunction(descriptor.value)) {\n            descriptors[prop] = { value: descriptor.value.bind(this) };\n        } else {\n            descriptors[prop] = { get: () => this[prop as keyof Localization] };\n        }\n    }\n\n    return descriptors as { [K in keyof Localization['i18n']]: PropertyDescriptor };\n}\n","import {\n    DEFAULT_DATETIME_FORMAT,\n    DEFAULT_TRANSLATIONS,\n    EXCLUDE_PROPS,\n    FALLBACK_LOCALE,\n    getLocalesFromTranslationSourcesRecord,\n    SUPPORTED_LOCALES,\n} from './constants/localization';\nimport type {\n    CustomTranslations,\n    Locale,\n    TranslationKey,\n    TranslationOptions,\n    Translations,\n    TranslationSource,\n    TranslationSourceRecord,\n} from '../../translations';\nimport { en_US } from '../../translations';\nimport { getLocalisedAmount } from './amount/amount-util';\nimport restamper, { RestamperWithTimezone } from './datetime/restamper';\nimport { createTranslationsLoader, getLocalizationProxyDescriptors } from './localization-utils';\nimport { formatCustomTranslations, getTranslation, toTwoLetterCode } from './utils';\nimport { createWatchlist } from '../../primitives/reactive/watchlist';\nimport { ALREADY_RESOLVED_PROMISE, isNull, isNullish, isUndefined, noop, struct } from '../../utils';\nimport { httpGet } from '../Http/http';\nimport { SupportedLocales } from './types';\nimport { translations_dev_assets } from '../../translations/local';\nimport localSwapConfig from '../../config/translations/swapConfig.json';\n\nexport default class Localization {\n    #locale: Locale = FALLBACK_LOCALE;\n    #languageCode: string = toTwoLetterCode(this.#locale);\n    #availableLocales: Readonly<Locale[]> = [FALLBACK_LOCALE] as const;\n    #supportedLocales: Readonly<Locale[]> = this.#availableLocales;\n\n    #customTranslations?: CustomTranslations;\n    #translations: Translations = DEFAULT_TRANSLATIONS;\n    #translationsLoader = createTranslationsLoader.call(this);\n    readonly #fetchTranslationFromCdnPromise: (locale: SupportedLocales) => Promise<any>;\n\n    #ready: Promise<void> = ALREADY_RESOLVED_PROMISE;\n    #currentRefresh?: Promise<void>;\n    #markRefreshAsDone?: () => void;\n    #refreshWatchlist = createWatchlist({ timestamp: () => performance.now() });\n    #restamp: RestamperWithTimezone = restamper();\n    #keySwapConfig: Record<string, string | string[]> = localSwapConfig;\n    #warnedDeprecatedKeys = new Set<string>();\n\n    private watch = this.#refreshWatchlist.subscribe.bind(undefined);\n    public i18n: Omit<Localization, (typeof EXCLUDE_PROPS)[number]> = struct(getLocalizationProxyDescriptors.call(this));\n    public preferredTranslations?: Readonly<{ [k: Locale]: TranslationSource }>;\n\n    constructor(locale: string = FALLBACK_LOCALE, availableTranslations?: TranslationSourceRecord[], cdnTranslationsUrl = '', cdnConfigUrl = '') {\n        this.watch(noop);\n\n        this.#fetchTranslationFromCdnPromise = (locale: string) =>\n            process.env.VITE_LOCAL_ASSETS\n                ? translations_dev_assets[locale]!\n                : httpGet<any>({\n                      loadingContext: cdnTranslationsUrl,\n                      path: `/${locale}.json`,\n                      versionless: true,\n                      skipContentType: true,\n                      errorLevel: 'info',\n                  });\n\n        this.preferredTranslations = Object.freeze(\n            availableTranslations?.reduce((records, curr) => ({ ...records, ...curr }), en_US) ?? { ...en_US }\n        );\n\n        this.#availableLocales = getLocalesFromTranslationSourcesRecord(this.preferredTranslations);\n        this.locale = locale;\n\n        // Load swap config\n        (async () => {\n            // If no CDN config URL provided, use local fallback\n            if (!cdnConfigUrl || process.env.VITE_LOCAL_ASSETS) {\n                return localSwapConfig;\n            }\n\n            try {\n                return await httpGet<Record<string, string | string[]>>({\n                    loadingContext: cdnConfigUrl,\n                    path: '/translations/swapConfig.json',\n                    versionless: true,\n                    skipContentType: true,\n                    errorLevel: 'error',\n                });\n            } catch (error) {\n                console.warn('Failed to load swapConfig from CDN, using local fallback', error);\n                return localSwapConfig;\n            }\n        })().then(config => (this.#keySwapConfig = config));\n    }\n\n    get customTranslations(): CustomTranslations {\n        return this.#customTranslations ?? ({} as CustomTranslations);\n    }\n\n    set customTranslations(customTranslations: CustomTranslations | undefined | null) {\n        let translations: CustomTranslations | undefined = undefined;\n        let supportedLocales: Locale[] = [...this.#availableLocales];\n\n        if (!isNullish(customTranslations)) {\n            translations = formatCustomTranslations(customTranslations, SUPPORTED_LOCALES);\n            const localesFromCustomTranslations = Object.keys(translations) as Locale[];\n\n            // default locales + validated custom locales\n            supportedLocales = [...supportedLocales, ...localesFromCustomTranslations]\n                .sort()\n                .filter((locale, index, locales) => locales.indexOf(locale) === index);\n        }\n\n        this.#translationsLoader.supportedLocales = supportedLocales;\n        this.#refreshTranslations(translations);\n    }\n\n    get languageCode() {\n        return this.#languageCode;\n    }\n\n    get lastRefreshTimestamp() {\n        return this.#refreshWatchlist.snapshot.timestamp;\n    }\n\n    get locale(): Locale {\n        return this.#locale;\n    }\n\n    set locale(locale: string | undefined | null) {\n        if (!isNullish(locale)) {\n            this.#translationsLoader.locale = locale;\n            if (this.#locale === this.#translationsLoader.locale) return;\n            this.#refreshTranslations(this.#customTranslations);\n        } else this.locale = FALLBACK_LOCALE;\n    }\n\n    get ready(): Promise<void> {\n        return this.#ready;\n    }\n\n    get supportedLocales(): Readonly<Locale[]> {\n        return this.#supportedLocales;\n    }\n\n    get timezone(): RestamperWithTimezone['tz']['current'] {\n        return this.#restamp.tz.current;\n    }\n\n    set timezone(timezone: string | undefined | null) {\n        this.#restamp.tz = timezone;\n    }\n\n    #refreshTranslations(customTranslations?: CustomTranslations) {\n        if (isUndefined(this.#markRefreshAsDone)) {\n            this.#ready = new Promise<void>(resolve => {\n                this.#markRefreshAsDone = () => {\n                    resolve(this.#currentRefresh);\n                    this.#currentRefresh = this.#markRefreshAsDone = undefined;\n                };\n            });\n        }\n\n        const currentRefreshDone = () => {\n            if (this.#currentRefresh === currentRefresh) this.#markRefreshAsDone?.();\n        };\n\n        const currentRefresh = (this.#currentRefresh = (async () => {\n            this.#translations = await this.#translationsLoader.load(this.#fetchTranslationFromCdnPromise, customTranslations);\n            this.#locale = this.#translationsLoader.locale;\n            this.#supportedLocales = Object.freeze(this.#translationsLoader.supportedLocales);\n            this.#customTranslations = customTranslations;\n            this.#languageCode = toTwoLetterCode(this.#locale);\n            this.#refreshWatchlist.requestNotification();\n        })());\n\n        currentRefresh.then(currentRefreshDone).catch(reason => {\n            currentRefreshDone();\n            // handle current refresh promise rejection\n            // throw reason;\n            console.error(reason);\n        });\n    }\n\n    /**\n     * Returns a translated string from a key in the current {@link Localization.locale}\n     * @param key - Translation key\n     * @param options - Translation options\n     * @returns Translated string\n     */\n    get(key: TranslationKey, options?: TranslationOptions): string {\n        // Check if there's a mapped old key in swapConfig and if user provided custom translation with old key\n        if (this.#customTranslations) {\n            const oldKey = this.#keySwapConfig[key];\n\n            // Only process if oldKey is a string (skip arrays for now, they represent multi-key mappings that we will treat as new keys)\n            // Also skip if oldKey is the same as the new key (1:1 mappings)\n            if (oldKey && typeof oldKey === 'string' && oldKey !== key) {\n                const translationForOldKey = getTranslation(this.#translations, oldKey, options);\n\n                if (!isNull(translationForOldKey)) {\n                    // Warn about deprecated key usage (only once per key)\n                    if (!this.#warnedDeprecatedKeys.has(oldKey)) {\n                        console.warn(\n                            `[Adyen Platform Experience Web] Deprecated translation key detected: \"${oldKey}\". ` +\n                                `Please update to use the new key: \"${key}\". ` +\n                                `This backward compatibility will be removed in a future version.`\n                        );\n                        this.#warnedDeprecatedKeys.add(oldKey);\n                    }\n\n                    return translationForOldKey;\n                }\n            }\n        }\n\n        // Get translation normally (this includes custom translations with new key + default translations)\n        const translation = getTranslation(this.#translations, key, options);\n        return isNull(translation) ? key : translation;\n    }\n\n    /**\n     * Returns a boolean that checks if the translation key exists in the current {@link Localization.locale}\n     * @param key - Translation key\n     * @param options - Translation options\n     * @returns boolean\n     */\n    has(key: string, options?: TranslationOptions): key is TranslationKey {\n        const translation = getTranslation(this.#translations, key, options);\n        return !!translation;\n    }\n\n    /**\n     * Returns a localized string for an amount\n     * @param amount - Amount to be converted\n     * @param currencyCode - Currency code of the amount\n     * @param options - Options for String.prototype.toLocaleString\n     */\n    amount(amount: number, currencyCode: string, options?: Record<string, any>): string {\n        const { hideCurrency, ...restOfOptions } = options || {};\n        const localisedAmount = getLocalisedAmount(amount, this.#locale, currencyCode, hideCurrency, {\n            ...restOfOptions,\n            currencyDisplay: 'symbol',\n            signDisplay: 'never',\n        });\n\n        return amount < 0 ? `- ${localisedAmount}` : localisedAmount;\n    }\n\n    /**\n     * Returns a localized string for a date\n     * @param date - Date to be localized\n     * @param options - Options for {@link Date.toLocaleDateString}\n     */\n    date(date: number | string | Date, options: Intl.DateTimeFormatOptions = {}) {\n        const dateOptions = { ...DEFAULT_DATETIME_FORMAT, timeZone: this.#restamp.tz.current, ...options };\n        return new Date(date).toLocaleDateString(this.#locale, dateOptions);\n    }\n\n    /**\n     * Returns a localized string for a full date\n     * @param date - Date to be localized\n     */\n    fullDate(date: number | string | Date) {\n        return this.date(date, {\n            month: 'short',\n            hour: '2-digit',\n            minute: '2-digit',\n            second: '2-digit',\n            hour12: false,\n        });\n    }\n}\n","export interface AssetOptions {\n    mainFolder?: string;\n    extension?: string;\n    name?: string;\n    subFolder?: string;\n    type?: string;\n}\n\nconst getLocalAsset = ({ name, extension, subFolder, mainFolder }: AssetOptions) => {\n    const path = `${mainFolder ? `${mainFolder}/` : ''}${subFolder ? `${subFolder}/` : ''}${name}${extension ? `.${extension}` : ''}`;\n    return `src/assets/${path}`.replace(/\\/+/, '/');\n};\n\nexport class Assets {\n    private readonly resourceContext: string;\n\n    constructor(cdnContext: string) {\n        this.resourceContext = cdnContext;\n    }\n\n    private returnAsset = ({ name, resourceUrl, mainFolder, extension, subFolder }: AssetOptions & { resourceUrl: string }): string =>\n        `${resourceUrl}/${mainFolder ? `${mainFolder}/` : ''}${subFolder ? `${subFolder}/` : ''}${name}${extension ? `.${extension}` : ''}`;\n\n    private getAssetUrl = (props: AssetOptions): string => {\n        return process.env.VITE_LOCAL_ASSETS ? getLocalAsset({ ...props }) : this.returnAsset({ resourceUrl: this.resourceContext, ...props });\n    };\n\n    public getAsset(defaultProps: AssetOptions = {}) {\n        return (props: AssetOptions) => this.getAssetUrl({ ...defaultProps, ...props });\n    }\n}\n","import Localization from '../../Localization';\nimport currentTranslations from '../../../assets/translations/en-US.json';\nimport { SUPPORTED_LOCALES } from '../../Localization/constants/localization';\nimport { encodeAnalyticsEvent } from './utils';\n\nexport const oldTranslationKeys = new Set([\n    'account',\n    'accountBalance',\n    'accountDescription',\n    'accountID',\n    'additions',\n    'adjustments',\n    'amount',\n    'and',\n    'apply',\n    'back',\n    'balanceAccount',\n    'balanceAccountId',\n    'balanceAccounts.all',\n    'Booked',\n    'button.clearAll',\n    'calendar.controls',\n    'calendar.nextMonth',\n    'calendar.previousMonth',\n    'calendar.timezone',\n    'capital.accountIsInactive',\n    'capital.actionNeeded',\n    'capital.annualPercentageRate',\n    'capital.annualPercentageRateIsTheCostOfBorrowingForALoan',\n    'capital.bankAccountDetails',\n    'capital.bankAccountIban',\n    'capital.bankAccountNumber',\n    'capital.bankCountryOrRegion',\n    'capital.bankRoutingNumber',\n    'capital.bankSortCode',\n    'capital.businessFinancing',\n    'capital.businessFinancingOffer',\n    'capital.businessFinancingSummary',\n    'capital.closed',\n    'capital.couldNotContinueWithTheOffer',\n    'capital.couldNotLoadFinancialOffers',\n    'capital.dailyRepaymentRate',\n    'capital.daysAndDaysLeft',\n    'capital.expectedRepaymentPeriod',\n    'capital.failed',\n    'capital.fees',\n    'capital.fullyRepaid',\n    'capital.goToTermsAndConditions',\n    'capital.grantID',\n    'capital.howMuchMoneyDoYouNeed',\n    'capital.inProgress',\n    'capital.legalSubtitleAU',\n    'capital.legalSubtitleCA',\n    'capital.legalSubtitleEU',\n    'capital.legalSubtitleGB',\n    'capital.legalSubtitleUS',\n    'capital.maximumRepaymentPeriod',\n    'capital.minimumRepaymentToRepayTheFinancingOnTime',\n    'capital.needSomeExtraMoney',\n    'capital.offerLegalNoticeDescriptionUS',\n    'capital.offerLegalNoticeTitleUS',\n    'capital.oneMonth',\n    'capital.pending',\n    'capital.primaryAccount',\n    'capital.remaining',\n    'capital.remainingAmount',\n    'capital.remainingFees',\n    'capital.repaid',\n    'capital.repaidAmount',\n    'capital.repaidFees',\n    'capital.repaymentBalanceInfo',\n    'capital.repaymentThreshold',\n    'capital.requestedFunds',\n    'capital.requestFunds',\n    'capital.requesting',\n    'capital.reviewOffer',\n    'capital.revoked',\n    'capital.seeNewOffer',\n    'capital.seeOptions',\n    'capital.sendRepayment',\n    'capital.sendRepaymentNotice',\n    'capital.sendRepaymentSubtitle',\n    'capital.signTermsAndConditionsToReceiveFunds',\n    'capital.signTheTermsToReceiveYourFunds',\n    'capital.submitInformation',\n    'capital.termEnds',\n    'capital.thereIsNoPrimaryAccountConfigured',\n    'capital.thisOfferExpiresOn',\n    'capital.totalFees',\n    'capital.totalRepaymentAmount',\n    'capital.unsupportedRegionDescription',\n    'capital.unsupportedRegionTitle',\n    'capital.weCouldNotContinueWithTheOffer',\n    'capital.weCouldNotContinueWithTheOfferContactSupportForHelp',\n    'capital.weCouldNotLoadFinancialOffers',\n    'capital.weCouldNotProcessThisRequestTryAgain',\n    'capital.weNeedABitMoreInformationToProcessYourFundsPleaseCompleteTheseActions',\n    'capital.weNeedABitMoreInformationToProcessYourFundsPleaseCompleteThisAction',\n    'capital.weNeedABitMoreInformationToProcessYourFundsPleaseCompleteThisActionBy',\n    'capital.weReceivedYourRequestAndWeAreWorkingOnItNowCheckBackSoon',\n    'capital.writtenOff',\n    'capital.xDays',\n    'capital.xMonths',\n    'capital.xPercent',\n    'capital.youAcceptedButThenReturnedTheseFunds',\n    'capital.youAcceptedTheseFundsButDidNotRepayThem',\n    'capital.youAreRequestingFundingOf',\n    'capital.youHaveBeenPrequalifiedForBusinessFinancingUpToX.part1',\n    'capital.youHaveBeenPrequalifiedForBusinessFinancingUpToX.part2',\n    'capital.yourRequestedFundsWere',\n    'capital.youShouldGetTheFundsWithinOneBusinessDay',\n    'capital.youWillNeedToRepayAMinimumOfXEveryXDaysToPayOffTheFunds',\n    'capital.youWillSoonQualifyForAFinancialOffer',\n    'capture',\n    'category',\n    'chargeback',\n    'closeIconLabel',\n    'contactSupport',\n    'contactSupportForHelp',\n    'contactSupportForHelpAndShareErrorCode',\n    'copied',\n    'copy',\n    'correction',\n    'currency',\n    'date',\n    'dateRange',\n    'default',\n    'description',\n    'dismiss',\n    'disputes.accept',\n    'disputes.accept.accepted',\n    'disputes.accept.chargeback',\n    'disputes.accept.disputeAccepted',\n    'disputes.accept.disputeDisclaimer',\n    'disputes.accept.iAgree',\n    'disputes.accept.requestForInformation',\n    'disputes.accept.requestForInformationAccepted',\n    'disputes.accept.requestForInformationDisclaimer',\n    'disputes.acceptedOn',\n    'disputes.account',\n    'disputes.alert.autoDefended',\n    'disputes.alert.notDefendable',\n    'disputes.alert.notDefendedExpired',\n    'disputes.alert.notDefendedLost',\n    'disputes.alert.responseDeadline',\n    'disputes.contactSupport.toDefendDispute',\n    'disputes.contactSupport.toDefendRequestForInformation',\n    'disputes.contactSupport.toResolveNotificationOfFraud',\n    'disputes.currency',\n    'disputes.defend.chargeback',\n    'disputes.defend.chargebackFeeInformation',\n    'disputes.defend.continue',\n    'disputes.defend.defended',\n    'disputes.defend.evidenceSubmitted',\n    'disputes.defend.selectDefenseReason',\n    'disputes.defend.somethingWentWrong',\n    'disputes.defend.submit',\n    'disputes.defend.submitSuccessfulInformation',\n    'disputes.defend.uploadDocumentsInformation',\n    'disputes.defendedOn',\n    'disputes.defenseDocument.acquirerRepresentmentForm',\n    'disputes.defenseDocument.acquirerRepresentmentFormAutomaticallyGenerated',\n    'disputes.defenseDocument.acquirerRetrievalFulfilmentForm',\n    'disputes.defenseDocument.acquirerRetrievalFulfilmentFormAutomaticallyGenerated',\n    'disputes.defenseDocument.additionalInformation',\n    'disputes.defenseDocument.additionalTransactions',\n    'disputes.defenseDocument.additionalTransactionsConnectedWithDisputedFlight',\n    'disputes.defenseDocument.alternativeDefenseMaterial',\n    'disputes.defenseDocument.amexFaxCover',\n    'disputes.defenseDocument.appropriateExplanation',\n    'disputes.defenseDocument.appropriateExplanationAndDocTwoSeparateTransactions',\n    'disputes.defenseDocument.authorizationNotObtained',\n    'disputes.defenseDocument.authorizationNotObtainedHelp',\n    'disputes.defenseDocument.autoGeneratedDocRetrievalRequestFulfilled',\n    'disputes.defenseDocument.automaticallyGeneratedTransactionDetails',\n    'disputes.defenseDocument.avsDocumentation',\n    'disputes.defenseDocument.cancelledRecurringBilling',\n    'disputes.defenseDocument.cardholderAgreedToAmountRange',\n    'disputes.defenseDocument.cardholderResponsibleForAddendumTransaction',\n    'disputes.defenseDocument.cardholderResponsibleForDisputedAmount',\n    'disputes.defenseDocument.cardRecoveryBulletinOrExceptionFile',\n    'disputes.defenseDocument.cardRecoveryBulletinOrExceptionFileHelp',\n    'disputes.defenseDocument.chargebackRemediedOrInvalid',\n    'disputes.defenseDocument.chargeToWrongAccountNumber',\n    'disputes.defenseDocument.chargeToWrongAccountNumberHelp',\n    'disputes.defenseDocument.clearingText',\n    'disputes.defenseDocument.compellingEvidence',\n    'disputes.defenseDocument.copyOfInvoice',\n    'disputes.defenseDocument.copyOfInvoiceOrOtherRelevantTransactionDetails',\n    'disputes.defenseDocument.CopyOfSalesDraftDetails',\n    'disputes.defenseDocument.CopyOfSalesDraftTitle',\n    'disputes.defenseDocument.copyOfTid',\n    'disputes.defenseDocument.coverPageForAmexDisputes',\n    'disputes.defenseDocument.creditNotProcessed',\n    'disputes.defenseDocument.creditNotProcessedHelp',\n    'disputes.defenseDocument.creditNotProcessedReason',\n    'disputes.defenseDocument.creditsOfMilesShowingConnectionToCardholder',\n    'disputes.defenseDocument.customerWrittenConfirmation',\n    'disputes.defenseDocument.defenseMaterial',\n    'disputes.defenseDocument.deffectiveMerchandise',\n    'disputes.defenseDocument.deffectiveMerchandiseHelp',\n    'disputes.defenseDocument.deliveryOfFlightTicketAtAddress',\n    'disputes.defenseDocument.descriptionOfDisputeReason',\n    'disputes.defenseDocument.descriptionOfMerchandiseOrServices',\n    'disputes.defenseDocument.differentSignature',\n    'disputes.defenseDocument.differentSignatureHelp',\n    'disputes.defenseDocument.disclosureAtPointOfInteraction',\n    'disputes.defenseDocument.docAllOfFollowing',\n    'disputes.defenseDocument.docCardholderIssuedPaperAirlineTickets',\n    'disputes.defenseDocument.docChargebackCodeNotApplicable',\n    'disputes.defenseDocument.docCorrectCurrency',\n    'disputes.defenseDocument.docIdentifyTransaction',\n    'disputes.defenseDocument.docMerchandiseNotCounterfeit',\n    'disputes.defenseDocument.docProvingCardHolderParticipated',\n    'disputes.defenseDocument.docRemediesChargeback',\n    'disputes.defenseDocument.docsTwoTransactionsWithSameShopper',\n    'disputes.defenseDocument.docTermsOfSaleNotMisrepresented',\n    'disputes.defenseDocument.docTransactionOccurredOnPos',\n    'disputes.defenseDocument.docTwoDifferentTransactions',\n    'disputes.defenseDocument.documentationOfPositiveAvsResponseXOrY',\n    'disputes.defenseDocument.documentCanBeCreditReasonDue',\n    'disputes.defenseDocument.documentCanBeProofOfDelivery',\n    'disputes.defenseDocument.documentCanBeSubscriptionAgreement',\n    'disputes.defenseDocument.documentCanBetUrlReturnPolicy',\n    'disputes.defenseDocument.documentContainingImportantShipmentData',\n    'disputes.defenseDocument.documentShipmentDate',\n    'disputes.defenseDocument.docViaFraudReporter',\n    'disputes.defenseDocument.duplicateProcessing',\n    'disputes.defenseDocument.duplicateProcessingHelp',\n    'disputes.defenseDocument.evidenceCardHolderParticipation',\n    'disputes.defenseDocument.evidenceProofingParticipationOfCardholder',\n    'disputes.defenseDocument.evidenceTransactionWasRecurring',\n    'disputes.defenseDocument.expiredCard',\n    'disputes.defenseDocument.expiredCardHelp',\n    'disputes.defenseDocument.explanation',\n    'disputes.defenseDocument.explanationWhyCancellationCodeInvalid',\n    'disputes.defenseDocument.falseTransaction',\n    'disputes.defenseDocument.firstChargebackNumberAndDate',\n    'disputes.defenseDocument.flightManifest',\n    'disputes.defenseDocument.flightManifestShowingCardholderName',\n    'disputes.defenseDocument.flightTicket',\n    'disputes.defenseDocument.flightTicketUsed',\n    'disputes.defenseDocument.flightTicketWithCardholderName',\n    'disputes.defenseDocument.flightTookPlace',\n    'disputes.defenseDocument.frequentFlyerInformation',\n    'disputes.defenseDocument.ifDelayedProofShowingMerchantAbleToProvideServices',\n    'disputes.defenseDocument.incorrectAmount',\n    'disputes.defenseDocument.latePresentment',\n    'disputes.defenseDocument.latePresentmentHelp',\n    'disputes.defenseDocument.latestRecurringTransactions',\n    'disputes.defenseDocument.memberMessageText',\n    'disputes.defenseDocument.memberMessageTextSentToSchemes',\n    'disputes.defenseDocument.merchandiseDescription',\n    'disputes.defenseDocument.merchandiseNotAsDescribed',\n    'disputes.defenseDocument.merchandiseNotReceived',\n    'disputes.defenseDocument.merchandiseNotReceivedHelp',\n    'disputes.defenseDocument.merchandiseSentToAvsConfirmedBillingAddress',\n    'disputes.defenseDocument.merchantFraudPerformanceProgram',\n    'disputes.defenseDocument.merchantFraudPerformanceProgramHelp',\n    'disputes.defenseDocument.merchantObtainedCardAtTimeReservationMade',\n    'disputes.defenseDocument.merchantWrittenRebuttal',\n    'disputes.defenseDocument.missingSignature',\n    'disputes.defenseDocument.missingSignatureHelp',\n    'disputes.defenseDocument.moreThanOneTransactionProcessed',\n    'disputes.defenseDocument.mpiData',\n    'disputes.defenseDocument.nonMatchingAccountNumber',\n    'disputes.defenseDocument.nonMatchingAccountNumberHelp',\n    'disputes.defenseDocument.noNotification',\n    'disputes.defenseDocument.numberAndDateOfOriginalChargeback',\n    'disputes.defenseDocument.originalAmount',\n    'disputes.defenseDocument.originalAmountIfDisputedRepresentsPartialShipment',\n    'disputes.defenseDocument.other',\n    'disputes.defenseDocument.otherHelp',\n    'disputes.defenseDocument.paidByOtherMeansThanJCBCard',\n    'disputes.defenseDocument.paidByOtherMeansThanJCBCardHelp',\n    'disputes.defenseDocument.paperAirlineTicket',\n    'disputes.defenseDocument.passengerId',\n    'disputes.defenseDocument.passengerIdLinkedToCardholder',\n    'disputes.defenseDocument.previousTransactionsNotDisputed',\n    'disputes.defenseDocument.printedSignedReceipt',\n    'disputes.defenseDocument.processingError',\n    'disputes.defenseDocument.processingErrorHelp',\n    'disputes.defenseDocument.proofAirlineTicketsWereUsed',\n    'disputes.defenseDocument.proofCardAndCardholderSignature',\n    'disputes.defenseDocument.proofCardPresence',\n    'disputes.defenseDocument.proofFlightTookPlace',\n    'disputes.defenseDocument.proofGoodsServicesWereProvided',\n    'disputes.defenseDocument.proofGoodsWereDeliveredAsDescribed',\n    'disputes.defenseDocument.proofMerchantHadNotReceivedPreviousChargeback',\n    'disputes.defenseDocument.proofMerchantHadNotReceivedPreviousChargebackAutoGenerated',\n    'disputes.defenseDocument.proofMerchantNotNotifiedOfCancellation',\n    'disputes.defenseDocument.proofOfAccountTakeover',\n    'disputes.defenseDocument.proofOfAddendum',\n    'disputes.defenseDocument.proofOfDelayedDelivery',\n    'disputes.defenseDocument.proofOfFulfillment',\n    'disputes.defenseDocument.proofOfInvalidChargeback',\n    'disputes.defenseDocument.proofOfNoCancellation',\n    'disputes.defenseDocument.proofOfNoChargebackReceived',\n    'disputes.defenseDocument.proofOfNoShow',\n    'disputes.defenseDocument.proofOfRecurringTransaction',\n    'disputes.defenseDocument.proofOfRefund',\n    'disputes.defenseDocument.proofOfRetailSale',\n    'disputes.defenseDocument.proofProvidedMerchandise',\n    'disputes.defenseDocument.proofRecurringContractNotCancelledAtTimeOfSettlement',\n    'disputes.defenseDocument.proofRenewedMembership',\n    'disputes.defenseDocument.proofShowingCardholderRenewedMembership',\n    'disputes.defenseDocument.proofShowingTrackingInformation',\n    'disputes.defenseDocument.proofValidIncreaseOfAmount',\n    'disputes.defenseDocument.provideRefundId',\n    'disputes.defenseDocument.provingTransactionResultedFromAccountTakeover',\n    'disputes.defenseDocument.reasonableAmount',\n    'disputes.defenseDocument.reasonForInvalidation',\n    'disputes.defenseDocument.reasonForInvalidationOfChargeback',\n    'disputes.defenseDocument.rebuttalCancellationNotAccepted',\n    'disputes.defenseDocument.rebuttalGivenToCardholder',\n    'disputes.defenseDocument.rebuttalStatingCancellationNotAccepted',\n    'disputes.defenseDocument.receiptOfFlightTicketAtBillingAddress',\n    'disputes.defenseDocument.receiptOrOther',\n    'disputes.defenseDocument.resultsOfMpiCalls',\n    'disputes.defenseDocument.retrievalRequestFulfilled',\n    'disputes.defenseDocument.retrievalRequestNotHonored',\n    'disputes.defenseDocument.retrievalRequestNotHonoredHelp',\n    'disputes.defenseDocument.serviceNotRendered',\n    'disputes.defenseDocument.serviceNotRenderedHelp',\n    'disputes.defenseDocument.shipmentDocumentation',\n    'disputes.defenseDocument.shipToAddress',\n    'disputes.defenseDocument.shipToAddressIfApplicable',\n    'disputes.defenseDocument.signatureOrChipPinEvidence',\n    'disputes.defenseDocument.signedTerminalReceipt',\n    'disputes.defenseDocument.SplitSales',\n    'disputes.defenseDocument.SplitSalesHelp',\n    'disputes.defenseDocument.statementMerchantDidNotReceiveGoods',\n    'disputes.defenseDocument.SupplementalDocumentsDetails',\n    'disputes.defenseDocument.SupplementalDocumentsTitle',\n    'disputes.defenseDocument.TEDocumentDetails',\n    'disputes.defenseDocument.TEDocumentTitle',\n    'disputes.defenseDocument.transactionAfterReservationCancelled',\n    'disputes.defenseDocument.transactionAfterReservationCancelledHelp',\n    'disputes.defenseDocument.transactionNotRecognizedChipLiabilityShift',\n    'disputes.defenseDocument.transactionNotRecognizedChipLiabilityShiftHelp',\n    'disputes.defenseDocument.transactionNotRecognizedContactlessAndCardNotPresented',\n    'disputes.defenseDocument.transactionNotRecognizedContactlessAndCardNotPresentedHelp',\n    'disputes.defenseDocument.unauthorisedReason',\n    'disputes.defenseDocument.uploadListOfRefundIds',\n    'disputes.defenseDocument.writtenCorrespondenceExchanged',\n    'disputes.defenseDocument.writtenRebutalGoodsRepairedOrReplaced',\n    'disputes.defenseReason',\n    'disputes.defenseReason.3dSecureFullyAuthenticatedTransaction',\n    'disputes.defenseReason.3dSecureLiabilityShiftNotFullyAuthenticated',\n    'disputes.defenseReason.accountNumberNotListedInExceptions',\n    'disputes.defenseReason.accountNumberNotListedInExceptionsFor60Days',\n    'disputes.defenseReason.accountTakeover',\n    'disputes.defenseReason.acquirerDefendChargebackIfIssuerRequested',\n    'disputes.defenseReason.acquirerProvidesCorrectDateWithinTimeLimit',\n    'disputes.defenseReason.additionalInformation',\n    'disputes.defenseReason.addressMerchandiseSentAvsConfirmed',\n    'disputes.defenseReason.addressVerificationService',\n    'disputes.defenseReason.addressVerificationServiceAdditionalInformation',\n    'disputes.defenseReason.airlineCompellingEvidence',\n    'disputes.defenseReason.airlineFlightProvided',\n    'disputes.defenseReason.atmDispute',\n    'disputes.defenseReason.authorisationReceivedForAmount',\n    'disputes.defenseReason.authorisedOnline',\n    'disputes.defenseReason.autoGeneratedRecurringTransactionDetails',\n    'disputes.defenseReason.autoResponseSentToIssuer',\n    'disputes.defenseReason.autoResponseToRfi',\n    'disputes.defenseReason.buyerExceededWindowToFileReturn',\n    'disputes.defenseReason.cancellationCodeWasInvalidAsShownByExplanationProvided',\n    'disputes.defenseReason.cancellationContractFailed',\n    'disputes.defenseReason.cancellationOrReturns',\n    'disputes.defenseReason.cardAndSignatureForCorporateFleetCardTransaction',\n    'disputes.defenseReason.cardholderAgreedToAmountAsReasonable',\n    'disputes.defenseReason.cardholderBilledForSeparateAdditionalAmount',\n    'disputes.defenseReason.cardholderCancelledRecurringServiceButRenewedLater',\n    'disputes.defenseReason.cardholderDidNotMeetCancellationTerms',\n    'disputes.defenseReason.cardholderNotifiedBeforeRecurringTransaction',\n    'disputes.defenseReason.cardholderNotifiedButNoReply',\n    'disputes.defenseReason.cardholderParticipated',\n    'disputes.defenseReason.cardholderResponsibleForAddendumTransaction',\n    'disputes.defenseReason.cardholderResponsibleForDisputedAmount',\n    'disputes.defenseReason.cardholderShouldHaveReturnedGoods',\n    'disputes.defenseReason.cardPresenceProof',\n    'disputes.defenseReason.cardPresentAndChipUsedNoPinProvided',\n    'disputes.defenseReason.cardWithSignatureNotProcessedMastercardNetwork',\n    'disputes.defenseReason.cbCodeNotApplicable',\n    'disputes.defenseReason.chargebackBundlingInvalid',\n    'disputes.defenseReason.chargebackCodeNA3dSecureNotOffered',\n    'disputes.defenseReason.chargebackInvalidCorrectAmountAndCurrencyProvided',\n    'disputes.defenseReason.chargebackReceivedAfterMastercardTimeLimit',\n    'disputes.defenseReason.chipLiabilityShift',\n    'disputes.defenseReason.chipTransaction',\n    'disputes.defenseReason.chipTransactionReportedSAFE',\n    'disputes.defenseReason.claimNotJustifiedSinceTransactionNotChargebacked',\n    'disputes.defenseReason.compellingEvidence',\n    'disputes.defenseReason.compellingEvidenceRecurringTransactions',\n    'disputes.defenseReason.correctTransactionAmount',\n    'disputes.defenseReason.correctTransactionCurrency',\n    'disputes.defenseReason.correctTransactionDateProvided',\n    'disputes.defenseReason.creditOrCancellationPolicyDisclosed',\n    'disputes.defenseReason.creditOrCancellationPolicyDisclosedToCardholder',\n    'disputes.defenseReason.creditPreviouslyIssued',\n    'disputes.defenseReason.cvc2ValidationProgram',\n    'disputes.defenseReason.de22DontMatchInFaceToFaceTransaction',\n    'disputes.defenseReason.defenseReasonIfProblemsWithScans',\n    'disputes.defenseReason.deficiencyCorrected',\n    'disputes.defenseReason.delayInSubmittingTransaction',\n    'disputes.defenseReason.disputedSurcharge',\n    'disputes.defenseReason.disputedSurchargeIncorrectCalculation',\n    'disputes.defenseReason.docToProveNoPaymentByOtherMean',\n    'disputes.defenseReason.documentationIncreasedDebitCardholderAccount',\n    'disputes.defenseReason.documentationReceivedWasIllegible',\n    'disputes.defenseReason.documentsSentToFulfillRetrievalRequest',\n    'disputes.defenseReason.duplicateChargeback',\n    'disputes.defenseReason.emergencyPaymentAuthorizationService',\n    'disputes.defenseReason.emvDeviceNonEmvCard',\n    'disputes.defenseReason.emvLiabilityShift',\n    'disputes.defenseReason.evidenceCardholderAuthorizedTransaction',\n    'disputes.defenseReason.evidenceGoodsNotDamaged',\n    'disputes.defenseReason.evidenceServicesProvidedAndReceivedWrittenCorrespondence',\n    'disputes.defenseReason.evidenceThatCardholderParticipated',\n    'disputes.defenseReason.faceToFaceTransactionNoConflictingInformation',\n    'disputes.defenseReason.faceToFaceTransactionWithConflictingInformation',\n    'disputes.defenseReason.fallbackDefenseReasonCode',\n    'disputes.defenseReason.firstChargebackCodeNotApplicable',\n    'disputes.defenseReason.firstChargebackDoesNotMeetPrerequisites',\n    'disputes.defenseReason.firstChargebackInvalid',\n    'disputes.defenseReason.formatCbmmddyyArdXxxExpected',\n    'disputes.defenseReason.formatMultipleTransactionsNnnExpected',\n    'disputes.defenseReason.formatRpcsMmddyyExpected',\n    'disputes.defenseReason.fraudEvidence',\n    'disputes.defenseReason.goodsNotReturned',\n    'disputes.defenseReason.goodsOrServicesProvided',\n    'disputes.defenseReason.goodsRepairedOrReplaced',\n    'disputes.defenseReason.goodsWereAsDescribed',\n    'disputes.defenseReason.goodsWereRepairedOrReplaced',\n    'disputes.defenseReason.identifiedAddendum',\n    'disputes.defenseReason.increasedTransactionAmount',\n    'disputes.defenseReason.intraregionalTransactionReportedSAFE',\n    'disputes.defenseReason.invalidAcquirerReferenceData',\n    'disputes.defenseReason.invalidCancellationCode',\n    'disputes.defenseReason.invalidChargeback',\n    'disputes.defenseReason.invalidChargebackBasedOnMcc',\n    'disputes.defenseReason.invalidChargebackReasonCode',\n    'disputes.defenseReason.invalidMessageText',\n    'disputes.defenseReason.invalidReferenceDataDocumentationNotRequired',\n    'disputes.defenseReason.issuerDidNotIncludeTwoSetsOfArns',\n    'disputes.defenseReason.issuerDidNotProvideRequiredDocumentation',\n    'disputes.defenseReason.issuerHasInitiatedTooManyFraudulentDisputes',\n    'disputes.defenseReason.issuerProcessedChargebackMoreThanOnce',\n    'disputes.defenseReason.justifiedDelayedPresentment',\n    'disputes.defenseReason.liabilityShiftFullAuthenticated',\n    'disputes.defenseReason.manyFraudulentChargebacks',\n    'disputes.defenseReason.membershipRenewedAfterCancellation',\n    'disputes.defenseReason.merchandiseNotReturned',\n    'disputes.defenseReason.merchandiseWasNotCounterfeit',\n    'disputes.defenseReason.merchandiseWasReceivedByShopper',\n    'disputes.defenseReason.merchantCanProvideAdditionalCompellingEvidence',\n    'disputes.defenseReason.merchantCanProvideAdditionalInformation',\n    'disputes.defenseReason.merchantCantReceiveThisChargebackBasedOnTheirMcc',\n    'disputes.defenseReason.merchantNotNotifiedOfCancellation',\n    'disputes.defenseReason.merchantProvidedServicesToCardholderProof',\n    'disputes.defenseReason.merchantProvideMissingDocuments',\n    'disputes.defenseReason.noCreditSlip',\n    'disputes.defenseReason.noPriorChargebackReceived',\n    'disputes.defenseReason.noShowTransaction',\n    'disputes.defenseReason.not3dSecureTransaction',\n    'disputes.defenseReason.notAgreeWithRefund',\n    'disputes.defenseReason.notPosTransaction',\n    'disputes.defenseReason.parcelServiceReceipt',\n    'disputes.defenseReason.pastChargebackTimeLimit',\n    'disputes.defenseReason.paymentByOtherMeans',\n    'disputes.defenseReason.paypassAmountBelowProtectionAmount',\n    'disputes.defenseReason.paypassTransaction',\n    'disputes.defenseReason.pinForOneOrBothTransactions',\n    'disputes.defenseReason.pinTransaction',\n    'disputes.defenseReason.pinUsedToVerifyCardholder',\n    'disputes.defenseReason.posTransactionAndSignedTerminalReceiptAvailable',\n    'disputes.defenseReason.posTransactionCardholderWasPresentProof',\n    'disputes.defenseReason.prevChargedbackTwoTransactionsWithSameAccount',\n    'disputes.defenseReason.previousChargebackCancellingRecurringContract',\n    'disputes.defenseReason.proofCardholderReceivedMerchandise',\n    'disputes.defenseReason.proofDeficiencyCorrected',\n    'disputes.defenseReason.proofOfCardPresenceAvailableNotAuthorisedMastercardNetwork',\n    'disputes.defenseReason.proofOfCardPresenceMastercardCorporateFleet',\n    'disputes.defenseReason.provideInformationForCollectionOrFraudCase',\n    'disputes.defenseReason.provideMissingInformation',\n    'disputes.defenseReason.provideTransactionalInformation',\n    'disputes.defenseReason.provideTransactionalInfoTravelDetails',\n    'disputes.defenseReason.purchaseProperlyPosted',\n    'disputes.defenseReason.qpsTransaction',\n    'disputes.defenseReason.qpsTransactionWithAmountLessThanChargebackProtectionAmount',\n    'disputes.defenseReason.receiptWithItemsBilledBecauseOfLossTheftDamages',\n    'disputes.defenseReason.recurringTransactionCompellingEvidence',\n    'disputes.defenseReason.recurringTransactionCompellingMerchantEvidence',\n    'disputes.defenseReason.reponseToRfi',\n    'disputes.defenseReason.reponseToRfiCardPresent',\n    'disputes.defenseReason.requiredDocumentationNotReceived',\n    'disputes.defenseReason.responseToRfiAirlines',\n    'disputes.defenseReason.responseToRfiCarRental',\n    'disputes.defenseReason.retrievalRequestFulfilled',\n    'disputes.defenseReason.returnNotAccepted',\n    'disputes.defenseReason.scanningError',\n    'disputes.defenseReason.serviceCancelledButMerchantNotNotified',\n    'disputes.defenseReason.serviceNotCancelled',\n    'disputes.defenseReason.serviceNotCancelledEvidence',\n    'disputes.defenseReason.servicesProvidedAfterCancellation',\n    'disputes.defenseReason.servicesProvidedAndUsedAfterCancellation',\n    'disputes.defenseReason.shopperClaimsRefundWasPromisedButNotExecuted',\n    'disputes.defenseReason.shopperUsedAirlineTicket',\n    'disputes.defenseReason.signedImprintedSalesSlipInvoicePosReceipt',\n    'disputes.defenseReason.signedTerminalReceiptAvailable',\n    'disputes.defenseReason.supplyDefenseMaterial',\n    'disputes.defenseReason.surchargeCorrectlyProcessed',\n    'disputes.defenseReason.surchargeIncorrectlyCalculatedByIssuer',\n    'disputes.defenseReason.termsOfSaleWereNotMisrepresented',\n    'disputes.defenseReason.thisReasonIsTechnical',\n    'disputes.defenseReason.timeBetweenAuthorisationAndSettlementWithinTimeLimits',\n    'disputes.defenseReason.transactioAuthorisedEmergencyPaymentAuthorizationService',\n    'disputes.defenseReason.transactionAmountAlreadyRefunded',\n    'disputes.defenseReason.transactionApproved3dSecureAuthenticated',\n    'disputes.defenseReason.transactionBetweenChipLiabilityShiftProgramCustomers',\n    'disputes.defenseReason.transactionFallsCvc2ValidationProgram',\n    'disputes.defenseReason.transactionFromAccountTakeover',\n    'disputes.defenseReason.transactionInformationDocument',\n    'disputes.defenseReason.transactionIssuerApproved3dSecureAuthenticated',\n    'disputes.defenseReason.transactionNotChargebackedAutoDefense',\n    'disputes.defenseReason.transactionNotFully3dSecureAuthenticated',\n    'disputes.defenseReason.transactionNotRecurring',\n    'disputes.defenseReason.transactionNotRecurringTransactionInstallment',\n    'disputes.defenseReason.transactionSettledWithinTimeLimit',\n    'disputes.defenseReason.transactionsInitiatedDueToLossTheftOrDamages',\n    'disputes.defenseReason.transactionWasAuthorised',\n    'disputes.defenseReason.transactionWasAuthorisedOnline',\n    'disputes.defenseReason.transactionWasECommerceGivenChargebackReasonNotApplicable',\n    'disputes.defenseReason.transactionWasInFaceToFaceEnvironment',\n    'disputes.defenseReason.transactionWasProperlyIdentifiedAsInstallmentTransaction',\n    'disputes.defenseReason.transactionWasResultOfGuaranteedReservation',\n    'disputes.defenseReason.twoDifferentTidsNonAtm',\n    'disputes.defenseReason.twoDifferentTidsWithSameCardholderAccount',\n    'disputes.defenseReason.twoDifferentTransactions',\n    'disputes.defenseReason.twoPreviousFraudRelatedChargebacks',\n    'disputes.defenseReason.twoSeparateTransactions',\n    'disputes.defenseReason.unfoundedCardholderDispute',\n    'disputes.defenseReason.unreasonableAmount',\n    'disputes.defenseReason.uploadReturnPolicyDocument',\n    'disputes.defenseReason.useThisDefenseReasonIfApplicable',\n    'disputes.defenseReason.validityOfTransactionChargedExplanation',\n    'disputes.defenseReason.waiverFormAbsolvingMerchantResponsibility',\n    'disputes.disputedAmount',\n    'disputes.disputeManagementTitle',\n    'disputes.disputeReason',\n    'disputes.disputeReference',\n    'disputes.documentRequirements',\n    'disputes.documentRequirements.acceptableFormatAndSize',\n    'disputes.documentRequirements.mustBeInEnglish',\n    'disputes.documentRequirements.recommendedSize',\n    'disputes.empty.noChargebacksFound',\n    'disputes.empty.noDisputesFound',\n    'disputes.empty.noFraudAlertsFound',\n    'disputes.empty.tryDifferentSearchOrCheckAgainLaterForNewChargebacks',\n    'disputes.empty.tryDifferentSearchOrCheckAgainLaterForNewDisputes',\n    'disputes.empty.tryDifferentSearchOrCheckAgainLaterForNewFraudAlerts',\n    'disputes.error.couldNotLoadDisputesOverview',\n    'disputes.error.entityWasNotFound',\n    'disputes.error.entityWasNotFoundDetail',\n    'disputes.error.failedRetry',\n    'disputes.error.weCouldNotLoadYourDispute',\n    'disputes.error.weCouldNotLoadYourDisputes',\n    'disputes.error.weCouldNotProcessTheDisputePleaseTryAgainOrContactSupport',\n    'disputes.evidence',\n    'disputes.expiredOn',\n    'disputes.goBack',\n    'disputes.gridCell.dueDate',\n    'disputes.inputError.fileIsOverSizeLimitForTypeChooseASmallerFileAndTryAgain',\n    'disputes.inputError.somethingWentWrongPleaseCheckYourDocuments',\n    'disputes.inputError.uploadAtLeastOneSupportingDocumentToContinue',\n    'disputes.issuerComment.showLess',\n    'disputes.issuerComment.showMore',\n    'disputes.issuerComment.title',\n    'disputes.merchantReference',\n    'disputes.openedOn',\n    'disputes.paymentMethod',\n    'disputes.paymentReference',\n    'disputes.reason',\n    'disputes.reasonCategory.adjustment',\n    'disputes.reasonCategory.authorisationError',\n    'disputes.reasonCategory.consumerDispute',\n    'disputes.reasonCategory.fraud',\n    'disputes.reasonCategory.other',\n    'disputes.reasonCategory.processingError',\n    'disputes.reasonCategory.requestForInformation',\n    'disputes.reasonCode',\n    'disputes.respondBy',\n    'disputes.showDisputeDetails',\n    'disputes.status',\n    'disputes.status.accepted',\n    'disputes.status.expired',\n    'disputes.status.lost',\n    'disputes.status.pending',\n    'disputes.status.responded',\n    'disputes.status.undefended',\n    'disputes.status.unresponded',\n    'disputes.status.won',\n    'disputes.statusGroup.chargebacks',\n    'disputes.statusGroup.fraudAlerts',\n    'disputes.statusGroup.ongoingAndClosed',\n    'disputes.title',\n    'disputes.totalPaymentAmount',\n    'disputes.type.chargeback',\n    'disputes.type.notificationOfFraud',\n    'disputes.type.requestForInformation',\n    'disputes.uploadDocuments.addOptionalDocument',\n    'disputes.uploadDocuments.extraRequiredDocument',\n    'disputes.uploadDocuments.optionalDocument',\n    'disputes.uploadDocuments.selectDocumentType',\n    'disputes.uploadDocuments.selectOneOfTheRequiredOptions',\n    'download',\n    'downloading',\n    'email',\n    'entityWasNotFound',\n    'entityWasNotFoundDetail',\n    'error.pleaseTryAgainLater',\n    'error.somethingWentWrongWithDownload',\n    'expandableCard.collapse',\n    'expandableCard.expand',\n    'export',\n    'fee',\n    'file',\n    'filter.date.since',\n    'filter.date.until',\n    'filterBar',\n    'filterPlaceholder.category',\n    'filterPlaceholder.currency',\n    'filterPlaceholder.status',\n    'from',\n    'full',\n    'fundsCaptured',\n    'goBack',\n    'grantIssued',\n    'grantRepayment',\n    'hideContent',\n    'id',\n    'incompleteField',\n    'inProgress',\n    'inputError.disallowedFileType',\n    'inputError.fileRequired',\n    'inputError.tooManyFiles',\n    'inputError.veryLargeFile',\n    'loading',\n    'max',\n    'min',\n    'mobile',\n    'netPayout',\n    'nextPayouts',\n    'noData',\n    'noNegativeNumbersAllowed',\n    'noPayoutsFound',\n    'noReportsFound',\n    'noTransactionsFound',\n    'other',\n    'paginatedNavigation',\n    'pagination.nextPage',\n    'pagination.previousPage',\n    'pagination.showing',\n    'partial',\n    'paymentId',\n    'paymentMethod',\n    'payoutDetails',\n    'payoutsNotice',\n    'payoutsTitle',\n    'Pending',\n    'pleaseComeBackLater',\n    'pleaseReachOutToSupportForAssistance',\n    'rangePreset.custom',\n    'rangePreset.last30Days',\n    'rangePreset.last7Days',\n    'rangePreset.lastMonth',\n    'rangePreset.lastWeek',\n    'rangePreset.thisMonth',\n    'rangePreset.thisWeek',\n    'rangePreset.yearToDate',\n    'reachOutToSupport',\n    'referenceID',\n    'refresh',\n    'refund',\n    'refund.amountAlreadyRefunded',\n    'refund.amountFailed',\n    'refund.amountInProgress',\n    'refund.fee',\n    'refund.fullAmountFailed',\n    'refund.fullAmountRefunded',\n    'refund.goToPayment',\n    'refund.maximumRefundable',\n    'refund.onlyRefundable',\n    'refund.originalAmount',\n    'refund.originalPayment',\n    'refund.paymentPspReference',\n    'refund.pspReference',\n    'refund.refundFee',\n    'refund.refundPspReference',\n    'refund.returnToRefund',\n    'refund.theRefundIsBeingProcessed',\n    'refundAction',\n    'refundActionErrorSubtitle',\n    'refundActionErrorTitle',\n    'refundActionSuccessSubtitle',\n    'refundActionSuccessTitle',\n    'refundAmount',\n    'refundAmount.excess',\n    'refundAmount.required',\n    'refunded.full',\n    'refunded.partial',\n    'refundNotice',\n    'refundPayment',\n    'refundReason',\n    'refundReason.duplicate',\n    'refundReason.fraudulent',\n    'refundReason.issue_with_item_sold',\n    'refundReason.other',\n    'refundReason.requested_by_customer',\n    'refundReference',\n    'refundReference.placeholder',\n    'remainingAmount',\n    'report',\n    'reportsError.tooManyDownloads',\n    'reportsNotice',\n    'reportsTitle',\n    'reportType.payout',\n    'reset',\n    'Reversed',\n    'select.filter.placeholder',\n    'select.noOptionsFound',\n    'somethingWentWrong',\n    'somethingWentWrongTryRefreshingOrComeBackLater',\n    'status',\n    'structuredList',\n    'subtractions',\n    'sumOfSameDayPayouts',\n    'tabs',\n    'theErrorCodeIs',\n    'thereAreNoResults',\n    'theRequestIsMissingRequiredFieldsOrContainsInvalidData',\n    'thereWasAnUnexpectedError',\n    'theSelectedBalanceAccountIsIncorrect',\n    'timezone',\n    'to',\n    'tooltip.ATM',\n    'tooltip.Capital',\n    'tooltip.Chargeback',\n    'tooltip.Correction',\n    'tooltip.Fee',\n    'tooltip.Other',\n    'tooltip.Payment',\n    'tooltip.Refund',\n    'tooltip.totalIncoming',\n    'tooltip.totalOutgoing',\n    'tooltip.Transfer',\n    'totalIncoming',\n    'totalOutgoing',\n    'toValueShouldBeGreaterThanTheFromValue',\n    'transactionDetails',\n    'transactions',\n    'transactionsOverviewTitle',\n    'transactionType',\n    'transfer',\n    'tryDifferentSearchOrResetYourFiltersAndWeWillTryAgain',\n    'tryRefreshingThePageOrComeBackLater',\n    'txAmount',\n    'txType.ATM',\n    'txType.Capital',\n    'txType.Chargeback',\n    'txType.Correction',\n    'txType.Fee',\n    'txType.Other',\n    'txType.Payment',\n    'txType.Refund',\n    'txType.Transfer',\n    'type',\n    'uploadedFile.remove',\n    'uploadFile.browse',\n    'value',\n    'weCouldNotLoadThePayoutsOverview',\n    'weCouldNotLoadTheReportsOverview',\n    'weCouldNotLoadTheTransactionsOverview',\n    'weCouldNotLoadYourBalanceAccounts',\n    'weCouldNotLoadYourPayouts',\n    'weCouldNotLoadYourReports',\n    'weCouldNotLoadYourTransactions',\n]);\n\nconst currentTranslationKeys = new Set(Object.keys(currentTranslations));\n\nexport const getCustomTranslationsAnalyticsPayload = (customTranslations: Localization['customTranslations']) => {\n    const payloads = [];\n    const customizedLocale = Object.keys(customTranslations);\n    if (customizedLocale.length > 0) {\n        for (const locale of customizedLocale) {\n            if (!SUPPORTED_LOCALES.includes(locale as any)) {\n                const newLanguageEvent = encodeAnalyticsEvent({\n                    event: 'Added new language',\n                    properties: {\n                        category: 'PIE',\n                        subCategory: 'Core',\n                        locale: locale,\n                        userAgent: navigator.userAgent,\n                    },\n                });\n                if (newLanguageEvent) {\n                    payloads.push(newLanguageEvent);\n                }\n            } else {\n                const translations = customTranslations?.[locale];\n                const keys = translations ? Object.keys(translations) : [];\n                if (keys?.length > 0) {\n                    const oldCustomizedKeys = keys.filter(key => oldTranslationKeys.has(key));\n                    // This event is a temporary event that tracks platforms that are still using old translations.\n                    // We will reach out to these platforms to encourage them to migrate to the new translations.\n                    // We will keep maintaining old translations mapping for backward compatibility until all platforms have migrated.\n                    if (oldCustomizedKeys.length > 0) {\n                        const oldTranslationsEvent = encodeAnalyticsEvent({\n                            event: 'Customized old translation',\n                            properties: {\n                                category: 'PIE',\n                                subCategory: 'Core',\n                                locale: locale,\n                                keys: oldCustomizedKeys,\n                                userAgent: navigator.userAgent,\n                            },\n                        });\n                        if (oldTranslationsEvent) {\n                            payloads.push(oldTranslationsEvent);\n                        }\n                    }\n\n                    const matchingCustomizedKeys = keys.filter(key => currentTranslationKeys.has(key));\n\n                    // This event is permanent to keep track of all the customizations that user made to translations\n                    const allTranslationsEvent = encodeAnalyticsEvent({\n                        event: 'Customized translation',\n                        properties: {\n                            category: 'PIE',\n                            subCategory: 'Core',\n                            locale: locale,\n                            keys: matchingCustomizedKeys,\n                            userAgent: navigator.userAgent,\n                        },\n                    });\n                    if (allTranslationsEvent) {\n                        payloads.push(allTranslationsEvent);\n                    }\n                }\n            }\n        }\n    }\n    return payloads;\n};\n","import type { CoreOptions, onErrorHandler } from './types';\nimport { FALLBACK_ENV, getConfigFromCdn, getDatasetFromCdn, resolveEnvironment } from './utils';\nimport { AuthSession } from './ConfigContext/session/AuthSession';\nimport BaseElement from '../components/external/BaseElement';\nimport Localization, { TranslationSourceRecord } from './Localization';\nimport { EMPTY_OBJECT } from '../utils';\nimport { AssetOptions, Assets } from './Assets/Assets';\nimport { getCustomTranslationsAnalyticsPayload } from './Analytics/analytics/customTranslations';\n\nclass Core<AvailableTranslations extends TranslationSourceRecord[] = [], CustomTranslations extends {} = {}> {\n    public static readonly version = process.env.VITE_VERSION!;\n\n    public components: BaseElement<any>[] = [];\n    public options: CoreOptions<AvailableTranslations, CustomTranslations>;\n\n    public localization: Localization;\n    public loadingContext: string;\n    public analyticsEnabled: boolean;\n    public session = new AuthSession();\n    public onError?: onErrorHandler;\n    public getImageAsset: (props: AssetOptions) => string;\n    public getDatasetAsset: (props: AssetOptions) => string;\n    public getCdnConfig: (props: { name: string; extension?: string; subFolder?: string }) => Promise<any>;\n    public getCdnDataset: <Fallback>(props: { name: string; extension?: string; subFolder?: string; fallback?: Fallback }) => Promise<Fallback>;\n\n    private readyCustomTranslationsAnalytics: boolean;\n\n    // [TODO]: Change the error handling strategy.\n\n    constructor(options: CoreOptions<AvailableTranslations, CustomTranslations>) {\n        this.options = { environment: FALLBACK_ENV, ...options };\n        const { cdnTranslationsUrl, cdnAssetsUrl, cdnConfigUrl, apiUrl } = resolveEnvironment(this.options.environment);\n\n        this.localization = new Localization(options.locale, options.availableTranslations, cdnTranslationsUrl, cdnConfigUrl);\n        this.loadingContext = options.loadingContext || process.env.VITE_APP_LOADING_CONTEXT || apiUrl;\n        this.getImageAsset = new Assets(cdnAssetsUrl).getAsset({ extension: 'svg', subFolder: 'images' });\n        this.getDatasetAsset = new Assets(cdnAssetsUrl).getAsset({ extension: 'json', mainFolder: 'datasets' });\n        this.getCdnConfig = getConfigFromCdn({ url: cdnConfigUrl });\n        this.getCdnDataset = getDatasetFromCdn({ url: `${cdnAssetsUrl}/datasets` });\n        this.readyCustomTranslationsAnalytics = false;\n        this.analyticsEnabled = options?.analytics?.enabled ?? true;\n        this.session.analyticsEnabled = this.analyticsEnabled;\n        this.setOptions(options);\n    }\n\n    async initialize(): Promise<this> {\n        return Promise.all([this.localization.ready]).then(() => {\n            if (!this.readyCustomTranslationsAnalytics && this.analyticsEnabled) {\n                const analyticsPayload = this.setTranslationsPayload();\n                if (analyticsPayload.length > 0) {\n                    this.session.analyticsPayload = analyticsPayload;\n                    this.readyCustomTranslationsAnalytics = true;\n                }\n            }\n            return this;\n        });\n    }\n\n    /**\n     * Updates global configurations, resets the internal state and remounts each element.\n     * @param options - props to update\n     * @returns this - the element instance\n     */\n    public update = async (options: Partial<typeof this.options> = EMPTY_OBJECT): Promise<this> => {\n        this.setOptions(options);\n        await this.initialize();\n\n        this.components.forEach(component => {\n            if (component.props.core === this) {\n                // Update each component under this instance\n                component.update(this.getPropsForComponent(this.options));\n            }\n        });\n\n        return this;\n    };\n\n    /**\n     * Remove the reference of a component\n     * @param component - reference to the component to be removed\n     * @returns this - the element instance\n     */\n    public remove = (component: BaseElement<any>): this => {\n        this.components = this.components.filter(c => c._id !== component._id);\n        component.unmount();\n        return this;\n    };\n\n    /**\n     * @internal\n     * Register components in core to be able to update them all at once\n     */\n    public registerComponent = (component: BaseElement<any>) => {\n        if (component.props.core === this) {\n            this.components.push(component);\n        }\n    };\n\n    /**\n     * @internal\n     * Enhances the config object passed when AdyenPlatformExperience is initialised (environment, clientKey, etc...)\n     * (Re)Initializes core properties & processes (i18n, etc...)\n     * @param options - the config object passed when AdyenPlatformExperience is initialised\n     * @returns this\n     */\n    private setOptions = (options: Partial<typeof this.options>): this => {\n        this.options = { ...this.options, ...options };\n\n        this.localization.locale = this.options?.locale;\n        this.localization.customTranslations = this.options?.translations;\n\n        this.session.loadingContext = this.loadingContext;\n        this.session.onSessionCreate = this.options.onSessionCreate;\n\n        return this;\n    };\n\n    private setTranslationsPayload() {\n        if (this.localization) {\n            return getCustomTranslationsAnalyticsPayload(this.localization.i18n.customTranslations);\n        }\n        return [];\n    }\n\n    /**\n     * @internal\n     * @param options - options that will be merged to the global Checkout props\n     * @returns props for a new UIElement\n     */\n    private getPropsForComponent(options: any) {\n        return { ...options };\n    }\n}\n\nexport default Core;\n","var n,l,t,u,i,r,o,e,f,c,s,a,h,p={},v=[],y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,d=Array.isArray;function w(n,l){for(var t in l)n[t]=l[t];return n}function g(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _(l,t,u){var i,r,o,e={};for(o in t)\"key\"==o?i=t[o]:\"ref\"==o?r=t[o]:e[o]=t[o];if(arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):u),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===e[o]&&(e[o]=l.defaultProps[o]);return m(l,e,i,r,null)}function m(n,u,i,r,o){var e={type:n,props:u,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==o?++t:o,__i:-1,__u:0};return null==o&&null!=l.vnode&&l.vnode(e),e}function b(){return{current:null}}function k(n){return n.children}function x(n,l){this.props=n,this.context=l}function S(n,l){if(null==l)return n.__?S(n.__,n.__i+1):null;for(var t;l<n.__k.length;l++)if(null!=(t=n.__k[l])&&null!=t.__e)return t.__e;return\"function\"==typeof n.type?S(n):null}function C(n){var l,t;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(t=n.__k[l])&&null!=t.__e){n.__e=n.__c.base=t.__e;break}return C(n)}}function M(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!$.__r++||r!==l.debounceRendering)&&((r=l.debounceRendering)||o)($)}function $(){for(var n,t,u,r,o,f,c,s=1;i.length;)i.length>s&&i.sort(e),n=i.shift(),s=i.length,n.__d&&(u=void 0,o=(r=(t=n).__v).__e,f=[],c=[],t.__P&&((u=w({},r)).__v=r.__v+1,l.vnode&&l.vnode(u),O(t.__P,u,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,f,null==o?S(r):o,!!(32&r.__u),c),u.__v=r.__v,u.__.__k[u.__i]=u,z(f,u,c),u.__e!=o&&C(u)));$.__r=0}function I(n,l,t,u,i,r,o,e,f,c,s){var a,h,y,d,w,g,_=u&&u.__k||v,m=l.length;for(f=P(t,l,_,f,m),a=0;a<m;a++)null!=(y=t.__k[a])&&(h=-1===y.__i?p:_[y.__i]||p,y.__i=a,g=O(n,y,h,i,r,o,e,f,c,s),d=y.__e,y.ref&&h.ref!=y.ref&&(h.ref&&q(h.ref,null,y),s.push(y.ref,y.__c||d,y)),null==w&&null!=d&&(w=d),4&y.__u||h.__k===y.__k?f=A(y,f,n):\"function\"==typeof y.type&&void 0!==g?f=g:d&&(f=d.nextSibling),y.__u&=-7);return t.__e=w,f}function P(n,l,t,u,i){var r,o,e,f,c,s=t.length,a=s,h=0;for(n.__k=new Array(i),r=0;r<i;r++)null!=(o=l[r])&&\"boolean\"!=typeof o&&\"function\"!=typeof o?(f=r+h,(o=n.__k[r]=\"string\"==typeof o||\"number\"==typeof o||\"bigint\"==typeof o||o.constructor==String?m(null,o,null,null,null):d(o)?m(k,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?m(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=n,o.__b=n.__b+1,e=null,-1!==(c=o.__i=L(o,t,f,a))&&(a--,(e=t[c])&&(e.__u|=2)),null==e||null===e.__v?(-1==c&&(i>s?h--:i<s&&h++),\"function\"!=typeof o.type&&(o.__u|=4)):c!=f&&(c==f-1?h--:c==f+1?h++:(c>f?h--:h++,o.__u|=4))):n.__k[r]=null;if(a)for(r=0;r<s;r++)null!=(e=t[r])&&0==(2&e.__u)&&(e.__e==u&&(u=S(e)),B(e,e));return u}function A(n,l,t){var u,i;if(\"function\"==typeof n.type){for(u=n.__k,i=0;u&&i<u.length;i++)u[i]&&(u[i].__=n,l=A(u[i],l,t));return l}n.__e!=l&&(l&&n.type&&!t.contains(l)&&(l=S(n)),t.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8==l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(d(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,t,u){var i,r,o=n.key,e=n.type,f=l[t];if(null===f&&null==n.key||f&&o==f.key&&e===f.type&&0==(2&f.__u))return t;if(u>(null!=f&&0==(2&f.__u)?1:0))for(i=t-1,r=t+1;i>=0||r<l.length;){if(i>=0){if((f=l[i])&&0==(2&f.__u)&&o==f.key&&e===f.type)return i;i--}if(r<l.length){if((f=l[r])&&0==(2&f.__u)&&o==f.key&&e===f.type)return r;r++}}return-1}function T(n,l,t){\"-\"==l[0]?n.setProperty(l,null==t?\"\":t):n[l]=null==t?\"\":\"number\"!=typeof t||y.test(l)?t:t+\"px\"}function j(n,l,t,u,i){var r;n:if(\"style\"==l)if(\"string\"==typeof t)n.style.cssText=t;else{if(\"string\"==typeof u&&(n.style.cssText=u=\"\"),u)for(l in u)t&&l in t||T(n.style,l,\"\");if(t)for(l in t)u&&t[l]===u[l]||T(n.style,l,t[l])}else if(\"o\"==l[0]&&\"n\"==l[1])r=l!=(l=l.replace(f,\"$1\")),l=l.toLowerCase()in n||\"onFocusOut\"==l||\"onFocusIn\"==l?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=t,t?u?t.t=u.t:(t.t=c,n.addEventListener(l,r?a:s,r)):n.removeEventListener(l,r?a:s,r);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==t?\"\":t;break n}catch(n){}\"function\"==typeof t||(null==t||!1===t&&\"-\"!=l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==t?\"\":t))}}function F(n){return function(t){if(this.l){var u=this.l[t.type+n];if(null==t.u)t.u=c++;else if(t.u<u.t)return;return u(l.event?l.event(t):t)}}}function O(n,t,u,i,r,o,e,f,c,s){var a,h,p,v,y,_,m,b,S,C,M,$,P,A,H,L,T,j=t.type;if(void 0!==t.constructor)return null;128&u.__u&&(c=!!(32&u.__u),o=[f=t.__e=u.__e]),(a=l.__b)&&a(t);n:if(\"function\"==typeof j)try{if(b=t.props,S=\"prototype\"in j&&j.prototype.render,C=(a=j.contextType)&&i[a.__c],M=a?C?C.props.value:a.__:i,u.__c?m=(h=t.__c=u.__c).__=h.__E:(S?t.__c=h=new j(b,M):(t.__c=h=new x(b,M),h.constructor=j,h.render=D),C&&C.sub(h),h.props=b,h.state||(h.state={}),h.context=M,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),S&&null==h.__s&&(h.__s=h.state),S&&null!=j.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=w({},h.__s)),w(h.__s,j.getDerivedStateFromProps(b,h.__s))),v=h.props,y=h.state,h.__v=t,p)S&&null==j.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),S&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(S&&null==j.getDerivedStateFromProps&&b!==v&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(b,M),!h.__e&&(null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(b,h.__s,M)||t.__v==u.__v)){for(t.__v!=u.__v&&(h.props=b,h.state=h.__s,h.__d=!1),t.__e=u.__e,t.__k=u.__k,t.__k.some(function(n){n&&(n.__=t)}),$=0;$<h._sb.length;$++)h.__h.push(h._sb[$]);h._sb=[],h.__h.length&&e.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(b,h.__s,M),S&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(v,y,_)})}if(h.context=M,h.props=b,h.__P=n,h.__e=!1,P=l.__r,A=0,S){for(h.state=h.__s,h.__d=!1,P&&P(t),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,P&&P(t),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++A<25);h.state=h.__s,null!=h.getChildContext&&(i=w(w({},i),h.getChildContext())),S&&!p&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(v,y)),L=a,null!=a&&a.type===k&&null==a.key&&(L=N(a.props.children)),f=I(n,d(L)?L:[L],t,u,i,r,o,e,f,c,s),h.base=t.__e,t.__u&=-161,h.__h.length&&e.push(h),m&&(h.__E=h.__=null)}catch(n){if(t.__v=null,c||null!=o)if(n.then){for(t.__u|=c?160:128;f&&8==f.nodeType&&f.nextSibling;)f=f.nextSibling;o[o.indexOf(f)]=null,t.__e=f}else for(T=o.length;T--;)g(o[T]);else t.__e=u.__e,t.__k=u.__k;l.__e(n,t,u)}else null==o&&t.__v==u.__v?(t.__k=u.__k,t.__e=u.__e):f=t.__e=V(u.__e,t,u,i,r,o,e,c,s);return(a=l.diffed)&&a(t),128&t.__u?void 0:f}function z(n,t,u){for(var i=0;i<u.length;i++)q(u[i],u[++i],u[++i]);l.__c&&l.__c(t,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(n){n.call(t)})}catch(n){l.__e(n,t.__v)}})}function N(n){return\"object\"!=typeof n||null==n?n:d(n)?n.map(N):w({},n)}function V(t,u,i,r,o,e,f,c,s){var a,h,v,y,w,_,m,b=i.props,k=u.props,x=u.type;if(\"svg\"==x?o=\"http://www.w3.org/2000/svg\":\"math\"==x?o=\"http://www.w3.org/1998/Math/MathML\":o||(o=\"http://www.w3.org/1999/xhtml\"),null!=e)for(a=0;a<e.length;a++)if((w=e[a])&&\"setAttribute\"in w==!!x&&(x?w.localName==x:3==w.nodeType)){t=w,e[a]=null;break}if(null==t){if(null==x)return document.createTextNode(k);t=document.createElementNS(o,x,k.is&&k),c&&(l.__m&&l.__m(u,e),c=!1),e=null}if(null===x)b===k||c&&t.data===k||(t.data=k);else{if(e=e&&n.call(t.childNodes),b=i.props||p,!c&&null!=e)for(b={},a=0;a<t.attributes.length;a++)b[(w=t.attributes[a]).name]=w.value;for(a in b)if(w=b[a],\"children\"==a);else if(\"dangerouslySetInnerHTML\"==a)v=w;else if(!(a in k)){if(\"value\"==a&&\"defaultValue\"in k||\"checked\"==a&&\"defaultChecked\"in k)continue;j(t,a,null,w,o)}for(a in k)w=k[a],\"children\"==a?y=w:\"dangerouslySetInnerHTML\"==a?h=w:\"value\"==a?_=w:\"checked\"==a?m=w:c&&\"function\"!=typeof w||b[a]===w||j(t,a,w,b[a],o);if(h)c||v&&(h.__html===v.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),u.__k=[];else if(v&&(t.innerHTML=\"\"),I(\"template\"===u.type?t.content:t,d(y)?y:[y],u,i,r,\"foreignObject\"==x?\"http://www.w3.org/1999/xhtml\":o,e,f,e?e[0]:i.__k&&S(i,0),c,s),null!=e)for(a=e.length;a--;)g(e[a]);c||(a=\"value\",\"progress\"==x&&null==_?t.removeAttribute(\"value\"):void 0!==_&&(_!==t[a]||\"progress\"==x&&!_||\"option\"==x&&_!==b[a])&&j(t,a,_,b[a],o),a=\"checked\",void 0!==m&&m!==t[a]&&j(t,a,m,b[a],o))}return t}function q(n,t,u){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==t||(n.__u=n(t))}else n.current=t}catch(n){l.__e(n,u)}}function B(n,t,u){var i,r;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||q(i,null,t)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,t)}i.base=i.__P=null}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&B(i[r],t,u||\"function\"!=typeof n.type);u||g(n.__e),n.__c=n.__=n.__e=void 0}function D(n,l,t){return this.constructor(n,t)}function E(t,u,i){var r,o,e,f;u==document&&(u=document.documentElement),l.__&&l.__(t,u),o=(r=\"function\"==typeof i)?null:i&&i.__k||u.__k,e=[],f=[],O(u,t=(!r&&i||u).__k=_(k,null,[t]),o||p,p,u.namespaceURI,!r&&i?[i]:o?null:u.firstChild?n.call(u.childNodes):null,e,!r&&i?i:o?o.__e:u.firstChild,r,f),z(e,t,f)}function G(n,l){E(n,l,G)}function J(l,t,u){var i,r,o,e,f=w({},l.props);for(o in l.type&&l.type.defaultProps&&(e=l.type.defaultProps),t)\"key\"==o?i=t[o]:\"ref\"==o?r=t[o]:f[o]=void 0===t[o]&&void 0!==e?e[o]:t[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):u),m(l.type,f,i||l.key,r||l.ref,null)}function K(n){function l(n){var t,u;return this.getChildContext||(t=new Set,(u={})[l.__c]=this,this.getChildContext=function(){return u},this.componentWillUnmount=function(){t=null},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&t.forEach(function(n){n.__e=!0,M(n)})},this.sub=function(n){t.add(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){t&&t.delete(n),l&&l.call(n)}}),n.children}return l.__c=\"__cC\"+h++,l.__=n,l.Provider=l.__l=(l.Consumer=function(n,l){return n.children(l)}).contextType=l,l}n=v.slice,l={__e:function(n,l,t,u){for(var i,r,o;l=l.__;)if((i=l.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(n)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,u||{}),o=i.__d),o)return i.__E=i}catch(l){n=l}throw n}},t=0,u=function(n){return null!=n&&null==n.constructor},x.prototype.setState=function(n,l){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=w({},this.state),\"function\"==typeof n&&(n=n(w({},t),this.props)),n&&w(t,n),null!=n&&this.__v&&(l&&this._sb.push(l),M(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),M(this))},x.prototype.render=k,i=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,e=function(n,l){return n.__v.__b-l.__v.__b},$.__r=0,f=/(PointerCapture)$|Capture$/i,c=0,s=F(!1),a=F(!0),h=0;export{x as Component,k as Fragment,J as cloneElement,K as createContext,_ as createElement,b as createRef,_ as h,G as hydrate,u as isValidElement,l as options,E as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import{options as r,Fragment as e}from\"preact\";export{Fragment}from\"preact\";var t=/[\"&<]/;function n(r){if(0===r.length||!1===t.test(r))return r;for(var e=0,n=0,o=\"\",f=\"\";n<r.length;n++){switch(r.charCodeAt(n)){case 34:f=\"&quot;\";break;case 38:f=\"&amp;\";break;case 60:f=\"&lt;\";break;default:continue}n!==e&&(o+=r.slice(e,n)),o+=f,e=n+1}return n!==e&&(o+=r.slice(e,n)),o}var o=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,f=0,i=Array.isArray;function u(e,t,n,o,i,u){t||(t={});var a,c,p=t;if(\"ref\"in p)for(c in p={},t)\"ref\"==c?a=t[c]:p[c]=t[c];var l={type:e,props:p,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--f,__i:-1,__u:0,__source:i,__self:u};if(\"function\"==typeof e&&(a=e.defaultProps))for(c in a)void 0===p[c]&&(p[c]=a[c]);return r.vnode&&r.vnode(l),l}function a(r){var t=u(e,{tpl:r,exprs:[].slice.call(arguments,1)});return t.key=t.__v,t}var c={},p=/[A-Z]/g;function l(e,t){if(r.attr){var f=r.attr(e,t);if(\"string\"==typeof f)return f}if(\"ref\"===e||\"key\"===e)return\"\";if(\"style\"===e&&\"object\"==typeof t){var i=\"\";for(var u in t){var a=t[u];if(null!=a&&\"\"!==a){var l=\"-\"==u[0]?u:c[u]||(c[u]=u.replace(p,\"-$&\").toLowerCase()),s=\";\";\"number\"!=typeof a||l.startsWith(\"--\")||o.test(l)||(s=\"px;\"),i=i+l+\":\"+a+s}}return e+'=\"'+i+'\"'}return null==t||!1===t||\"function\"==typeof t||\"object\"==typeof t?\"\":!0===t?e:e+'=\"'+n(t)+'\"'}function s(r){if(null==r||\"boolean\"==typeof r||\"function\"==typeof r)return null;if(\"object\"==typeof r){if(void 0===r.constructor)return r;if(i(r)){for(var e=0;e<r.length;e++)r[e]=s(r[e]);return r}}return n(\"\"+r)}export{u as jsx,l as jsxAttr,u as jsxDEV,s as jsxEscape,a as jsxTemplate,u as jsxs};\n//# sourceMappingURL=jsxRuntime.module.js.map\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=n,e=c.__b,a=c.__r,v=c.diffed,l=c.__c,m=c.unmount,s=c.__;function p(n,t){c.__h&&c.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({}),u.__[n]}function d(n){return o=1,h(D,n)}function h(n,u,i){var o=p(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.__f)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=o.__c.props!==n;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),c&&c.call(this,n,t,r)||i};r.__f=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function y(n,u){var i=p(t++,3);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__H.__h.push(i))}function _(n,u){var i=p(t++,4);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__h.push(i))}function A(n){return o=5,T(function(){return{current:n}},[])}function F(n,t,r){o=6,_(function(){if(\"function\"==typeof n){var r=n(t());return function(){n(null),r&&\"function\"==typeof r&&r()}}if(n)return n.current=t(),function(){return n.current=null}},null==r?r:r.concat(n))}function T(n,r){var u=p(t++,7);return C(u.__H,r)&&(u.__=n(),u.__H=r,u.__h=n),u.__}function q(n,t){return o=8,T(function(){return n},t)}function x(n){var u=r.context[n.__c],i=p(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function P(n,t){c.useDebugValue&&c.useDebugValue(t?t(n):n)}function b(n){var u=p(t++,10),i=d();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function g(){var n=p(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[]}catch(t){n.__H.__h=[],c.__e(t,n.__v)}}c.__b=function(n){r=null,e&&e(n)},c.__=function(n,t){n&&t.__k&&t.__k.__m&&(n.__m=t.__k.__m),s&&s(n,t)},c.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r},c.diffed=function(n){v&&v(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===c.requestAnimationFrame||((i=c.requestAnimationFrame)||w)(j)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),u=r=null},c.__c=function(n,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(n){return!n.__||B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],c.__e(r,n.__v)}}),l&&l(n,t)},c.unmount=function(n){m&&m(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{z(n)}catch(n){t=n}}),r.__H=void 0,t&&c.__e(t,r.__v))};var k=\"function\"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);k&&(t=requestAnimationFrame(r))}function z(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function B(n){var t=r;n.__c=n.__(),r=t}function C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function D(n,t){return\"function\"==typeof t?t(n):t}export{q as useCallback,x as useContext,P as useDebugValue,y as useEffect,b as useErrorBoundary,g as useId,F as useImperativeHandle,_ as useLayoutEffect,T as useMemo,h as useReducer,A as useRef,d as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import { createContext } from 'preact';\n\nimport { noop } from '../../../utils';\nimport { UserEvents } from '../../Analytics/analytics/user-events';\n\nconst defaultUserEvents: UserEvents = {\n    addEvent: noop,\n    addJourneyEvent: noop,\n    addTaskEvent: noop,\n    addPageEvent: noop,\n    addFieldEvent: noop,\n    startEvent: noop,\n    subscribe: noop,\n    updateBaseTrackingPayload: noop,\n    updateSharedEventProperties: noop,\n    unsubscribe: noop,\n} as unknown as UserEvents;\n\nexport const AnalyticsContext = createContext<Partial<UserEvents>>(defaultUserEvents);\n","import { ExternalComponentType } from '../../../components/types';\n\nexport type MixpanelProperty = string | number | boolean | any[] | null | undefined;\n\n/**\n * Level of the funnel that is relevant for this event\n */\ntype ActionLevel = 'journey' | 'task' | 'page' | 'field';\n\n/**\n * The type of action associated with the event\n */\nexport type ActionType = 'add' | 'reset' | 'update';\n\n/**\n * The base event properties that are sent with every event\n */\nexport type BaseEventProperties = {\n    category: 'pie';\n    subCategory: 'pie component';\n    capabilities?: string[];\n    componentName?: ExternalComponentType;\n    countryCode?: string;\n    locale?: string;\n    sdkVersion?: string;\n    userAgent?: string;\n};\n\n/**\n * Additional event properties\n */\nexport interface AdditionalEventProperties {\n    actionType?: ActionType;\n    actionLevel?: ActionLevel;\n    page?: string;\n    field?: string;\n    returnType?: 'backend' | 'validation' | (string & {});\n    returnValue?: string | string[];\n    additionalData?: string | string[];\n    label?: string;\n    category: string;\n    subCategory: string;\n    [key: string]: MixpanelProperty;\n\n    // Mixpanel experiment properties\n    'Experiment name'?: string;\n    'Variant name'?: string;\n}\n\n/**\n * Name of the tracked event\n * Can be either a custom name or one of the pre-defined values\n */\nexport type FilterType =\n    | 'Date filter'\n    | 'Amount filter'\n    | 'Balance account filter'\n    | 'Category filter'\n    | 'Currency filter'\n    | 'PSP reference filter'\n    | 'Status filter';\n\n/**\n * Name of the tracked event\n * Can be either a custom name or one of the pre-defined values\n */\nexport type EventName =\n    | 'Landed on page'\n    | 'Clicked button'\n    | 'Clicked link'\n    | 'Modified filter'\n    | 'Encountered error'\n    | (string & {})\n\n    // Mixpanel experiment event\n    | '$experiment_started';\n\nexport type AnalyticsEventPayload = Required<BaseEventProperties> & AdditionalEventProperties;\n\nexport type EventQueueItem = {\n    name: EventName;\n    properties?: AnalyticsEventPayload;\n};\n\nexport type EmbeddedEventItem = {\n    event: string;\n    properties: AnalyticsEventPayload | Record<string, MixpanelProperty>;\n};\n\ntype UserEventCallback = (eventQueueItem: EventQueueItem) => void;\n\nexport class UserEvents {\n    private readonly queue: EventQueueItem[] = [];\n    private readonly subscriptions: Set<UserEventCallback> = new Set();\n\n    /* function to be called when there is at least one subscriber */\n    private doneWaitingForSubscribers: (() => void) | undefined;\n\n    /** payload of commmon props sent in every event */\n    private baseTrackingPayload: BaseEventProperties;\n\n    /** properties not set with every event but that may be shared between some events\n     * ex. `page` value for `Interacted with form field` events\n     */\n    private sharedEventProperties: Partial<AdditionalEventProperties>;\n\n    constructor(componentName?: ExternalComponentType) {\n        this.baseTrackingPayload = {\n            ...(componentName ? { componentName: componentName } : {}),\n            category: 'pie',\n            subCategory: 'pie component',\n            userAgent: navigator.userAgent,\n        };\n        this.sharedEventProperties = {};\n    }\n\n    protected add(...args: EventQueueItem[]) {\n        this.queue.push(...args);\n    }\n\n    protected notifySubscribers() {\n        if (this.subscriptions.size > 0) {\n            while (this.queue.length > 0) {\n                const nextEvent = this.queue.shift()!;\n                this.subscriptions.forEach((callback: UserEventCallback) => callback(nextEvent));\n            }\n        } else if (this.doneWaitingForSubscribers === undefined) {\n            new Promise<void>(resolve => {\n                this.doneWaitingForSubscribers = resolve;\n            }).then(() => {\n                this.doneWaitingForSubscribers = undefined;\n                this.notifySubscribers();\n            });\n        }\n    }\n\n    /**\n     * Adds an analytics event with all base event properties.\n     */\n    public addEvent(eventName: EventName, properties: AdditionalEventProperties) {\n        const completeEvent = { ...this.baseTrackingPayload, time: Date.now(), ...properties } as AnalyticsEventPayload;\n        this.add({\n            name: eventName,\n            // type: 'add_event',\n            properties: completeEvent,\n        });\n        this.notifySubscribers();\n    }\n\n    /**\n     * Adds an event with context specific to\n     */\n    public addModifyFilterEvent(properties: Omit<AdditionalEventProperties, 'subCategory' | 'label'> & { label?: FilterType; subCategory?: string }) {\n        this.addEvent('Modified filter', {\n            ...properties,\n            subCategory: properties.subCategory ?? 'Filter',\n        } as AdditionalEventProperties);\n    }\n\n    /**\n     * Tracks an experiment for Mixpanel experiment reporting\n     */\n    public trackExperiment({ name, variant }: { name: string; variant: string }) {\n        this.add({\n            // type: 'add_event',\n            name: '$experiment_started',\n            properties: {\n                ...this.baseTrackingPayload,\n                'Experiment name': name,\n                'Variant name': variant,\n            } as AnalyticsEventPayload,\n        });\n    }\n\n    /**\n     * Starts a timer for an event to measure the time it takes for an event to occur. Time is ended when `addEvent` is executed with the same key\n     */\n    public startEvent(eventName: EventName) {\n        this.add({\n            // type: 'start_event',\n            name: eventName,\n        });\n        this.notifySubscribers();\n    }\n\n    /**\n     * Subscribes a callback to analytics events. It gets called every time\n     * one of the above public methods get called, and the event data is passed back as an array.\n     * The callback must have a single argument which is an array of [eventName, eventPayload?].\n     * @example\n     * ```js\n     * const callback = ([eventName, eventPayload]) => console.log(eventName, eventPayload);\n     * this.subscribe(callback);\n     *\n     * const exampleEventPayload = { count: 1, segmentation: { foo: 'bar' } };\n     * this.addEvent('exampleEventDidOccur', exampleEventPayload);\n     *\n     * // `callback` will get called with `['exampleEventDidOccur', exampleEventPayload]`\n     * ```\n     */\n    public subscribe(callback: UserEventCallback) {\n        this.doneWaitingForSubscribers?.();\n        this.subscriptions.add(callback);\n    }\n\n    /**\n     * Sets params that are sent on every event\n     * */\n    public updateBaseTrackingPayload(baseTrackingPayload: Partial<BaseEventProperties>) {\n        this.baseTrackingPayload = { ...this.baseTrackingPayload, ...baseTrackingPayload };\n    }\n\n    /**\n     * Sets params that may be shared between events\n     * */\n    public updateSharedEventProperties = (props: Record<string, MixpanelProperty>) => {\n        this.sharedEventProperties = { ...this.sharedEventProperties, ...props };\n    };\n\n    /**\n     * Removes a subscribed callback\n     */\n    public unsubscribe(callback: UserEventCallback) {\n        if (this.subscriptions.has(callback)) {\n            this.subscriptions.delete(callback);\n        }\n    }\n}\n\nexport const createUserEvents = (analyticsEnabled = true, componentName?: ExternalComponentType): Partial<UserEvents> => {\n    return analyticsEnabled ? new UserEvents(componentName) : {};\n};\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as c,createRef as l,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useLayoutEffect as s,useEffect as h,useCallback as v,useContext as d,useDebugValue as p,useId as m,useImperativeHandle as y,useMemo as _,useReducer as b,useRef as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function E(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function C(n,t){var e=t(),r=a({t:{__:e,u:t}}),u=r[0].t,o=r[1];return s(function(){u.__=e,u.u=t,x(u)&&o({t:u})},[n,e,t]),h(function(){return x(u)&&o({t:u}),n(function(){x(u)&&o({t:u})})},[n]),e}function x(n){var t,e,r=n.u,u=n.__;try{var o=r();return!((t=u)===(e=o)&&(0!==t||1/t==1/e)||t!=t&&e!=e)}catch(n){return!0}}function R(n){n()}function w(n){return n}function k(){return[!1,R]}var I=s;function N(n,t){this.props=n,this.context=t}function M(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:E(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(N.prototype=new n).isPureReactComponent=!0,N.prototype.shouldComponentUpdate=function(n,t){return E(this.props,n)||E(this.state,t)};var T=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),T&&T(n)};var A=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function D(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=A,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var L=function(n,t){return null==n?null:r(r(n).map(t))},O={map:L,forEach:L,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},F=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);F(n,t,e,r)};var U=e.unmount;function V(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return V(n,t,e)})),n}function W(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return W(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n}function P(){this.__u=0,this.o=null,this.__b=null}function j(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function z(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function B(){this.i=null,this.l=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),U&&U(n)},(P.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(e);var u=j(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(c):c())};e.__R=i;var c=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=W(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.o.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},P.prototype.componentWillUnmount=function(){this.o=[]},P.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=V(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__u&=-33),[t(u,null,e.__a?null:n.children),i]};var H=function(n,t,e){if(++e[1]===e[0]&&n.l.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.l.size))for(e=n.i;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.i=e=e[2]}};function Z(n){return this.getChildContext=function(){return n.context},n.children}function Y(n){var e=this,r=n.h;e.componentWillUnmount=function(){o(null,e.v),e.v=null,e.h=null},e.h&&e.h!==r&&e.componentWillUnmount(),e.v||(e.h=r,e.v={nodeType:1,parentNode:r,childNodes:[],contains:function(){return!0},appendChild:function(n){this.childNodes.push(n),e.h.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.h.insertBefore(n,t)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.h.removeChild(n)}}),o(t(Z,{context:e.context},n.__v),e.v)}function $(n,e){var r=t(Y,{__v:n,h:e});return r.containerInfo=e,r}(B.prototype=new n).__a=function(n){var t=this,e=j(t.__v),r=t.l.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),H(t,n,r)):u()};e?e(o):o()}},B.prototype.render=function(n){this.i=null,this.l=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.l.set(t[e],this.i=[1,0,this.i]);return n.children},B.prototype.componentDidUpdate=B.prototype.componentDidMount=function(){var n=this;this.l.forEach(function(t,e){H(n,e,t)})};var q=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,G=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,J=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,K=/[A-Z0-9]/g,Q=\"undefined\"!=typeof document,X=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function nn(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function tn(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var en=e.event;function rn(){}function un(){return this.cancelBubble}function on(){return this.defaultPrevented}e.event=function(n){return en&&(n=en(n)),n.persist=rn,n.isPropagationStopped=un,n.isDefaultPrevented=on,n.nativeEvent=n};var cn,ln={enumerable:!1,configurable:!0,get:function(){return this.class}},fn=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={},o=-1===e.indexOf(\"-\");for(var i in t){var c=t[i];if(!(\"value\"===i&&\"defaultValue\"in t&&null==c||Q&&\"children\"===i&&\"noscript\"===e||\"class\"===i||\"className\"===i)){var l=i.toLowerCase();\"defaultValue\"===i&&\"value\"in t&&null==t.value?i=\"value\":\"download\"===i&&!0===c?c=\"\":\"translate\"===l&&\"no\"===c?c=!1:\"o\"===l[0]&&\"n\"===l[1]?\"ondoubleclick\"===l?i=\"ondblclick\":\"onchange\"!==l||\"input\"!==e&&\"textarea\"!==e||X(t.type)?\"onfocus\"===l?i=\"onfocusin\":\"onblur\"===l?i=\"onfocusout\":J.test(i)&&(i=l):l=i=\"oninput\":o&&G.test(i)?i=i.replace(K,\"-$&\").toLowerCase():null===c&&(c=void 0),\"oninput\"===l&&u[i=l]&&(i=\"oninputCapture\"),u[i]=c}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",ln)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=q,fn&&fn(n)};var an=e.__r;e.__r=function(n){an&&an(n),cn=n.__c};var sn=e.diffed;e.diffed=function(n){sn&&sn(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),cn=null};var hn={ReactCurrentDispatcher:{current:{readContext:function(n){return cn.__n[n.__c].props.value},useCallback:v,useContext:d,useDebugValue:p,useDeferredValue:w,useEffect:h,useId:m,useImperativeHandle:y,useInsertionEffect:I,useLayoutEffect:s,useMemo:_,useReducer:b,useRef:S,useState:a,useSyncExternalStore:C,useTransition:k}}},vn=\"18.3.1\";function dn(n){return t.bind(null,n)}function pn(n){return!!n&&n.$$typeof===q}function mn(n){return pn(n)&&n.type===u}function yn(n){return!!n&&!!n.displayName&&(\"string\"==typeof n.displayName||n.displayName instanceof String)&&n.displayName.startsWith(\"Memo(\")}function _n(n){return pn(n)?f.apply(null,arguments):n}function bn(n){return!!n.__k&&(o(null,n),!0)}function Sn(n){return n&&(n.base||1===n.nodeType&&n)||null}var gn=function(n,t){return n(t)},En=function(n,t){return n(t)},Cn=u,xn=pn,Rn={useState:a,useId:m,useReducer:b,useEffect:h,useLayoutEffect:s,useInsertionEffect:I,useTransition:k,useDeferredValue:w,useSyncExternalStore:C,startTransition:R,useRef:S,useImperativeHandle:y,useMemo:_,useCallback:v,useContext:d,useDebugValue:p,version:\"18.3.1\",Children:O,render:nn,hydrate:tn,unmountComponentAtNode:bn,createPortal:$,createElement:t,createContext:c,createFactory:dn,cloneElement:_n,createRef:l,Fragment:u,isValidElement:pn,isElement:xn,isFragment:mn,isMemo:yn,findDOMNode:Sn,Component:n,PureComponent:N,memo:M,forwardRef:D,flushSync:En,unstable_batchedUpdates:gn,StrictMode:Cn,Suspense:P,SuspenseList:B,lazy:z,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:hn};export{O as Children,N as PureComponent,Cn as StrictMode,P as Suspense,B as SuspenseList,hn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_n as cloneElement,dn as createFactory,$ as createPortal,Rn as default,Sn as findDOMNode,En as flushSync,D as forwardRef,tn as hydrate,xn as isElement,mn as isFragment,yn as isMemo,pn as isValidElement,z as lazy,M as memo,nn as render,R as startTransition,bn as unmountComponentAtNode,gn as unstable_batchedUpdates,w as useDeferredValue,I as useInsertionEffect,C as useSyncExternalStore,k as useTransition,vn as version};\n//# sourceMappingURL=compat.module.js.map\n","import { ComponentChildren, Ref } from 'preact';\nimport { forwardRef } from 'preact/compat';\n\ntype _RenderResult = ComponentChildren | null;\n\n/**\n * Alternative to using `forwardRef` but with fixed type inference.\n * @see [How To Use forwardRef With Generic Components]{@link https://www.totaltypescript.com/forwardref-with-generic-components}\n */\nexport const fixedForwardRef = <P, T>(render: (props: P, ref: Ref<T>) => _RenderResult): ((props: P & { ref?: Ref<T> }) => _RenderResult) =>\n    forwardRef(render);\n\nexport default fixedForwardRef;\n","import { identity, isFunction, noop, sameValue } from '../../../utils';\nimport { MemoComparator, MemoComparatorGetters, MemoComparatorProp } from './types';\n\nexport const memoComparator = (() => {\n    const _comparedProps = new Set<string>();\n\n    const _propHasChanged = <T = {}>(prev: T, next: T, prop: MemoComparatorProp<T>, getters?: MemoComparatorGetters<T>) => {\n        let getter = getters?.[prop];\n        getter = isFunction(getter) ? getter : identity;\n        return !sameValue(getter(prev[prop]), getter(next[prop]));\n    };\n\n    const comparator = (<T = {}>(getters?: MemoComparatorGetters<T>) =>\n        (prev: T, next: T) => {\n            try {\n                for (const prop in prev) {\n                    _comparedProps.add(prop);\n                    if (_propHasChanged(prev, next, prop, getters)) return false;\n                }\n\n                for (const prop in next) {\n                    if (_comparedProps.has(prop)) continue;\n                    _comparedProps.add(prop);\n                    if (_propHasChanged(prev, next, prop, getters)) return false;\n                }\n\n                return true;\n            } finally {\n                _comparedProps.clear();\n            }\n        }) as MemoComparator;\n\n    return Object.defineProperty(comparator, 'exclude', { value: noop });\n})();\n\nexport default memoComparator;\n","import classnames from 'classnames';\nimport { JSX } from 'preact';\n\nconst EXCESS_WHITESPACE_CHAR = /^\\s+|\\s+(?=\\s|$)/g;\n\nexport const parseClassName = (fallbackClassName: string, className: JSX.Signalish<string | undefined>): undefined | string => {\n    const classes = className ? (typeof className === 'string' ? className : className?.value ?? '') : '';\n    return classes.replace(EXCESS_WHITESPACE_CHAR, '') || fallbackClassName.replace(EXCESS_WHITESPACE_CHAR, '') || undefined;\n};\n\nexport const getClassName = (\n    className?: JSX.Signalish<string | undefined>,\n    fallbackClassName?: JSX.Signalish<string | undefined>,\n    requiredClassName?: JSX.Signalish<string | undefined>\n) => classnames(parseClassName('', requiredClassName), parseClassName(parseClassName('', fallbackClassName) || '', className));\n\nexport const getModifierClasses = (prefix: string, modifiers: string[] = [], baseClasses: string[] = []): string =>\n    classnames([...baseClasses, ...modifiers?.map(m => (prefix ? `${prefix}--${m}` : m))]);\n","import { JSXInternal } from 'preact/src/jsx';\nimport { boolify } from '../value/bool';\n\nexport const parseBooleanProp = (prop: boolean | JSXInternal.SignalLike<boolean | undefined> | undefined): boolean =>\n    boolify(prop, (prop as JSXInternal.SignalLike<boolean | undefined>)?.value ?? prop);\n","export const DEFAULT_BUTTON_CLASSNAME = 'adyen-pe-button';\nexport const BUTTON_ANCHOR_CLASSNAME = 'adyen-pe-button__anchor';\nexport const BUTTON_ACTION_CLASSNAME = `${DEFAULT_BUTTON_CLASSNAME}-actions`;\nexport const ICON_BUTTON_CLASSNAME = `${DEFAULT_BUTTON_CLASSNAME}--icon`;\nexport const ICON_BUTTON_CONTENT_CLASSNAME = `${DEFAULT_BUTTON_CLASSNAME}--icon-content`;\nexport const BUTTON_ACTION_CONTAINER_CLASSNAME = `${BUTTON_ACTION_CLASSNAME}__container-wrapper`;\nexport const BUTTON_LABEL_CLASSNAME = `${DEFAULT_BUTTON_CLASSNAME}__label`;\nexport const BUTTON_ICON_RIGHT_CLASSNAME = `${DEFAULT_BUTTON_CLASSNAME}__icon-right`;\nexport const BUTTON_ICON_LEFT_CLASSNAME = `${DEFAULT_BUTTON_CLASSNAME}__icon-left`;\nexport const BUTTON_CONDENSED_CLASSNAME = `${DEFAULT_BUTTON_CLASSNAME}--condensed`;\nexport const BUTTON_FULL_WIDTH_CLASSNAME = `${DEFAULT_BUTTON_CLASSNAME}--full-width`;\nexport const BUTTON_LOADING_CLASSNAME = `${DEFAULT_BUTTON_CLASSNAME}--loading`;\nexport const BUTTON_LABEL_CENTERED_CLASSNAME = `${BUTTON_LABEL_CLASSNAME}--centered`;\n","import './Spinner.scss';\n\ninterface SpinnerProps {\n    /**\n     * Whether the spinner should be rendered inline\n     */\n    inline?: boolean;\n\n    /**\n     * size of the spinner (x-small/small/medium/large)\n     */\n    size?: 'x-small' | 'small' | 'medium' | 'large';\n}\n\n/**\n * Default Loading Spinner\n * @param props -\n */\nconst Spinner = ({ inline = false, size = 'large' }: SpinnerProps) => (\n    <div className={`adyen-pe-spinner__wrapper ${inline ? 'adyen-pe-spinner__wrapper--inline' : ''}`}>\n        <div className={`adyen-pe-spinner adyen-pe-spinner--${size}`} />\n    </div>\n);\n\nexport default Spinner;\n","export const DEFAULT_TYPOGRAPHY_CLASSNAME = 'adyen-pe-typography';\n","export enum TypographyVariant {\n    CAPTION = 'caption',\n    BODY = 'body',\n    SUBTITLE = 'subtitle',\n    TITLE = 'title',\n}\n\nexport enum TypographyModifier {\n    WIDE = 'wide',\n    STRONGER = 'stronger',\n    STRONGER_WIDE = 'stronger-wide',\n    STRONGEST = 'strongest',\n    STRONGEST_WIDE = 'strongest-wide',\n    MEDIUM = 'm',\n    LARGE = 'l',\n    MOBILE = 'mobile',\n}\n\nexport enum TypographyElement {\n    H1 = 'h1',\n    H2 = 'h2',\n    H3 = 'h3',\n    H4 = 'h4',\n    H5 = 'h5',\n    H6 = 'h6',\n    DIV = 'div',\n    PARAGRAPH = 'p',\n    SPAN = 'span',\n}\n","import { DEFAULT_TYPOGRAPHY_CLASSNAME } from './constants';\nimport cx from 'classnames';\nimport { useMemo } from 'preact/hooks';\nimport { TypographyElement, TypographyModifier, TypographyVariant } from './types';\nimport { memo, PropsWithChildren } from 'preact/compat';\nimport './Typography.scss';\nimport { ComponentChild } from 'preact';\n\ninterface TypographyProps {\n    id?: string;\n    el?: TypographyElement;\n    stronger?: boolean;\n    strongest?: boolean;\n    variant: TypographyVariant;\n    medium?: boolean;\n    large?: boolean;\n    wide?: boolean;\n    children: ComponentChild;\n    className?: string;\n    testId?: string;\n}\n\nfunction Typography({ el, id, className, stronger, strongest, variant, medium, large, testId, wide, children }: PropsWithChildren<TypographyProps>) {\n    const Tag = el || 'p';\n    const conditionalClasses = useMemo(\n        () => ({\n            // Caption\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.CAPTION}`]: variant === TypographyVariant.CAPTION,\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.CAPTION}-${TypographyModifier.WIDE}`]:\n                variant === TypographyVariant.CAPTION && wide,\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.CAPTION}-${TypographyModifier.STRONGER}`]:\n                variant === TypographyVariant.CAPTION && stronger,\n\n            // Body\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.BODY}`]: variant === TypographyVariant.BODY,\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.BODY}-${TypographyModifier.WIDE}`]: variant === TypographyVariant.BODY && wide,\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.BODY}-${TypographyModifier.STRONGER}`]:\n                variant === TypographyVariant.BODY && stronger,\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.BODY}-${TypographyModifier.STRONGEST}`]:\n                variant === TypographyVariant.BODY && strongest,\n\n            // Subtitle\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.SUBTITLE}`]: variant === TypographyVariant.SUBTITLE,\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.SUBTITLE}-${TypographyModifier.STRONGER}`]:\n                variant === TypographyVariant.SUBTITLE && stronger,\n\n            // Title\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.TITLE}`]: variant === TypographyVariant.TITLE && !medium && !large,\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.TITLE}-${TypographyModifier.MEDIUM}`]:\n                variant === TypographyVariant.TITLE && medium,\n            [`${DEFAULT_TYPOGRAPHY_CLASSNAME}--${TypographyVariant.TITLE}-${TypographyModifier.LARGE}`]: variant === TypographyVariant.TITLE && large,\n        }),\n        [variant, wide, stronger, medium, large, strongest]\n    );\n\n    return (\n        <Tag id={id} className={cx([`${DEFAULT_TYPOGRAPHY_CLASSNAME}`, conditionalClasses, className])} data-testid={testId}>\n            {children}\n        </Tag>\n    );\n}\n\nexport default memo(Typography);\n","import { getModifierClasses } from '../../../../utils/preact';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { JSXInternal } from 'preact/src/jsx';\nimport cx from 'classnames';\nimport {\n    BUTTON_LABEL_CENTERED_CLASSNAME,\n    BUTTON_CONDENSED_CLASSNAME,\n    BUTTON_FULL_WIDTH_CLASSNAME,\n    BUTTON_ICON_LEFT_CLASSNAME,\n    BUTTON_ICON_RIGHT_CLASSNAME,\n    BUTTON_LABEL_CLASSNAME,\n    BUTTON_LOADING_CLASSNAME,\n    ICON_BUTTON_CLASSNAME,\n    ICON_BUTTON_CONTENT_CLASSNAME,\n} from '../constants';\nimport Spinner from '../../Spinner';\nimport Typography from '../../Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../Typography/types';\nimport { BaseButtonProps, RegularButtonProps } from '../types';\nimport { PropsWithChildren } from 'preact/compat';\n\nconst useButton = (\n    className: string,\n    classNameModifiers: string[],\n    defaultClassName: string,\n    disabled: boolean,\n    props: PropsWithChildren<BaseButtonProps>,\n    type: RegularButtonProps['type'],\n    onClick?: JSXInternal.MouseEventHandler<HTMLButtonElement> | JSXInternal.MouseEventHandler<HTMLAnchorElement>\n) => {\n    const { children, iconLeft, iconRight, iconButton = false, fullWidth, condensed, state = 'default' } = props;\n\n    const click = useCallback(\n        (e: any) => {\n            // Only prevent default for non-submit buttons\n            // Submit buttons should trigger form submission naturally\n            if (type !== 'submit') {\n                e.preventDefault();\n            }\n\n            if (!disabled) {\n                onClick?.(e);\n            }\n        },\n        [disabled, onClick, type]\n    );\n\n    const classes = useMemo(\n        () => getModifierClasses(defaultClassName, classNameModifiers, [defaultClassName, className]),\n        [defaultClassName, classNameModifiers, className]\n    );\n\n    const allProps = useMemo(\n        () => ({\n            ...props,\n            className: cx(classes, {\n                [ICON_BUTTON_CLASSNAME]: iconButton,\n                [BUTTON_CONDENSED_CLASSNAME]: condensed,\n                [BUTTON_FULL_WIDTH_CLASSNAME]: fullWidth,\n                [BUTTON_LOADING_CLASSNAME]: state === 'loading',\n            }),\n            disabled: disabled || state === 'loading',\n        }),\n        [classes, condensed, disabled, fullWidth, iconButton, props, state]\n    );\n\n    const allChildren = useMemo(\n        () =>\n            iconButton ? (\n                <div className={`${ICON_BUTTON_CONTENT_CLASSNAME}`}>{children}</div>\n            ) : (\n                <>\n                    {state === 'loading' && <Spinner size={'x-small'} />}\n                    {iconLeft && <span className={BUTTON_ICON_LEFT_CLASSNAME}>{iconLeft}</span>}\n                    <Typography\n                        className={cx(BUTTON_LABEL_CLASSNAME, {\n                            [BUTTON_LABEL_CENTERED_CLASSNAME]: props.align === 'center',\n                        })}\n                        el={TypographyElement.SPAN}\n                        variant={TypographyVariant.BODY}\n                    >\n                        {children}\n                    </Typography>\n                    {iconRight && <span className={BUTTON_ICON_RIGHT_CLASSNAME}>{iconRight}</span>}\n                </>\n            ),\n        [children, iconButton, iconLeft, iconRight, props.align, state]\n    );\n\n    return { classes, click, allChildren, allProps };\n};\n\nexport default useButton;\n","import type { VNode, h } from 'preact';\nimport { AnchorHTMLAttributes, ButtonHTMLAttributes } from 'preact/compat';\n\nexport type BaseButtonProps = {\n    classNameModifiers?: string[];\n    variant?: ButtonVariant;\n    iconLeft?: VNode<Element>;\n    iconRight?: VNode<Element>;\n    inline?: boolean;\n    iconButton?: boolean;\n    fullWidth?: boolean;\n    condensed?: boolean;\n    state?: 'loading' | 'default';\n    disabled?: h.JSX.Signalish<boolean | undefined>;\n    align?: 'center' | 'left' | 'right';\n};\n\nexport interface AnchorButtonProps extends AnchorHTMLAttributes<HTMLAnchorElement>, BaseButtonProps {}\n\nexport interface RegularButtonProps extends ButtonHTMLAttributes<HTMLButtonElement>, BaseButtonProps {}\n\nexport type ButtonProps = AnchorButtonProps | RegularButtonProps;\n\nexport enum ButtonVariant {\n    PRIMARY = 'primary',\n    SECONDARY = 'secondary',\n    TERTIARY = 'tertiary',\n    TERTIARY_WITH_BACKGROUND = 'tertiary-with-background',\n    LINK = 'link',\n}\n","import useButton from './hooks/useButton';\nimport { DEFAULT_BUTTON_CLASSNAME } from './constants';\nimport { fixedForwardRef, parseBooleanProp, parseClassName } from '../../../utils/preact';\nimport { Ref } from 'preact';\nimport { useMemo } from 'preact/hooks';\nimport { ButtonVariant, RegularButtonProps } from './types';\nimport './Button.scss';\n\n// TODO: Reuse BaseButton component within Button component\nfunction Button(props: RegularButtonProps, ref: Ref<HTMLButtonElement> | undefined) {\n    const classNameValue = useMemo(() => parseClassName('', props.className) || '', [props.className]);\n    const disabledValue = useMemo(() => parseBooleanProp(props.disabled || false), [props.disabled]);\n\n    const { click, allChildren, allProps } = useButton(\n        classNameValue,\n        [...(props.classNameModifiers || []), props.variant || ButtonVariant.PRIMARY],\n        DEFAULT_BUTTON_CLASSNAME,\n        disabledValue,\n        props,\n        props.type,\n        props.onClick\n    );\n\n    const { classNameModifiers, ...restOfAllProps } = allProps;\n    return (\n        <button {...restOfAllProps} ref={ref as Ref<HTMLButtonElement>} type={props.type || 'button'} onClick={click}>\n            {allChildren}\n        </button>\n    );\n}\n\nexport default fixedForwardRef(Button);\n","import { createContext } from 'preact';\nimport { noop } from '../../utils';\nimport { CommonPropsTypes, CoreProviderProps } from './types';\nimport Localization from '../Localization';\n\nexport const CoreContext = createContext<CoreProviderProps & { i18n: Localization['i18n'] }>({\n    i18n: new Localization().i18n,\n    loadingContext: '',\n    commonProps: {} as CommonPropsTypes,\n    updateCore: noop,\n    componentRef: { current: null },\n});\n","import { useContext } from 'preact/hooks';\nimport { CoreContext } from './CoreContext';\n\nconst useCoreContext = () => useContext(CoreContext);\n\nexport default useCoreContext;\n","import cx from 'classnames';\nimport Button from '../Button';\nimport Typography from '../Typography/Typography';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { TypographyElement, TypographyVariant } from '../Typography/types';\nimport { TranslationKey } from '../../../translations';\nimport { JSXInternal } from 'preact/src/jsx';\nimport { useCallback } from 'preact/hooks';\nimport './ErrorMessageDisplay.scss';\n\nconst BASE_CLASS = 'adyen-pe-error-message-display';\nexport const IMAGE_BREAKPOINT_MEDIUM_PX = 680;\n\nconst classes = {\n    base: BASE_CLASS,\n    base_absolutePosition: BASE_CLASS + '--absolute-position',\n    base_centered: BASE_CLASS + '--centered',\n    base_outlined: BASE_CLASS + '--outlined',\n    base_withBackground: BASE_CLASS + '--with-background',\n    base_withHeaderOffset: BASE_CLASS + '--with-header-offset',\n    base_condensed: BASE_CLASS + '--condensed',\n    button: BASE_CLASS + '__button',\n    illustration: BASE_CLASS + '__illustration',\n};\n\ntype ErrorMessageDisplayProps = {\n    title: TranslationKey;\n    message?: TranslationKey | TranslationKey[];\n    imageDesktop?: string;\n    imageMobile?: string;\n    withImage?: boolean;\n    centered?: boolean;\n    refreshComponent?: boolean;\n    onContactSupport?: () => void;\n    translationValues?: { [k in TranslationKey]?: JSXInternal.Element | null };\n    absolutePosition?: boolean;\n    outlined?: boolean;\n    renderSecondaryButton?: () => JSXInternal.Element;\n    withBackground?: boolean;\n    withHeaderOffset?: boolean;\n    condensed?: boolean;\n};\n\nconst ErrorMessageSeparator = () => (\n    <>\n        {' ' /* collapsed whitespace */}\n        <br />\n        {' ' /* collapsed whitespace */}\n    </>\n);\n\nexport const ErrorMessageDisplay = ({\n    title,\n    message,\n    imageDesktop,\n    imageMobile,\n    withImage,\n    centered,\n    refreshComponent,\n    onContactSupport,\n    translationValues,\n    absolutePosition = true,\n    outlined = true,\n    renderSecondaryButton,\n    withBackground,\n    withHeaderOffset,\n    condensed,\n}: ErrorMessageDisplayProps) => {\n    const { i18n, updateCore, getImageAsset } = useCoreContext();\n\n    const renderMessage = useCallback(\n        (errorMessage: TranslationKey | TranslationKey[]) =>\n            Array.isArray(errorMessage)\n                ? errorMessage.map((message, i) => (\n                      <>\n                          {i > 0 && <ErrorMessageSeparator />}\n                          {i18n.get(message)}\n                          {translationValues?.[message]}\n                      </>\n                  ))\n                : i18n.get(errorMessage),\n        [i18n, translationValues]\n    );\n\n    return (\n        <div\n            className={cx(classes.base, {\n                [classes.base_absolutePosition]: absolutePosition,\n                [classes.base_centered]: centered,\n                [classes.base_outlined]: outlined,\n                [classes.base_withBackground]: withBackground !== false && !outlined,\n                [classes.base_withHeaderOffset]: withHeaderOffset,\n                [classes.base_condensed]: condensed,\n            })}\n        >\n            {(imageDesktop || imageMobile || withImage) && (\n                <div className={classes.illustration}>\n                    <picture>\n                        <source type=\"image/svg+xml\" media={`(min-width: ${IMAGE_BREAKPOINT_MEDIUM_PX}px)`} srcSet={imageDesktop} />\n                        <source\n                            type=\"image/svg+xml\"\n                            media={`(max-width: ${IMAGE_BREAKPOINT_MEDIUM_PX}px)`}\n                            srcSet={imageMobile ?? getImageAsset?.({ name: 'wrong-environment', subFolder: 'images/small' })}\n                        />\n                        <img srcSet={imageDesktop ?? getImageAsset?.({ name: 'wrong-environment' })} alt=\"\" />\n                    </picture>\n                </div>\n            )}\n\n            <Typography el={TypographyElement.DIV} variant={TypographyVariant.TITLE}>\n                {i18n.get(title)}\n            </Typography>\n\n            {message && <Typography variant={TypographyVariant.BODY}>{renderMessage(message)}</Typography>}\n\n            {(onContactSupport || refreshComponent || renderSecondaryButton) && (\n                <div className={classes.button}>\n                    {renderSecondaryButton && renderSecondaryButton()}\n                    {onContactSupport && <Button onClick={onContactSupport}>{i18n.get('common.actions.contactSupport.labels.reachOut')}</Button>}\n                    {!onContactSupport && refreshComponent && (\n                        <Button onClick={updateCore}>{i18n.get('common.actions.refresh.labels.default')}</Button>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n};\n","import { isFunction } from '../../../../../../utils';\nimport AuthSession from '../../../AuthSession';\nimport type { ExternalComponentAvailabilityRegistry } from '../types';\n\nconst getComponentAvailabilityFromEndpoint = (context: AuthSession['context'], endpoint: keyof AuthSession['context']['endpoints']) => {\n    return isFunction(context.endpoints[endpoint]);\n};\n\nconst componentAvailabilityRegistry: ExternalComponentAvailabilityRegistry = {\n    transactions: context => getComponentAvailabilityFromEndpoint(context, 'getTransactions'),\n    transactionDetails: context => getComponentAvailabilityFromEndpoint(context, 'getTransaction'),\n    payouts: context => getComponentAvailabilityFromEndpoint(context, 'getPayouts'),\n    payoutDetails: context => getComponentAvailabilityFromEndpoint(context, 'getPayout'),\n    reports: context => getComponentAvailabilityFromEndpoint(context, 'getReports'),\n    capitalOverview: context => getComponentAvailabilityFromEndpoint(context, 'getDynamicGrantOffersConfiguration'),\n    capitalOffer: context => getComponentAvailabilityFromEndpoint(context, 'getDynamicGrantOffer'),\n    disputes: context => getComponentAvailabilityFromEndpoint(context, 'getDisputeList'),\n    disputesManagement: context => getComponentAvailabilityFromEndpoint(context, 'getDisputeDetail'),\n    paymentLinksOverview: context => getComponentAvailabilityFromEndpoint(context, 'getPaymentLinks'),\n    paymentLinkCreation: context => getComponentAvailabilityFromEndpoint(context, 'getPayByLinkConfiguration'),\n    paymentLinkSettings: context => getComponentAvailabilityFromEndpoint(context, 'getPayByLinkSettings'),\n    paymentLinkDetails: context => getComponentAvailabilityFromEndpoint(context, 'getPayByLinkPaymentLinkById'),\n};\n\nexport default componentAvailabilityRegistry;\n","import AuthSession from '../AuthSession';\nimport { isWatchlistUnsubscribeToken } from '../../../../primitives/reactive/watchlist';\nimport { createDeferred } from '../../../../primitives/async/deferred';\nimport { boolOrTrue } from '../../../../utils';\n\nconst sessionReady = async (session: AuthSession) => {\n    const ready = createDeferred<void>();\n    const readyPromise = ready.promise;\n    const refreshInProgress = session.context.refreshing;\n    let didTriggerRefresh: boolean | undefined = undefined;\n    let canRefreshSession: boolean | undefined = undefined;\n\n    let sessionUnsubscribe = session.subscribe(maybeUnsubscribeToken => {\n        if (isWatchlistUnsubscribeToken(maybeUnsubscribeToken)) {\n            ready.resolve();\n            return;\n        }\n\n        didTriggerRefresh ??= session.context.refreshing;\n\n        if (session.context.refreshing) return;\n\n        if (boolOrTrue(session.context.isExpired)) {\n            if ((canRefreshSession ??= !(refreshInProgress || didTriggerRefresh))) {\n                canRefreshSession = false;\n                session.refresh();\n                return;\n            }\n        }\n\n        // Session has been refreshed (likely to have an active session)\n        ready.resolve();\n    });\n\n    readyPromise.finally(() => {\n        // Unsubscribe from session immediately readyPromise settles\n        sessionUnsubscribe();\n        sessionUnsubscribe = null!;\n    });\n\n    return readyPromise;\n};\n\nexport default sessionReady;\n","import { boolOrFalse } from '../../../../../utils';\nimport componentAvailabilityRegistry from './helpers/componentAvailabilityRegistry';\nimport type { ExternalComponentType } from '../../../../../components/types';\nimport AuthSession from '../../AuthSession';\nimport sessionReady from '../sessionReady';\n\nconst sessionAwareComponentAvailability = async (type: ExternalComponentType, session: AuthSession) => {\n    await sessionReady(session);\n    return boolOrFalse(await componentAvailabilityRegistry[type]?.(session.context));\n};\n\nexport default sessionAwareComponentAvailability;\n","import { ExternalComponentType } from '../../../../../../components/types';\nimport { TranslationKey } from '../../../../../../translations';\n\nconst componentAvailabilityErrors = (type: ExternalComponentType): TranslationKey => {\n    switch (type) {\n        case 'transactions':\n            return 'transactions.overview.errors.unavailable';\n        case 'payouts':\n            return 'payouts.overview.errors.unavailable';\n        case 'reports':\n            return 'reports.overview.errors.unavailable';\n        case 'disputes':\n            return 'disputes.overview.common.errors.unavailable';\n        case 'transactionDetails':\n            return 'transactions.details.errors.unavailable';\n        case 'payoutDetails':\n            return 'payouts.details.errors.unavailable';\n        case 'disputesManagement':\n            return 'disputes.management.common.errors.unavailable';\n        case 'paymentLinksOverview':\n            return 'payByLink.overview.errors.unavailable';\n        default:\n            return 'common.errors.componentUnavailable';\n    }\n};\n\nexport default componentAvailabilityErrors;\n","import { createContext, toChildArray } from 'preact';\nimport { useContext, useEffect, useMemo, useState } from 'preact/hooks';\nimport { ErrorMessageDisplay } from '../../components/internal/ErrorMessageDisplay/ErrorMessageDisplay';\nimport { AuthSession } from './session/AuthSession';\nimport { isWatchlistUnsubscribeToken } from '../../primitives/reactive/watchlist';\nimport sessionAwareComponentAvailability, { componentAvailabilityErrors } from './session/utils/sessionAwareComponentAvailability';\nimport { asyncNoop, EMPTY_OBJECT, isUndefined, noop } from '../../utils';\nimport type { ConfigProviderProps } from './types';\n\nconst ConfigContext = createContext<AuthSession['context'] & Pick<AuthSession, 'http' | 'refresh'>>({\n    endpoints: EMPTY_OBJECT,\n    extraConfig: EMPTY_OBJECT,\n    hasError: false,\n    http: asyncNoop,\n    isExpired: undefined,\n    isFrozen: false,\n    refresh: noop,\n    refreshing: false,\n});\n\nexport const ConfigProvider = ({ children, session, type }: ConfigProviderProps) => {\n    const { http, refresh } = useMemo(() => session, [session]);\n    const [, setContextCounter] = useState(0);\n    const [unsubscribeCounter, setUnsubscribeCounter] = useState(0);\n    const [hasPermission, setHasPermission] = useState<undefined | boolean>();\n\n    useEffect(() => {\n        sessionAwareComponentAvailability(type, session).then(setHasPermission);\n    }, [session, type]);\n\n    useEffect(() => {\n        return session.subscribe(maybeContext => {\n            const stateUpdater = isWatchlistUnsubscribeToken(maybeContext) ? setUnsubscribeCounter : setContextCounter;\n            stateUpdater(count => count + 1);\n        });\n    }, [unsubscribeCounter]);\n\n    return (\n        <ConfigContext.Provider value={{ ...session.context, http, refresh }}>\n            {!isUndefined(hasPermission) &&\n                (hasPermission ? (\n                    toChildArray(children)\n                ) : (\n                    <ErrorMessageDisplay\n                        withImage\n                        centered\n                        title={'common.errors.somethingWentWrong'}\n                        message={[componentAvailabilityErrors(type), 'common.errors.contactSupport']}\n                    />\n                ))}\n        </ConfigContext.Provider>\n    );\n};\n\nexport const useConfigContext = () => useContext(ConfigContext);\nexport default useConfigContext;\n","import { useState, useCallback, useRef, useMemo, useEffect } from 'preact/hooks';\nimport { ALREADY_RESOLVED_PROMISE, EMPTY_OBJECT, isFunction, isNumber, tryResolve } from '../../utils';\nimport { AdyenErrorResponse } from '../../core/Http/types';\n\ntype MutationOptions<ResponseType> = {\n    onSuccess?: (data: ResponseType) => void | Promise<void>;\n    onError?: (error: Error | AdyenErrorResponse) => void | Promise<void>;\n    onSettled?: (data: ResponseType | undefined, error: Error | AdyenErrorResponse | null) => void | Promise<void>;\n    retry?: number | boolean;\n    retryDelay?: number | ((retryAttempt: number) => number);\n    shouldRetry?: (error: AdyenErrorResponse) => boolean;\n};\ntype MutationStatus = 'idle' | 'loading' | 'success' | 'error';\n\nconst catchCallback = (reason: unknown) => {\n    setTimeout(() => {\n        throw reason;\n    }, 0);\n};\n\nfunction useMutation<queryFn extends (...args: any[]) => any, ResponseType extends Awaited<ReturnType<queryFn>>>({\n    queryFn,\n    options,\n}: {\n    queryFn: queryFn | undefined;\n    options?: MutationOptions<ResponseType>;\n}) {\n    const { retry = false, retryDelay = 1000, onSuccess, onError, onSettled, shouldRetry } = options || (EMPTY_OBJECT as NonNullable<typeof options>);\n\n    const [data, setData] = useState<ResponseType | null>(null);\n    const [error, setError] = useState<Error | AdyenErrorResponse | null>(null);\n    const [status, setStatus] = useState<MutationStatus>('idle');\n\n    // Use refs for mutable values that shouldn't trigger re-renders\n    const mountedRef = useRef(true);\n    const retryCountRef = useRef(0);\n\n    const reset = useCallback(() => {\n        setData(null);\n        setError(null);\n        setStatus('idle');\n        retryCountRef.current = 0;\n    }, []);\n\n    const resetRetries = useCallback(() => {\n        retryCountRef.current = 0;\n    }, []);\n\n    const mutate = useCallback(\n        async (...variables: Parameters<queryFn>): Promise<ResponseType> => {\n            try {\n                setStatus('loading');\n                setError(null);\n\n                const result = await queryFn?.(...variables);\n\n                // Only update state if component is still mounted\n                if (mountedRef.current) {\n                    setData(result);\n                    setStatus('success');\n                }\n\n                ALREADY_RESOLVED_PROMISE.then(() => {\n                    onSuccess && tryResolve(onSuccess, result).catch(catchCallback);\n                    onSettled && tryResolve(onSettled, result, null).catch(catchCallback);\n                    resetRetries();\n                });\n\n                return result;\n            } catch (error: any) {\n                let maxRetries = 0;\n                if (isNumber(retry) && (shouldRetry ? shouldRetry(error) : true)) {\n                    maxRetries = Math.max(0, Math.floor(retry));\n                } else {\n                    maxRetries = 0;\n                }\n\n                // Handle retries\n                if (retryCountRef.current++ < maxRetries) {\n                    const delay = isFunction(retryDelay) ? retryDelay(retryCountRef.current) : retryDelay ?? 1000;\n\n                    await new Promise(resolve => setTimeout(resolve, delay));\n\n                    return mutate(...variables);\n                }\n\n                // Only update state if component is still mounted\n                if (mountedRef.current) {\n                    setError(error);\n                    setStatus('error');\n                }\n\n                // Run error callbacks\n                ALREADY_RESOLVED_PROMISE.then(() => {\n                    onError && tryResolve(onError, error).catch(catchCallback);\n                    onSettled && tryResolve(onSettled, undefined, error).catch(catchCallback);\n                    resetRetries();\n                });\n\n                throw error;\n            }\n        },\n        [queryFn, onSuccess, onSettled, retry, shouldRetry, retryDelay, resetRetries, onError]\n    );\n\n    // Cleanup on unmount\n    useEffect(() => {\n        return () => {\n            mountedRef.current = false;\n        };\n    }, []);\n\n    return useMemo(\n        () => ({\n            data,\n            error,\n            status,\n            isIdle: status === 'idle',\n            isLoading: status === 'loading',\n            isSuccess: status === 'success',\n            isError: status === 'error',\n            mutate,\n            reset,\n        }),\n        [data, error, status, mutate, reset]\n    );\n}\n\nexport default useMutation;\n","import { useCallback } from 'preact/hooks';\nimport { useConfigContext } from '../../core/ConfigContext';\nimport useMutation from '../useMutation/useMutation';\nimport { EmbeddedEventItem } from '../../core/Analytics/analytics/user-events';\nimport { encodeAnalyticsEvent } from '../../core/Analytics/analytics/utils';\nimport { ExternalComponentType } from '../../components/types';\nimport { EMPTY_OBJECT } from '../../utils';\n\nexport const usePushAnalyticEvent = () => {\n    const { sendTrackEvent } = useConfigContext().endpoints;\n\n    const { mutate: sendAnalytics } = useMutation({\n        queryFn: sendTrackEvent,\n    });\n\n    const track = useCallback(\n        (options: URLSearchParams, componentName?: ExternalComponentType) =>\n            sendAnalytics?.(\n                {\n                    body: options.toString(),\n                    contentType: 'application/x-www-form-urlencoded',\n                    keepalive: true,\n                },\n                {\n                    ...(componentName\n                        ? {\n                              query: {\n                                  component: componentName,\n                              },\n                          }\n                        : EMPTY_OBJECT),\n                }\n            ),\n        [sendAnalytics]\n    );\n\n    return useCallback(\n        (options: EmbeddedEventItem) => {\n            const componentName = options.properties.componentName as ExternalComponentType;\n            const data = encodeAnalyticsEvent(options);\n            if (data) {\n                track(data, componentName);\n            }\n        },\n        [track]\n    );\n};\n","import type { ComponentChildren } from 'preact';\nimport { PropsWithChildren } from 'preact/compat';\nimport { useCallback, useEffect, useMemo } from 'preact/hooks';\nimport { AnalyticsContext } from './AnalyticsContext';\nimport { createUserEvents, type EventQueueItem } from '../../Analytics/analytics/user-events';\nimport { usePushAnalyticEvent } from '../../../hooks/useAnalytics/usePushAnalyticEvent';\nimport { ExternalComponentType } from '../../../components/types';\n\nexport interface AnalyticsProviderProps {\n    componentName?: ExternalComponentType;\n    analyticsEnabled: boolean;\n    children?: ComponentChildren;\n}\n\nexport const AnalyticsProvider = ({ children, componentName, analyticsEnabled }: PropsWithChildren<AnalyticsProviderProps>) => {\n    const pushAnalyticsEvent = usePushAnalyticEvent();\n\n    const pushEvent = useCallback(\n        (data: EventQueueItem) => {\n            const { name, properties } = data;\n            pushAnalyticsEvent({\n                event: name,\n                properties: properties || {},\n            });\n        },\n        [pushAnalyticsEvent]\n    );\n\n    const userEvents = useMemo(() => {\n        const userEvents = createUserEvents(analyticsEnabled, componentName);\n\n        userEvents.updateBaseTrackingPayload?.({\n            sdkVersion: process.env.VITE_VERSION,\n            userAgent: navigator.userAgent,\n        });\n\n        return userEvents;\n    }, [analyticsEnabled, componentName]);\n\n    useEffect(() => {\n        if (analyticsEnabled) {\n            userEvents.subscribe?.(pushEvent);\n            return () => userEvents.unsubscribe?.(pushEvent);\n        }\n    }, [analyticsEnabled, pushEvent, userEvents]);\n\n    return <AnalyticsContext.Provider value={userEvents}>{children}</AnalyticsContext.Provider>;\n};\n","import { useCallback, useState } from 'preact/hooks';\n\nconst useBooleanState = (initialState = false) => {\n    const [state, setState] = useState(initialState);\n    const updateState = useCallback((state: boolean) => setState(state), []);\n    const toggleState = useCallback(() => setState(state => !state), []);\n    return [state, updateState, toggleState] as const;\n};\n\nexport default useBooleanState;\n","import { toChildArray } from 'preact';\nimport { useEffect, useMemo } from 'preact/hooks';\nimport { CoreContext } from './CoreContext';\nimport { CoreProviderProps } from './types';\nimport useBooleanState from '../../hooks/useBooleanState';\nimport Localization from '../Localization';\n\n/**\n * CoreProvider Component\n * Wraps a component delaying the render until after the i18n module is fully loaded\n */\nconst CoreProvider = ({\n    i18n = new Localization().i18n,\n    children,\n    commonProps: _commonProps,\n    loadingContext: _loadingContext,\n    updateCore,\n    externalErrorHandler,\n    componentRef,\n    getImageAsset,\n    getDatasetAsset,\n    getCdnDataset,\n    getCdnConfig,\n}: CoreProviderProps) => {\n    const [ready, setReady] = useBooleanState(false);\n    const commonProps = useMemo(() => _commonProps || {}, [_commonProps]);\n    const loadingContext = useMemo(() => _loadingContext ?? '', [_loadingContext]);\n\n    useEffect(() => {\n        (async () => {\n            await i18n?.ready;\n            setReady(true);\n        })().catch();\n    }, []);\n\n    const coreContextValues = useMemo(\n        () => ({\n            i18n,\n            commonProps,\n            loadingContext,\n            updateCore,\n            externalErrorHandler,\n            componentRef,\n            getImageAsset,\n            getDatasetAsset,\n            getCdnConfig,\n            getCdnDataset,\n        }),\n        [\n            commonProps,\n            componentRef,\n            externalErrorHandler,\n            i18n,\n            loadingContext,\n            getImageAsset,\n            getDatasetAsset,\n            getCdnConfig,\n            getCdnDataset,\n            updateCore,\n        ]\n    );\n\n    if (!ready) return null;\n\n    return <CoreContext.Provider value={coreContextValues}>{toChildArray(children)}</CoreContext.Provider>;\n};\n\nexport default CoreProvider;\n","import { ComponentChild, render } from 'preact';\nimport { BaseElementProps, BaseElementState, ExternalComponentType } from '../types';\nimport { isString, uuid } from '../../utils';\n\nclass BaseElement<P> {\n    public static type: ExternalComponentType;\n\n    public _component: ComponentChild | Error;\n    public _node: Document | ShadowRoot | DocumentFragment | Element | null = null;\n    public readonly _id = `${(this.constructor as typeof BaseElement)?.type}-${uuid()}`;\n\n    public defaultProps = {};\n    public props: P & BaseElementProps;\n    public state: BaseElementState = {};\n\n    protected constructor(props: P & BaseElementProps) {\n        this.props = this.formatProps({ ...this?.defaultProps, ...props });\n        this.props.core.registerComponent(this);\n    }\n\n    /**\n     * Executed during creation of any element.\n     * Gives a chance to any component to format the props we're receiving.\n     */\n    protected formatProps(props: P & BaseElementProps): any {\n        return props;\n    }\n\n    /**\n     * Executed on the `data` getter.\n     * Returns the component data necessary for making a request\n     */\n    protected formatData() {\n        return {};\n    }\n\n    protected setState(newState: object): void {\n        this.state = { ...this.state, ...newState };\n    }\n\n    /**\n     * Returns the component data ready to submit to the Checkout API\n     * Note: this does not ensure validity, check isValid first\n     */\n    get data(): any {\n        return {\n            ...this.formatData(),\n            clientStateDataIndicator: true,\n        };\n    }\n\n    public render(): ComponentChild | Error {\n        // render() not implemented in the element\n        throw new Error('Component cannot be rendered.');\n    }\n\n    /**\n     * Mounts an element into the dom\n     * @param domNode - Node (or selector) where we will mount the element\n     * @returns this - the element instance we mounted\n     */\n    public mount(domNode: string): this;\n    public mount(domNode: HTMLElement): this;\n    public mount(domNode: any): any {\n        const node = isString(domNode) ? document.querySelector(domNode) : domNode;\n\n        if (!node) throw new Error('Component could not mount. Root node was not found.');\n\n        // new, if this._node exists then we are \"remounting\" so we first need to unmount if it's not already been done\n        if (this._node) this.unmount();\n\n        this._node = node;\n        this._component = this.render();\n\n        render(this._component, node);\n        return this;\n    }\n\n    /**\n     * Updates props, resets the internal state and remounts the element.\n     * @param props - props to update\n     * @returns this - the element instance\n     */\n    public update(props: P): this {\n        /*\n        // OLD\n        this.props = this.formatProps({ ...this.props, ...props });\n        this.state = {};\n\n        return this.unmount().mount(this._node); // for new mount fny\n        */\n\n        // /*\n        this.props = this.formatProps({ ...this.props, ...props });\n        this._component = this.render();\n\n        if (this._node) render(this._component, this._node);\n        return this;\n\n        // return this.remount(this._component);\n        // */\n    }\n\n    /**\n     * Unmounts an element and mounts it again on the same node i.e. allows mount w/o having to pass a node.\n     * Should be \"private\" & undocumented (although being a public function is useful for testing).\n     * Left in for legacy reasons\n     */\n    public remount(component: BaseElement<any>): this {\n        if (!this._node) throw new Error('Component is not mounted.');\n\n        const newComponent = component || this.render();\n        render(newComponent, this._node);\n        return this;\n    }\n\n    /**\n     * Unmounts an element from the DOM\n     */\n    public unmount(): this {\n        if (this._node) render(null, this._node);\n        return this;\n    }\n\n    /**\n     * Unmounts an element and removes it from the parent instance\n     * For \"destroy\" type cleanup - when you don't intend to use the component again\n     */\n    public remove() {\n        this.unmount();\n        this.props.core.remove(this);\n    }\n}\n\nexport default BaseElement;\n","import cx from 'classnames';\nimport { JSXInternal } from 'preact/src/jsx';\nimport { createRef, RefObject } from 'preact';\nimport { BaseElementProps, ExternalComponentType, IUIElement, UIElementProps, UIElementStatus } from '../../types';\nimport { AnalyticsProvider } from '../../../core/Context/analytics/AnalyticsProvider';\nimport { ConfigProvider } from '../../../core/ConfigContext';\nimport CoreProvider from '../../../core/Context/CoreProvider';\nimport BaseElement from '../BaseElement';\nimport './UIElement.scss';\n\nexport class UIElement<P> extends BaseElement<P & UIElementProps> implements IUIElement {\n    protected componentRef: UIElement<P> | null = null;\n\n    public componentToRender: (() => JSXInternal.Element) | null = null;\n    public compRef: RefObject<HTMLDivElement>;\n    public customClassNames: string | undefined;\n    public elementRef: UIElement<P> | null;\n    public onContactSupport?: () => void;\n\n    constructor(props: P & UIElementProps & BaseElementProps) {\n        super(props);\n        this.setState = this.setState.bind(this);\n        this.onContactSupport = props.onContactSupport;\n        this.elementRef = this;\n        this.compRef = createRef();\n    }\n\n    get isValid() {\n        return !!this.state.isValid;\n    }\n\n    /**\n     * Get the element's displayable name\n     */\n    get displayName(): ExternalComponentType {\n        return this.type;\n    }\n\n    /**\n     * Get the element accessible name, used in the aria-label of the button that controls selected component\n     */\n    get accessibleName(): string {\n        return this.displayName;\n    }\n\n    /**\n     * Return the type of an element\n     */\n    get type(): ExternalComponentType {\n        return (this.constructor as typeof UIElement)?.type;\n    }\n\n    formatProps(props: P) {\n        return props;\n    }\n\n    /**\n     * Formats the component data output\n     */\n    formatData() {\n        return {\n            ...this.state,\n        };\n    }\n\n    public setState(newState: Record<any, any>): void {\n        this.state = { ...this.state, ...newState };\n    }\n\n    private setUIElementStatus: ((status: string) => void) | undefined;\n\n    public setStatus(status: UIElementStatus, props: P & UIElementProps): this {\n        if (this.componentRef?.setStatus) {\n            this.componentRef.setStatus(status, props);\n        } else {\n            this.setUIElementStatus?.(status);\n        }\n        return this;\n    }\n\n    render() {\n        const core = this.props.core;\n        const externalErrorHandler = this.props.onError || core.onError || null;\n        const updateCore = core.update.bind(core);\n\n        core.session.errorHandler = externalErrorHandler;\n\n        return (\n            <ConfigProvider type={this.type} session={core.session} key={performance.now()}>\n                <CoreProvider\n                    componentRef={this.compRef}\n                    i18n={core.localization.i18n}\n                    getCdnConfig={core.getCdnConfig}\n                    getImageAsset={core.getImageAsset}\n                    getDatasetAsset={core.getDatasetAsset}\n                    getCdnDataset={core.getCdnDataset}\n                    loadingContext={core.loadingContext}\n                    externalErrorHandler={externalErrorHandler}\n                    updateCore={updateCore}\n                >\n                    <AnalyticsProvider componentName={this.displayName} analyticsEnabled={core?.analyticsEnabled ?? true}>\n                        {this.componentToRender && (\n                            <section ref={this.compRef} className={cx('adyen-pe-component', this.customClassNames)}>\n                                <div className=\"adyen-pe-component__container\">{this.componentToRender()}</div>\n                            </section>\n                        )}\n                    </AnalyticsProvider>\n                </CoreProvider>\n            </ConfigProvider>\n        );\n    }\n}\n\nexport default UIElement;\n","export const popoverUtil = (<T extends Element, U extends Function>() => {\n    let popoverRefs: Array<{ element: T; callback?: U | undefined }> = [];\n\n    const closePopoversOutsideOfClick = (eventPath: EventTarget[]) => {\n        const index = eventPath.reduce((index: number, path: EventTarget) => {\n            const pathMatchIndex =\n                path instanceof Node\n                    ? popoverRefs.findIndex(popoverRef => {\n                          const popoverRefId = popoverRef.element.getAttribute('id');\n                          const pathId = path && (path as HTMLElement)?.getAttribute ? (path as HTMLElement)?.getAttribute('id') : null;\n                          return popoverRefId === pathId;\n                      })\n                    : -1;\n            if (index === -1 && pathMatchIndex !== -1) return pathMatchIndex;\n            return index;\n        }, -1);\n        if (index === -1) {\n            closeNestedPopovers(0);\n        } else {\n            index + 1 <= popoverRefs.length - 1 && closeNestedPopovers(index + 1);\n        }\n    };\n\n    const remove = (currentRef: T) => {\n        const index = popoverRefs.findIndex(refs => refs.element.getAttribute('id') === currentRef.getAttribute('id'));\n        if (index >= 0) {\n            popoverRefs.splice(index, 1);\n        }\n    };\n\n    const add = (currentRef: T, callback: U | undefined) => {\n        const index = popoverRefs.findIndex(refs => refs.element.getAttribute('id') === currentRef.getAttribute('id'));\n        if (index >= 0) return;\n        popoverRefs.push({ element: currentRef, callback: callback });\n    };\n\n    const closeNestedPopovers = (fromIndex: number) => {\n        const popoverLength = popoverRefs.length;\n        for (let i = fromIndex; i < popoverLength; i++) {\n            popoverRefs?.[i]?.callback?.();\n        }\n        popoverRefs.splice(fromIndex);\n    };\n\n    const closeAll = () => {\n        popoverRefs.forEach(ref => ref?.callback?.());\n        popoverRefs = [];\n    };\n\n    return { add, remove, closeAll, closePopoversOutsideOfClick };\n})();\n","export const REF: unique symbol = Symbol('_ref');\n","export class ReflexError extends Error {}\nexport class UnknownRefError extends ReflexError {}\nexport class MissingReflexActionError extends ReflexError {}\n","import { REF } from './constants';\nimport { MissingReflexActionError } from './errors';\nimport type { Ref, Reflex, Reflexable, ReflexAction } from './types';\nimport { EMPTY_OBJECT, hasOwnProperty, isFunction, isUndefined, sameValue } from '../../../utils';\nimport { RefObject } from 'preact';\n\nexport function assertReflexAction<T = any>(value?: any): asserts value is ReflexAction<T> {\n    if (!isFunction(value)) throw new MissingReflexActionError();\n}\n\nexport const isReflex = <T = any>(value: any): value is Reflex<T> => {\n    try {\n        if (isFunction(value) && hasOwnProperty(value, 'current') && hasOwnProperty(value, REF) && !sameValue(value, (value as Reflex<T>)[REF])) {\n            const notDefined = (value as Reflex<T>).actions.get(EMPTY_OBJECT as ReflexAction<T>);\n            const size = (value as Reflex<T>).actions.size;\n            return isUndefined(notDefined) && Number.isInteger(size) && size >= 0;\n        }\n    } catch {\n        /* Definitely not a reflex, return false outside this block */\n    }\n\n    return false;\n};\n\nexport const unwrap = <T = any>(reflexable: Reflexable<T>): Ref<T> => (isReflex<T>(reflexable) ? unwrap(reflexable[REF]) : reflexable);\n\nexport function isRefObject(ref: any): ref is RefObject<any> {\n    return !!ref.current;\n}\n","import type { Defined, Nullable } from '../../../utils/types';\nimport type { Ref, RefAsCallback, Reflex, Reflexable, ReflexAction, ReflexRecord, ReflexRegister } from './types';\nimport { enumerable, isFunction, sameValue, struct } from '../../../utils';\nimport { assertReflexAction, unwrap } from './helpers';\nimport { UnknownRefError } from './errors';\nimport { REF } from './constants';\n\nexport const createReflexRegister = (() => {\n    const _getRecordForRef = <T = any>(register: WeakMap<NonNullable<Ref>, ReflexRecord>, ref: NonNullable<Ref<T>>): ReflexRecord<T> => {\n        const record = register.get(ref);\n        if (!record) throw new UnknownRefError();\n        return record;\n    };\n\n    const _bindReflexAction = <T = any>(\n        register: WeakMap<NonNullable<Ref>, ReflexRecord>,\n        reflexable: NonNullable<Reflexable<T>>,\n        action?: ReflexAction<T>\n    ): ReflexRecord<T>[0] => {\n        let record: ReflexRecord<T> | undefined;\n        let actions: Defined<typeof record>[1];\n\n        const _ref = unwrap(reflexable) as NonNullable<Ref>;\n\n        try {\n            record = _getRecordForRef(register, _ref);\n        } catch {\n            /**\n             * Ignore the original exception  since this could be a potential\n             * reflex action binding. If no reflex action was provided, throw\n             * an exception to signal the missing reflex action.\n             */\n            assertReflexAction<T>(action);\n        }\n\n        if (record) [, actions] = record;\n        else {\n            const isCallbackRef = isFunction(_ref);\n\n            const _updateCurrentInstance: RefAsCallback<T | undefined> = isCallbackRef\n                ? instance => {\n                      _ref((_current = instance));\n                  }\n                : instance => {\n                      if (_ref) {\n                          _ref.current = instance;\n                          _current = _ref.current;\n                      }\n                  };\n\n            const reflex = (instance => {\n                if (actions.size === 0) {\n                    // Reflex is dead when there are no more reflex actions.\n                    // It should no longer mutate the _ref current instance.\n                    // Binding a new action registers _ref afresh with a new\n                    // reflex.\n                    return;\n                }\n\n                const previous = _current;\n\n                _updateCurrentInstance(instance);\n\n                if (!sameValue(_current, previous)) {\n                    for (const [action] of actions) {\n                        action(_current, previous);\n                    }\n                }\n            }) as Reflex<T>;\n\n            let _current: Nullable<T> = isCallbackRef ? null : _ref.current;\n\n            register.set(_ref, (record = [reflex, (actions = new Map())]));\n\n            Object.defineProperties(reflex, {\n                [REF]: { value: _ref },\n                actions: {\n                    value: struct({\n                        get: { value: actions.get.bind(actions) },\n                        size: { get: () => actions.size },\n                    }),\n                },\n                current: {\n                    get: () => _current,\n                    set: isCallbackRef ? (void 0 as unknown as typeof reflex) : reflex,\n                },\n            });\n        }\n\n        if (action) {\n            actions.set(action, 1 + (actions.get(action) || 0));\n        }\n\n        return record[0];\n    };\n\n    const _unbindReflexAction = <T = any>(\n        register: WeakMap<NonNullable<Ref>, ReflexRecord>,\n        reflexable: Reflexable<T>,\n        action: ReflexAction<T>\n    ): void => {\n        const _ref = unwrap(reflexable);\n        const [, actions] = _getRecordForRef(register, _ref as NonNullable<Ref>);\n        const bindings = actions.get(action) || 0;\n\n        if (bindings === 1) actions.delete(action);\n        else if (bindings > 1) actions.set(action, bindings - 1);\n        if (actions.size === 0 && _ref) register.delete(_ref);\n    };\n\n    return (): ReflexRegister => {\n        const _register = new WeakMap<NonNullable<Ref>, ReflexRecord>();\n        return struct({\n            bind: enumerable(_bindReflexAction.bind(void 0, _register)),\n            unbind: enumerable(_unbindReflexAction.bind(void 0, _register)),\n        }) as ReflexRegister;\n    };\n})();\n\nexport const $globalReflexRegister = createReflexRegister();\nexport default $globalReflexRegister;\n","import type { Reflex, Reflexable, ReflexAction, ReflexContainer, ReflexRegister } from './types';\nimport type { DefinedNullable, Nullable } from '../../../utils/types';\nimport { isNullish, sameValue, struct } from '../../../utils';\nimport { assertReflexAction, unwrap } from './helpers';\nimport { $globalReflexRegister } from './register';\nimport { REF } from './constants';\n\nexport const createIsolatedFauxReflex = <T = any>(action: ReflexAction<T>): Reflex<T> => {\n    assertReflexAction<T>(action);\n\n    const $actions = new WeakMap<ReflexAction<T>, number>([[action, 1]]);\n\n    const reflex = (instance => {\n        if (sameValue(_current, instance)) return;\n        const previous = _current;\n        action((_current = instance), previous);\n    }) as Reflex<T>;\n\n    let _current: Nullable<T> = null;\n\n    return Object.defineProperties(reflex, {\n        [REF]: { value: reflex },\n        actions: {\n            value: struct({\n                get: { value: $actions.get.bind($actions) },\n                size: { value: 1 },\n            }),\n        },\n        current: {\n            get: () => _current,\n            set: reflex,\n        },\n    });\n};\n\nexport const createReflexContainer = <T = any>(register: ReflexRegister = $globalReflexRegister): ReflexContainer<T> => {\n    let _reflex: Nullable<Reflex<T>>;\n    let _reflexable: DefinedNullable<Reflexable<T>> = null;\n    let _reflexAction: ReflexAction<T>;\n    let _released = false;\n\n    const _refreshContainer = (action: ReflexAction<T>) => {\n        _reflex = undefined;\n        _reflexable = null;\n        _reflexAction = action;\n        _released = false;\n    };\n\n    const _releaseContainer = () => {\n        if (!_released) {\n            _unbindReflexAction();\n            _released = true;\n        }\n    };\n\n    const _unbindReflexAction = () => {\n        try {\n            if (!_reflexable) return;\n            register.unbind(_reflexable, _reflexAction);\n        } catch {\n            /* ignore exception for unknown ref */\n        }\n    };\n\n    const _updateContainer = (action: ReflexAction<T>, reflexable?: Nullable<Reflexable<T>>) => {\n        assertReflexAction<T>(action);\n\n        if (_released) _refreshContainer(action);\n\n        const currentReflexable = isNullish(reflexable) ? null : reflexable;\n\n        if (_reflexAction === action && _reflexable === currentReflexable) {\n            if (_reflex) return; // no further update required\n        } else if (_reflexable) {\n            if (sameValue(unwrap(_reflexable), unwrap(currentReflexable!))) {\n                _reflex = register.bind(_reflexable, action);\n                _unbindReflexAction();\n                _reflexAction = action;\n                return; // no further update required\n            }\n\n            _unbindReflexAction();\n        }\n\n        _reflexAction = action;\n\n        _reflex = (_reflexable = currentReflexable) ? register.bind(_reflexable, _reflexAction) : createIsolatedFauxReflex(_reflexAction);\n    };\n\n    return struct<ReflexContainer<T>>({\n        action: { get: () => _reflexAction },\n        reflex: { get: () => _reflex },\n        release: { value: _releaseContainer },\n        update: { value: _updateContainer },\n    });\n};\n\nexport default createReflexContainer;\n","import { useLayoutEffect, useMemo, useRef } from 'preact/hooks';\nimport { createReflexContainer, Reflex, Reflexable, ReflexAction } from '../primitives/reactive/reflex';\nimport type { Nullable } from '../utils/types';\n\nconst useReflex = <T = any>(action: ReflexAction<T>, reflexable?: Nullable<Reflexable<T>>) => {\n    const container = useRef(createReflexContainer<T>());\n\n    useLayoutEffect(() => container.current.release, []);\n\n    return useMemo(() => {\n        container.current.update(action, reflexable);\n        return container.current.reflex as Reflex<T>;\n    }, [action, reflexable]);\n};\n\nexport default useReflex;\n","import { useCallback, useEffect, useRef } from 'preact/hooks';\nimport { popoverUtil } from '../../components/internal/Popover/utils/popoverUtil';\nimport type { Reflexable } from '../../primitives/reactive/reflex';\nimport type { Nullable } from '../../utils/types';\nimport useReflex from '../useReflex';\n\nexport const CONTROL_ELEMENT_PROPERTY: unique symbol = Symbol('__control.Elem.');\n\nexport const enum ClickOutsideVariant {\n    POPOVER = 'POPOVER',\n    DEFAULT = 'DEFAULT',\n}\n\nconst onFocusout = (e: Event) => e.stopImmediatePropagation();\n\nexport const useClickOutside = <T extends Element = Element>(\n    rootElementRef?: Nullable<Reflexable<T>>,\n    callback?: (interactionKeyPressed: boolean) => void,\n    disableClickOutside?: boolean,\n    variant?: ClickOutsideVariant\n) => {\n    const ref = useRef<Nullable<T>>(null);\n    const mouseDownInsideRef = useRef(false);\n\n    const handleClickOutside = useCallback(\n        (e: Event) => {\n            if (!(ref && ref.current)) return;\n\n            const eventPath: EventTarget[] = e.composedPath();\n\n            if (variant === ClickOutsideVariant.POPOVER) {\n                popoverUtil.closePopoversOutsideOfClick(eventPath);\n            } else {\n                let eventPathIndex = 0;\n                let samePath = false;\n                let currentElement: Element | null = eventPath[eventPathIndex] as Element;\n\n                while (currentElement instanceof Element) {\n                    if ((samePath ||= currentElement?.isSameNode(ref.current))) break;\n                    currentElement = (eventPath[++eventPathIndex] as Element) ?? currentElement.parentElement;\n\n                    if ((currentElement as any)?.[CONTROL_ELEMENT_PROPERTY] instanceof Element) {\n                        currentElement = (currentElement as any)[CONTROL_ELEMENT_PROPERTY];\n                        eventPath.length = 0;\n                    }\n                }\n\n                if (callback && !samePath) callback(true);\n            }\n        },\n        [ref, callback, variant]\n    );\n\n    const handleMouseDown = useCallback(\n        (e: MouseEvent) => {\n            if (!(ref && ref.current)) return;\n            mouseDownInsideRef.current = ref.current.contains(e.target as Node);\n        },\n        [ref]\n    );\n\n    const handleClick = useCallback(\n        (e: MouseEvent) => {\n            if (mouseDownInsideRef.current) {\n                mouseDownInsideRef.current = false;\n                return;\n            }\n            handleClickOutside(e);\n        },\n        [handleClickOutside]\n    );\n\n    useEffect(() => {\n        if (disableClickOutside) return;\n\n        document.addEventListener('mousedown', handleMouseDown, true);\n        document.addEventListener('click', handleClick, true);\n\n        if (variant === ClickOutsideVariant.POPOVER && ref.current instanceof Element) {\n            popoverUtil.add(ref.current, callback);\n        }\n\n        return () => {\n            document.removeEventListener('mousedown', handleMouseDown, true);\n            document.removeEventListener('click', handleClick, true);\n            if (ref.current) popoverUtil.remove(ref.current);\n        };\n    }, [disableClickOutside, handleMouseDown, handleClick, callback, variant, ref]);\n\n    return useReflex<T>(\n        useCallback(\n            (current: Nullable<T>, previous) => {\n                if (previous instanceof Element) {\n                    previous.removeEventListener('focusout', onFocusout, false);\n                }\n                if (current instanceof Element) {\n                    if (!disableClickOutside) {\n                        current.addEventListener('focusout', onFocusout, false);\n                        ref.current = current;\n                    }\n                }\n            },\n            [disableClickOutside, variant]\n        ),\n        rootElementRef\n    );\n};\n","const DIGITS_2 = '2-digit';\nconst LONG = 'long';\nconst NUMERIC = 'numeric';\nconst SHORT = 'short';\nconst SHORT_OFFSET = 'shortOffset';\n\nconst BASE_DATE_FORMAT: Intl.DateTimeFormatOptions = {\n    month: LONG,\n    day: NUMERIC,\n    year: NUMERIC,\n};\n\nconst BASE_TIME_FORMAT: Intl.DateTimeFormatOptions = {\n    hour: DIGITS_2,\n    minute: DIGITS_2,\n};\n\nconst BASE_DATE_TIME_FORMAT: Intl.DateTimeFormatOptions = {\n    ...BASE_DATE_FORMAT,\n    ...BASE_TIME_FORMAT,\n    month: SHORT,\n    hour12: false,\n};\n\nconst BASE_DATE_TIME_MOBILE_FORMAT: Intl.DateTimeFormatOptions = { ...BASE_DATE_TIME_FORMAT, year: undefined };\n\n// Capital\nexport const DATE_FORMAT_CAPITAL_OVERVIEW: Intl.DateTimeFormatOptions = { ...BASE_DATE_FORMAT, month: 'short' };\nexport const DATE_FORMAT_MISSING_ACTION: Intl.DateTimeFormatOptions = { ...BASE_DATE_FORMAT, month: 'long' };\n\n// Disputes\nexport const DATE_FORMAT_DISPUTES: Intl.DateTimeFormatOptions = BASE_DATE_FORMAT;\nexport const DATE_FORMAT_DISPUTE_DETAILS: Intl.DateTimeFormatOptions = {\n    ...BASE_DATE_TIME_FORMAT,\n    hour12: true,\n    timeZoneName: SHORT_OFFSET,\n};\n\n// PayByLink\nexport const DATE_FORMAT_PAYMENT_LINKS_OVERVIEW: Intl.DateTimeFormatOptions = BASE_DATE_TIME_FORMAT;\nexport const DATE_FORMAT_PAYMENT_LINKS_OVERVIEW_EXPIRATION_DATE: Intl.DateTimeFormatOptions = BASE_DATE_TIME_FORMAT;\nexport const DATE_FORMAT_PAYMENT_LINK_DETAILS_TABS: Intl.DateTimeFormatOptions = {\n    ...BASE_DATE_TIME_FORMAT,\n    month: LONG,\n    ...BASE_TIME_FORMAT,\n    timeZoneName: SHORT_OFFSET,\n};\nexport const DATE_FORMAT_PAYMENT_LINK_DETAILS_SUMMARY: Intl.DateTimeFormatOptions = {\n    ...BASE_DATE_TIME_FORMAT,\n    month: LONG,\n    weekday: LONG,\n    timeZoneName: SHORT_OFFSET,\n};\n\n// Payouts\nexport const DATE_FORMAT_PAYOUTS: Intl.DateTimeFormatOptions = BASE_DATE_FORMAT;\nexport const DATE_FORMAT_PAYOUTS_MOBILE: Intl.DateTimeFormatOptions = BASE_DATE_TIME_MOBILE_FORMAT;\nexport const DATE_FORMAT_PAYOUT_DETAILS: Intl.DateTimeFormatOptions = { ...BASE_DATE_FORMAT, weekday: LONG };\n\n// Reports\nexport const DATE_FORMAT_REPORTS: Intl.DateTimeFormatOptions = { ...BASE_DATE_FORMAT, month: SHORT };\n\n// Transactions\nexport const DATE_FORMAT_TRANSACTIONS: Intl.DateTimeFormatOptions = BASE_DATE_TIME_FORMAT;\nexport const DATE_FORMAT_TRANSACTIONS_MOBILE: Intl.DateTimeFormatOptions = BASE_DATE_TIME_MOBILE_FORMAT;\nexport const DATE_FORMAT_TRANSACTION_DETAILS: Intl.DateTimeFormatOptions = {\n    ...BASE_DATE_FORMAT,\n    ...BASE_TIME_FORMAT,\n    weekday: LONG,\n    timeZoneName: SHORT_OFFSET,\n};\n\n// Other\nexport const DATE_FORMAT_RESPONSE_DEADLINE: Intl.DateTimeFormatOptions = {\n    month: SHORT,\n    weekday: LONG,\n    hour: DIGITS_2,\n    minute: NUMERIC,\n    year: undefined,\n    timeZoneName: SHORT_OFFSET,\n};\nexport const DATE_FORMAT_DELIVERY_DATE: Intl.DateTimeFormatOptions = {\n    month: SHORT,\n    weekday: LONG,\n    hour: undefined,\n    minute: undefined,\n    year: 'numeric',\n    timeZoneName: undefined,\n};\n","export * from './dateFormats';\n\nexport const BREAKPOINTS = {\n    sm: 480,\n    md: 768,\n    lg: 1024,\n} as const;\n","import { useEffect, useState } from 'preact/hooks';\nimport useCoreContext from '../core/Context/useCoreContext';\n\nexport const useContainerQuery = <T extends readonly [string, number, { min?: number; max?: number }?]>(query: T) => {\n    const { componentRef } = useCoreContext();\n    const [width, setWidth] = useState(componentRef.current?.offsetWidth || 0);\n    const [type, breakpoint, minMax] = query;\n\n    let queryMatch = false;\n\n    switch (type) {\n        case 'up':\n            queryMatch = width >= breakpoint;\n            break;\n        case 'down':\n            queryMatch = width <= breakpoint;\n            break;\n        case 'only':\n            if (minMax) {\n                const { min, max } = minMax;\n                queryMatch = max ? width <= max : min ? width >= min : false;\n            } else {\n                queryMatch = width === breakpoint;\n            }\n            break;\n    }\n\n    useEffect(() => {\n        const containerElement = componentRef.current;\n        if (!containerElement) return;\n\n        // ResizeObserver to watch for changes to container's size.\n        const resizeObserver = new ResizeObserver(entries => {\n            for (const entry of entries) {\n                if (entry.target === containerElement) {\n                    setWidth(containerElement.offsetWidth);\n                }\n            }\n        });\n\n        resizeObserver.observe(containerElement);\n\n        // Cleanup resize observer on unmount\n        return () => {\n            resizeObserver.unobserve(containerElement);\n            resizeObserver.disconnect();\n        };\n    }, [componentRef]);\n\n    return queryMatch;\n};\n\nexport default useContainerQuery;\n","import { BREAKPOINTS } from '../constants';\nimport type { ValueOfRecord } from '../utils/types';\nimport { useContainerQuery } from './useContainerQuery';\n\nexport const containerQueries = {\n    up: {\n        sm: ['up', BREAKPOINTS.sm],\n        md: ['up', BREAKPOINTS.md],\n        lg: ['up', BREAKPOINTS.lg],\n    },\n    down: {\n        xs: ['down', BREAKPOINTS.sm - 1],\n        sm: ['down', BREAKPOINTS.md - 1],\n        md: ['down', BREAKPOINTS.lg - 1],\n    },\n    only: {\n        xs: ['only', BREAKPOINTS.sm - 1, { max: BREAKPOINTS.sm - 1 }],\n        sm: ['only', BREAKPOINTS.sm, { max: BREAKPOINTS.md - 1 }],\n        md: ['only', BREAKPOINTS.md, { max: BREAKPOINTS.lg - 1 }],\n        lg: ['only', BREAKPOINTS.lg, { min: BREAKPOINTS.lg }],\n    },\n} as const;\n\ntype _ContainerQueries = typeof containerQueries;\n\nexport type ResponsiveViewportContainerQuery = ValueOfRecord<{\n    [K in keyof _ContainerQueries]: ValueOfRecord<_ContainerQueries[K]>;\n}>;\n\nexport const useResponsiveContainer = useContainerQuery<ResponsiveViewportContainerQuery>;\n","import { isNullish, isNumber, isUndefined, mod, some } from '../../../utils';\n\nexport interface TabbableRoot {\n    get current(): Element | null;\n    set current(maybeTabbableOrOffset: Element | number | null);\n    root: Element | null;\n    tabbables: Element[];\n}\n\nexport const SELECTORS = `:scope ${`\n    a[href],\n    audio[controls],\n    video[controls],\n    button,\n    input,\n    select,\n    textarea,\n    [contenteditable],\n    [tabindex]\n`.replace(/\\s+/, '')}`;\n\nconst ATTRIBUTES = ['contenteditable', 'controls', 'disabled', 'hidden', 'href', 'inert', 'tabindex'];\nconst CHECKED_RADIOS = new Map<HTMLFormElement, Map<string, HTMLInputElement | null>>();\n\nconst isInput = (element: Element): element is HTMLInputElement => element.tagName === 'INPUT';\nconst isRadio = (element: Element): element is HTMLInputElement => isInput(element) && element.type === 'radio';\nconst isCheckedRadio = (element: Element): element is HTMLInputElement => {\n    const name = (element as HTMLInputElement).name;\n    const form = (element as HTMLInputElement).form;\n    const checkedRadiosForForm = CHECKED_RADIOS.get(form as HTMLFormElement);\n\n    let checkedRadio = checkedRadiosForForm?.get(name);\n\n    if (isUndefined(checkedRadio) && form) {\n        checkedRadio = (form.querySelector(`:scope input[type=radio][name='${name}']:checked`) as HTMLInputElement) || null;\n        CHECKED_RADIOS.set(form, (checkedRadiosForForm || new Map<string, HTMLInputElement | null>()).set(name, checkedRadio));\n    }\n\n    return checkedRadio === element;\n};\n\nconst shouldRefresh = (tabbables: Element[], records: MutationRecord[]) => {\n    let shouldRefreshTabbables = false;\n\n    for (const record of records) {\n        if (record.type === 'attributes') {\n            shouldRefreshTabbables ||=\n                record.target instanceof Element &&\n                // Target is a tabbable element (possibly due to attribute changes)\n                // For example, disabled set to false, tabindex set to a number, etc.\n                (isTabbable(record.target) ||\n                    // Target is already contained in the list of tabbables\n                    // Attribute changes could make it no longer tabbable (e.g. disabled set to true)\n                    tabbables.includes(record.target));\n        } else {\n            shouldRefreshTabbables ||=\n                // At least one tabbable node was added to the DOM tree of the root element\n                some(\n                    record.addedNodes,\n                    (node: Node) =>\n                        node instanceof Element &&\n                        // Added node is a tabbable element\n                        (isTabbable(node) ||\n                            // At least one descendant of added node is a tabbable element\n                            some(node.querySelectorAll(SELECTORS), isTabbable))\n                );\n\n            shouldRefreshTabbables ||=\n                // At least one tabbable node was removed from the DOM tree of the root element\n                // That is, removed from the list of tabbables for the root element\n                some(\n                    record.removedNodes,\n                    (node: Node) =>\n                        node instanceof Element &&\n                        // Removed node is a tabbable element\n                        (tabbables.includes(node) ||\n                            // At least one descendant of removed node is a tabbable element\n                            some(node.querySelectorAll(SELECTORS), node => tabbables.includes(node)))\n                );\n        }\n\n        if (shouldRefreshTabbables) break;\n    }\n\n    return shouldRefreshTabbables;\n};\n\nexport const focusIsWithin = (rootElement: Element = document.body, elementWithFocus?: Element | null): boolean => {\n    if (isUndefined(rootElement)) return false;\n    if (isNullish(elementWithFocus)) return !!document.activeElement && focusIsWithin(rootElement, document.activeElement);\n\n    let parentElement = elementWithFocus?.parentNode as Element | null;\n\n    while (parentElement) {\n        if (parentElement === rootElement) return true;\n        parentElement = parentElement?.parentNode as Element | null;\n    }\n\n    return false;\n};\n\nexport const isFocusable = (element: Element) =>\n    !(\n        // [TODO]: Include all of these checks\n        // (1) matches focusable elements selector\n        // (2) is disabled element\n        // (3) is inert or inert subtree child\n        // (4) is hidden input\n        // (5) with visibility: hidden\n        // (6) is summary of open details element\n        // (7) is details with summary element\n        // (8) is disabled fieldset subtree child\n\n        /* (1) */ (\n            !element.matches(SELECTORS) ||\n            /* (2) */ (element as HTMLInputElement)?.disabled ||\n            /* (3) */ /^(true)?$/.test(element.getAttribute('inert') as string) ||\n            /* (4) */ (isInput(element) && element.hidden)\n        )\n    );\n\nexport const isTabbable = (element: Element) =>\n    !(\n        (\n            (isRadio(element) && !isCheckedRadio(element)) || // (1) is not checked radio button\n            (element as HTMLElement)?.tabIndex < 0 || // (2) has negative tabindex\n            !isFocusable(element)\n        ) // (3) is not focusable\n    );\n\nexport const withTabbableRoot = () => {\n    const observer = new MutationObserver(records => shouldRefresh(tabbables, records) && getTabbables());\n    const tabbables: Element[] = [];\n\n    let currentIndex = -1;\n    let root: Element | null = null;\n\n    const focusAt = (tabbableIndex: number) => {\n        if (tabbableIndex < 0) return;\n        const constrainedIndex = Math.min(tabbableIndex, tabbables.length - 1);\n        if (currentIndex !== constrainedIndex) currentIndex = constrainedIndex;\n        (tabbables[currentIndex] as HTMLElement)?.focus();\n    };\n\n    const getTabbables = () => {\n        tabbables.length = 0;\n        if (!(root instanceof Element)) return;\n        root.querySelectorAll(SELECTORS).forEach(maybeTabbable => isTabbable(maybeTabbable) && tabbables.push(maybeTabbable));\n        if (!focusIsWithin(root)) return;\n        tabbableRoot.current = document.activeElement;\n    };\n\n    const tabbableRoot = Object.create(null, {\n        current: {\n            get: () => tabbables[currentIndex] ?? null,\n            set: (maybeTabbableOrOffset: Element | number | null) => {\n                if (!maybeTabbableOrOffset) return;\n                if (!isNumber(maybeTabbableOrOffset)) return focusAt(tabbables.indexOf(maybeTabbableOrOffset));\n                if (maybeTabbableOrOffset !== ~~maybeTabbableOrOffset) return;\n                return focusAt(mod(currentIndex + maybeTabbableOrOffset, tabbables.length));\n            },\n        },\n        root: {\n            get: () => root,\n            set: (maybeElement?: any) => {\n                if (maybeElement === root) return;\n\n                root && observer.disconnect();\n                root = maybeElement instanceof Element ? maybeElement : null;\n                tabbables.length = 0;\n\n                if (!root) return;\n\n                observer.observe(root, {\n                    attributeFilter: ATTRIBUTES,\n                    attributes: true,\n                    childList: true,\n                    subtree: true,\n                });\n\n                getTabbables();\n            },\n        },\n        tabbables: { value: tabbables },\n    }) as TabbableRoot;\n\n    return tabbableRoot;\n};\n\nexport default withTabbableRoot;\n","import UIElement from './external/UIElement/UIElement';\nimport { Core, onErrorHandler } from '../core';\nimport { TransactionsTableFields } from './external/TransactionsOverview/components/TransactionsTable/types';\nimport { IPayout, IPayoutDetails, IReport, ITransaction, ITransactionWithDetails } from '../types';\nimport { AnchorHTMLAttributes } from 'preact/compat';\nimport { ReportsTableFields } from './external/ReportsOverview/components/ReportsTable/ReportsTable';\nimport { StringWithAutocompleteOptions } from '../utils/types';\nimport { PayoutsTableFields } from './external/PayoutsOverview/components/PayoutsTable/PayoutsTable';\nimport { TransactionDetailsFields } from './external';\nimport { IDisputeListItem } from '../types/api/models/disputes';\nimport { DisputesTableFields } from './external/DisputesOverview/components/DisputesTable/DisputesTable';\nimport { PaymentLinkCreationFormValues } from './external/PaymentLinkCreation/components/types';\nimport { StoreIds } from './external/PaymentLinksOverview/types';\n\nexport const enum InteractionKeyCode {\n    ARROW_DOWN = 'ArrowDown',\n    ARROW_LEFT = 'ArrowLeft',\n    ARROW_RIGHT = 'ArrowRight',\n    ARROW_UP = 'ArrowUp',\n    BACKSPACE = 'Backspace',\n    END = 'End',\n    ENTER = 'Enter',\n    ESCAPE = 'Escape',\n    HOME = 'Home',\n    PAGE_DOWN = 'PageDown',\n    PAGE_UP = 'PageUp',\n    SPACE = 'Space',\n    TAB = 'Tab',\n    DELETE = 'Delete',\n}\n\nexport interface BaseElementProps {\n    core: Core<any, any>;\n}\n\nexport interface IUIElement {\n    accessibleName: string;\n    displayName: string;\n    elementRef: any;\n    type: string;\n}\n\nexport interface IFormElement<P> {\n    submit(): void;\n    setStatus(status: UIElementStatus, props?: any): UIElement<P>;\n    showValidation(): void;\n    setState(newState: object): void;\n}\n\nexport type UIElementStatus = 'ready' | 'loading' | 'error' | 'success';\n\nexport type SetTriggerValidation = (callback: (schema?: Record<string, any>) => void) => void;\n\nexport interface UIElementProps {\n    hideTitle?: boolean;\n    onContactSupport?: () => void;\n    onError?: onErrorHandler;\n    ref?: any;\n}\n\nexport interface FormProps<P> {\n    onChange?: (state: any, element: UIElement<P> | null) => void;\n    onValid?: (state: any, element: UIElement<P> | null) => void;\n    beforeSubmit?: (state: any, element: UIElement<P>, actions: any) => Promise<void>;\n    onSubmit?: (state: any, element: UIElement<P> | null) => void;\n    onComplete?: (state: BaseElementProps, element: UIElement<P> | null) => void;\n    onError?: (error: any, element?: UIElement<P> | null) => void;\n    triggerValidation?: SetTriggerValidation;\n}\n\nexport type BaseElementState = {\n    errors?: {\n        [key: string]: any;\n    };\n    valid?: {\n        [key: string]: boolean;\n    };\n    fieldProblems?: {\n        [key: string]: any;\n    };\n    isValid?: boolean;\n};\n\nexport type _UIComponentProps<T> = BaseElementProps & Omit<UIElementProps, 'ref'> & T & {};\n\nexport type ExternalUIComponentProps<T> = UIElementProps & T & {};\n\ntype onRecordSelection<T extends { showModal: () => void }> = (selection: T) => any;\n\ninterface _DataOverviewSelectionProps<T extends { showModal: () => void } = { showModal: () => void }> {\n    onRecordSelection?: onRecordSelection<T>;\n}\n\nexport type DataGridIcon = { url: string; alt?: string } | ((value: unknown) => { url: string; alt?: string });\n\nexport type DataGridCustomColumnConfig<k> = {\n    key: k;\n    flex?: number;\n    align?: 'right' | 'left' | 'center';\n    visibility?: 'visible' | 'hidden';\n};\n\nexport type CustomColumn<T extends string> = {\n    [k in T]: DataGridCustomColumnConfig<k>;\n}[T];\n\ninterface _DataOverviewComponentProps {\n    allowLimitSelection?: boolean;\n    balanceAccountId?: string;\n    onFiltersChanged?: (filters: { [P in FilterParam]?: string }) => any;\n    preferredLimit?: 10 | 20;\n    showDetails?: boolean;\n    onContactSupport?: () => void;\n}\n\nexport type CustomDataObject = CustomIconObject | CustomTextObject | CustomLinkObject | CustomButtonObject;\n\ninterface BaseCustomObject {\n    value: any;\n}\n\ntype BaseDetails = {\n    className?: string;\n};\n\nexport interface CustomIconObject extends BaseCustomObject {\n    type: 'icon';\n    config: BaseDetails & { src: string; alt?: string };\n}\n\nexport interface CustomTextObject extends BaseCustomObject {\n    type: 'text';\n    config?: BaseDetails;\n}\n\nexport interface CustomLinkObject extends BaseCustomObject {\n    type: 'link';\n    config: BaseDetails & { href: string; target?: AnchorHTMLAttributes<any>['target'] };\n}\n\nexport interface CustomButtonObject extends BaseCustomObject {\n    type: 'button';\n    config: BaseDetails & { action: () => void };\n}\n\nexport type CustomDataRetrieved = { [k: string]: CustomDataObject | Record<any, any> | string | number | boolean };\n\nexport type OnDataRetrievedCallback<DataRetrieved, CallbackResponse = CustomDataRetrieved[]> = (data: DataRetrieved) => Promise<CallbackResponse>;\n\nexport type DataCustomizationObject<Columns extends string, DataRetrieved, CallbackResponse> = {\n    fields: CustomColumn<StringWithAutocompleteOptions<Columns>>[];\n    onDataRetrieve?: OnDataRetrievedCallback<DataRetrieved, CallbackResponse>;\n};\n\nexport type DetailsCustomFieldConfig<k> = {\n    key: k;\n    visibility?: 'visible' | 'hidden';\n};\n\nexport type CustomDetailsField<T extends string> = {\n    [k in T]: DetailsCustomFieldConfig<k>;\n}[T];\n\nexport type DetailsDataCustomizationObject<Columns extends string, DataRetrieved, CallbackResponse> = {\n    fields: CustomDetailsField<StringWithAutocompleteOptions<Columns>>[];\n    onDataRetrieve?: OnDataRetrievedCallback<DataRetrieved, CallbackResponse>;\n};\n\ninterface _CustomizableDataOverview<CustomizationOptions extends Record<string, DataCustomizationObject<any, any, any>>> {\n    dataCustomization?: CustomizationOptions;\n}\n\ntype OverviewCustomizationProperties<Fields extends string, Data, DetailsFields extends string, DetailsData> = {\n    list?: DataCustomizationObject<Fields, Data[], CustomDataRetrieved[]>;\n    details?: DetailsDataCustomizationObject<DetailsFields, DetailsData, CustomDataRetrieved>;\n};\n\nexport interface ReportsOverviewComponentProps\n    extends Omit<_DataOverviewComponentProps, 'showDetails'>,\n        _CustomizableDataOverview<Omit<OverviewCustomizationProperties<ReportsTableFields, IReport, any, any>, 'details'>> {}\n\nexport interface TransactionOverviewComponentProps\n    extends _DataOverviewComponentProps,\n        _CustomizableDataOverview<\n            OverviewCustomizationProperties<TransactionsTableFields, ITransaction, TransactionDetailsFields, ITransactionWithDetails>\n        >,\n        _DataOverviewSelectionProps<{ id: string; showModal: () => void }> {}\n\ntype PaymentLinkOverviewSubComponentProps<Props> = Omit<Props, 'onContactSupport' | 'storeIds' | 'ref'>;\n\nexport interface PaymentLinksOverviewComponentProps\n    extends _DataOverviewComponentProps,\n        _DataOverviewSelectionProps<{ id: string; showModal: () => void }> {\n    paymentLinkCreation?: PaymentLinkOverviewSubComponentProps<PaymentLinkCreationComponentProps>;\n    paymentLinkSettings?: PaymentLinkOverviewSubComponentProps<PaymentLinkSettingsComponentProps>;\n    storeIds?: StoreIds;\n}\n\nexport interface PayoutsOverviewComponentProps\n    extends _DataOverviewComponentProps,\n        _CustomizableDataOverview<OverviewCustomizationProperties<PayoutsTableFields, IPayout, any, IPayoutDetails>>,\n        _DataOverviewSelectionProps<{ balanceAccountId: string; date: string; showModal: () => void }> {}\n\nexport interface DisputeOverviewComponentProps\n    extends _DataOverviewComponentProps,\n        _CustomizableDataOverview<Omit<OverviewCustomizationProperties<DisputesTableFields, IDisputeListItem, any, any>, 'list'>>,\n        _DataOverviewSelectionProps<{ id: string; showModal: () => void }> {}\n\nexport type DeepPartial<T> = T extends object\n    ? {\n          [K in keyof T]?: DeepPartial<T[K]>;\n      }\n    : T;\n\nexport interface PaymentLinkCreationComponentProps extends UIElementProps {\n    fieldsConfig?: {\n        data: DeepPartial<PaymentLinkCreationFormValues>;\n    };\n    storeIds?: StoreIds;\n    onPaymentLinkCreated?: (paymentLink: PaymentLinkCreationFormValues) => void;\n    onCreationDismiss?: () => void;\n}\n\nexport interface PaymentLinkSettingsComponentProps extends UIElementProps {\n    storeIds?: string[] | string;\n}\n\nexport const enum FilterParam {\n    BALANCE_ACCOUNT = 'balanceAccount',\n    CATEGORIES = 'categories',\n    CURRENCIES = 'currencies',\n    CREATED_SINCE = 'createdSince',\n    CREATED_UNTIL = 'createdUntil',\n    STATUSES = 'statuses',\n    MIN_AMOUNT = 'minAmount',\n    MAX_AMOUNT = 'maxAmount',\n    LINK_TYPES = 'linkTypes',\n    MERCHANT_REFERENCE = 'merchantReference',\n    PAYMENT_LINK_ID = 'paymentLinkId',\n    STORE_IDS = 'storeIds',\n}\n\nexport type ExternalComponentType =\n    | 'capitalOverview'\n    | 'capitalOffer'\n    | 'disputes'\n    | 'disputesManagement'\n    | 'paymentLinkCreation'\n    | 'paymentLinkDetails'\n    | 'paymentLinksOverview'\n    | 'paymentLinkSettings'\n    | 'payouts'\n    | 'payoutDetails'\n    | 'reports'\n    | 'transactions'\n    | 'transactionDetails';\n","import { useCallback, useMemo, useRef } from 'preact/hooks';\nimport { InteractionKeyCode } from '../../components/types';\nimport { isUndefined } from '../../utils';\nimport withTabbableRoot, { focusIsWithin, isFocusable } from '../../primitives/dom/tabbableRoot/tabbable';\nimport type { Reflexable } from '../../primitives/reactive/reflex';\nimport type { Nullable } from '../../utils/types';\nimport useReflex from '../useReflex';\n\nconst useFocusTrap = <T extends Element>(rootElementRef: Nullable<Reflexable<T>>, onEscape: (interactionKeyPressed: boolean) => any) => {\n    const escapedFocus = useRef(false);\n    const focusElement = useRef<Element | null>(null);\n    const interactionKeyPressed = useRef(false);\n    const lastInteractionKey = useRef<string | null>(null);\n    const lastTabDirection = useRef<1 | -1>(1);\n    const setRootTabIndex = useRef(false);\n    const tabbableRoot = useMemo(withTabbableRoot, []);\n\n    const focusFallback = useCallback((root: Element) => {\n        const lastFocused = focusElement.current;\n        if (lastFocused instanceof HTMLElement && focusIsWithin(root, lastFocused)) {\n            lastFocused.focus();\n            return;\n        }\n        if (root instanceof HTMLElement) root.focus();\n    }, []);\n\n    const onClickCapture = useMemo(() => {\n        let lastFocusableElement: Element | null = null;\n        let raf: number | undefined;\n\n        return (evt: Event) => {\n            if (!isUndefined(raf)) cancelAnimationFrame(raf);\n            let element = evt.target as Element | null;\n            while (element && element !== evt.currentTarget) {\n                if (isFocusable(element)) {\n                    lastFocusableElement = element;\n                    raf = requestAnimationFrame(() => {\n                        raf = requestAnimationFrame(() => {\n                            if (focusElement.current !== lastFocusableElement && lastFocusableElement instanceof HTMLElement) {\n                                (focusElement.current = lastFocusableElement)?.focus();\n                            }\n                            lastFocusableElement = null;\n                            raf = undefined;\n                        });\n                    });\n                    return;\n                }\n                element = element.parentNode as Element | null;\n            }\n        };\n    }, []);\n\n    const onFocusInCapture = useCallback((evt: FocusEvent) => {\n        tabbableRoot.current = focusElement.current = evt.target as Element | null;\n    }, []);\n\n    const onDocumentFocusInCapture = useCallback((evt: FocusEvent) => {\n        const root = tabbableRoot.root;\n        if (!(root instanceof Element)) return;\n\n        const target = evt.target as Element | null;\n        if (focusIsWithin(root, target)) return;\n\n        // Only trap focus if it's moving from within this trap.\n        if (!focusIsWithin(root, evt.relatedTarget as Element | null)) return;\n\n        if (interactionKeyPressed.current && lastInteractionKey.current === InteractionKeyCode.TAB) {\n            const tabbables = tabbableRoot.tabbables;\n            if (tabbables.length) {\n                const nextIndex = lastTabDirection.current === -1 ? tabbables.length - 1 : 0;\n                (tabbables[nextIndex] as HTMLElement)?.focus();\n            } else {\n                focusFallback(root);\n            }\n        }\n    }, []);\n\n    const onFocusOut = useCallback((evt: FocusEvent) => {\n        if (tabbableRoot.tabbables.includes(evt.relatedTarget as Element)) return;\n        if (focusIsWithin(evt.currentTarget as Element, evt.relatedTarget as Element | null)) return;\n        if (interactionKeyPressed.current) return;\n\n        escapedFocus.current = true;\n\n        requestAnimationFrame(() => {\n            if (escapedFocus.current) onEscape((escapedFocus.current = false));\n        });\n    }, []);\n\n    const onKeyDownCapture = useMemo(() => {\n        let raf: number | undefined;\n\n        return (evt: KeyboardEvent) => {\n            lastInteractionKey.current = evt.code;\n            switch (evt.code) {\n                case InteractionKeyCode.ARROW_DOWN:\n                case InteractionKeyCode.ARROW_LEFT:\n                case InteractionKeyCode.ARROW_RIGHT:\n                case InteractionKeyCode.ARROW_UP:\n                case InteractionKeyCode.END:\n                case InteractionKeyCode.ESCAPE:\n                case InteractionKeyCode.HOME:\n                case InteractionKeyCode.PAGE_DOWN:\n                case InteractionKeyCode.PAGE_UP:\n                case InteractionKeyCode.TAB:\n                    cancelAnimationFrame(raf as number);\n                    raf = requestAnimationFrame(() => {\n                        raf = requestAnimationFrame(() => {\n                            interactionKeyPressed.current = false;\n                            raf = undefined;\n                        });\n                    });\n                    interactionKeyPressed.current = true;\n                    break;\n            }\n            if (evt.code === InteractionKeyCode.TAB) {\n                evt.preventDefault();\n                lastTabDirection.current = evt.shiftKey ? -1 : 1;\n\n                if (tabbableRoot.tabbables.length) {\n                    tabbableRoot.current = lastTabDirection.current;\n                } else if (tabbableRoot.root instanceof Element) {\n                    focusFallback(tabbableRoot.root);\n                }\n            } else if (evt.code === InteractionKeyCode.ESCAPE) onEscape(true);\n        };\n    }, []);\n\n    return useReflex<T>(\n        useCallback((current, previous) => {\n            if (previous instanceof Element) {\n                (previous as unknown as HTMLElement).removeEventListener('keydown', onKeyDownCapture, true);\n                (previous as unknown as HTMLElement).removeEventListener('focusin', onFocusInCapture, true);\n                (previous as unknown as HTMLElement).removeEventListener('focusout', onFocusOut, false);\n                (previous as unknown as HTMLElement).removeEventListener('click', onClickCapture, true);\n                document.removeEventListener('focusin', onDocumentFocusInCapture, true);\n\n                if (setRootTabIndex.current && previous instanceof HTMLElement) {\n                    previous.removeAttribute('tabindex');\n                    setRootTabIndex.current = false;\n                }\n            }\n\n            if (current instanceof Element) {\n                (current as unknown as HTMLElement).addEventListener('keydown', onKeyDownCapture, true);\n                (current as unknown as HTMLElement).addEventListener('focusin', onFocusInCapture, true);\n                (current as unknown as HTMLElement).addEventListener('focusout', onFocusOut, false);\n                (current as unknown as HTMLElement).addEventListener('click', onClickCapture, true);\n                document.addEventListener('focusin', onDocumentFocusInCapture, true);\n                escapedFocus.current = false;\n                tabbableRoot.root = current;\n\n                if (current instanceof HTMLElement && !current.hasAttribute('tabindex')) {\n                    current.setAttribute('tabindex', '-1');\n                    setRootTabIndex.current = true;\n                }\n\n                // Automatically focus inside the trap if focus is not already within it\n                if (!focusIsWithin(current, document.activeElement)) {\n                    if (current instanceof HTMLElement) {\n                        current.focus();\n                    }\n                }\n            } else tabbableRoot.root = null;\n        }, []),\n        rootElementRef\n    );\n};\n\nexport default useFocusTrap;\n","import './Icon.scss';\nimport cx from 'classnames';\nimport { JSX } from 'preact';\nimport { useState, useEffect } from 'preact/hooks';\n\nconst icons = {\n    'angle-right': () => import('../../../images/icons/angle-right.svg?component'),\n    'arrow-right': () => import('../../../images/icons/arrow-right.svg?component'),\n    'checkmark-circle-fill': () => import('../../../images/icons/checkmark-circle-fill.svg?component'),\n    'checkmark-square-fill': () => import('../../../images/icons/checkmark-square-fill.svg?component'),\n    checkmark: () => import('../../../images/icons/checkmark.svg?component'),\n    'checkbox-disabled': () => import('../../../images/icons/checkbox-disabled.svg?component'),\n    'chevron-down': () => import('../../../images/icons/chevron-down.svg?component'),\n    'chevron-left': () => import('../../../images/icons/chevron-left.svg?component'),\n    'chevron-right': () => import('../../../images/icons/chevron-right.svg?component'),\n    'chevron-up': () => import('../../../images/icons/chevron-up.svg?component'),\n    'chevron-up-down': () => import('../../../images/icons/chevron-up-down.svg?component'),\n    copy: () => import('../../../images/icons/copy.svg?component'),\n    'cross-circle-fill': () => import('../../../images/icons/cross-circle-fill.svg?component'),\n    search: () => import('../../../images/icons/search.svg?component'),\n    cross: () => import('../../../images/icons/cross.svg?component'),\n    download: () => import('../../../images/icons/download.svg?component'),\n    'external-link': () => import('../../../images/icons/external-link.svg?component'),\n    filter: () => import('../../../images/icons/filter.svg?component'),\n    info: () => import('../../../images/icons/info.svg?component'),\n    'info-filled': () => import('../../../images/icons/info-filled.svg?component'),\n    'minus-circle-outline': () => import('../../../images/icons/minus-circle-outline.svg?component'),\n    plus: () => import('../../../images/icons/plus.svg?component'),\n    'plus-circle-outline': () => import('../../../images/icons/plus-circle-outline.svg?component'),\n    square: () => import('../../../images/icons/square.svg?component'),\n    'square-small-fill': () => import('../../../images/icons/square-small-fill.svg?component'),\n    'trash-can': () => import('../../../images/icons/trash-can.svg?component'),\n    cog: () => import('../../../images/icons/cog.svg?component'),\n    upload: () => import('../../../images/icons/upload.svg?component'),\n    'warning-filled': () => import('../../../images/icons/warning-filled.svg?component'),\n    warning: () => import('../../../images/icons/warning.svg?component'),\n} as const;\n\nexport type IconName = keyof typeof icons;\n\n/**\n * Props for the Icon component.\n */\ninterface IconProps {\n    /**\n     * The name of the icon to be displayed.\n     */\n    name: IconName;\n\n    /**\n     * Optional class name(s) for styling the icon.\n     */\n    className?: string;\n\n    /**\n     * Any additional attributes or properties that can be passed to the icon element (e.g., role, aria-label, etc.).\n     */\n    [key: string]: any;\n}\n\nexport const Icon = ({ className, name, ...props }: IconProps) => {\n    const [IconComponent, setIconComponent] = useState<JSX.Element | null>(null);\n\n    useEffect(() => {\n        if (icons[name]) {\n            icons[name]().then(({ default: LoadedIcon }) => {\n                setIconComponent(<LoadedIcon />);\n            });\n        } else {\n            setIconComponent(null);\n            console.error(`Icon with name \"${name}\" does not exist.`);\n        }\n    }, [name]);\n\n    return (\n        IconComponent && (\n            <span className={cx('adyen-pe-icon', className)} role=\"img\" aria-hidden {...props}>\n                {IconComponent}\n            </span>\n        )\n    );\n};\n\nexport default Icon;\n","import { ButtonVariant } from '../Button/types';\nimport { useClickOutside } from '../../../hooks/element/useClickOutside';\nimport { containerQueries, useResponsiveContainer } from '../../../hooks/useResponsiveContainer';\nimport tabbable from '../../../primitives/dom/tabbableRoot/tabbable';\nimport useFocusTrap from '../../../hooks/element/useFocusTrap';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { useCallback, useContext, useEffect, useRef } from 'preact/hooks';\nimport { createContext } from 'preact';\nimport { ModalProps } from './types';\nimport Button from '../Button';\nimport Icon from '../Icon';\nimport cx from 'classnames';\nimport './Modal.scss';\n\nconst ModalContext = createContext({ withinModal: false });\n\nexport const useModalContext = () => useContext(ModalContext);\n\nexport default function Modal({\n    title,\n    children,\n    classNameModifiers = [],\n    isOpen,\n    onClose,\n    isDismissible = true,\n    headerWithBorder = true,\n    size = 'fluid',\n    ...props\n}: ModalProps) {\n    const { i18n } = useCoreContext();\n    const isSmContainer = useResponsiveContainer(containerQueries.down.xs);\n    const focusCaptureElement = useRef<HTMLDivElement | null>(null);\n    const focusRestoreElement = useRef<Element | null>(null);\n\n    const handleDismiss = useCallback(() => {\n        if (isOpen && isDismissible) {\n            (focusRestoreElement.current as HTMLElement)?.focus();\n            onClose();\n        }\n    }, [isOpen, isDismissible, onClose]);\n\n    const modalRootElement = useFocusTrap<HTMLDivElement>(useClickOutside(null, handleDismiss), handleDismiss);\n\n    useEffect(() => {\n        if (isOpen && modalRootElement.current) {\n            focusRestoreElement.current = document.activeElement;\n            let tabbableHandle = tabbable();\n\n            // Temporarily focus on the capture element, so that\n            // focus is contained within the modal root element.\n            focusCaptureElement.current?.focus();\n\n            // Set the modal root element as the tabbable root.\n            // And then activate focus on the first tabbable element.\n            tabbableHandle.root = modalRootElement.current;\n            tabbableHandle.current = 1;\n\n            // Focus capture element no longer needed\n            focusCaptureElement.current?.remove();\n\n            return () => {\n                tabbableHandle.root = null;\n                tabbableHandle = null!;\n            };\n        }\n    }, [isOpen]);\n\n    return (\n        <>\n            {isOpen && (\n                <div\n                    className={cx(\n                        'adyen-pe-modal-wrapper',\n                        classNameModifiers.map(m => `adyen-pe-modal-wrapper--${m}`),\n                        { 'adyen-pe-modal-wrapper--open': isOpen, 'adyen-pe-modal-wrapper--dismissible': isDismissible }\n                    )}\n                    role=\"dialog\"\n                    aria-modal=\"true\"\n                    aria-hidden=\"false\"\n                    {...props}\n                >\n                    <ModalContext.Provider value={{ withinModal: true }}>\n                        <div\n                            className={cx('adyen-pe-modal', {\n                                'adyen-pe-modal--fluid': size === 'fluid',\n                                'adyen-pe-modal--small': size === 'small',\n                                'adyen-pe-modal--large': size === 'large',\n                                'adyen-pe-modal--extra-large': size === 'extra-large',\n                                'adyen-pe-modal--full-screen': size === 'full-screen' || isSmContainer,\n                            })}\n                            ref={modalRootElement}\n                        >\n                            <div className=\"adyen-pe-visually-hidden\" ref={focusCaptureElement} tabIndex={-1}></div>\n                            <div\n                                className={cx('adyen-pe-modal__header', {\n                                    'adyen-pe-modal__header--with-title': title,\n                                    'adyen-pe-modal__header--with-border-bottom': headerWithBorder,\n                                })}\n                            >\n                                {title && <div className={`adyen-pe-modal__header-title`}>{title}</div>}\n\n                                {isDismissible && (\n                                    <Button\n                                        onClick={handleDismiss}\n                                        variant={ButtonVariant.TERTIARY}\n                                        iconButton\n                                        classNameModifiers={['circle']}\n                                        className={`adyen-pe-modal__dismiss-button`}\n                                        aria-label={i18n.get('common.modal.controls.dismiss.label')}\n                                    >\n                                        <Icon name=\"cross\" />\n                                    </Button>\n                                )}\n                            </div>\n                            <div className={'adyen-pe-modal__content'}>{children}</div>\n                        </div>\n                    </ModalContext.Provider>\n                </div>\n            )}\n        </>\n    );\n}\n","import { useCallback, useEffect, useReducer, useRef } from 'preact/hooks';\nimport { ErrorLevel } from '../core/Http/types';\nimport { boolOrTrue } from '../utils';\n\nexport interface State<T> {\n    data?: T;\n    error?: Error;\n    isFetching: boolean;\n    refetch: () => void;\n}\n\n// type Cache<T> = Map<string, T>;\n\ntype Action<T> = { type: 'loading' } | { type: 'fetched'; payload: T } | { type: 'error'; payload: Error };\n\ntype FetchOptions<ReturnType> = {\n    enabled: boolean;\n    errorLevel: ErrorLevel;\n    keepPrevData: boolean;\n    onSuccess?: (data: ReturnType) => void;\n};\n\ntype UseFetchConfig<QueryFn extends (...args: any) => Promise<any>> = {\n    loadingContext?: string;\n    params?: Record<string, string | number | Date>;\n    requestOptions?: RequestInit;\n    fetchOptions?: Partial<FetchOptions<Awaited<ReturnType<QueryFn>>>>;\n    queryFn: QueryFn;\n};\nexport function useFetch<QueryFn extends (...args: any) => Promise<any>, T extends Awaited<ReturnType<QueryFn>>>({\n    fetchOptions: { keepPrevData, onSuccess, enabled } = { keepPrevData: true },\n    queryFn,\n}: // params,\nUseFetchConfig<QueryFn>): State<T> {\n    // TODO cache endpoint calls\n    //const cache = useRef<Cache<T>>(new Map());\n    // Used to prevent state update if the component is unmounted\n    const cancelRequest = useRef<boolean>(false);\n    const initialState: State<T> = {\n        error: undefined,\n        data: undefined,\n        isFetching: boolOrTrue(enabled),\n        refetch: () => fetchData(),\n    };\n    const fetchReducer = (state: State<T>, action: Action<T>): State<T> => {\n        switch (action.type) {\n            case 'loading':\n                return { ...initialState, isFetching: true, data: keepPrevData ? state.data : undefined };\n            case 'fetched':\n                return { ...initialState, data: action.payload, isFetching: false };\n            case 'error':\n                return { ...initialState, error: action.payload, isFetching: false };\n            default:\n                return state;\n        }\n    };\n\n    const [state, dispatch] = useReducer(fetchReducer, initialState);\n\n    const fetchData = useCallback(async () => {\n        // If a cache exists for this url, return it\n        /* if (cache.current.get(url.href)) {\n            dispatch({ type: 'fetched', payload: cache.current.get(url.href)! });\n            return;\n        } */\n        dispatch({ type: 'loading' });\n\n        try {\n            if (cancelRequest.current) return;\n            const data = await queryFn();\n            // cache.current.set(url.href, data);\n            onSuccess?.(data);\n            dispatch({ type: 'fetched', payload: data });\n        } catch (error) {\n            if (cancelRequest.current) return;\n            dispatch({ type: 'error', payload: error as Error });\n        }\n    }, [dispatch, queryFn, onSuccess]);\n\n    useEffect(() => {\n        cancelRequest.current = false;\n\n        if (boolOrTrue(enabled)) void fetchData();\n\n        // Avoid a possible state update after the component was unmounted\n        return () => {\n            cancelRequest.current = true;\n        };\n    }, [enabled, fetchData]);\n\n    return state;\n}\n","import { useRef } from 'preact/hooks';\nimport { uniqueId } from '../utils';\n\nexport const useUniqueId = () => {\n    return useRef(uniqueId().replace(/.*?(?=\\d+$)/, '')).current;\n};\n\nexport default useUniqueId;\n","export const ACCORDION_BASE_CLASS = 'adyen-pe-accordion';\nexport const ACCORDION_HEADER_CLASS = ACCORDION_BASE_CLASS + '__header';\nexport const ACCORDION_HEADER_CONTAINER_CLASS = ACCORDION_HEADER_CLASS + '-container';\nexport const ACCORDION_HEADER_CONTROLLER_CLASS = ACCORDION_HEADER_CLASS + '-controller';\nexport const ACCORDION_CONTENT_CLASS = ACCORDION_BASE_CLASS + '__content';\n","import classnames from 'classnames';\nimport { PropsWithChildren } from 'preact/compat';\nimport { useCallback, useRef, useState } from 'preact/hooks';\nimport useUniqueId from '../../../hooks/useUniqueId';\nimport {\n    ACCORDION_BASE_CLASS,\n    ACCORDION_CONTENT_CLASS,\n    ACCORDION_HEADER_CLASS,\n    ACCORDION_HEADER_CONTAINER_CLASS,\n    ACCORDION_HEADER_CONTROLLER_CLASS,\n} from './constants';\nimport { AccordionProps } from './types';\nimport Icon from '../Icon';\nimport './Accordion.scss';\n\nfunction Accordion({ children, classNames, header, headerInformation }: PropsWithChildren<AccordionProps>) {\n    const [isExpanded, setIsExpanded] = useState(false);\n    const accordionContentRef = useRef<HTMLDivElement>(null);\n    const toggle = useCallback(() => setIsExpanded(isExpanded => !isExpanded), []);\n\n    const uniqueId = useUniqueId();\n    const contentElementId = `accordion-content-${uniqueId}`;\n    const controllerElementId = `accordion-controller-${uniqueId}`;\n\n    return (\n        <div className={classnames(ACCORDION_BASE_CLASS, classNames)}>\n            <div className={ACCORDION_HEADER_CLASS}>\n                <button\n                    id={controllerElementId}\n                    aria-controls={contentElementId}\n                    className={ACCORDION_HEADER_CONTAINER_CLASS}\n                    onClick={toggle}\n                    aria-expanded={isExpanded}\n                >\n                    <div className={ACCORDION_HEADER_CONTROLLER_CLASS}>\n                        {header}\n                        {isExpanded ? <Icon name=\"chevron-up\" /> : <Icon name=\"chevron-down\" />}\n                    </div>\n                </button>\n                {headerInformation && <div>{headerInformation}</div>}\n            </div>\n            {\n                <div\n                    role=\"region\"\n                    id={contentElementId}\n                    aria-labelledby={controllerElementId}\n                    style={{ maxHeight: isExpanded ? accordionContentRef?.current?.offsetHeight : 0 }}\n                    className={ACCORDION_CONTENT_CLASS}\n                >\n                    <div ref={accordionContentRef}>{children}</div>\n                </div>\n            }\n        </div>\n    );\n}\n\nexport default Accordion;\n","export const CARD_BASE_CLASS = 'adyen-pe-card';\nexport const CARD_EXPANDABLE_CLASS = `${CARD_BASE_CLASS}--expandable`;\nexport const CARD_TOGGLE_CLASS = `${CARD_BASE_CLASS}__toggle`;\nexport const CARD_BODY = `${CARD_BASE_CLASS}__body`;\nexport const CARD_HEADER = `${CARD_BASE_CLASS}__header`;\nexport const CARD_TITLE = `${CARD_BASE_CLASS}__title`;\nexport const CARD_SUBTITLE = `${CARD_BASE_CLASS}__subtitle`;\nexport const CARD_HEADER_CONTENT = `${CARD_HEADER}-content`;\nexport const CARD_BODY_WITH_TITLE = `${CARD_BODY}--with-title`;\nexport const CARD_NO_OUTLINE = `${CARD_BASE_CLASS}--no-outline`;\nexport const CARD_NO_PADDING = `${CARD_BASE_CLASS}--no-padding`;\nexport const CARD_FILLED = `${CARD_BASE_CLASS}--filled`;\nexport const CARD_FOOTER = `${CARD_BASE_CLASS}__footer`;\nexport const CARD_COMPACT = `${CARD_BASE_CLASS}--compact`;\n","import classNames from 'classnames';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport { JSXInternal } from 'preact/src/jsx';\nimport { uuid } from '../../../utils';\nimport { InteractionKeyCode } from '../../types';\nimport Icon from '../Icon';\nimport {\n    CARD_BASE_CLASS,\n    CARD_BODY,\n    CARD_BODY_WITH_TITLE,\n    CARD_COMPACT,\n    CARD_EXPANDABLE_CLASS,\n    CARD_FILLED,\n    CARD_FOOTER,\n    CARD_HEADER,\n    CARD_HEADER_CONTENT,\n    CARD_NO_OUTLINE,\n    CARD_NO_PADDING,\n    CARD_SUBTITLE,\n    CARD_TITLE,\n    CARD_TOGGLE_CLASS,\n} from './constants';\nimport { CardProps } from './types';\nimport { PropsWithChildren } from 'preact/compat';\nimport './Card.scss';\n\ntype AriaRole = JSXInternal.HTMLAttributes<HTMLDivElement>['role'];\n\nconst Card = ({\n    title,\n    subTitle,\n    children,\n    expandable = false,\n    footer,\n    renderHeader,\n    renderFooter,\n    filled,\n    noOutline,\n    noPadding,\n    classNameModifiers,\n    testId,\n    compact,\n}: PropsWithChildren<CardProps>) => {\n    const [showContent, setShowContent] = useState(false);\n    const cardId = useMemo(() => uuid(), []);\n\n    const toggleExpansion = useCallback(() => {\n        if (expandable) {\n            setShowContent(showContent => !showContent);\n        }\n    }, [expandable]);\n\n    const onKeyDown = useCallback(\n        (evt: KeyboardEvent) => {\n            switch (evt.code) {\n                case InteractionKeyCode.ENTER:\n                case InteractionKeyCode.SPACE:\n                    evt.preventDefault();\n                    toggleExpansion();\n                    return;\n            }\n        },\n        [toggleExpansion]\n    );\n\n    const cardContainerAttributes = useMemo(() => {\n        return expandable\n            ? {\n                  role: 'button' as AriaRole,\n                  tabIndex: 0,\n                  onClick: toggleExpansion,\n                  onKeyDown: onKeyDown,\n                  'aria-controls': cardId,\n                  'aria-expanded': showContent,\n              }\n            : {};\n    }, [expandable, showContent, cardId, onKeyDown, toggleExpansion]);\n\n    return (\n        <div\n            data-testid={testId}\n            className={classNames(CARD_BASE_CLASS, classNameModifiers, {\n                [CARD_FILLED]: filled,\n                [CARD_NO_OUTLINE]: noOutline,\n                [CARD_NO_PADDING]: noPadding,\n                [CARD_EXPANDABLE_CLASS]: expandable,\n                [CARD_COMPACT]: compact,\n            })}\n            {...cardContainerAttributes}\n        >\n            {(title || renderHeader) && (\n                <div className={classNames(CARD_HEADER)}>\n                    <div className={classNames(CARD_HEADER_CONTENT)}>\n                        {expandable && <Icon name={showContent ? 'chevron-up' : 'chevron-down'} className={CARD_TOGGLE_CLASS} role=\"presentation\" />}\n                        {renderHeader ? renderHeader : <span className={CARD_TITLE}>{title}</span>}\n                        {subTitle && <div className={CARD_SUBTITLE}>{subTitle}</div>}\n                    </div>\n                </div>\n            )}\n            {(!expandable || showContent) && (\n                <div\n                    id={cardId}\n                    className={classNames(CARD_BODY, {\n                        [CARD_BODY_WITH_TITLE]: title || renderHeader,\n                    })}\n                >\n                    {children}\n                </div>\n            )}\n            {(footer || renderFooter) && <div className={CARD_FOOTER}>{renderFooter ? renderFooter : footer}</div>}\n        </div>\n    );\n};\n\nexport default Card;\n","export const SL_BASE_CLASS = 'adyen-pe-structured-list';\nexport const SL_ALIGN_END = `${SL_BASE_CLASS}--align-end`;\nexport const SL_EXPANDED_CLASS = `${SL_BASE_CLASS}--expanded`;\nexport const SL_ITEM_CLASS = `${SL_BASE_CLASS}__item`;\nexport const SL_GRID_CLASS = `${SL_BASE_CLASS}__grid`;\nexport const SL_CONTENT_CLASS = `${SL_BASE_CLASS}__content`;\nexport const SL_LABEL_CLASS = `${SL_BASE_CLASS}__label`;\nexport const SL_ITEM_WITH_HIGHLIGHT_CLASS = `${SL_ITEM_CLASS}--has-highlight`;\n","import { useMemo } from 'preact/hooks';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { uuid } from '../../../utils';\nimport { StructuredListItem } from './types';\n\nexport const useStructuredListItems = (items: StructuredListItem[]) => {\n    const { i18n } = useCoreContext();\n    return useMemo(() => {\n        return items.map(item => {\n            return {\n                key: item.key,\n                value: item.value,\n                id: item.id || uuid(),\n                label: item.label ?? i18n.get(item.key),\n                type: item.type,\n                config: item.config,\n                rawValue: item.rawValue,\n                render: item.render,\n            };\n        });\n    }, [i18n, items]);\n};\n","import cx from 'classnames';\nimport { useMemo } from 'preact/hooks';\nimport { AriaAttributes } from 'preact/compat';\nimport { TypographyVariant } from '../Typography/types';\nimport Typography from '../Typography/Typography';\nimport {\n    SL_ALIGN_END,\n    SL_BASE_CLASS,\n    SL_CONTENT_CLASS,\n    SL_EXPANDED_CLASS,\n    SL_GRID_CLASS,\n    SL_ITEM_CLASS,\n    SL_ITEM_WITH_HIGHLIGHT_CLASS,\n    SL_LABEL_CLASS,\n} from './constants';\nimport { StructuredListProps } from './types';\nimport './StructuredList.scss';\nimport { useStructuredListItems } from './useStructuredListItem';\n\nexport const StructuredListLayouts = ['3-9', '4-8', '5-7', '6-6', '7-5', '8-4'] as const satisfies ReadonlyArray<`${number}-${number}`>;\n\nconst DEFAULT_LAYOUT = '6-6';\nexport default function StructuredList({\n    ['aria-label']: ariaLabel,\n    items,\n    highlightable,\n    renderValue,\n    renderLabel,\n    layout = DEFAULT_LAYOUT,\n    grid = true,\n    classNames,\n    align = 'end',\n    condensed = true,\n}: StructuredListProps & Pick<AriaAttributes, 'aria-label'>) {\n    const [LABEL_COL_CLASS, VALUE_COL_CLASS] = useMemo(() => {\n        return layout.split('-').map(w => `${SL_GRID_CLASS}--width-${w}-of-12`);\n    }, [layout]);\n\n    const formattedItems = useStructuredListItems(items);\n\n    const typographyVariant = condensed ? TypographyVariant.CAPTION : TypographyVariant.BODY;\n\n    return (\n        <dl className={cx(SL_BASE_CLASS, classNames, { [SL_ALIGN_END]: align === 'end', [SL_EXPANDED_CLASS]: !condensed })} aria-label={ariaLabel}>\n            {formattedItems.map((item, index) => (\n                <div\n                    data-testid={item.label}\n                    key={`${index}_${item.id || '0'}`}\n                    className={cx(SL_ITEM_CLASS, {\n                        [SL_ITEM_WITH_HIGHLIGHT_CLASS]: highlightable,\n                        [SL_GRID_CLASS]: grid,\n                    })}\n                >\n                    <dt className={cx(SL_LABEL_CLASS, LABEL_COL_CLASS)}>\n                        {renderLabel ? (\n                            renderLabel(item.label, item.key, item.rawValue)\n                        ) : (\n                            <Typography variant={typographyVariant}>{item.label}</Typography>\n                        )}\n                    </dt>\n                    <dd className={cx(SL_CONTENT_CLASS, VALUE_COL_CLASS)}>\n                        {item.render ? (\n                            item.render(item)\n                        ) : renderValue ? (\n                            renderValue(item.value, item.key, item.type, item.config)\n                        ) : (\n                            <Typography variant={typographyVariant}>{item.value}</Typography>\n                        )}\n                    </dd>\n                </div>\n            ))}\n        </dl>\n    );\n}\n","export const BASE_CLASS = 'adyen-pe-overview-details';\nexport const SKELETON_CLASS = `${BASE_CLASS}__skeleton`;\nexport const SKELETON_CONTAINER = `${SKELETON_CLASS}-container`;\nexport const SKELETON_LOADING = `${SKELETON_CLASS}--loading-content`;\nexport const STATUS_SKELETON = `${BASE_CLASS}__status-skeleton`;\n","import cx from 'classnames';\nimport { memo } from 'preact/compat';\nimport { SKELETON_CLASS, SKELETON_CONTAINER, SKELETON_LOADING, STATUS_SKELETON } from './constants';\n\nconst DataOverviewDetailsSkeleton = ({ skeletonRowNumber = 0 }: { skeletonRowNumber?: number }) => {\n    const className = cx(SKELETON_CLASS, SKELETON_LOADING);\n    const skeletonRows = Array.from({ length: skeletonRowNumber });\n    const statusSkeletonRows = Array.from({ length: 2 });\n\n    return (\n        <div className={SKELETON_CONTAINER}>\n            <div className={STATUS_SKELETON}>\n                {statusSkeletonRows.map((_, index) => (\n                    <span className={className} key={`status-skeleton-${index}`} />\n                ))}\n            </div>\n            {skeletonRows.map((_, index) => (\n                <span className={className} key={`skeleton-${index}`} />\n            ))}\n        </div>\n    );\n};\n\nexport default memo(DataOverviewDetailsSkeleton);\n","import { useCallback, useMemo } from 'preact/hooks';\nimport useCoreContext from '../core/Context/useCoreContext';\n\nconst _useAtomicTimezoneOperation = <Args extends any[], ReturnValue>(operation: (...args: Args) => ReturnValue) => {\n    const { i18n } = useCoreContext();\n\n    return useCallback(\n        (...args: Args) => {\n            // capture timezone to restore\n            const timezoneToRestore = i18n.timezone;\n            try {\n                // perform timezone operation\n                return operation(...args);\n            } finally {\n                // restore timezone\n                i18n.timezone = timezoneToRestore;\n            }\n        },\n        [i18n, operation]\n    );\n};\n\nconst _useActiveTimezone = (timezone?: string) => {\n    const { i18n } = useCoreContext();\n\n    const getActiveTimezone = _useAtomicTimezoneOperation(\n        useCallback(() => {\n            // first reset to system timezone,\n            // then attempt to set the specified timezone,\n            // will fail silently if specified timezone is invalid\n            i18n.timezone = undefined;\n            i18n.timezone = timezone;\n            return i18n.timezone!;\n        }, [i18n, timezone])\n    );\n\n    return useMemo(getActiveTimezone, [getActiveTimezone]);\n};\n\nconst useTimezoneAwareDateFormatting = (timezone?: string) => {\n    const { i18n } = useCoreContext();\n    const activeTimezone = _useActiveTimezone(timezone);\n\n    const dateFormat = _useAtomicTimezoneOperation(\n        useCallback<(typeof i18n)['date']>(\n            (...args) => {\n                i18n.timezone = activeTimezone;\n                return i18n.date(...args);\n            },\n            [i18n, activeTimezone]\n        )\n    );\n\n    const fullDateFormat = _useAtomicTimezoneOperation(\n        useCallback<(typeof i18n)['fullDate']>(\n            (...args) => {\n                i18n.timezone = activeTimezone;\n                return i18n.fullDate(...args);\n            },\n            [i18n, activeTimezone]\n        )\n    );\n\n    return { dateFormat, fullDateFormat } as const;\n};\n\nexport default useTimezoneAwareDateFormatting;\n","export const PD_BASE_CLASS = 'adyen-pe-payout-data';\nexport const PD_TITLE_CONTAINER_CLASS = `${PD_BASE_CLASS}__title-container`;\nexport const PD_TITLE_CLASS = `${PD_BASE_CLASS}__title`;\nexport const PD_TITLE_CLASS_WITH_EXTRA_DETAILS = `${PD_BASE_CLASS}__title--with-extra-details`;\nexport const PD_TITLE_BA_CLASS = `${PD_BASE_CLASS}__title--ba-id`;\nexport const PD_CONTENT_CLASS = `${PD_BASE_CLASS}__content`;\nexport const PD_EXTRA_DETAILS_CLASS = `${PD_BASE_CLASS}__extra-details`;\nexport const PD_EXTRA_DETAILS_LABEL = `${PD_BASE_CLASS}__extra-details-label`;\nexport const PD_EXTRA_DETAILS_ICON = `${PD_BASE_CLASS}__extra-details-icon`;\nexport const PD_BUTTON_ACTIONS = `${PD_BASE_CLASS}__button-actions`;\nexport const PD_SECTION_CLASS = `${PD_CONTENT_CLASS}--section`;\nexport const PD_CARD_CLASS = `${PD_CONTENT_CLASS}--card`;\nexport const PD_CARD_TITLE_CLASS = `${PD_CARD_CLASS}-title`;\nexport const PD_SECTION_AMOUNT_CLASS = `${PD_SECTION_CLASS}-amount`;\nexport const PD_SECTION_GROSS_AMOUNT_CLASS = `${PD_SECTION_AMOUNT_CLASS}-gross`;\nexport const PD_SECTION_NET_AMOUNT_CLASS = `${PD_SECTION_AMOUNT_CLASS}-net`;\nexport const PD_UNPAID_AMOUNT = `${PD_BASE_CLASS}--unpaid-amount`;\n","export enum TagVariant {\n    DEFAULT = 'default',\n    WARNING = 'warning',\n    ERROR = 'error',\n    SUCCESS = 'success',\n    WHITE = 'white',\n    LIGHT = 'light',\n    LIGHT_WITH_OUTLINE = 'light-with-outline',\n\n    // Adapted from the latest Bento tag variants spec\n    BLUE = 'blue',\n}\n\nexport interface TagProps {\n    variant?: TagVariant;\n    label?: string;\n}\n","import cx from 'classnames';\nimport { TagProps, TagVariant } from './types';\nimport './Tag.scss';\nimport { memo, PropsWithChildren } from 'preact/compat';\nexport const Tag = memo(({ variant = TagVariant.DEFAULT, label, children }: PropsWithChildren<TagProps>) => {\n    return (\n        <div\n            className={cx('adyen-pe-tag', {\n                // [TODO]: These Bento tag variants definitions are outdated\n                'adyen-pe-tag--success': variant === TagVariant.SUCCESS,\n                'adyen-pe-tag--default': variant === TagVariant.DEFAULT,\n                'adyen-pe-tag--warning': variant === TagVariant.WARNING,\n                'adyen-pe-tag--error': variant === TagVariant.ERROR,\n                'adyen-pe-tag--primary': variant === TagVariant.WHITE,\n                'adyen-pe-tag--light': variant === TagVariant.LIGHT,\n                'adyen-pe-tag--light-with-outline': variant === TagVariant.LIGHT_WITH_OUTLINE,\n                // Adopted from the latest Bento tag variants spec\n                'adyen-pe-tag--blue': variant === TagVariant.BLUE,\n            })}\n        >\n            {children || label}\n        </div>\n    );\n});\n","import Typography from '../Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../Typography/types';\nimport { LinkProps } from './types';\nimport { PropsWithChildren, TargetedEvent } from 'preact/compat';\nimport cx from 'classnames';\nimport { useCallback } from 'preact/hooks';\nimport './Link.scss';\nimport Icon from '../Icon';\n\nfunction Link({\n    href,\n    children,\n    variant = 'default',\n    truncate,\n    target = '_blank',\n    withIcon = true,\n    classNames = [],\n    ...props\n}: PropsWithChildren<LinkProps>) {\n    const onClick = useCallback((e: TargetedEvent<HTMLAnchorElement>) => e.stopPropagation(), []);\n    return (\n        <a\n            className={cx('adyen-pe-link', [...classNames], {\n                [`adyen-pe-link--${variant}`]: variant !== 'default',\n                'adyen-pe-link--truncate': truncate,\n            })}\n            href={href}\n            target={target}\n            rel=\"noopener noreferrer\"\n            onClick={onClick}\n            {...props}\n        >\n            <Typography className=\"adyen-pe-link__text\" el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                {children}\n            </Typography>\n            {withIcon && target === '_blank' && <Icon name=\"external-link\" />}\n        </a>\n    );\n}\n\nexport default Link;\n","import cx from 'classnames';\n\nconst Icon = ({ className, alt, url }: { className?: string; alt?: string; url: string }) => {\n    return (\n        <div className=\"adyen-pe-data-grid__icon-container\">\n            <img className={cx('adyen-pe-data-grid__icon', className)} alt={alt} src={url} />\n        </div>\n    );\n};\n\nexport default Icon;\n","import { createContext } from 'preact';\nimport { useContext } from 'preact/hooks';\nimport { DataGridContextProps } from '../types';\nimport { EMPTY_OBJECT } from '../../../../utils';\n\nexport const DataGridContext = createContext<DataGridContextProps>(EMPTY_OBJECT as any);\n\nexport const useDataGridContext = () => useContext(DataGridContext);\n","import { HTMLAttributes, PropsWithChildren } from 'preact/compat';\nimport { useDataGridContext } from './hooks/useDataGridContext';\nimport { useEffect, useRef } from 'preact/hooks';\nimport { cloneElement, isValidElement } from 'preact';\nimport cx from 'classnames';\nimport { CellTextPosition } from './types';\n\nexport default function DataGridCell({\n    children,\n    column,\n    position,\n    ...props\n}: PropsWithChildren<HTMLAttributes<HTMLDivElement>> & { column: string; position?: string }) {\n    const { registerCells } = useDataGridContext();\n    const ref = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        if (ref.current) {\n            registerCells({\n                column,\n                width: ref.current?.getBoundingClientRect().width,\n            });\n        }\n    }, [column, registerCells]);\n\n    return (\n        <div\n            role=\"cell\"\n            className={cx('adyen-pe-data-grid__cell', {\n                'adyen-pe-data-grid__cell--right': position === 'right',\n                'adyen-pe-data-grid__cell--center': position === 'center',\n            })}\n            {...props}\n        >\n            {children && isValidElement(children)\n                ? cloneElement(children, {\n                      ...children?.props,\n                      ref: ref,\n                      style: { width: 'min-content' },\n                  })\n                : null}\n        </div>\n    );\n}\n","import DataGridCell from '../DataGridCell';\nimport { DataGridColumn } from '../types';\nimport { CustomCell } from '../DataGrid';\nimport Icon from './Icon';\nimport { CustomButtonObject, CustomDataObject, CustomIconObject, CustomLinkObject } from '../../../types';\nimport Button from '../../Button';\nimport { JSXInternal } from 'preact/src/jsx';\nimport Link from '../../Link/Link';\nimport { ButtonVariant } from '../../Button/types';\nimport cx from 'classnames';\n\nexport const isCustomDataObject = (item: any): item is CustomDataObject => {\n    return !!item && typeof item === 'object' && 'value' in item;\n};\n\nconst _isIconType = (item: any): item is CustomIconObject => {\n    return !!item && typeof item === 'object' && item.type === 'icon';\n};\n\nconst _isButtonType = (item: any): item is CustomButtonObject => {\n    return !!item && typeof item === 'object' && item.type === 'button';\n};\n\nconst _isLinkType = (item: any): item is CustomLinkObject => {\n    return !!item && typeof item === 'object' && item.type === 'link';\n};\n\nexport const TableCells = <\n    Items extends Array<any>,\n    Columns extends Array<DataGridColumn<Extract<keyof Items[number], string>>>,\n    CustomCells extends CustomCell<Items, Columns, Columns[number]>\n>({\n    columns,\n    customCells,\n    item,\n    rowIndex,\n}: {\n    columns: Columns;\n    customCells?: CustomCells;\n    item: Items[number];\n    rowIndex: number;\n}) => {\n    return (\n        <>\n            {columns.map(({ key, position }) => {\n                if (customCells?.[key])\n                    return (\n                        <DataGridCell aria-labelledby={String(key)} key={key} column={key} position={position}>\n                            <div style={{ width: 'min-content' }}>\n                                {\n                                    // TODO create safeguard to remove \"as any\" assertion\n                                    customCells[key]!({\n                                        key,\n                                        value: item[key],\n                                        item,\n                                        rowIndex,\n                                    } as any)\n                                }\n                            </div>\n                        </DataGridCell>\n                    );\n\n                const data = item[key] as CustomDataObject;\n\n                const { value, type } = isCustomDataObject(data) ? data : { value: data, type: 'text' };\n\n                const icon = _isIconType(data)\n                    ? { url: data?.config?.src, alt: data?.config?.alt !== undefined && data?.config?.alt !== null ? data?.config?.alt : data.value }\n                    : undefined;\n                const buttonCallback = _isButtonType(data)\n                    ? (e: JSXInternal.TargetedMouseEvent<HTMLButtonElement | HTMLAnchorElement>) => {\n                          e.stopPropagation();\n                          data?.config?.action();\n                      }\n                    : undefined;\n\n                return (\n                    <DataGridCell aria-labelledby={String(key)} key={key} column={key} position={position}>\n                        <div className=\"adyen-pe-data-grid__cell-value\">\n                            {_isIconType(data) && data.config && icon?.url && (\n                                <div className={cx('adyen-pe-data-grid__icon-cell', data?.config?.className)}>\n                                    <Icon {...icon} />\n                                    {value.trim() && <span>{value}</span>}\n                                </div>\n                            )}\n                            {type === 'text' && <span className={cx(data?.config?.className)}>{value}</span>}\n                            {type === 'button' && data.config && buttonCallback && (\n                                <Button className={cx(data.config?.className)} onClick={buttonCallback} variant={ButtonVariant.SECONDARY}>\n                                    {value}\n                                </Button>\n                            )}\n                            {_isLinkType(data) && data.config && (\n                                <Link\n                                    classNames={data.config.className ? [data.config.className] : []}\n                                    href={data.config.href}\n                                    target={data.config.target}\n                                >\n                                    {value}\n                                </Link>\n                            )}\n                        </div>\n                    </DataGridCell>\n                );\n            })}\n        </>\n    );\n};\n","import { ButtonVariant } from '../types';\nimport { ComponentChild, VNode } from 'preact';\n\nexport interface ButtonActionObject {\n    title: string;\n    event: (event: Event) => void;\n    disabled?: boolean;\n    variant?: ButtonVariant;\n    renderTitle?: (title: string) => ComponentChild;\n    state?: 'loading' | 'default';\n    classNames?: string[];\n    iconLeft?: VNode<Element>;\n    iconRight?: VNode<Element>;\n    ariaLabel?: string;\n}\n\nexport type ButtonActionsList = ButtonActionObject[] | readonly ButtonActionObject[];\n\nexport enum ButtonActionsLayoutBasic {\n    BUTTONS_END = 'buttons-end',\n    FILL_CONTAINER = 'fill-container',\n    SPACE_BETWEEN = 'space-between',\n    VERTICAL_STACK = 'vertical-stack',\n}\n\nexport enum ButtonActionsLayoutExtended {\n    BUTTONS_START = 'buttons-start',\n}\n\nexport const ButtonActionsLayout = { ...ButtonActionsLayoutBasic, ...ButtonActionsLayoutExtended };\nexport type ButtonActionsLayout = ButtonActionsLayoutBasic | ButtonActionsLayoutExtended;\n","import Button from '../../Button';\nimport { ButtonActionsLayout, ButtonActionsList } from './types';\nimport { BUTTON_ACTION_CLASSNAME, BUTTON_ACTION_CONTAINER_CLASSNAME } from '../constants';\nimport { ButtonVariant } from '../types';\nimport './ButtonActions.scss';\nimport { memo } from 'preact/compat';\nimport { useMemo } from 'preact/hooks';\nimport cx from 'classnames';\n\ninterface ButtonActionsProps {\n    actions: ButtonActionsList;\n    layout?: ButtonActionsLayout;\n}\nfunction ButtonActions({ actions, layout = ButtonActionsLayout.BUTTONS_END }: ButtonActionsProps) {\n    const conditionalClasses = (): string => {\n        return `${BUTTON_ACTION_CLASSNAME}--${layout}`;\n    };\n\n    const generateButtonVariantByIndex = (actionIndex: number) => {\n        const lastActionIndex = actions.length - 1;\n        return actionIndex === lastActionIndex ? ButtonVariant.PRIMARY : ButtonVariant.SECONDARY;\n    };\n\n    const reversedActions = useMemo(() => [...actions].reverse(), [actions]);\n\n    return (\n        <div className={BUTTON_ACTION_CLASSNAME}>\n            <div className={`${BUTTON_ACTION_CONTAINER_CLASSNAME} ${conditionalClasses()}`} role=\"group\">\n                {reversedActions.map((button, index) => (\n                    <Button\n                        className={cx(button.classNames)}\n                        aria-label={button.ariaLabel ?? button.title}\n                        key={`${index}_${button.title || '0'}`}\n                        disabled={button.disabled}\n                        variant={button.variant || generateButtonVariantByIndex(index)}\n                        onClick={button.event}\n                        state={button.state ?? 'default'}\n                        iconLeft={button.iconLeft}\n                        iconRight={button.iconRight}\n                    >\n                        {button.renderTitle ? button.renderTitle(button.title) : button.title}\n                    </Button>\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default memo(ButtonActions);\n","import Localization, { TranslationKey, TranslationOptions } from '../../../core/Localization';\nimport { EMPTY_OBJECT } from '../../../utils';\n\nexport interface KeyFactoryConfig {\n    prefix?: string;\n    suffix?: string;\n}\n\nexport interface KeyFactoryFunction {\n    (value?: string): string | undefined;\n}\n\nexport interface TranslationFactoryFunction {\n    (i18n: Localization['i18n'], value?: string, options?: TranslationOptions): string | undefined;\n}\n\nexport interface TranslationFallbackFunction {\n    (translationKey: string | undefined, value: string | undefined, options: TranslationOptions | undefined): string | undefined;\n}\n\nexport const createKeyFactoryFromConfig = (config?: KeyFactoryConfig): KeyFactoryFunction => {\n    const { prefix = '', suffix = '' } = config ?? (EMPTY_OBJECT as NonNullable<typeof config>);\n    return (value?: string) => (value == undefined ? undefined : `${prefix}${value}${suffix}`);\n};\n\nexport const createDynamicTranslationFactory =\n    (keyFactory: KeyFactoryFunction, translationFallback?: TranslationFallbackFunction): TranslationFactoryFunction =>\n    (i18n, value, options) => {\n        let translation: string | undefined = undefined;\n        const translationKey = keyFactory(value);\n\n        if (translationKey != undefined) {\n            translation = i18n.get(translationKey as TranslationKey, options);\n            translation = translation === translationKey ? undefined : translation;\n        }\n\n        return translation ?? translationFallback?.(translationKey, value, options);\n    };\n","import { TranslationKey } from '../../../translations';\nimport { IDispute, IDisputeStatus, IDisputeStatusGroup, IDisputeType } from '../../../types/api/models/disputes';\n\nexport const DISPUTE_ACTION_NEEDED_URGENTLY_THRESHOLD_DAYS = 10;\n\nexport const DISPUTE_PAYMENT_SCHEMES = {\n    mc: 'Mastercard',\n    visa: 'Visa',\n    ach: 'ACH Direct Debit',\n    amex: 'American Express',\n    discover: 'Discover',\n    elo: 'Elo',\n    jcb: 'JCB',\n    pulse: 'PULSE',\n    sepadirectdebit: 'SEPA Direct Debit',\n    others: 'Others',\n} as const;\n\nexport const DISPUTE_REASON_CATEGORIES = {\n    FRAUD: 'disputes.common.reasonCategories.fraud',\n    CONSUMER_DISPUTE: 'disputes.common.reasonCategories.consumerDispute',\n    PROCESSING_ERROR: 'disputes.common.reasonCategories.processingError',\n    REQUEST_FOR_INFORMATION: 'disputes.common.reasonCategories.requestForInformation',\n    AUTHORISATION_ERROR: 'disputes.common.reasonCategories.authorisationError',\n    ADJUSTMENT: 'disputes.common.reasonCategories.adjustment',\n    OTHER: 'disputes.common.reasonCategories.other',\n} satisfies Record<IDispute['reason']['category'], TranslationKey>;\n\nexport const DISPUTE_STATUS_GROUPS = {\n    CHARGEBACKS: 'disputes.overview.common.statusGroups.chargebacks',\n    FRAUD_ALERTS: 'disputes.overview.common.statusGroups.fraudAlerts',\n    ONGOING_AND_CLOSED: 'disputes.overview.common.statusGroups.ongoingAndClosed',\n} satisfies Record<IDisputeStatusGroup, TranslationKey>;\n\nexport const DISPUTE_STATUSES = {\n    ACCEPTED: 'disputes.common.statuses.accepted',\n    EXPIRED: 'disputes.common.statuses.expired',\n    LOST: 'disputes.common.statuses.lost',\n    PENDING: 'disputes.common.statuses.pending',\n    RESPONDED: 'disputes.common.statuses.responded',\n    UNDEFENDED: 'disputes.common.statuses.undefended',\n    UNRESPONDED: 'disputes.common.statuses.unresponded',\n    WON: 'disputes.common.statuses.won',\n} as const satisfies Record<IDisputeStatus, TranslationKey>;\n\nexport const DISPUTE_TYPES = {\n    CHARGEBACK: 'disputes.management.details.types.chargeback',\n    NOTIFICATION_OF_FRAUD: 'disputes.management.details.types.notificationOfFraud',\n    REQUEST_FOR_INFORMATION: 'disputes.management.details.types.requestForInformation',\n} as const satisfies Record<IDisputeType, TranslationKey>;\n","import { IAmount, IBalanceAccountBase, ITransactionCategory, ITransactionStatus } from '../../../types';\nimport { ExternalUIComponentProps, TransactionOverviewComponentProps } from '../../types';\nimport { RangeTimestamps } from '../../internal/Calendar/calendar/timerange';\nimport { TranslationKey } from '../../../translations';\n\ntype _DateRangeKey<T extends TranslationKey> = T;\n\nexport type TransactionsDateRange =\n    | _DateRangeKey<'common.filters.types.date.rangeSelect.options.last7Days'>\n    | _DateRangeKey<'common.filters.types.date.rangeSelect.options.last30Days'>\n    | _DateRangeKey<'common.filters.types.date.rangeSelect.options.thisWeek'>\n    | _DateRangeKey<'common.filters.types.date.rangeSelect.options.lastWeek'>\n    | _DateRangeKey<'common.filters.types.date.rangeSelect.options.thisMonth'>\n    | _DateRangeKey<'common.filters.types.date.rangeSelect.options.lastMonth'>\n    | _DateRangeKey<'common.filters.types.date.rangeSelect.options.yearToDate'>\n    | _DateRangeKey<'common.filters.types.date.rangeSelect.options.custom'>;\n\nexport interface TransactionsFilters {\n    balanceAccount?: Readonly<IBalanceAccountBase>;\n    categories: readonly ITransactionCategory[];\n    statuses: readonly ITransactionStatus[];\n    currencies: readonly IAmount['currency'][];\n    createdDate: RangeTimestamps;\n    paymentPspReference?: string;\n}\n\nexport const enum TransactionsView {\n    TRANSACTIONS = 'transactions',\n    INSIGHTS = 'insights',\n}\n\nexport type TransactionOverviewProps = ExternalUIComponentProps<\n    TransactionOverviewComponentProps & { balanceAccounts: IBalanceAccountBase[] | undefined; isLoadingBalanceAccount: boolean }\n>;\n","import { clamp, enumerable, getter, hasOwnProperty, isBitSafeInteger, isFunction, isNullish, isUndefined, struct } from '../../../../../utils';\nimport type {\n    RangeTimestamp,\n    RangeTimestampOffsets,\n    RangeTimestamps,\n    RangeTimestampsConfig,\n    RangeTimestampsConfigContext,\n    RangeTimestampsConfigParameter,\n    RangeTimestampsConfigParameterValue,\n    RangeTimestampsConfigRestampingContext,\n    RangeTimestampsConfigWithFromOffsets,\n    RangeTimestampsConfigWithoutOffsets,\n} from './types';\nimport { Restamper, RestamperWithTimezone, systemToTimezone, timezoneToSystem } from '../../../../../core/Localization/datetime/restamper';\n\nexport const createRangeTimestampsConfigRestampingContext = (restamper: RestamperWithTimezone) =>\n    Object.freeze({\n        systemToTimezone: enumerable((time?: Parameters<Restamper>[0]) => systemToTimezone(restamper, time)),\n        timezoneToSystem: enumerable((time?: Parameters<Restamper>[0]) => timezoneToSystem(restamper, time)),\n        timezoneOffset: enumerable((time?: Parameters<Restamper>[0]) => restamper(time).offset),\n    }) as { [P in keyof RangeTimestampsConfigRestampingContext]: TypedPropertyDescriptor<RangeTimestampsConfigRestampingContext[P]> };\n\nexport const getRangeTimestampsContextIntegerPropertyFactory = <T extends number = number>(\n    minInteger: T,\n    maxInteger: T,\n    defaultInteger: T = minInteger\n) => {\n    const _getNormalizedValue = (value?: T | null, fallbackValue?: T) => {\n        let normalizedValue = value as T;\n\n        if (isNullish(value)) normalizedValue = defaultInteger;\n        else if (!isBitSafeInteger(value)) normalizedValue = fallbackValue ?? defaultInteger;\n\n        const clampedValue = clamp(minInteger, normalizedValue, maxInteger) as T;\n        return clampedValue === normalizedValue ? clampedValue : (fallbackValue ?? defaultInteger);\n    };\n\n    return (initialValue?: T) => {\n        const valueGetter = getter(() => normalizedValue);\n        let normalizedValue = _getNormalizedValue(initialValue);\n\n        return struct({\n            value: valueGetter,\n            descriptor: enumerable({\n                ...valueGetter,\n                set(this: RangeTimestamps, value?: T | null) {\n                    const currentValue = normalizedValue;\n                    normalizedValue = _getNormalizedValue(value, normalizedValue);\n                    if (currentValue !== normalizedValue) this.now = this.now;\n                },\n            }),\n        }) as Readonly<{\n            value: T;\n            descriptor: TypedPropertyDescriptor<T>;\n        }>;\n    };\n};\n\nexport const getRangeTimestampsConfigParameterUnwrapper =\n    (config: RangeTimestampsConfig, context: RangeTimestampsConfigContext) =>\n    <T = {}>(value: T): RangeTimestampsConfigParameterValue<T> =>\n        isFunction(value) ? value.call(config, context) : (value as RangeTimestampsConfigParameterValue<T>);\n\nexport const isRangeTimestampsConfigWithoutOffsets = (config: RangeTimestampsConfig): config is RangeTimestampsConfigWithoutOffsets =>\n    !hasOwnProperty(config, 'offsets');\n\nexport const isRangeTimestampsConfigWithFromOffsets = (\n    config: Exclude<RangeTimestampsConfig, RangeTimestampsConfigWithoutOffsets>\n): config is RangeTimestampsConfigWithFromOffsets => hasOwnProperty(config, 'from');\n\nexport const nowTimestamp = (({ now }) => now) satisfies RangeTimestampsConfigParameter<RangeTimestamp>;\n\nexport const offsetsForNDays = (() => {\n    const _cache = new Map<number, RangeTimestampOffsets>();\n\n    return (numberOfDays: number) => {\n        let offsets = _cache.get(numberOfDays);\n\n        if (isUndefined(offsets)) {\n            offsets = Object.freeze([0, 0, numberOfDays, 0, 0, 0, -1] as const);\n            _cache.set(numberOfDays, offsets);\n        }\n\n        return offsets;\n    };\n})();\n\nexport const parseRangeTimestamp = (timestamp: Date | RangeTimestamp): RangeTimestamp | undefined => {\n    try {\n        const normalizedTimestamp = timestamp instanceof Date || +timestamp === timestamp ? timestamp : undefined;\n        const parsedTimestamp = new Date(normalizedTimestamp as RangeTimestamp).getTime();\n        return isNaN(parsedTimestamp) ? undefined : parsedTimestamp;\n    } catch {\n        /* ignore any parsing exception and implicitly return `undefined` */\n    }\n};\n","import { asPlainObject, EMPTY_OBJECT, getter, struct } from '../../../../../utils';\nimport restamper, { RestamperWithTimezone } from '../../../../../core/Localization/datetime/restamper';\nimport type { RangeTimestamp, RangeTimestamps, RangeTimestampsConfig, RangeTimestampsConfigContext } from './types';\nimport {\n    createRangeTimestampsConfigRestampingContext,\n    getRangeTimestampsConfigParameterUnwrapper,\n    isRangeTimestampsConfigWithFromOffsets,\n    isRangeTimestampsConfigWithoutOffsets,\n    parseRangeTimestamp,\n} from './utils';\n\nconst createRangeTimestampsFactory = <T extends Record<any, any> = {}>(\n    config = EMPTY_OBJECT as RangeTimestampsConfig,\n    additionalContext = EMPTY_OBJECT as { [P in keyof T]: TypedPropertyDescriptor<T[P]> }\n) => {\n    const _config = asPlainObject(config);\n    const _additionalContext = asPlainObject(additionalContext);\n\n    return () => {\n        const _restamper = restamper();\n        const nowDescriptor = getter(() => NOW);\n        const tzDescriptor = getter(() => _restamper.tz.current);\n        const configContext = struct({\n            now: nowDescriptor,\n            timezone: tzDescriptor,\n            ...createRangeTimestampsConfigRestampingContext(_restamper),\n        }) as RangeTimestampsConfigContext;\n        const unwrap = getRangeTimestampsConfigParameterUnwrapper(_config, configContext);\n\n        let { from, to, now: NOW } = EMPTY_OBJECT as RangeTimestamps;\n\n        const nowSetter = (timestamp?: Date | RangeTimestamp | null) => {\n            NOW = parseRangeTimestamp((timestamp ?? Date.now()) as RangeTimestamp) ?? NOW;\n\n            parsing: {\n                if (isRangeTimestampsConfigWithoutOffsets(_config)) {\n                    from = parseRangeTimestamp(unwrap(_config.from)) ?? NOW;\n                    to = parseRangeTimestamp(unwrap(_config.to)) ?? NOW;\n                    break parsing;\n                }\n\n                let date: Date;\n                let direction: 1 | -1;\n                let withRangeFrom: boolean;\n\n                if ((withRangeFrom = isRangeTimestampsConfigWithFromOffsets(_config))) {\n                    date = new Date((from = parseRangeTimestamp(unwrap(_config.from)) ?? NOW));\n                    direction = 1;\n                } else {\n                    date = new Date((to = parseRangeTimestamp(unwrap(_config.to)) ?? NOW));\n                    direction = -1;\n                }\n\n                // revert timestamp to system timezone ahead of offset operations\n                date = new Date(configContext.timezoneToSystem(date));\n\n                const [years = 0, months = 0, days = 0, hours = 0, minutes = 0, seconds = 0, ms = 0] = unwrap(_config.offsets);\n\n                date.setFullYear(date.getFullYear() + years * direction, date.getMonth() + months * direction, date.getDate() + days * direction);\n\n                date.setHours(\n                    date.getHours() + hours * direction,\n                    date.getMinutes() + minutes * direction,\n                    date.getSeconds() + seconds * direction,\n                    date.getMilliseconds() + ms * direction\n                );\n\n                // restamp timestamp to current target timezone before update range\n                const timestamp = parseRangeTimestamp(configContext.systemToTimezone(date)) ?? NOW;\n\n                withRangeFrom ? (to = timestamp) : (from = timestamp);\n            }\n\n            if (from > to) [from, to] = [to, from];\n        };\n\n        const tzSetter = (timezone?: RestamperWithTimezone['tz']['current'] | null) => {\n            const tz = _restamper.tz;\n            const currentTimezone = tz.current;\n            _restamper.tz = timezone;\n            if (tz.current !== currentTimezone) nowSetter(NOW);\n        };\n\n        nowSetter();\n\n        return struct<RangeTimestamps<T>>({\n            ..._additionalContext,\n            from: getter(() => from),\n            now: { ...nowDescriptor, set: nowSetter },\n            timezone: { ...tzDescriptor, set: tzSetter },\n            to: getter(() => to),\n        });\n    };\n};\n\nexport default createRangeTimestampsFactory;\n","import restamper, { systemToTimezone, timezoneToSystem } from '../../../../core/Localization/datetime/restamper';\nimport { BASE_LOCALE, BASE_FORMAT_OPTIONS } from '../../../../core/Localization/datetime/restamper/constants';\nimport { DEFAULT_DATETIME_FORMAT } from '../../../../core/Localization/constants/localization';\nimport { EMPTY_ARRAY, EMPTY_OBJECT, identity, isInfinity, isUndefined, mod } from '../../../../utils';\nimport type { Month, MonthDays, Time, WeekDay } from './types';\n\nconst DATE_PARTS_REGEX = /^(\\d{2})\\/(\\d{2})\\/(-?\\d+),\\s+(\\d{2}):(\\d{2}):(\\d{2}).(\\d{3})/;\n\nconst _startTimestamp =\n    <RestArgs extends any[], DateAdjustmentFn extends (date: Date, ...args: RestArgs) => Date | number>(\n        adjustDate = identity as unknown as DateAdjustmentFn\n    ) =>\n    (timestamp: Date | number, timezone?: string, ...args: RestArgs) => {\n        const restamper = withTimezone(timezone);\n        const restampedDate = new Date(timezoneToSystem(restamper, timestamp));\n        restampedDate.setHours(0, 0, 0, 0);\n        return systemToTimezone(restamper, adjustDate(restampedDate, ...args));\n    };\n\nexport const startOfDay = _startTimestamp();\nexport const startOfMonth = _startTimestamp(date => date.setDate(1));\nexport const startOfYear = _startTimestamp(date => date.setMonth(0, 1));\n\nexport const startOfWeek = _startTimestamp((date, firstWeekDay?: WeekDay) => {\n    const dateOffset = getWeekDayIndex(date.getDay() as WeekDay, firstWeekDay ?? 0);\n    return date.setDate(date.getDate() - dateOffset);\n});\n\nexport const isLeapYear = (year: number) => (year % 100 ? year % 4 : year % 400) === 0;\n\nexport const getMonthDays = (month: Month, year: number, offset = 0) => {\n    const nextMonth = month + offset;\n    const monthIndex = mod(nextMonth, 12) as Month;\n    const nextYear = year + Math.floor(nextMonth / 12);\n\n    let days: MonthDays = 31;\n\n    switch (monthIndex) {\n        case 1:\n            days = isLeapYear(nextYear) ? 29 : 28;\n            break;\n        case 3:\n        case 5:\n        case 8:\n        case 10:\n            days = 30;\n            break;\n    }\n\n    return [days, monthIndex, nextYear] as const;\n};\n\nexport const getWeekDayIndex = (weekDay: WeekDay, firstWeekDay: WeekDay = 0) => ((7 - firstWeekDay + weekDay) % 7) as WeekDay;\n\nexport const computeTimestampOffset = (timestamp: number, timezone?: string) =>\n    isInfinity(timestamp) ? 0 : timestamp - startOfDay(timestamp, timezone);\n\nexport const getDateObjectFromTimestamp = (timestamp?: number) => (isUndefined(timestamp) ? timestamp : new Date(timestamp));\n\nexport const getTimezoneDateString = (date: number | string | Date, options: Intl.DateTimeFormatOptions = EMPTY_OBJECT) => {\n    const restamper = withTimezone(options.timeZone);\n    const dateOptions = { ...DEFAULT_DATETIME_FORMAT, ...options, timeZone: restamper.tz.current };\n    return new Date(date).toLocaleDateString(BASE_LOCALE, dateOptions);\n};\n\nexport const getTimezoneDateParts = (date: number | string | Date, timeZone?: string) => {\n    const dateString = getTimezoneDateString(date, { ...BASE_FORMAT_OPTIONS, ...DEFAULT_DATETIME_FORMAT, timeZone, hour12: false });\n    const [, month = '', day = '', year = '', hours = '', minutes = '', seconds = '', ms = ''] = dateString.match(DATE_PARTS_REGEX) ?? EMPTY_ARRAY;\n    return [+year, +month - 1, +day, +hours % 24, +minutes, +seconds, +ms] as const;\n};\n\nexport const getEdgesDistance = (fromTime: Time, toTime: Time, timezone?: string) => {\n    if (isInfinity(fromTime) || isInfinity(toTime)) return Infinity;\n    const [fromYear, fromMonth] = getTimezoneDateParts(fromTime, timezone);\n    const [toYear, toMonth] = getTimezoneDateParts(toTime, timezone);\n    return Math.abs(toMonth - fromMonth + (toYear - fromYear) * 12);\n};\n\nexport const withTimezone = (() => {\n    const _restamper = restamper();\n    return (timezone?: string) => {\n        _restamper.tz = undefined; // first reset to system timezone\n        _restamper.tz = timezone;\n        return _restamper;\n    };\n})();\n","import { clamp } from '../../../../../../../utils';\nimport createRangeTimestampsFactory from '../../factory';\nimport type { RangeTimestampOffsets } from '../../types';\nimport { nowTimestamp } from '../../utils';\nimport { startOfMonth } from '../../../utils';\n\nexport const ONE_MONTH_OFFSETS = Object.freeze([0, 1, 0, 0, 0, 0, -1] as const) as RangeTimestampOffsets;\n\nconst offsetMonth = (monthCount: number = 0) => {\n    const months = ~~clamp(0, monthCount as number, Infinity) || 0;\n    const restConfig = months ? { offsets: ONE_MONTH_OFFSETS } : { to: nowTimestamp };\n\n    return createRangeTimestampsFactory({\n        from: ({ now, timezone, systemToTimezone, timezoneToSystem }) => {\n            const date = new Date(timezoneToSystem(startOfMonth(now, timezone)));\n            date.setMonth(date.getMonth() - months);\n            return systemToTimezone(date);\n        },\n        ...restConfig,\n    });\n};\n\nexport default offsetMonth;\n","import offsetMonth from './shared/offsetMonth';\nconst lastMonth = offsetMonth(1);\nexport default lastMonth;\n","import createRangeTimestampsFactory from '../factory';\nimport { getRangeTimestampsContextIntegerPropertyFactory, nowTimestamp } from '../utils';\nimport { startOfDay } from '../../utils';\n\nexport const MAX_NUM_DAYS = 365;\nexport const MIN_NUM_DAYS = 1;\nexport const DEFAULT_NUM_DAYS = 1;\n\nconst _getNumberOfDaysContext = getRangeTimestampsContextIntegerPropertyFactory<number>(MIN_NUM_DAYS, MAX_NUM_DAYS, DEFAULT_NUM_DAYS);\n\nconst lastNDays = (numberOfDays?: number) => {\n    const numberOfDaysContext = _getNumberOfDaysContext(numberOfDays);\n\n    return createRangeTimestampsFactory(\n        {\n            from: ({ now, timezone, systemToTimezone, timezoneToSystem }) => {\n                const date = new Date(timezoneToSystem(startOfDay(now, timezone)));\n                date.setDate(date.getDate() - numberOfDaysContext.value + 1);\n                return systemToTimezone(date);\n            },\n            to: nowTimestamp,\n        },\n        { numberOfDays: numberOfDaysContext.descriptor }\n    )();\n};\n\nexport default lastNDays;\n","import { clamp } from '../../../../../../../utils';\nimport createRangeTimestampsFactory from '../../factory';\nimport { getRangeTimestampsContextIntegerPropertyFactory, nowTimestamp, offsetsForNDays } from '../../utils';\nimport { startOfWeek } from '../../../utils';\nimport type { WeekDay } from '../../../types';\n\nexport const DEFAULT_FIRST_WEEK_DAY = 1;\nexport const ONE_WEEK_OFFSETS = offsetsForNDays(7);\n\nconst _getFirstWeekDayContext = getRangeTimestampsContextIntegerPropertyFactory<WeekDay>(0, 6, DEFAULT_FIRST_WEEK_DAY);\n\nconst offsetWeek = (weekCount: number = 0) => {\n    const weeks = ~~clamp(0, weekCount as number, Infinity) || 0;\n\n    return (firstWeekDay: WeekDay = DEFAULT_FIRST_WEEK_DAY) => {\n        const restConfig = weeks ? { offsets: ONE_WEEK_OFFSETS } : { to: nowTimestamp };\n        const firstWeekDayContext = _getFirstWeekDayContext(firstWeekDay);\n\n        return createRangeTimestampsFactory(\n            {\n                from: ({ now, timezone, systemToTimezone, timezoneToSystem }) => {\n                    const date = new Date(timezoneToSystem(startOfWeek(now, timezone, firstWeekDayContext.value)));\n                    date.setDate(date.getDate() - weeks * 7);\n                    return systemToTimezone(date);\n                },\n                ...restConfig,\n            },\n            { firstWeekDay: firstWeekDayContext.descriptor }\n        )();\n    };\n};\n\nexport default offsetWeek;\n","import offsetWeek from './shared/offsetWeek';\nconst lastWeek = offsetWeek(1);\nexport default lastWeek;\n","import offsetMonth from './shared/offsetMonth';\nconst thisMonth = offsetMonth(0);\nexport default thisMonth;\n","import offsetWeek from './shared/offsetWeek';\nconst thisWeek = offsetWeek(0);\nexport default thisWeek;\n","import createRangeTimestampsFactory from '../factory';\nimport { nowTimestamp } from '../utils';\nimport { startOfYear } from '../../utils';\n\nconst yearToDate = createRangeTimestampsFactory({\n    from: ({ now, timezone }) => startOfYear(now, timezone),\n    to: nowTimestamp,\n});\n\nexport default yearToDate;\n","import { TranslationKey } from '../../../translations';\nimport { ITransaction, ITransactionCategory, ITransactionStatus } from '../../../types';\nimport { TransactionsDateRange, TransactionsFilters, TransactionsView } from './types';\nimport * as RangePreset from '../../internal/Calendar/calendar/timerange/presets';\n\nconst ROOT_CLASS = 'adyen-pe-transactions';\nexport const BASE_CLASS = ROOT_CLASS + '-overview';\nexport const DETAILS_CLASS = ROOT_CLASS + '-details';\n\nexport const classes = {\n    root: BASE_CLASS,\n    rootSmall: BASE_CLASS + '--xs',\n    summary: BASE_CLASS + '__summary',\n    summaryItem: BASE_CLASS + '__summary-item',\n    toolbar: BASE_CLASS + '__toolbar',\n    details: DETAILS_CLASS,\n    filterBarSmall: BASE_CLASS + '__filter-bar-small',\n    totalsError: BASE_CLASS + '__totals-error',\n} as const;\n\nexport const TRANSACTION_DATE_RANGES = Object.freeze({\n    ['common.filters.types.date.rangeSelect.options.last7Days' satisfies TransactionsDateRange]: RangePreset.lastNDays(7),\n    ['common.filters.types.date.rangeSelect.options.last30Days' satisfies TransactionsDateRange]: RangePreset.lastNDays(30),\n    ['common.filters.types.date.rangeSelect.options.thisWeek' satisfies TransactionsDateRange]: RangePreset.thisWeek(),\n    ['common.filters.types.date.rangeSelect.options.lastWeek' satisfies TransactionsDateRange]: RangePreset.lastWeek(),\n    ['common.filters.types.date.rangeSelect.options.thisMonth' satisfies TransactionsDateRange]: RangePreset.thisMonth(),\n    ['common.filters.types.date.rangeSelect.options.lastMonth' satisfies TransactionsDateRange]: RangePreset.lastMonth(),\n    ['common.filters.types.date.rangeSelect.options.yearToDate' satisfies TransactionsDateRange]: RangePreset.yearToDate(),\n} as const);\n\nexport const TRANSACTION_DATE_RANGE_CUSTOM = 'common.filters.types.date.rangeSelect.options.custom' satisfies TransactionsDateRange;\nexport const TRANSACTION_DATE_RANGE_DEFAULT = 'common.filters.types.date.rangeSelect.options.last30Days' satisfies TransactionsDateRange;\nexport const TRANSACTION_DATE_RANGE_DEFAULT_TIMESTAMPS = TRANSACTION_DATE_RANGES[TRANSACTION_DATE_RANGE_DEFAULT];\nexport const TRANSACTION_DATE_RANGE_MAX_YEARS = 2;\n\nexport const TRANSACTION_STATUSES: readonly ITransactionStatus[] = ['Booked', 'Pending', 'Reversed'] as const;\n\nexport const TRANSACTION_CATEGORIES: readonly ITransactionCategory[] = [\n    'ATM',\n    'Capital',\n    'Chargeback',\n    'Correction',\n    'Payment',\n    'Refund',\n    'Transfer',\n    'Other',\n] as const;\n\nexport const TRANSACTIONS_VIEW_TABS: readonly Readonly<{ id: TransactionsView; label: TranslationKey; content: null }>[] = [\n    { id: TransactionsView.TRANSACTIONS, label: 'transactions.overview.views.transactions', content: null } as const,\n    { id: TransactionsView.INSIGHTS, label: 'transactions.overview.views.insights', content: null } as const,\n] as const;\n\nexport const INITIAL_FILTERS: Readonly<TransactionsFilters> = {\n    balanceAccount: undefined,\n    categories: [] as const,\n    createdDate: TRANSACTION_DATE_RANGE_DEFAULT_TIMESTAMPS,\n    currencies: [] as const,\n    paymentPspReference: undefined,\n    statuses: ['Booked'] as const,\n} as const;\n\nexport const EXPORT_COLUMNS = [\n    'id',\n    'balanceAccountId',\n    'createdAt',\n    'status',\n    'paymentMethod',\n    'category',\n    'paymentPspReference',\n    'currency',\n    'netAmount',\n    'amountBeforeDeductions',\n] as const satisfies (keyof ITransaction | 'currency')[];\n\nexport const DEFAULT_EXPORT_COLUMNS: readonly (typeof EXPORT_COLUMNS)[number][] = [\n    'createdAt',\n    'paymentMethod',\n    'category',\n    'currency',\n    'netAmount',\n    'amountBeforeDeductions',\n] as const;\n\nexport const TRANSACTION_ANALYTICS_CATEGORY = 'Transaction component' as const;\nexport const TRANSACTION_ANALYTICS_SUBCATEGORY_DETAILS = 'Transaction details' as const;\nexport const TRANSACTION_ANALYTICS_SUBCATEGORY_INSIGHTS = 'Transactions insights' as const;\nexport const TRANSACTION_ANALYTICS_SUBCATEGORY_LIST = 'Transactions list' as const;\n","import AdyenPlatformExperienceError from '../../core/Errors/AdyenPlatformExperienceError';\nimport { TranslationKey } from '../../translations';\nimport { JSXInternal } from 'preact/src/jsx';\n\nexport type ErrorMessage = {\n    title: TranslationKey;\n    message?: TranslationKey | TranslationKey[];\n    refreshComponent?: boolean;\n    onContactSupport?: () => void;\n    translationValues?: { [k in TranslationKey]?: JSXInternal.Element | null };\n    images?: {\n        desktop?: string;\n        mobile?: string;\n    };\n};\n\nexport const UNDEFINED_ERROR = {\n    title: 'common.errors.unexpected',\n    message: ['common.errors.contactSupport'],\n} satisfies ErrorMessage;\n\nexport const getCommonErrorMessage = (error: AdyenPlatformExperienceError | undefined, onContactSupport?: () => void): ErrorMessage | null => {\n    if (!error) return null;\n\n    switch (error.errorCode) {\n        case '29_001':\n            return {\n                title: 'common.errors.requestInvalid',\n                message: ['common.errors.contactSupport'],\n                onContactSupport,\n            };\n        case '30_112':\n            return {\n                title: 'common.errors.notFound',\n                message: ['transactions.details.errors.notFound'],\n                onContactSupport,\n            };\n        case '00_403':\n            return UNDEFINED_ERROR;\n        default:\n            return null;\n    }\n};\n","export const DEFAULT_POPOVER_CLASSNAME = 'adyen-pe-popover';\nexport const DEFAULT_TOOLTIP_CLASSNAME = 'adyen-pe-tooltip';\nexport const POPOVER_CONTAINER_CLASSNAME = `${DEFAULT_POPOVER_CLASSNAME}-container`;\nexport const POPOVER_HEADER_CLASSNAME = `${DEFAULT_POPOVER_CLASSNAME}__header`;\nexport const POPOVER_HEADER_TITLE_CLASSNAME = `${DEFAULT_POPOVER_CLASSNAME}__header-title`;\nexport const POPOVER_CONTENT_CLASSNAME = `${DEFAULT_POPOVER_CLASSNAME}__content`;\nexport const TOOLTIP_CONTENT_CLASSNAME = `${DEFAULT_TOOLTIP_CLASSNAME}__content`;\nexport const POPOVER_FOOTER_CLASSNAME = `${DEFAULT_POPOVER_CLASSNAME}__footer`;\n","import Button from '../../Button';\nimport { ButtonVariant } from '../../Button/types';\nimport './PopoverDismissButton.scss';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport { memo } from 'preact/compat';\n\ninterface PopoverDismissButtonProps {\n    image?: boolean;\n    onClick: () => void;\n}\n\nfunction PopoverDismissButton({ image = true, onClick }: PopoverDismissButtonProps) {\n    const { i18n } = useCoreContext();\n    const getConditionalClasses = (): string => {\n        return image ? 'adyen-pe-popover-dismiss-button--on-image' : '';\n    };\n    return (\n        <>\n            <Button\n                className={getConditionalClasses()}\n                iconButton={true}\n                variant={ButtonVariant.TERTIARY}\n                onClick={onClick}\n                aria-label={i18n.get('common.actions.dismiss.labels.close')}\n            >\n                <svg role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\">\n                    <title>{'dismiss'}</title>\n                    <path\n                        fill=\"#00112C\"\n                        fillRule=\"evenodd\"\n                        d=\"M11.4697 12.5303C11.7626 12.8232 12.2374 12.8232 12.5303 12.5303C12.8232 12.2374 12.8232 11.7626 12.5303 11.4697L9.06066 8L12.5303 4.53033C12.8232 4.23744 12.8232 3.76256 12.5303 3.46967C12.2374 3.17678 11.7626 3.17678 11.4697 3.46967L8 6.93934L4.53033 3.46967C4.23744 3.17678 3.76256 3.17678 3.46967 3.46967C3.17678 3.76256 3.17678 4.23744 3.46967 4.53033L6.93934 8L3.46967 11.4697C3.17678 11.7626 3.17678 12.2374 3.46967 12.5303C3.76256 12.8232 4.23744 12.8232 4.53033 12.5303L8 9.06066L11.4697 12.5303Z\"\n                        clipRule=\"evenodd\"\n                    />\n                </svg>\n            </Button>\n        </>\n    );\n}\n\nexport default memo(PopoverDismissButton);\n","import Typography from '../../Typography/Typography';\nimport { TypographyVariant } from '../../Typography/types';\nimport { memo } from 'preact/compat';\n\nexport interface PopoverTitleProps {\n    title: string;\n    isImageTitle?: boolean;\n}\nfunction PopoverTitle({ title, isImageTitle = false }: PopoverTitleProps) {\n    const getVariant = (): TypographyVariant => {\n        return isImageTitle ? TypographyVariant.SUBTITLE : TypographyVariant.BODY;\n    };\n\n    return (\n        <Typography strongest={!isImageTitle} variant={getVariant()}>\n            {title}\n        </Typography>\n    );\n}\n\nexport default memo(PopoverTitle);\n","import { ButtonActionsLayout, ButtonActionsList } from '../Button/ButtonActions/types';\nimport { ComponentChildren } from 'preact';\nimport { HTMLAttributes } from 'preact/compat';\nimport { MutableRef } from 'preact/hooks';\n\nexport enum PopoverContainerVariant {\n    TOOLTIP = 'tooltip',\n    POPOVER = 'popover',\n}\n\nexport interface PopoverCoreProps {\n    actions?: ButtonActionsList;\n    actionsLayout?: ButtonActionsLayout;\n    variant?: PopoverContainerVariant;\n    divider?: boolean;\n    dismissible?: boolean;\n    fitContent?: boolean;\n    disableFocusTrap?: boolean;\n    open?: boolean;\n    withContentPadding?: boolean;\n    modifiers?: string[];\n    position?: PopoverContainerPosition;\n    containerSize?: PopoverContainerSize;\n    title?: string;\n    targetElement: MutableRef<Element | null>;\n    withoutSpace?: boolean;\n    dismiss?: () => any;\n    setToTargetWidth?: boolean;\n    children: ComponentChildren;\n    classNameModifiers?: string[];\n    showOverlay?: boolean;\n    fitPosition?: boolean;\n    fixedPositioning?: boolean;\n    setPopoverElement?: (element: HTMLDivElement | null) => void;\n    additionalStyle?: { minY?: number; maxY?: number };\n}\n\ntype UncontrolledProps = Pick<HTMLAttributes<any>, 'aria-describedby'>;\n\nexport type PopoverProps = PopoverCoreProps & UncontrolledProps;\n\nexport enum PopoverContainerPosition {\n    TOP = 'top',\n    RIGHT = 'right',\n    BOTTOM = 'bottom',\n    LEFT = 'left',\n    TOP_LEFT = 'top-left',\n    TOP_RIGHT = 'top-right',\n    BOTTOM_LEFT = 'bottom-left',\n    BOTTOM_RIGHT = 'bottom-right',\n}\n\nexport enum PopoverContainerSize {\n    MEDIUM = 'medium',\n    WIDE = 'wide',\n}\n","import { enumerable, isUndefined, struct, structFrom } from '../../../../utils';\n\ntype ObserverCallback = (entry: IntersectionObserverEntry) => void;\n\ninterface WithIntersectionObserver {\n    remove: (this: { observerCallback: ObserverCallback }) => void;\n}\n\ninterface ObserverInstance {\n    observerCallback: ObserverCallback;\n    observer: IntersectionObserver;\n}\n\nconst getIntersectionObserver = (() => {\n    const observerCallbackMap = new WeakMap<ObserverCallback, ObserverInstance & WithIntersectionObserver>();\n\n    const withIntersectionObserver = struct({\n        remove: enumerable(function () {\n            remove(this.observerCallback);\n        } as WithIntersectionObserver['remove']),\n    }) as WithIntersectionObserver;\n\n    const findObserver = (callbackFn: ObserverCallback, root?: Element) => {\n        let observerInstance = observerCallbackMap.get(callbackFn);\n\n        if (isUndefined(observerInstance)) {\n            const observer = new IntersectionObserver(\n                entries => {\n                    entries.forEach(entry => {\n                        if (callbackFn) callbackFn(entry);\n                    });\n                },\n                { root: root ?? null, rootMargin: '', threshold: [1] }\n            );\n\n            observerInstance = structFrom(withIntersectionObserver, {\n                observerCallback: enumerable(callbackFn),\n                observer: enumerable(observer),\n            }) as ObserverInstance & WithIntersectionObserver;\n\n            observerCallbackMap.set(callbackFn, observerInstance);\n        }\n\n        return observerInstance;\n    };\n\n    const remove = (callbackFn: ObserverCallback) => {\n        const currentObserver = observerCallbackMap.get(callbackFn);\n        currentObserver?.observer.disconnect();\n        observerCallbackMap.delete(callbackFn);\n    };\n\n    return findObserver;\n})();\n\nexport default getIntersectionObserver;\n","import { h, Ref } from 'preact';\nimport { MutableRef, useCallback, useEffect, useRef, useState } from 'preact/hooks';\nimport getIntersectionObserver from '../../components/internal/Popover/utils/utils';\nimport { PopoverContainerPosition, PopoverContainerVariant } from '../../components/internal/Popover/types';\nimport { isRefObject } from '../../primitives/reactive/reflex/helpers';\nimport type { Reflexable } from '../../primitives/reactive/reflex';\nimport type { Nullable } from '../../utils/types';\nimport useReflex from '../useReflex';\n\nconst FULL_WIDTH_TOOLTIP_POSITIONS = [\n    PopoverContainerPosition.BOTTOM_RIGHT,\n    PopoverContainerPosition.BOTTOM_LEFT,\n    PopoverContainerPosition.TOP_RIGHT,\n    PopoverContainerPosition.TOP_LEFT,\n];\n\nconst POPOVER_DIAGONAL_HORIZONTAL_OFFSET = 5;\nconst ARROW_OFFSET = 4;\nconst SCREEN_EDGE_MARGIN = 10;\n\nconst calculateOffset = ({\n    position,\n    variant,\n    offset,\n    additionalStyle,\n    fixedPositioning,\n    fullWidth,\n    popover,\n    targetElement,\n}: {\n    position: PopoverContainerPosition;\n    variant: PopoverContainerVariant;\n    offset: [number, number, number, number];\n    additionalStyle?: { minY?: number; maxY?: number };\n    fixedPositioning?: boolean;\n    fullWidth?: boolean;\n    popover: Element;\n    targetElement: HTMLElement;\n}): h.JSX.CSSProperties => {\n    let translateX = 0;\n    let translateY = 0;\n\n    const isTooltip = variant === PopoverContainerVariant.TOOLTIP;\n\n    const popoverHeight = popover.clientHeight;\n    const popoverWidth = popover.clientWidth;\n    const popoverContent = popover.firstChild as HTMLElement;\n\n    const popoverContentHeight = popoverContent.offsetHeight;\n    const popoverContentWidth = popoverContent.offsetWidth;\n\n    const bodyPosition = document.body.getBoundingClientRect();\n    const targetPosition = targetElement.getBoundingClientRect();\n\n    const toCenterFullWidth = bodyPosition.x + (bodyPosition.width - popoverContentWidth) / 2;\n    const toCenterX = targetPosition.x + (targetPosition.width - popoverContentWidth) / 2;\n    const toCenterY = targetPosition.y + (targetPosition.height - popoverContentHeight) / 2;\n\n    const scrollX = window.scrollX;\n    const scrollY = window.scrollY;\n\n    switch (position) {\n        case PopoverContainerPosition.BOTTOM:\n            translateX = fullWidth ? toCenterFullWidth : isTooltip ? toCenterX : targetPosition.x;\n            translateY = targetPosition.y + targetPosition.height + offset[1];\n\n            if (!fixedPositioning) {\n                if (!fullWidth) {\n                    translateX += scrollX;\n                }\n                translateY += scrollY;\n            }\n            break;\n        case PopoverContainerPosition.TOP:\n            translateX = isTooltip ? toCenterX : targetPosition.x;\n            translateY = targetPosition.y - (popoverHeight + offset[0]);\n\n            if (!fixedPositioning) {\n                translateX += scrollX;\n                translateY += scrollY - popoverContent.clientHeight + popoverHeight;\n            }\n            break;\n        case PopoverContainerPosition.RIGHT:\n            translateX = targetPosition.x + targetPosition.width + offset[2];\n            translateY = isTooltip ? toCenterY : targetPosition.y - targetPosition.height / 2;\n\n            if (!fixedPositioning) {\n                translateX += scrollX;\n                translateY += scrollY;\n            }\n            break;\n        case PopoverContainerPosition.LEFT:\n            translateX = targetPosition.x - (popoverWidth + offset[3]);\n            translateY = isTooltip ? toCenterY : targetPosition.y - targetPosition.height / 2;\n\n            if (!fixedPositioning) {\n                translateX += scrollX;\n                translateY += scrollY;\n            }\n            break;\n        case PopoverContainerPosition.BOTTOM_LEFT:\n            translateX = 5;\n            translateY = targetPosition.y + targetPosition.height + offset[1];\n\n            if (!fixedPositioning) {\n                translateX += scrollX;\n                translateY += scrollY;\n            }\n            break;\n        case PopoverContainerPosition.BOTTOM_RIGHT:\n            translateX = -5;\n            translateY = targetPosition.y + targetPosition.height + offset[1];\n\n            if (!fixedPositioning) {\n                translateX = scrollX - (bodyPosition.width - targetPosition.right);\n                translateY += scrollY;\n            }\n            break;\n        case PopoverContainerPosition.TOP_LEFT:\n            translateX = POPOVER_DIAGONAL_HORIZONTAL_OFFSET;\n            translateY = targetPosition.y - popoverHeight;\n\n            if (!fixedPositioning) {\n                translateX += scrollX;\n                translateY += scrollY - popoverContent.clientHeight + popoverHeight;\n            }\n            break;\n        case PopoverContainerPosition.TOP_RIGHT:\n            translateX = -POPOVER_DIAGONAL_HORIZONTAL_OFFSET;\n            translateY = targetPosition.y - popoverHeight;\n\n            if (!fixedPositioning) {\n                translateX += scrollX;\n                translateY += scrollY - popoverContent.clientHeight + popoverHeight;\n            }\n            break;\n    }\n\n    // [IMPORTANT]:\n    // - Use hyphen-case for CSS property names (as you would for CSSStyleDeclaration.setProperty)\n    // - Use string for CSS property values (as you would for CSSStyleDeclaration.setProperty)\n    const offsetStyle: h.JSX.CSSProperties = {};\n\n    if (additionalStyle) {\n        const isMaxLimits = !!additionalStyle.maxY && translateY + popover?.clientHeight > additionalStyle.maxY;\n        const isMinLimits = !!additionalStyle.minY && translateY < additionalStyle.minY;\n\n        if (isMaxLimits && additionalStyle.maxY) {\n            const targetVerticalPosition = targetPosition.y + targetPosition.height + 8; // [TODO]: Capture 8 as a constant\n            const height = Math.max(0, additionalStyle.maxY - targetVerticalPosition);\n\n            if (height > 20) {\n                offsetStyle.height = `${height}px`;\n            }\n\n            offsetStyle['overflow-y'] = 'scroll';\n        }\n\n        if (isMinLimits && additionalStyle.minY && translateY) {\n            const popoverHeight = (popover as HTMLElement).offsetHeight ?? (popover as HTMLElement).clientHeight;\n            const targetHeight = Math.max(0, popoverHeight - (additionalStyle.minY - translateY));\n\n            offsetStyle.height = `${targetHeight}px`;\n\n            if (targetHeight) {\n                offsetStyle['overflow-y'] = 'scroll';\n            }\n        }\n\n        if (isMinLimits) {\n            translateY = additionalStyle.minY ?? 0;\n        }\n    }\n\n    const isAlignedToRight = position === PopoverContainerPosition.TOP_RIGHT || position === PopoverContainerPosition.BOTTOM_RIGHT;\n\n    return {\n        inset: isAlignedToRight ? '0 0 auto auto' : '0 auto auto 0',\n        margin: '0',\n        position: fixedPositioning ? 'fixed' : 'absolute',\n        transform: `translate3d(${translateX}px, ${translateY}px, 0)`,\n        visibility: 'hidden',\n        ...offsetStyle,\n    };\n};\n\nconst usePopoverPositioner = (\n    offset: [number, number, number, number],\n    targetElement: MutableRef<Element | null>,\n    variant: PopoverContainerVariant,\n    position?: PopoverContainerPosition,\n    arrowRef?: Ref<HTMLSpanElement> | undefined,\n    setToTargetWidth?: boolean,\n    showOverlay?: boolean,\n    fitPosition?: boolean,\n    fixedPositioning?: boolean,\n    additionalStyle?: { minY?: number; maxY?: number },\n    ref?: Nullable<Reflexable<Element>>,\n    contentRef?: Ref<HTMLDivElement> | undefined\n) => {\n    const [initialPosition, setInitialPosition] = useState(true);\n    const [showPopover, setShowPopover] = useState(fitPosition ? !fitPosition : !!position);\n    const [currentPosition, setCurrentPosition] = useState(position || PopoverContainerPosition.TOP);\n    const [checkedPositions, setCheckedPosition] = useState<Array<[PopoverContainerPosition, number]>>([]);\n\n    const observerCallback = useCallback(\n        (entry: IntersectionObserverEntry) => {\n            const screenWidth = document.documentElement.clientWidth;\n            const targetPosition = targetElement.current?.getBoundingClientRect();\n\n            if (entry.intersectionRatio === 1) return setShowPopover(true);\n\n            if (!initialPosition && entry.intersectionRatio !== 1) {\n                if (checkedPositions && checkedPositions.length === (fitPosition ? 8 : 4)) {\n                    const bestPos = checkedPositions.reduce((res, pos) => (pos[1] > res[1] ? pos : res), checkedPositions[0]!);\n                    setCurrentPosition(bestPos[0]);\n                    return setShowPopover(true);\n                }\n\n                setShowPopover(false);\n\n                switch (currentPosition) {\n                    case PopoverContainerPosition.TOP:\n                        setCheckedPosition(value => [...value, [PopoverContainerPosition.TOP, entry.intersectionRatio]]);\n                        setCurrentPosition(PopoverContainerPosition.BOTTOM);\n                        break;\n                    case PopoverContainerPosition.BOTTOM:\n                        setCheckedPosition(value => [...value, [PopoverContainerPosition.BOTTOM, entry.intersectionRatio]]);\n                        setCurrentPosition(\n                            fitPosition\n                                ? (targetPosition?.x || 0) > screenWidth / 2\n                                    ? PopoverContainerPosition.BOTTOM_RIGHT\n                                    : PopoverContainerPosition.BOTTOM_LEFT\n                                : PopoverContainerPosition.RIGHT\n                        );\n                        break;\n                    case PopoverContainerPosition.BOTTOM_LEFT:\n                        setCheckedPosition(value => [...value, [PopoverContainerPosition.BOTTOM_LEFT, entry.intersectionRatio]]);\n                        setCurrentPosition(fitPosition ? PopoverContainerPosition.TOP_LEFT : PopoverContainerPosition.RIGHT);\n                        break;\n                    case PopoverContainerPosition.BOTTOM_RIGHT:\n                        setCheckedPosition(value => [...value, [PopoverContainerPosition.BOTTOM_RIGHT, entry.intersectionRatio]]);\n                        setCurrentPosition(fitPosition ? PopoverContainerPosition.TOP_RIGHT : PopoverContainerPosition.RIGHT);\n                        break;\n                    case PopoverContainerPosition.TOP_LEFT:\n                        setCheckedPosition(value => [...value, [PopoverContainerPosition.TOP_LEFT, entry.intersectionRatio]]);\n                        setCurrentPosition(fitPosition ? PopoverContainerPosition.BOTTOM_LEFT : PopoverContainerPosition.RIGHT);\n                        break;\n                    case PopoverContainerPosition.TOP_RIGHT:\n                        setCheckedPosition(value => [...value, [PopoverContainerPosition.TOP_RIGHT, entry.intersectionRatio]]);\n                        setCurrentPosition(fitPosition ? PopoverContainerPosition.BOTTOM_RIGHT : PopoverContainerPosition.RIGHT);\n                        break;\n                    case PopoverContainerPosition.RIGHT:\n                        setCheckedPosition(value => [...value, [PopoverContainerPosition.RIGHT, entry.intersectionRatio]]);\n                        setCurrentPosition(PopoverContainerPosition.LEFT);\n                        break;\n                    case PopoverContainerPosition.LEFT:\n                        setCheckedPosition(value => [...value, [PopoverContainerPosition.LEFT, entry.intersectionRatio]]);\n                        setCurrentPosition(PopoverContainerPosition.TOP);\n                        break;\n                }\n            }\n        },\n        [targetElement, initialPosition, checkedPositions, fitPosition, currentPosition]\n    );\n\n    const observerCallbackRef = useRef(observerCallback);\n\n    useEffect(() => {\n        getIntersectionObserver(observerCallbackRef.current).remove();\n        observerCallbackRef.current = observerCallback;\n    }, [observerCallback]);\n\n    return useReflex<Element>(\n        useCallback(\n            (current, previous) => {\n                if (previous && (!position || fitPosition)) {\n                    const observer = getIntersectionObserver(observerCallback).observer;\n                    observer.unobserve(previous);\n                }\n\n                if (current && targetElement.current) {\n                    if (!position || fitPosition) {\n                        const observer = getIntersectionObserver(observerCallback).observer;\n                        observer.observe(current);\n                    }\n\n                    if (!(current instanceof Element)) return;\n\n                    const popoverStyle = calculateOffset({\n                        variant,\n                        offset,\n                        additionalStyle,\n                        fixedPositioning,\n                        fullWidth: showOverlay,\n                        popover: current,\n                        position: currentPosition,\n                        targetElement: targetElement.current as HTMLElement,\n                    });\n\n                    const style = {\n                        ...popoverStyle,\n                        ...(showPopover && { visibility: 'visible' }),\n                        ...(setToTargetWidth && {\n                            'min-width': 'fit-content',\n                            width: `${targetElement.current.clientWidth}px`,\n                        }),\n                    };\n\n                    (current as HTMLElement).setAttribute(\n                        'style',\n                        Object.entries(style)\n                            .map(entry => entry.join(':'))\n                            .join(';')\n                    );\n\n                    if (initialPosition) setInitialPosition(false);\n\n                    if (variant && variant === PopoverContainerVariant.TOOLTIP && arrowRef && isRefObject(arrowRef)) {\n                        arrowRef.current?.setAttribute('data-popover-placement', currentPosition);\n                        if (FULL_WIDTH_TOOLTIP_POSITIONS.includes(currentPosition)) {\n                            const targetPosition = targetElement.current.getBoundingClientRect();\n                            const popoverContent = current.firstChild as HTMLElement;\n                            const popoverContentWidth = popoverContent.offsetWidth;\n                            const positionX = targetPosition.x + (targetPosition.width - popoverContentWidth) / 2;\n                            const popoverContentHeight = popoverContent.offsetHeight;\n\n                            const positionY =\n                                currentPosition === PopoverContainerPosition.BOTTOM_RIGHT || currentPosition === PopoverContainerPosition.BOTTOM_LEFT\n                                    ? popoverContentHeight + ARROW_OFFSET\n                                    : ARROW_OFFSET;\n\n                            arrowRef.current?.setAttribute(\n                                'style',\n                                `transform: translate3d(${positionX}px, -${positionY}px, 0) rotate(45deg); inset: 0 0 auto auto`\n                            );\n                        }\n                    }\n\n                    if (\n                        variant &&\n                        variant === PopoverContainerVariant.TOOLTIP &&\n                        contentRef &&\n                        isRefObject(contentRef) &&\n                        FULL_WIDTH_TOOLTIP_POSITIONS.includes(currentPosition)\n                    ) {\n                        const screenWidth = document.documentElement.clientWidth;\n                        contentRef.current?.setAttribute('style', `max-width: ${screenWidth - SCREEN_EDGE_MARGIN}px`);\n                    }\n                }\n            },\n            [\n                position,\n                fitPosition,\n                targetElement,\n                observerCallback,\n                variant,\n                offset,\n                additionalStyle,\n                fixedPositioning,\n                showOverlay,\n                currentPosition,\n                showPopover,\n                setToTargetWidth,\n                initialPosition,\n                arrowRef,\n                contentRef,\n            ]\n        ),\n        ref\n    );\n};\n\nexport default usePopoverPositioner;\n","import { uniqueId } from '../../utils';\nimport { useCallback, useRef } from 'preact/hooks';\nimport type { Reflexable } from '../../primitives/reactive/reflex';\nimport type { Nullable } from '../../utils/types';\nimport useReflex from '../useReflex';\n\nconst useUniqueIdentifier = (ref?: Nullable<Reflexable<Element>>) => {\n    const id = useRef<string>();\n\n    return useReflex<Element>(\n        useCallback(\n            (current, previous) => {\n                if (previous instanceof Element && previous.id === id.current) previous.id = '';\n                if (!(current instanceof Element)) return;\n                current.id = id.current || (id.current = uniqueId());\n            },\n            [ref]\n        ),\n        ref\n    );\n};\n\nexport default useUniqueIdentifier;\n","import ButtonActions from '../Button/ButtonActions/ButtonActions';\nimport { ButtonActionsLayoutBasic } from '../Button/ButtonActions/types';\nimport {\n    DEFAULT_POPOVER_CLASSNAME,\n    DEFAULT_TOOLTIP_CLASSNAME,\n    POPOVER_CONTAINER_CLASSNAME,\n    POPOVER_CONTENT_CLASSNAME,\n    POPOVER_FOOTER_CLASSNAME,\n    POPOVER_HEADER_CLASSNAME,\n    POPOVER_HEADER_TITLE_CLASSNAME,\n    TOOLTIP_CONTENT_CLASSNAME,\n} from './constants';\nimport PopoverDismissButton from './PopoverDismissButton/PopoverDismissButton';\nimport PopoverTitle from './PopoverTitle/PopoverTitle';\nimport { PopoverContainerSize, PopoverContainerVariant, PopoverProps } from './types';\nimport { InteractionKeyCode } from '../../types';\nimport { ClickOutsideVariant, CONTROL_ELEMENT_PROPERTY, useClickOutside } from '../../../hooks/element/useClickOutside';\nimport useFocusTrap from '../../../hooks/element/useFocusTrap';\nimport usePopoverPositioner from '../../../hooks/element/usePopoverPositioner';\nimport useUniqueIdentifier from '../../../hooks/element/useUniqueIdentifier';\nimport useReflex from '../../../hooks/useReflex';\nimport { getModifierClasses } from '../../../utils/preact';\nimport { boolOrTrue, isFunction } from '../../../utils';\nimport { isFocusable, SELECTORS } from '../../../primitives/dom/tabbableRoot/tabbable';\nimport classNames from 'classnames';\nimport { createPortal, PropsWithChildren } from 'preact/compat';\nimport { useCallback, useEffect, useMemo, useRef } from 'preact/hooks';\nimport { Ref } from 'preact';\nimport './Popover.scss';\n\nconst findFirstFocusableElement = (root: Element) => {\n    let focusable: HTMLElement | undefined;\n    const elements = root.querySelector(`:scope .${TOOLTIP_CONTENT_CLASSNAME}`)?.querySelectorAll(SELECTORS);\n    if (elements) {\n        Array.prototype.some.call(elements, elem => {\n            if (isFocusable(elem)) return (focusable = elem);\n        });\n        return focusable;\n    }\n    return null;\n};\n\nconst getGapByVariant = (variant: PopoverContainerVariant): [number, number, number, number] => {\n    return variant === PopoverContainerVariant.TOOLTIP ? [10, 3, 5, 5] : [8, 8, 8, 8];\n};\n\nfunction Popover({\n    actions,\n    disableFocusTrap = false,\n    actionsLayout = ButtonActionsLayoutBasic.SPACE_BETWEEN,\n    variant = PopoverContainerVariant.TOOLTIP,\n    title,\n    open,\n    dismissible,\n    modifiers,\n    divider,\n    fitContent,\n    withoutSpace,\n    containerSize,\n    position,\n    targetElement,\n    setToTargetWidth,\n    dismiss,\n    children,\n    withContentPadding,\n    classNameModifiers,\n    showOverlay = false,\n    fitPosition,\n    fixedPositioning = false,\n    additionalStyle,\n    setPopoverElement,\n    ...uncontrolledProps\n}: PropsWithChildren<PopoverProps>) {\n    const isDismissible = useMemo(() => isFunction(dismiss) && boolOrTrue(dismissible), [dismiss, dismissible]);\n    const arrowRef = useUniqueIdentifier() as Ref<HTMLSpanElement> | undefined;\n    const contentRef = useUniqueIdentifier() as Ref<HTMLDivElement> | undefined;\n    const popoverOpen = useRef<boolean>();\n\n    const onCloseFocusTrap = useCallback(\n        (interactionKeyPressed: boolean) => {\n            dismiss && dismiss();\n            if (interactionKeyPressed) {\n                (targetElement?.current as HTMLElement)?.focus();\n            }\n        },\n        [dismiss, targetElement]\n    );\n\n    const onKeyDown = useCallback(\n        (e: KeyboardEvent) => {\n            if (e.code === InteractionKeyCode.ESCAPE) {\n                dismiss && dismiss();\n                (targetElement?.current as HTMLElement).focus();\n            }\n        },\n        [dismiss, targetElement]\n    );\n\n    const cachedOnKeyDown = useRef(onKeyDown);\n    const autoFocusAnimFrame = useRef<ReturnType<typeof requestAnimationFrame>>();\n\n    const popoverPositionAnchorElement = useClickOutside(\n        usePopoverPositioner(\n            getGapByVariant(variant),\n            targetElement,\n            variant,\n            position,\n            arrowRef,\n            setToTargetWidth,\n            showOverlay,\n            fitPosition,\n            fixedPositioning,\n            additionalStyle,\n            undefined,\n            contentRef\n        ),\n        dismiss,\n        variant === PopoverContainerVariant.TOOLTIP && !open,\n        ClickOutsideVariant.POPOVER\n    );\n\n    const popoverFocusTrapElement = useFocusTrap(disableFocusTrap ? null : popoverPositionAnchorElement, onCloseFocusTrap);\n\n    const popoverElement = useReflex<Element & { [CONTROL_ELEMENT_PROPERTY]?: (typeof targetElement)['current'] }>(\n        useCallback(\n            (current, previous) => {\n                if (previous instanceof Element) {\n                    previous[CONTROL_ELEMENT_PROPERTY] = undefined;\n                    delete previous[CONTROL_ELEMENT_PROPERTY];\n                }\n                if (current instanceof Element) {\n                    current[CONTROL_ELEMENT_PROPERTY] = targetElement.current;\n                    cancelAnimationFrame(autoFocusAnimFrame.current!);\n\n                    autoFocusAnimFrame.current = requestAnimationFrame(() => {\n                        if (popoverOpen.current === open) return;\n                        if (!(popoverOpen.current = open)) return;\n                        const focusable = findFirstFocusableElement(current) as HTMLElement;\n                        focusable?.focus();\n                    });\n                }\n            },\n            [open, targetElement]\n        ),\n        disableFocusTrap ? popoverPositionAnchorElement : popoverFocusTrapElement\n    );\n\n    const popoverElementWithId = useUniqueIdentifier(popoverElement);\n\n    const conditionalClasses = useMemo(\n        () => ({\n            [`${DEFAULT_POPOVER_CLASSNAME}--medium`]: containerSize === PopoverContainerSize.MEDIUM,\n            [`${DEFAULT_POPOVER_CLASSNAME}--with-divider`]: !!divider,\n            [`${DEFAULT_POPOVER_CLASSNAME}--wide`]: containerSize === PopoverContainerSize.WIDE,\n            [`${DEFAULT_POPOVER_CLASSNAME}--fit-content`]: fitContent,\n            [`${DEFAULT_POPOVER_CLASSNAME}--without-space`]: withoutSpace,\n            [`${DEFAULT_POPOVER_CLASSNAME}--auto-width`]: showOverlay,\n        }),\n        [containerSize, divider, withoutSpace, fitContent, showOverlay]\n    );\n\n    useEffect(() => {\n        if (popoverElement.current) popoverElement.current[CONTROL_ELEMENT_PROPERTY] = targetElement.current;\n    }, [popoverElement, targetElement]);\n\n    useEffect(() => {\n        document.removeEventListener('keydown', cachedOnKeyDown.current);\n        document.addEventListener('keydown', (cachedOnKeyDown.current = onKeyDown));\n        return () => document.removeEventListener('keydown', cachedOnKeyDown.current);\n    }, [onKeyDown]);\n\n    const classNamesByVariant =\n        variant === PopoverContainerVariant.TOOLTIP ? DEFAULT_TOOLTIP_CLASSNAME : `${DEFAULT_POPOVER_CLASSNAME} ${POPOVER_CONTAINER_CLASSNAME}`;\n    const classNamesContentByVariant = variant === PopoverContainerVariant.TOOLTIP ? TOOLTIP_CONTENT_CLASSNAME : `${POPOVER_CONTENT_CLASSNAME}`;\n\n    return createPortal(\n        <>\n            {open ? (\n                <>\n                    {showOverlay && <div className=\"adyen-pe-popover__overlay\"></div>}\n                    <div\n                        {...uncontrolledProps}\n                        ref={elem => {\n                            popoverElementWithId(elem);\n                            setPopoverElement?.(elem);\n                        }}\n                        aria-labelledby={targetElement.current?.id}\n                        className={classNames(classNamesByVariant, conditionalClasses, classNameModifiers)}\n                        role={variant === PopoverContainerVariant.POPOVER ? 'dialog' : 'tooltip'}\n                        style={{ visibility: 'hidden' }}\n                    >\n                        {(title || isDismissible) && (\n                            <div className={getModifierClasses(POPOVER_HEADER_CLASSNAME, modifiers, [POPOVER_HEADER_CLASSNAME])}>\n                                {title && (\n                                    <div className={POPOVER_HEADER_TITLE_CLASSNAME}>\n                                        <PopoverTitle title={title} />\n                                    </div>\n                                )}\n                                {isDismissible && <PopoverDismissButton onClick={dismiss!} />}\n                            </div>\n                        )}\n                        {children && (\n                            <>\n                                <div\n                                    className={classNames(classNamesContentByVariant, {\n                                        [`${POPOVER_CONTENT_CLASSNAME}--with-padding`]: withContentPadding,\n                                        [`${POPOVER_CONTENT_CLASSNAME}--overlay`]: showOverlay,\n                                    })}\n                                    ref={contentRef}\n                                >\n                                    {children}\n                                </div>\n                                {variant === PopoverContainerVariant.TOOLTIP && (\n                                    <span data-popover-placement=\"hidden\" ref={arrowRef} className=\"adyen-pe-tooltip__arrow\" />\n                                )}\n                            </>\n                        )}\n                        {actions && (\n                            <div className={POPOVER_FOOTER_CLASSNAME}>\n                                <ButtonActions actions={actions} layout={actionsLayout} />\n                            </div>\n                        )}\n                    </div>\n                </>\n            ) : null}\n        </>,\n        document.getElementsByTagName('body')[0]!\n    );\n}\nexport default Popover;\n","import { useCallback, useEffect, useRef } from 'preact/hooks';\nimport { InteractionKeyCode } from '../../types';\nimport useBooleanState from '../../../hooks/useBooleanState';\n\nexport interface TooltipListeners {\n    onfocusin(): void;\n    onfocusout(): void;\n    onMouseEnter(): void;\n    onMouseLeave(): void;\n    onKeyDown(evt: Event): void;\n}\nexport const useTooltipListeners = (): {\n    isVisible: boolean;\n    listeners: TooltipListeners;\n} => {\n    const [isVisible, setIsVisible] = useBooleanState();\n    const visibilityTimerRef = useRef<ReturnType<typeof setTimeout>>();\n\n    const clearVisibilityTimer = useRef(() => {\n        visibilityTimerRef.current && clearTimeout(visibilityTimerRef.current);\n        visibilityTimerRef.current = undefined;\n    }).current;\n\n    const showTooltip = useCallback(() => {\n        visibilityTimerRef.current ??= setTimeout(() => {\n            visibilityTimerRef.current = setTimeout(hideTooltip, 15000);\n            setIsVisible(true);\n        }, 500);\n    }, [setIsVisible]);\n\n    const hideTooltip = useCallback(() => {\n        clearVisibilityTimer();\n        setIsVisible(false);\n    }, [setIsVisible]);\n\n    const onKeyDown = useCallback(\n        (evt: KeyboardEvent) => {\n            if (evt.code === InteractionKeyCode.ESCAPE) {\n                evt.preventDefault();\n                evt.stopPropagation();\n                hideTooltip();\n            }\n        },\n        [hideTooltip]\n    );\n\n    useEffect(() => hideTooltip, [hideTooltip]);\n\n    return {\n        listeners: {\n            onfocusin: showTooltip,\n            onfocusout: hideTooltip,\n            onMouseEnter: showTooltip,\n            onMouseLeave: hideTooltip,\n            onKeyDown,\n        },\n        isVisible,\n    };\n};\n","import Popover from '../Popover/Popover';\nimport { PopoverContainerVariant } from '../Popover/types';\nimport { useTooltipListeners } from './useTooltipListeners';\nimport { TypographyElement, TypographyVariant } from '../Typography/types';\nimport Typography from '../Typography/Typography';\nimport useUniqueIdentifier from '../../../hooks/element/useUniqueIdentifier';\nimport classNames from 'classnames';\nimport { cloneElement, VNode } from 'preact';\nimport { PropsWithChildren } from 'preact/compat';\nimport { MutableRef, useMemo, useState } from 'preact/hooks';\nimport { TooltipProps } from './types';\nimport './Tooltip.scss';\n\nconst isString = (content: string | VNode<any>) => {\n    return typeof content === 'string';\n};\n\nexport const Tooltip = ({ content, children, showTooltip, position, isUnderlineVisible = false }: PropsWithChildren<TooltipProps>) => {\n    const [popoverElement, setPopoverElement] = useState<HTMLDivElement | null>(null);\n    const { isVisible, listeners } = useTooltipListeners();\n    const targetElementRef = useUniqueIdentifier();\n    const canShowTooltip = isVisible || !!showTooltip;\n\n    const targetClassName = useMemo(\n        () => classNames(children?.props?.className, 'adyen-pe-tooltip-target', { 'adyen-pe-tooltip-target--underlined': isUnderlineVisible }),\n        [children?.props?.className, isUnderlineVisible]\n    );\n\n    return (\n        <>\n            {children\n                ? cloneElement(children, {\n                      ...children.props,\n                      ...listeners,\n                      ...(canShowTooltip && popoverElement?.id ? { 'aria-describedby': popoverElement.id } : {}),\n                      className: targetClassName,\n                      ref: targetElementRef,\n                      role: 'button',\n                      tabIndex: 0,\n                  })\n                : null}\n\n            {canShowTooltip && (\n                <Popover\n                    position={position}\n                    variant={PopoverContainerVariant.TOOLTIP}\n                    targetElement={targetElementRef as MutableRef<Element | null>}\n                    setPopoverElement={setPopoverElement}\n                    fitPosition\n                    open\n                >\n                    {content && isString(content) ? (\n                        <Typography el={TypographyElement.DIV} variant={TypographyVariant.CAPTION}>\n                            {content}\n                        </Typography>\n                    ) : (\n                        content\n                    )}\n                </Popover>\n            )}\n        </>\n    );\n};\n","import cx from 'classnames';\nimport { HTMLProps, ReactNode } from 'preact/compat';\nimport { TranslationKey } from '../../../translations';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { Tooltip } from '../Tooltip/Tooltip';\nimport { ButtonVariant } from '../Button/types';\nimport Button from '../Button';\nimport Icon from '../Icon';\nimport './CopyText.scss';\n\ntype CopyTextProps = {\n    copyButtonAriaLabelKey?: TranslationKey;\n    isUnderlineVisible?: boolean;\n    showCopyTextTooltip?: boolean;\n    type?: 'Trimmed' | 'Text' | 'Default';\n    textToCopy: string;\n    visibleText?: string | ReactNode;\n    onCopyText?: () => void;\n    stronger?: boolean;\n} & Omit<HTMLProps<HTMLSpanElement>, 'type'>;\n\nconst BASE_CLASSNAME = 'adyen-pe-copy-text';\n\nconst classes = {\n    base: BASE_CLASSNAME,\n    container: BASE_CLASSNAME + '__container',\n    icon: BASE_CLASSNAME + '__icon',\n    information: BASE_CLASSNAME + '__information',\n    label: BASE_CLASSNAME + '__label',\n    text: BASE_CLASSNAME + '__text',\n    stronger: BASE_CLASSNAME + '--stronger',\n};\n\nconst CopyText = ({\n    copyButtonAriaLabelKey,\n    isUnderlineVisible,\n    textToCopy,\n    visibleText,\n    onCopyText,\n    showCopyTextTooltip = true,\n    type = 'Trimmed',\n    stronger,\n    ...restProps\n}: CopyTextProps) => {\n    const { i18n } = useCoreContext();\n    const [isCopied, setIsCopied] = useState(false);\n    const resetIsCopied = useCallback(() => setIsCopied(false), []);\n    const copyButtonLabel = useMemo(() => i18n.get(copyButtonAriaLabelKey ?? 'common.actions.copy.labels.default'), [i18n, copyButtonAriaLabelKey]);\n\n    const onClick = useCallback(async () => {\n        if (textToCopy) {\n            try {\n                await navigator.clipboard.writeText(textToCopy);\n                setIsCopied(true);\n                onCopyText && onCopyText();\n            } catch (e) {\n                console.error(e);\n            }\n        }\n    }, [textToCopy, onCopyText]);\n\n    const visibleTextToCopy = useMemo(\n        () => (\n            <span\n                className={cx({\n                    [classes.label]: type !== 'Default',\n                    [classes.information]: type === 'Trimmed',\n                    [classes.text]: type === 'Text',\n                    [classes.stronger]: stronger,\n                })}\n            >\n                {visibleText || textToCopy}\n            </span>\n        ),\n        [type, stronger, visibleText, textToCopy]\n    );\n\n    return (\n        <span className={classes.container} {...restProps}>\n            {showCopyTextTooltip ? (\n                <Tooltip content={textToCopy} isUnderlineVisible={isUnderlineVisible}>\n                    {visibleTextToCopy}\n                </Tooltip>\n            ) : (\n                visibleTextToCopy\n            )}\n\n            <Tooltip content={i18n.get(isCopied ? 'common.actions.copy.labels.done' : 'common.actions.copy.labels.default')}>\n                <Button\n                    variant={ButtonVariant.TERTIARY}\n                    className={classes.base}\n                    onClick={onClick}\n                    onBlur={resetIsCopied}\n                    onMouseLeaveCapture={resetIsCopied}\n                    aria-label={copyButtonLabel}\n                    data-testid=\"copyText\"\n                >\n                    <div className={classes.icon}>\n                        <Icon name={'copy'} data-testid={'copy-icon'} />\n                    </div>\n                </Button>\n            </Tooltip>\n\n            <div className=\"adyen-pe-visually-hidden\" aria-atomic=\"true\" aria-live=\"polite\">\n                {isCopied && i18n.get('common.actions.copy.labels.done')}\n            </div>\n        </span>\n    );\n};\n\nexport default CopyText;\n","import { ErrorMessage, getCommonErrorMessage, UNDEFINED_ERROR } from './getCommonErrorCode';\nimport AdyenPlatformExperienceError from '../../core/Errors/AdyenPlatformExperienceError';\nimport CopyText from '../internal/CopyText/CopyText';\nimport { TranslationKey } from '../../translations';\n\nexport const getErrorMessage = (\n    error: AdyenPlatformExperienceError | undefined,\n    errorMessage: TranslationKey,\n    onContactSupport?: () => void\n): ErrorMessage => {\n    if (!error) return UNDEFINED_ERROR;\n\n    const commonError = getCommonErrorMessage(error, onContactSupport);\n    if (commonError) return commonError;\n\n    switch (error.errorCode) {\n        case undefined:\n            return {\n                title: 'common.errors.somethingWentWrong',\n                message: [errorMessage, 'common.errors.retry'],\n                refreshComponent: true,\n            };\n        case '00_500': {\n            const secondaryErrorMessage = onContactSupport ? 'common.errors.errorCode' : 'common.errors.errorCodeSupport';\n            return {\n                title: 'common.errors.somethingWentWrong',\n                message: [errorMessage, secondaryErrorMessage],\n                translationValues: {\n                    [secondaryErrorMessage]: error.requestId ? (\n                        <CopyText copyButtonAriaLabelKey=\"common.actions.copy.labels.errorCode\" textToCopy={error.requestId} />\n                    ) : null,\n                },\n                onContactSupport,\n            };\n        }\n        default:\n            return UNDEFINED_ERROR;\n    }\n};\n","import { ErrorMessageDisplay } from '../ErrorMessageDisplay/ErrorMessageDisplay';\nimport { getErrorMessage } from '../../utils/getErrorMessage';\nimport AdyenPlatformExperienceError from '../../../core/Errors/AdyenPlatformExperienceError';\nimport { TranslationKey } from '../../../translations';\n\nconst DataOverviewError = ({\n    error,\n    errorMessage,\n    onContactSupport,\n}: {\n    error: AdyenPlatformExperienceError | undefined;\n    errorMessage: TranslationKey;\n    onContactSupport?: () => void;\n}) => {\n    const {\n        title,\n        message,\n        refreshComponent,\n        translationValues,\n        onContactSupport: ContactSupport,\n    } = getErrorMessage(error, errorMessage, onContactSupport);\n    return (\n        <ErrorMessageDisplay\n            withHeaderOffset\n            title={title}\n            message={message}\n            translationValues={translationValues}\n            withImage\n            centered\n            refreshComponent={refreshComponent}\n            onContactSupport={ContactSupport}\n        />\n    );\n};\n\nexport default DataOverviewError;\n","import { TableCells } from './TableCells';\nimport { DataGridColumn, InteractiveBodyProps } from '../types';\nimport { CustomCell } from '../DataGrid';\n\nexport const TableBody = <\n    Items extends Array<any>,\n    Columns extends Array<DataGridColumn<Extract<keyof Items[number], string>>>,\n    ClickedField extends keyof Items[number],\n    CustomCells extends CustomCell<Items, Columns, Columns[number]>,\n>({\n    data,\n    columns,\n    customCells,\n    onRowHover,\n}: Omit<InteractiveBodyProps<Items, Columns, ClickedField, CustomCells>, 'onRowClick'>) => (\n    <>\n        {data?.map((item, index) => {\n            const onHoverEnter = onRowHover && onRowHover.bind(null, index);\n            const onHoverLeave = onRowHover && onRowHover.bind(null, undefined);\n            return (\n                <div\n                    role=\"row\"\n                    tabIndex={0}\n                    className=\"adyen-pe-data-grid__row\"\n                    key={item}\n                    onMouseEnter={onHoverEnter}\n                    onFocus={onHoverEnter}\n                    onMouseLeave={onHoverLeave}\n                    onBlur={onHoverLeave}\n                >\n                    <TableCells<Items, Columns, CustomCells> columns={columns} customCells={customCells} item={item} rowIndex={index} />\n                </div>\n            );\n        })}\n    </>\n);\n","import { useCallback, useReducer } from 'preact/hooks';\nimport useReflex from '../../../../hooks/useReflex';\nimport { InteractionKeyCode } from '../../../types';\nimport { INITIAL_STATE } from '../DataGrid';\n\nexport const useInteractiveDataGrid = ({ totalRows }: { totalRows: number }) => {\n    const [state, dispatch] = useReducer<Readonly<{ activeIndex: number; index: number }>, { type: 'ACTIVE' | 'CURRENT'; index: number }>(\n        (currentState, action) => {\n            const total = totalRows;\n\n            if (total > 1) {\n                const nextIndex = action.index;\n\n                if (nextIndex < total && nextIndex! >= 0) {\n                    if (action.type === 'ACTIVE') {\n                        return Object.freeze({ ...currentState, index: action.index ?? 0, activeIndex: action.index });\n                    } else {\n                        return Object.freeze({ ...currentState, index: action.index ?? 0, activeIndex: -1 });\n                    }\n                }\n            }\n            return currentState;\n        },\n        INITIAL_STATE\n    );\n\n    const ref = useReflex<Element>(\n        useCallback(\n            current => {\n                if (!(current instanceof Element)) return;\n\n                const optionIndex = Number((current as HTMLElement).dataset?.index);\n\n                if ((state.activeIndex === -1 && optionIndex === 0) || optionIndex === state.index) {\n                    current.setAttribute('tabindex', '0');\n                } else {\n                    current.setAttribute('tabindex', '-1');\n                }\n                if (optionIndex === state.activeIndex) {\n                    (current as HTMLElement)?.focus();\n                }\n            },\n            [state.activeIndex, state.index]\n        )\n    );\n\n    const onKeyDownCapture = useCallback(\n        (evt: KeyboardEvent) => {\n            const isRow = (evt.target as HTMLElement)?.getAttribute('role') === 'row';\n            if (!isRow) {\n                if (evt.code === InteractionKeyCode.ARROW_LEFT) {\n                    dispatch({\n                        type: 'ACTIVE',\n                        index: state.index,\n                    });\n                }\n                return;\n            }\n            switch (evt.code) {\n                case InteractionKeyCode.ARROW_DOWN:\n                case InteractionKeyCode.ARROW_UP:\n                    dispatch({\n                        type: 'ACTIVE',\n                        index: evt.code === InteractionKeyCode.ARROW_DOWN ? state.index + 1 : state.index - 1,\n                    });\n                    break;\n                case InteractionKeyCode.HOME:\n                    dispatch({\n                        type: 'ACTIVE',\n                        index: 0,\n                    });\n                    break;\n                case InteractionKeyCode.END:\n                    dispatch({\n                        type: 'ACTIVE',\n                        index: totalRows - 1,\n                    });\n                    break;\n                case InteractionKeyCode.ENTER:\n                    (evt.currentTarget as HTMLElement)?.click();\n                    break;\n                default:\n                    return;\n            }\n            evt.stopPropagation();\n        },\n\n        [totalRows, state.index]\n    );\n\n    const onFocusCapture = useCallback(\n        (index: number) => (evt: Event) => {\n            const isRow = (evt.target as HTMLElement)?.localName === 'tr';\n            if (!isRow || state.index === -1) dispatch({ type: 'CURRENT', index: index });\n        },\n        [state.index]\n    );\n\n    return { listeners: { onKeyDownCapture, onFocusCapture }, ref, activeIndex: state.activeIndex, currentIndex: state.index };\n};\n","import { TableCells } from './TableCells';\nimport { useCallback } from 'preact/hooks';\nimport { useInteractiveDataGrid } from '../hooks/useInteractiveDataGrid';\nimport { DataGridColumn, InteractiveBodyProps } from '../types';\nimport { CustomCell } from '../DataGrid';\n\nexport const InteractiveBody = <\n    Items extends any[],\n    Columns extends Array<DataGridColumn<Extract<keyof Items[number], string>>>,\n    ClickedField extends keyof Items[number],\n    CustomCells extends CustomCell<Items, Columns, Columns[number]>,\n>({\n    data,\n    columns,\n    onRowClick,\n    customCells,\n    onRowHover,\n}: InteractiveBodyProps<Items, Columns, ClickedField, CustomCells>) => {\n    const { currentIndex, listeners, ref } = useInteractiveDataGrid({ totalRows: data?.length ?? 0 });\n\n    const onClickCallBack = useCallback(\n        (item: Items[number]) => () => onRowClick?.callback(onRowClick?.retrievedField ? item[onRowClick.retrievedField] : item),\n        [onRowClick]\n    );\n\n    return (\n        <>\n            {data?.map((item, index) => {\n                const onHoverEnter = onRowHover && onRowHover.bind(null, index);\n                const onHoverLeave = onRowHover && onRowHover.bind(null, undefined);\n                return (\n                    <div\n                        role=\"row\"\n                        tabIndex={0}\n                        onMouseEnter={onHoverEnter}\n                        onFocus={onHoverEnter}\n                        onMouseLeave={onHoverLeave}\n                        onBlur={onHoverLeave}\n                        ref={ref}\n                        aria-selected={index === currentIndex}\n                        data-index={index}\n                        className=\"adyen-pe-data-grid__row adyen-pe-data-grid__row--clickable\"\n                        key={item}\n                        onClick={onClickCallBack(item)}\n                        onFocusCapture={listeners.onFocusCapture(index)}\n                        onKeyDownCapture={listeners.onKeyDownCapture}\n                    >\n                        <TableCells columns={columns} customCells={customCells} item={item} rowIndex={index} />\n                    </div>\n                );\n            })}\n        </>\n    );\n};\n","import cx from 'classnames';\nimport '../DataGrid.scss';\nimport { VNode } from 'preact';\n\nconst SkeletonBody = ({ columnsNumber, loading, emptyMessageDisplay }: { columnsNumber: number; loading: boolean; emptyMessageDisplay?: VNode }) => {\n    const rows = Array.from({ length: 10 }, (_, index) => index);\n    const columns = Array.from({ length: columnsNumber }, (_, index) => index);\n    return (\n        <>\n            {rows.map((_, i) => (\n                <div className=\"adyen-pe-data-grid__row\" key={`adyen-pe-data-grid-skeleton-row-${i}`}>\n                    {columns.map((_, index) => (\n                        <div key={`adyen-pe-data-grid-skeleton-cell-${index}`} className=\"adyen-pe-data-grid__cell adyen-pe-data-grid__skeleton-cell\">\n                            <span\n                                className={cx({\n                                    'adyen-pe-data-grid__skeleton-cell-content adyen-pe-data-grid__skeleton-cell-content--loading': loading,\n                                    'adyen-pe-data-grid__empty-cell': !loading,\n                                })}\n                            />\n                        </div>\n                    ))}\n                </div>\n            ))}\n            {!loading && emptyMessageDisplay && emptyMessageDisplay}\n        </>\n    );\n};\n\nexport default SkeletonBody;\n","import { DataGridContext } from '../hooks/useDataGridContext';\nimport { ComponentChildren, toChildArray } from 'preact';\nimport { useCallback, useMemo } from 'preact/hooks';\n\ntype ColumnWidth = { column: string; width: number };\n\nexport const DataGridProvider = ({ children }: { children: ComponentChildren }) => {\n    const minWidthByColumn = useMemo(() => new Map<string, number>(), []);\n    const registerCells: (props: ColumnWidth) => void = useCallback(\n        ({ column, width }) => {\n            if (minWidthByColumn.has(column)) {\n                const existingWidth = minWidthByColumn.get(column)!;\n                if (width > existingWidth) {\n                    minWidthByColumn.set(column, width);\n                }\n            } else {\n                minWidthByColumn.set(column, width);\n            }\n        },\n        [minWidthByColumn]\n    );\n\n    const getMinWidthByColumn = useCallback(\n        (column: string) => {\n            return minWidthByColumn.get(column);\n        },\n        [minWidthByColumn]\n    );\n\n    return <DataGridContext.Provider value={{ registerCells, getMinWidthByColumn }}>{toChildArray(children)}</DataGridContext.Provider>;\n};\n","import classnames from 'classnames';\nimport { DataGridColumn } from '../types';\nimport { useDataGridContext } from '../hooks/useDataGridContext';\nimport { useEffect, useRef } from 'preact/hooks';\n\nexport const TableHeaderCell = ({ cellKey, position, label }: DataGridColumn<Extract<string, string>> & { cellKey: string }) => {\n    const { registerCells } = useDataGridContext();\n    const ref = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        if (ref.current) {\n            registerCells({\n                column: cellKey,\n                width: ref.current?.getBoundingClientRect().width,\n            });\n        }\n    }, [cellKey, registerCells]);\n\n    return (\n        <div\n            role=\"columnheader\"\n            id={String(cellKey)}\n            className={classnames('adyen-pe-data-grid__cell adyen-pe-data-grid__cell--heading', {\n                'adyen-pe-data-grid__cell--right': position === 'right',\n                'adyen-pe-data-grid__cell--center': position === 'center',\n            })}\n        >\n            <div ref={ref} className={'adyen-pe-data-grid__cell--heading-content'}>\n                {label}\n            </div>\n        </div>\n    );\n};\n","import { ComponentChild, toChildArray } from 'preact';\nimport classnames from 'classnames';\nimport './DataGrid.scss';\nimport { TableBody } from './components/TableBody';\nimport { InteractiveBody } from './components/InteractiveBody';\nimport { DataGridColumn, DataGridProps } from './types';\nimport SkeletonBody from './components/SkeletonBody';\nimport { ErrorMessageDisplay } from '../ErrorMessageDisplay/ErrorMessageDisplay';\nimport { useMemo } from 'preact/hooks';\nimport { DataGridProvider } from './utils/DataGridProvider';\nimport { useDataGridContext } from './hooks/useDataGridContext';\nimport { TableHeaderCell } from './components/TableHeaderCell';\nimport useCoreContext from '../../../core/Context/useCoreContext';\n\nexport const INITIAL_STATE = Object.freeze({\n    activeIndex: -1,\n    index: -1,\n});\n\nexport type CustomCell<\n    Item extends Array<any>,\n    Columns extends Array<DataGridColumn<Extract<keyof Item[number], string>>>,\n    T extends Columns[number],\n> = {\n    [k in T['key']]?: (\n        props: Item[0][k] extends NonNullable<Item[0][k]>\n            ? { key: k; value: Item[number][k]; item: Item[number]; rowIndex: number }\n            : { key: k; item: Item[number]; rowIndex: number }\n    ) => ComponentChild;\n};\n\nfunction DataGrid<\n    Items extends Array<any>,\n    Columns extends Array<DataGridColumn<Extract<keyof Items[number], string>>>,\n    ClickedField extends keyof Items[number],\n    CustomCells extends CustomCell<Items, Columns, Columns[number]>,\n>({ errorDisplay, ...props }: DataGridProps<Items, Columns, ClickedField, CustomCells>) {\n    return (\n        <div style={{ width: '100%' }}>\n            <DataGridProvider>\n                <DataGridTable {...props} errorDisplay={errorDisplay} />\n            </DataGridProvider>\n        </div>\n    );\n}\n\nfunction DataGridTable<\n    Items extends Array<any>,\n    Columns extends Array<DataGridColumn<Extract<keyof Items[number], string>>>,\n    ClickedField extends keyof Items[number],\n    CustomCells extends CustomCell<Items, Columns, Columns[number]>,\n>({ autoFitColumns, errorDisplay, ...props }: DataGridProps<Items, Columns, ClickedField, CustomCells>) {\n    const children = useMemo(() => toChildArray(props.children), [props.children]);\n    const footer = useMemo(() => children.find((child: ComponentChild) => (child as any)?.['type'] === DataGridFooter), [children]);\n    const emptyBody = useMemo(() => props.data?.length === 0, [props.data]);\n    const showMessage = useMemo(() => !props.loading && (emptyBody || props.error), [emptyBody, props.error, props.loading]);\n    const { getMinWidthByColumn } = useDataGridContext();\n    const { getImageAsset } = useCoreContext();\n\n    const visibleCols = props.columns\n        .filter(column => column.visible !== false)\n        .map(column => ({ ...column, minWidth: getMinWidthByColumn(column.key) }));\n\n    const cellWidths = visibleCols.map(col => `minmax(${(col.minWidth || 100) + (props.narrowColumns ? 0 : 40)}px, ${col.flex || 1}fr)`).join(' ');\n\n    return (\n        <div\n            className={classnames('adyen-pe-data-grid', {\n                'adyen-pe-data-grid--condensed': props.condensed,\n                'adyen-pe-data-grid--outline': props.outline,\n                'adyen-pe-data-grid--scrollable': props.scrollable,\n                'adyen-pe-data-grid--loading': props.loading,\n                'adyen-pe-data-grid--empty': emptyBody || props.error,\n            })}\n            style={\n                autoFitColumns\n                    ? undefined\n                    : {\n                          '--adyen-pe-data-grid-cols': visibleCols.length,\n                          '--adyen-pe-data-grid-cells': cellWidths,\n                      }\n            }\n        >\n            <div className=\"adyen-pe-data-grid__table-wrapper\">\n                <div role=\"table\" className=\"adyen-pe-data-grid__table\">\n                    <div className=\"adyen-pe-data-grid__head\" role=\"rowgroup\">\n                        <div role=\"rowheader\" className=\"adyen-pe-data-grid__header\" style={props.loading ? { width: '100%' } : {}}>\n                            {visibleCols.map(item => (\n                                <TableHeaderCell key={item.key} label={item.label} position={item.position} cellKey={item.key} />\n                            ))}\n                        </div>\n                    </div>\n\n                    <DataGridBody<Items, Columns, ClickedField, CustomCells> {...props} columns={visibleCols as Columns} emptyBody={emptyBody} />\n                </div>\n                {showMessage &&\n                    (emptyBody && !props.error ? (\n                        <ErrorMessageDisplay\n                            withHeaderOffset\n                            title={props.emptyTableMessage?.title ?? 'common.errors.noResults'}\n                            message={props.emptyTableMessage?.message}\n                            imageDesktop={getImageAsset?.({ name: 'no-results-found' })}\n                            imageMobile={getImageAsset?.({ name: 'no-results-found', subFolder: 'images/small' })}\n                            centered\n                        />\n                    ) : props.error && errorDisplay ? (\n                        errorDisplay()\n                    ) : null)}\n            </div>\n            {footer}\n        </div>\n    );\n}\n\nfunction DataGridBody<\n    Items extends Array<any>,\n    Columns extends Array<DataGridColumn<Extract<keyof Items[number], string>>>,\n    ClickedField extends keyof Items[number],\n    CustomCells extends CustomCell<Items, Columns, Columns[number]>,\n>(props: DataGridProps<Items, Columns, ClickedField, CustomCells> & { emptyBody: boolean }) {\n    const showSkeleton = useMemo(() => props.loading || props.emptyBody || props.error, [props.emptyBody, props.error, props.loading]);\n\n    return (\n        <div\n            role=\"rowgroup\"\n            className={classnames('adyen-pe-data-grid__body')}\n            style={showSkeleton && { display: 'grid', gridTemplateColumns: '1fr' }}\n        >\n            {showSkeleton ? (\n                <SkeletonBody columnsNumber={props.columns.length} loading={props.loading} />\n            ) : props.onRowClick ? (\n                <InteractiveBody<Items, Columns, ClickedField, CustomCells>\n                    onRowHover={props.onRowHover}\n                    data={props.data}\n                    columns={props.columns}\n                    onRowClick={props.onRowClick}\n                    customCells={props.customCells}\n                />\n            ) : (\n                <TableBody<Items, Columns, ClickedField, CustomCells>\n                    onRowHover={props.onRowHover}\n                    data={props.data}\n                    customCells={props.customCells}\n                    columns={props.columns}\n                />\n            )}\n        </div>\n    );\n}\n\nDataGrid.Footer = DataGridFooter;\n\nfunction DataGridFooter({ children }: { children: ComponentChild }) {\n    return <div className=\"adyen-pe-data-grid__footer\">{children}</div>;\n}\n\nDataGrid.defaultProps = {\n    condensed: false,\n    outline: true,\n    scrollable: true,\n};\n\nexport default DataGrid;\n","export const ARIA_ERROR_SUFFIX = '-ariaError';\nexport const ERROR_MSG_INCOMPLETE_FIELD = 'incompleteField';\n","import { ButtonActionObject } from '../../components/internal/Button/ButtonActions/types';\n\nexport enum CommitAction {\n    NONE = 0,\n    APPLY = 1,\n    CLEAR = 2,\n}\n\nexport interface UseCommitActionConfig {\n    applyDisabled?: boolean;\n    applyTitle?: string;\n    resetDisabled?: boolean;\n    resetTitle?: string;\n    onResetAction?: () => void;\n}\n\nexport interface CommitActionProperties {\n    readonly commitAction: CommitAction;\n    readonly commitActionButtons: readonly [ButtonActionObject, ButtonActionObject];\n    readonly committing: boolean;\n    readonly resetCommitAction: () => void;\n}\n","import { useCallback, useEffect, useMemo, useState } from 'preact/hooks';\nimport { ButtonVariant } from '../../components/internal/Button/types';\nimport { ButtonActionObject } from '../../components/internal/Button/ButtonActions/types';\nimport { CommitAction, CommitActionProperties, UseCommitActionConfig } from './types';\nimport useCoreContext from '../../core/Context/useCoreContext';\nimport { boolOrFalse, EMPTY_OBJECT } from '../../utils';\n\nconst useCommitAction = ({\n    applyDisabled,\n    applyTitle,\n    resetDisabled,\n    resetTitle,\n    onResetAction,\n}: UseCommitActionConfig = EMPTY_OBJECT): CommitActionProperties => {\n    const { i18n } = useCoreContext();\n    const [commitAction, setCommitAction] = useState(CommitAction.NONE);\n\n    const applyAction = useCallback(() => setCommitAction(CommitAction.APPLY), [setCommitAction]);\n    const resetAction = useCallback(() => {\n        setCommitAction(CommitAction.CLEAR);\n        onResetAction && onResetAction();\n    }, [setCommitAction, onResetAction]);\n    const resetCommitAction = useCallback(() => setCommitAction(CommitAction.NONE), [setCommitAction]);\n\n    const applyButtonAction = useMemo(\n        () =>\n            ({\n                disabled: boolOrFalse(applyDisabled),\n                event: applyAction,\n                title: applyTitle?.trim() || i18n.get('common.actions.apply.labels.default'),\n                variant: ButtonVariant.PRIMARY,\n            }) as ButtonActionObject,\n        [i18n, applyAction, applyDisabled, applyTitle]\n    );\n\n    const resetButtonAction = useMemo(\n        () =>\n            ({\n                disabled: boolOrFalse(resetDisabled),\n                event: resetAction,\n                title: resetTitle?.trim() || i18n.get('common.actions.reset.labels.default'),\n                variant: ButtonVariant.SECONDARY,\n            }) as ButtonActionObject,\n        [i18n, resetAction, resetDisabled, resetTitle]\n    );\n\n    const commitActionButtons = useMemo(() => [applyButtonAction, resetButtonAction] as const, [applyButtonAction, resetButtonAction]);\n    const committing = useMemo(() => commitAction !== CommitAction.NONE, [commitAction]);\n\n    useEffect(() => {\n        switch (commitAction) {\n            case CommitAction.APPLY:\n            case CommitAction.CLEAR:\n                resetCommitAction();\n                break;\n        }\n    }, [commitAction, resetCommitAction]);\n\n    return { commitAction, commitActionButtons, committing, resetCommitAction } as const;\n};\n\nexport default useCommitAction;\n","import { JSX } from 'preact';\nimport { useRef, useState, useEffect } from 'preact/hooks';\nimport cx from 'classnames';\nimport './Img.scss';\nimport { ImgProps } from './types';\n\nexport default function Img(props: ImgProps) {\n    const { backgroundUrl = '', className = '', classNameModifiers = [], src = '', alt = '', showOnError = false } = props;\n    const [loaded, setLoaded] = useState(false);\n    const imageRef = useRef(null);\n\n    const handleLoad = () => {\n        setLoaded(true);\n    };\n\n    const handleError = () => {\n        setLoaded(showOnError);\n    };\n\n    const classNames = cx(\n        [className],\n        'adyen-pe-image',\n        { 'adyen-pe-image--loaded': loaded },\n        ...classNameModifiers.map(modifier => `adyen-pe-image--${modifier}`)\n    );\n\n    useEffect(() => {\n        const image = backgroundUrl ? new Image() : imageRef.current;\n        if (image) {\n            image.src = backgroundUrl || src;\n            image.onload = handleLoad;\n        }\n        setLoaded(!!image?.complete);\n    }, []);\n\n    if (backgroundUrl) {\n        return <div style={{ backgroundUrl } as JSX.CSSProperties} {...props} className={classNames} />;\n    }\n\n    return <img {...props} alt={alt} ref={imageRef} className={classNames} onError={handleError} />;\n}\n","import { DEFAULT_BUTTON_CLASSNAME } from '../../Button/constants';\nimport { ButtonVariant } from '../../Button/types';\nimport { getModifierClasses } from '../../../../utils/preact';\n\nexport const DROPDOWN_BASE_CLASS = 'adyen-pe-dropdown';\nexport const DROPDOWN_BUTTON_CLASSNAME = getModifierClasses(DEFAULT_BUTTON_CLASSNAME, [ButtonVariant.SECONDARY], [DEFAULT_BUTTON_CLASSNAME]);\nexport const DROPDOWN_BUTTON_CLASS = `${DROPDOWN_BASE_CLASS}__button`;\nexport const DROPDOWN_BUTTON_ACTIVE_CLASS = `${DROPDOWN_BUTTON_CLASS}--active`;\nexport const DROPDOWN_BUTTON_COLLAPSE_INDICATOR_CLASS = `${DROPDOWN_BUTTON_CLASS}-collapse-indicator`;\nexport const DROPDOWN_BUTTON_CLEAR_CLASS = `${DROPDOWN_BUTTON_CLASS}-clear`;\nexport const DROPDOWN_BUTTON_HAS_SELECTION_CLASS = `${DROPDOWN_BUTTON_CLASS}--has-selection`;\nexport const DROPDOWN_BUTTON_ICON_CLASS = `${DROPDOWN_BUTTON_CLASS}-icon`;\nexport const DROPDOWN_BUTTON_MULTI_SELECT_COUNTER_CLASS = `${DROPDOWN_BUTTON_CLASS}-multiselect-counter`;\nexport const DROPDOWN_BUTTON_READONLY_CLASS = `${DROPDOWN_BUTTON_CLASS}--readonly`;\nexport const DROPDOWN_BUTTON_TEXT_CLASS = `${DROPDOWN_BUTTON_CLASS}-text`;\nexport const DROPDOWN_BUTTON_VALID_CLASS = `${DROPDOWN_BUTTON_CLASS}--valid`;\nexport const DROPDOWN_BUTTON_INVALID_CLASS = `${DROPDOWN_BUTTON_CLASS}--invalid`;\nexport const DROPDOWN_ELEMENT_CLASS = `${DROPDOWN_BASE_CLASS}__element`;\nexport const DROPDOWN_ELEMENT_ACTIVE_CLASS = `${DROPDOWN_ELEMENT_CLASS}--active`;\nexport const DROPDOWN_ELEMENT_KEYBOARD_ACTIVE_CLASS = `${DROPDOWN_ELEMENT_CLASS}--keyboard-active`;\nexport const DROPDOWN_ELEMENT_CHECKBOX_CLASS = `${DROPDOWN_ELEMENT_CLASS}-checkbox`;\nexport const DROPDOWN_ELEMENT_CHECKMARK_CLASS = `${DROPDOWN_ELEMENT_CLASS}-checkmark`;\nexport const DROPDOWN_ELEMENT_CONTENT_CLASS = `${DROPDOWN_ELEMENT_CLASS}-content`;\nexport const DROPDOWN_ELEMENT_DISABLED_CLASS = `${DROPDOWN_ELEMENT_CLASS}--disabled`;\nexport const DROPDOWN_ELEMENT_ICON_CLASS = `${DROPDOWN_ELEMENT_CLASS}-icon`;\nexport const DROPDOWN_ELEMENT_NO_OPTION_CLASS = `${DROPDOWN_ELEMENT_CLASS}--no-option`;\nexport const DROPDOWN_LIST_CLASS = `${DROPDOWN_BASE_CLASS}__list`;\nexport const DROPDOWN_LIST_ACTIVE_CLASS = `${DROPDOWN_LIST_CLASS}--active`;\nexport const DROPDOWN_MULTI_SELECT_CLASS = `${DROPDOWN_BASE_CLASS}--multiselect`;\n","import cx from 'classnames';\nimport { Ref } from 'preact';\nimport { MutableRef, useMemo } from 'preact/hooks';\nimport { AnchorHTMLAttributes, ButtonHTMLAttributes, HTMLAttributes, PropsWithChildren } from 'preact/compat';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport Img from '../../../Img';\nimport Icon from '../../../Icon';\nimport Button from '../../../Button';\nimport { ButtonVariant } from '../../../Button/types';\nimport Typography from '../../../Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../Typography/types';\nimport { boolOrFalse } from '../../../../../utils';\nimport {\n    DROPDOWN_BUTTON_ACTIVE_CLASS,\n    DROPDOWN_BUTTON_CLASS,\n    DROPDOWN_BUTTON_CLASSNAME,\n    DROPDOWN_BUTTON_CLEAR_CLASS,\n    DROPDOWN_BUTTON_COLLAPSE_INDICATOR_CLASS,\n    DROPDOWN_BUTTON_HAS_SELECTION_CLASS,\n    DROPDOWN_BUTTON_ICON_CLASS,\n    DROPDOWN_BUTTON_INVALID_CLASS,\n    DROPDOWN_BUTTON_MULTI_SELECT_COUNTER_CLASS,\n    DROPDOWN_BUTTON_READONLY_CLASS,\n    DROPDOWN_BUTTON_TEXT_CLASS,\n    DROPDOWN_BUTTON_VALID_CLASS,\n} from '../constants';\nimport type { SelectButtonProps, SelectItem } from '../types';\nimport { InteractionKeyCode } from '../../../../types';\n\nconst SelectButtonElement = <T extends SelectItem>({\n    active,\n    disabled,\n    className,\n    filterable,\n    toggleButtonRef,\n    buttonVariant,\n    ...props\n}: PropsWithChildren<\n    SelectButtonProps<T> &\n        (Partial<ButtonHTMLAttributes<HTMLButtonElement>> &\n            Partial<AnchorHTMLAttributes<HTMLAnchorElement>> &\n            Partial<HTMLAttributes<HTMLDivElement>>)\n>) => {\n    const baseClassName = useMemo(() => (filterable ? cx(DROPDOWN_BUTTON_CLASSNAME, className) : className), [className, filterable]);\n    return filterable ? (\n        <div {...props} className={baseClassName} ref={toggleButtonRef as Ref<HTMLDivElement>} />\n    ) : (\n        <Button\n            {...props}\n            className={baseClassName}\n            disabled={disabled}\n            variant={buttonVariant ?? ButtonVariant.SECONDARY}\n            ref={toggleButtonRef as MutableRef<HTMLButtonElement>}\n            aria-label={props['aria-label']}\n            aria-labelledby={props['aria-labelledby']}\n        />\n    );\n};\n\nconst SelectButton = <T extends SelectItem>(props: SelectButtonProps<T> & { appliedFilterNumber: number }) => {\n    const { i18n } = useCoreContext();\n    const { active, clearable, filterable, multiSelect, placeholder, onClear, readonly, showList, withoutCollapseIndicator } = props;\n    const placeholderText = useMemo(() => placeholder?.trim() || i18n.get('common.inputs.select.placeholder'), [i18n, placeholder]);\n    const buttonActiveItem = useMemo(() => (boolOrFalse(multiSelect) ? undefined : active[0]), [active, multiSelect]);\n    const buttonTitleText = useMemo(() => buttonActiveItem?.name?.trim() || placeholderText, [buttonActiveItem, placeholderText]);\n    const showClearButton = useMemo(() => boolOrFalse(clearable) && !!active.length, [active, clearable]);\n\n    return (\n        <SelectButtonElement\n            buttonVariant={props.buttonVariant}\n            active={active}\n            disabled={readonly}\n            aria-disabled={readonly}\n            aria-expanded={showList}\n            aria-haspopup=\"dialog\"\n            aria-invalid={props.isInvalid}\n            className={cx(DROPDOWN_BUTTON_CLASS, {\n                [DROPDOWN_BUTTON_ACTIVE_CLASS]: showList,\n                [DROPDOWN_BUTTON_HAS_SELECTION_CLASS]: !!active.length,\n                [DROPDOWN_BUTTON_READONLY_CLASS]: readonly,\n                [DROPDOWN_BUTTON_INVALID_CLASS]: props.isInvalid,\n                [DROPDOWN_BUTTON_VALID_CLASS]: props.isValid,\n            })}\n            filterable={filterable}\n            name={props.name}\n            onClick={!readonly ? props.toggleList : undefined}\n            onKeyDown={!readonly ? props.onButtonKeyDown : undefined}\n            role={!filterable || showList ? 'button' : undefined}\n            tabIndex={0}\n            title={buttonTitleText}\n            toggleButtonRef={props.toggleButtonRef}\n            type={filterable ? undefined : 'button'}\n            aria-describedby={props.ariaDescribedBy}\n            id={props.id}\n            {...(showList && filterable ? {} : { 'aria-label': props['aria-label'], 'aria-labelledby': props['aria-labelledby'] })}\n        >\n            {props.renderButtonContent ? (\n                props.renderButtonContent({ item: buttonActiveItem })\n            ) : showList && filterable ? (\n                <input\n                    aria-autocomplete=\"list\"\n                    aria-label={props['aria-label']}\n                    aria-labelledby={props['aria-labelledby']}\n                    aria-controls={props.selectListId}\n                    aria-expanded={showList}\n                    aria-owns={props.selectListId}\n                    aria-invalid={props.isInvalid}\n                    autoComplete=\"off\"\n                    className=\"adyen-pe-filter-input\"\n                    onInput={props.onInput}\n                    onKeyDown={props.onFilterInputKeyDown}\n                    placeholder={placeholderText}\n                    ref={props.filterInputRef}\n                    role=\"combobox\"\n                    type=\"text\"\n                />\n            ) : (\n                <>\n                    {buttonActiveItem?.icon && (\n                        <Img className={DROPDOWN_BUTTON_ICON_CLASS} src={buttonActiveItem.icon} alt={buttonActiveItem?.name?.trim() ?? ''} />\n                    )}\n                    <span className={DROPDOWN_BUTTON_TEXT_CLASS}>{buttonActiveItem?.selectedOptionName?.trim() || buttonTitleText}</span>\n                    {multiSelect && props.appliedFilterNumber > 0 && (\n                        <div className={DROPDOWN_BUTTON_MULTI_SELECT_COUNTER_CLASS}>\n                            <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} stronger={true}>\n                                {props.appliedFilterNumber}\n                            </Typography>\n                        </div>\n                    )}\n                </>\n            )}\n            {!withoutCollapseIndicator && !showClearButton && (\n                <span className={DROPDOWN_BUTTON_COLLAPSE_INDICATOR_CLASS}>\n                    <Icon name=\"chevron-down\" />\n                </span>\n            )}\n            {showClearButton && (\n                <span\n                    role=\"button\"\n                    tabIndex={0}\n                    className={DROPDOWN_BUTTON_CLEAR_CLASS}\n                    onClick={onClear}\n                    onKeyDown={e => {\n                        if (e.code === InteractionKeyCode.ENTER || e.code === InteractionKeyCode.SPACE) {\n                            onClear?.(e);\n                        }\n                    }}\n                >\n                    <Icon name=\"cross-circle-fill\" />\n                </span>\n            )}\n        </SelectButtonElement>\n    );\n};\n\nexport default SelectButton;\n","import { PropsWithChildren } from 'preact/compat';\nimport { useCallback, useEffect, useState } from 'preact/hooks';\nimport { PopoverContainerPosition, PopoverProps } from './types';\nimport Popover from './Popover';\nimport './Popover.scss';\n\nfunction PopoverContainer(props: PropsWithChildren<Omit<PopoverProps, 'ref'>>) {\n    const [_, setLastScrollCallbackTimestamp] = useState<DOMHighResTimeStamp>(performance.now());\n    const [popoverStyle, setPopoverStyle] = useState<{ minY?: number; maxY?: number } | undefined>();\n\n    const shouldTrackVerticalScrolling = useCallback(\n        (element: Element | null): element is HTMLElement =>\n            element && props.fixedPositioning ? element.scrollHeight > (element as HTMLElement).offsetHeight : false,\n        [props.fixedPositioning]\n    );\n\n    const scrollElement = (props.targetElement.current as HTMLElement)?.offsetParent as HTMLElement | null;\n\n    useEffect(() => {\n        if (!shouldTrackVerticalScrolling(scrollElement)) return;\n\n        const { height: scrollElementHeight, y: scrollElementY } = scrollElement.getBoundingClientRect();\n\n        setPopoverStyle({\n            minY: scrollElementY,\n            maxY: scrollElementY + scrollElementHeight,\n        });\n\n        let rafId: ReturnType<typeof requestAnimationFrame> | null = null;\n\n        const delayedCallback = () => {\n            rafId && cancelAnimationFrame(rafId);\n            rafId = requestAnimationFrame(() => {\n                rafId = null;\n                // The last scroll callback timestamp is only updated here to\n                // trigger a re-render of the component, allowing for layout\n                // and style updates to be applied to the popover.\n                setLastScrollCallbackTimestamp(performance.now());\n            });\n        };\n\n        scrollElement.addEventListener('scroll', delayedCallback, { passive: true });\n\n        return () => {\n            scrollElement.removeEventListener('scroll', delayedCallback);\n            rafId && cancelAnimationFrame(rafId);\n            rafId = null;\n        };\n    }, [scrollElement, shouldTrackVerticalScrolling]);\n\n    return props.fixedPositioning ? (\n        // TODO: - Consider using same position from parent element\n        //       - Consider adding position prop to components using Popover\n        <Popover {...props} position={PopoverContainerPosition.BOTTOM} additionalStyle={popoverStyle} />\n    ) : (\n        <Popover {...props} />\n    );\n}\n\nexport default PopoverContainer;\n","import cx from 'classnames';\nimport { memo } from 'preact/compat';\nimport { useEffect, useRef } from 'preact/hooks';\nimport Img from '../../../Img';\nimport Icon from '../../../Icon';\nimport type { SelectItem, SelectItemProps } from '../types';\nimport { boolOrFalse } from '../../../../../utils';\nimport {\n    DROPDOWN_ELEMENT_ACTIVE_CLASS,\n    DROPDOWN_ELEMENT_CHECKBOX_CLASS,\n    DROPDOWN_ELEMENT_CHECKMARK_CLASS,\n    DROPDOWN_ELEMENT_CLASS,\n    DROPDOWN_ELEMENT_CONTENT_CLASS,\n    DROPDOWN_ELEMENT_DISABLED_CLASS,\n    DROPDOWN_ELEMENT_ICON_CLASS,\n    DROPDOWN_ELEMENT_KEYBOARD_ACTIVE_CLASS,\n} from '../constants';\n\ntype _RenderSelectOptionResult<T extends SelectItem> = ReturnType<SelectItemProps<T>['renderListItem']>;\ntype _RenderSelectOptionData<T extends SelectItem> = Parameters<SelectItemProps<T>['renderListItem']>[0];\n\nexport const renderDefaultMultiSelectionCheckedness = <T extends SelectItem>(data: _RenderSelectOptionData<T>): _RenderSelectOptionResult<T> =>\n    data.multiSelect ? (\n        <span className={DROPDOWN_ELEMENT_CHECKBOX_CLASS}>{data.selected ? <Icon name=\"checkmark-square-fill\" /> : <Icon name=\"square\" />}</span>\n    ) : null;\n\nexport const renderDefaultSingleSelectionCheckedness = <T extends SelectItem>(data: _RenderSelectOptionData<T>): _RenderSelectOptionResult<T> =>\n    data.multiSelect ? null : <span className={DROPDOWN_ELEMENT_CHECKMARK_CLASS}>{data.selected && <Icon name=\"checkmark\" />}</span>;\n\nexport const renderListItemDefault = <T extends SelectItem>(data: _RenderSelectOptionData<T>): _RenderSelectOptionResult<T> => (\n    <>\n        {renderDefaultMultiSelectionCheckedness(data)}\n        <div className={data.contentClassName as string}>\n            {data.item.icon && <Img className={data.iconClassName as string} alt={data.item.name} src={data.item.icon} />}\n            <span>{data.item.name}</span>\n        </div>\n        {renderDefaultSingleSelectionCheckedness(data)}\n    </>\n);\n\nconst SelectListItem = <T extends SelectItem>({\n    item,\n    multiSelect,\n    onKeyDown,\n    onSelect,\n    renderListItem,\n    selected,\n    isKeyboardActive,\n}: SelectItemProps<T>) => {\n    const disabled = !!item.disabled;\n    const itemRef = useRef<HTMLLIElement>(null);\n\n    // A change in Preact v10.11.1 means that all falsy values are assessed and set on data attributes.\n    // In the case of `data-disabled` we only ever want it set if item.disabled is actually true, since the presence\n    // of the `data-disabled` attr, regardless of its value, will disable the select list item.\n    const dataDisabled = boolOrFalse(item.disabled) || null;\n\n    const itemClassName = cx(DROPDOWN_ELEMENT_CLASS, {\n        [DROPDOWN_ELEMENT_ACTIVE_CLASS]: selected,\n        [DROPDOWN_ELEMENT_DISABLED_CLASS]: disabled,\n        [DROPDOWN_ELEMENT_KEYBOARD_ACTIVE_CLASS]: isKeyboardActive,\n    });\n\n    // Scroll into view when keyboard-active\n    useEffect(() => {\n        if (isKeyboardActive && itemRef.current) {\n            itemRef.current.scrollIntoView({ block: 'nearest', behavior: 'smooth' });\n        }\n    }, [isKeyboardActive]);\n\n    return (\n        <li\n            ref={itemRef}\n            aria-disabled={disabled}\n            aria-selected={selected}\n            className={itemClassName}\n            data-disabled={dataDisabled}\n            data-value={item.id}\n            onClick={onSelect}\n            onKeyDown={onKeyDown}\n            title={item.name}\n            role=\"option\"\n            tabIndex={-1}\n        >\n            {renderListItem({\n                item,\n                multiSelect,\n                selected,\n                contentClassName: DROPDOWN_ELEMENT_CONTENT_CLASS,\n                iconClassName: DROPDOWN_ELEMENT_ICON_CLASS,\n            })}\n        </li>\n    );\n};\n\nexport default memo(SelectListItem);\n","import { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport PopoverContainer from '../../../Popover/PopoverContainer';\nimport { PopoverContainerPosition, PopoverContainerSize, PopoverContainerVariant, PopoverProps } from '../../../Popover/types';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { boolOrFalse, isFunction } from '../../../../../utils';\nimport { fixedForwardRef } from '../../../../../utils/preact';\nimport cx from 'classnames';\nimport { ForwardedRef, memo } from 'preact/compat';\nimport { useMemo } from 'preact/hooks';\nimport { DROPDOWN_ELEMENT_CLASS, DROPDOWN_ELEMENT_NO_OPTION_CLASS, DROPDOWN_LIST_ACTIVE_CLASS, DROPDOWN_LIST_CLASS } from '../constants';\nimport type { SelectItem, SelectListProps } from '../types';\nimport SelectListItem, { renderListItemDefault } from './SelectListItem';\n\nconst SelectList = fixedForwardRef(\n    <T extends SelectItem>(\n        {\n            active,\n            commitActions,\n            items,\n            disableFocusTrap,\n            multiSelect,\n            onKeyDown,\n            onSelect,\n            renderListItem,\n            selectListId,\n            showList,\n            textFilter,\n            toggleButtonRef,\n            dismissPopover,\n            setToTargetWidth,\n            popoverClassNameModifiers,\n            showOverlay,\n            fitPosition,\n            fixedPopoverPositioning,\n            activeIndex,\n            filterable,\n        }: SelectListProps<T>,\n        ref: ForwardedRef<HTMLUListElement>\n    ) => {\n        const { i18n } = useCoreContext();\n        const isSmContainer = useResponsiveContainer(containerQueries.down.xs);\n        const filteredItems = items.filter(item => !textFilter || item.name.toLowerCase().includes(textFilter));\n        const listClassName = cx(DROPDOWN_LIST_CLASS, { [DROPDOWN_LIST_ACTIVE_CLASS]: showList });\n        const noOptionsClassName = cx(DROPDOWN_ELEMENT_CLASS, DROPDOWN_ELEMENT_NO_OPTION_CLASS);\n        const renderSelectOption = useMemo(() => (isFunction(renderListItem) ? renderListItem : renderListItemDefault), [renderListItem]);\n        const multipleSelection = useMemo(() => boolOrFalse(multiSelect), [multiSelect]);\n\n        return showList ? (\n            <PopoverContainer\n                classNameModifiers={popoverClassNameModifiers}\n                actions={multipleSelection ? commitActions : undefined}\n                disableFocusTrap={disableFocusTrap}\n                divider={true}\n                dismiss={dismissPopover}\n                dismissible={false}\n                open={showList}\n                setToTargetWidth={setToTargetWidth}\n                containerSize={PopoverContainerSize.MEDIUM}\n                variant={PopoverContainerVariant.POPOVER}\n                targetElement={toggleButtonRef as PopoverProps['targetElement']}\n                withContentPadding={false}\n                position={PopoverContainerPosition.BOTTOM}\n                showOverlay={showOverlay && isSmContainer}\n                fitPosition={fitPosition}\n                fixedPositioning={fixedPopoverPositioning}\n            >\n                <ul className={listClassName} id={selectListId} ref={ref} role=\"listbox\" aria-multiselectable={multipleSelection}>\n                    {filteredItems.length ? (\n                        filteredItems.map((item, index) => {\n                            return (\n                                <SelectListItem\n                                    item={item}\n                                    key={item.id}\n                                    multiSelect={multipleSelection}\n                                    onKeyDown={onKeyDown}\n                                    onSelect={onSelect}\n                                    renderListItem={renderSelectOption}\n                                    selected={active.includes(item)}\n                                    isKeyboardActive={filterable && activeIndex === index}\n                                />\n                            );\n                        })\n                    ) : (\n                        <div className={noOptionsClassName}>{i18n.get('common.inputs.select.errors.noOptions')}</div>\n                    )}\n                </ul>\n            </PopoverContainer>\n        ) : null;\n    }\n);\n\nexport default memo(SelectList);\n","import { useCallback, useEffect, useState } from 'preact/hooks';\nimport { EMPTY_ARRAY } from '../../../../../utils';\nimport { SelectItem, SelectProps } from '../types';\n\nconst useSelect = <T extends SelectItem>({ items, multiSelect, selected }: Pick<SelectProps<T>, 'items' | 'multiSelect' | 'selected'>) => {\n    const getSelectedItems = useCallback(\n        (selectedItems: typeof selected = EMPTY_ARRAY) => {\n            const _selected = (EMPTY_ARRAY as readonly T['id'][]).concat(selectedItems ?? EMPTY_ARRAY).filter(Boolean);\n            const _selectedItems = items.filter(item => _selected.includes(item.id));\n            const selection = multiSelect ? _selectedItems : _selectedItems.slice(0, 1);\n            return selection.length ? Object.freeze(selection) : EMPTY_ARRAY;\n        },\n        [items, multiSelect]\n    );\n\n    const [selection, setSelection] = useState(getSelectedItems(selected));\n\n    const resetSelection = useCallback(\n        (selection: readonly T[] | T[] = EMPTY_ARRAY) => {\n            const nextSelection = selection.filter(item => items.includes(item));\n            setSelection(nextSelection.length ? Object.freeze(nextSelection) : EMPTY_ARRAY);\n        },\n        [items, setSelection]\n    );\n\n    const select = useCallback(\n        (item: T) => {\n            setSelection(currentSelection => {\n                const index = currentSelection.indexOf(item);\n\n                // Item not already selected\n                if (index < 0) return Object.freeze(((multiSelect ? currentSelection : EMPTY_ARRAY) as readonly T[]).concat(item));\n\n                // Item is current selection\n                if (!multiSelect) return currentSelection;\n\n                // Item should be deselected\n                const nextSelection = [...currentSelection];\n                nextSelection.splice(index, 1);\n                return nextSelection.length ? Object.freeze(nextSelection) : EMPTY_ARRAY;\n            });\n        },\n        [multiSelect, setSelection]\n    );\n\n    useEffect(() => setSelection(getSelectedItems(selected)), [getSelectedItems, selected, setSelection]);\n\n    return { resetSelection, select, selection } as const;\n};\n\nexport default useSelect;\n","import cx from 'classnames';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { InteractionKeyCode } from '../../../types';\nimport { ARIA_ERROR_SUFFIX } from '../../../../core/Errors/constants';\nimport { boolOrFalse, EMPTY_ARRAY, noop } from '../../../../utils';\nimport useCommitAction, { CommitAction } from '../../../../hooks/useCommitAction';\nimport useUniqueId from '../../../../hooks/useUniqueId';\nimport SelectButton from './components/SelectButton';\nimport SelectList from './components/SelectList';\nimport useSelect from './hooks/useSelect';\nimport { DROPDOWN_BASE_CLASS, DROPDOWN_MULTI_SELECT_CLASS } from './constants';\nimport { SelectItem, SelectProps } from './types';\nimport './Select.scss';\n\n// [TODO]: Revisit this component logic  for handling user interaction\nconst Select = <T extends SelectItem>({\n    className,\n    classNameModifiers = EMPTY_ARRAY as [],\n    clearable = false,\n    popoverClassNameModifiers,\n    items = EMPTY_ARRAY as readonly T[],\n    filterable = false,\n    disableFocusTrap = false,\n    disableToggleFocusOnClose = false,\n    multiSelect = false,\n    readonly = false,\n    onChange = noop,\n    selected,\n    name,\n    isInvalid,\n    isValid,\n    placeholder,\n    uniqueId,\n    renderListItem,\n    renderButtonContent,\n    isCollatingErrors,\n    setToTargetWidth,\n    withoutCollapseIndicator = false,\n    showOverlay = false,\n    fitPosition,\n    fixedPopoverPositioning,\n    onResetAction,\n    buttonVariant,\n    ...ariaAttributeProps\n}: SelectProps<T>) => {\n    const { resetSelection, select, selection } = useSelect({ items, multiSelect, selected });\n    const [showList, setShowList] = useState<boolean>(false);\n    const [textFilter, setTextFilter] = useState<string>('');\n    const [activeIndex, setActiveIndex] = useState<number>(-1);\n    const filterInputRef = useRef<HTMLInputElement>(null);\n    const selectListRef = useRef<HTMLUListElement>(null);\n    const toggleButtonRef = useRef<HTMLButtonElement>(null);\n\n    const selectButtonUniqueId = `elem-${useUniqueId()}`;\n    const selectButtonId = uniqueId ?? selectButtonUniqueId;\n    const selectListId = `select-${useUniqueId()}`;\n\n    const autoFocusAnimFrame = useRef<ReturnType<typeof requestAnimationFrame>>();\n    const pendingClickOutsideTriggeredHideList = useRef(true);\n    const clearSelectionInProgress = useRef(false);\n    const cachedSelectedItems = useRef(selection);\n    const selectedItems = useRef(selection);\n\n    const appliedFilterNumber = useMemo(() => selection.length, [selection]);\n\n    const dismissPopover = useCallback(() => {\n        setTextFilter('');\n        setShowList(false);\n        setActiveIndex(-1);\n        if (showList) {\n            resetSelection(cachedSelectedItems.current);\n            pendingClickOutsideTriggeredHideList.current = true;\n        }\n    }, [resetSelection, setShowList, setTextFilter, showList]);\n\n    const dropdownClassName = useMemo(\n        () =>\n            cx([\n                DROPDOWN_BASE_CLASS,\n                { [DROPDOWN_MULTI_SELECT_CLASS]: boolOrFalse(multiSelect) },\n                ...classNameModifiers.map(mod => `${DROPDOWN_BASE_CLASS}--${mod}`),\n                className,\n            ]),\n        [className, classNameModifiers, multiSelect]\n    );\n\n    const { commitAction, commitActionButtons, committing, resetCommitAction } = useCommitAction({\n        resetDisabled: !selection.length,\n        onResetAction: onResetAction,\n    });\n\n    /**\n     * Closes the select list:\n     *   - empties the text filter\n     *   - restores focus to the select button element (?)\n     */\n    const closeList = useCallback(() => {\n        setTextFilter('');\n        setShowList(false);\n        setActiveIndex(-1);\n        resetCommitAction();\n\n        if (!pendingClickOutsideTriggeredHideList.current) {\n            if (!disableToggleFocusOnClose) toggleButtonRef.current?.focus();\n        } else pendingClickOutsideTriggeredHideList.current = false;\n    }, [disableToggleFocusOnClose, resetCommitAction, setShowList, setTextFilter]);\n\n    const commitSelection = useCallback(() => {\n        cachedSelectedItems.current = selection;\n        const value = `${selection.map(({ id }) => id)}`;\n        onChange({ target: { value, name } });\n    }, [name, onChange, selection]);\n\n    const clearAndResetSelection = useCallback(() => {\n        resetSelection();\n        cachedSelectedItems.current = EMPTY_ARRAY;\n        onChange({ target: { value: '', name } });\n    }, [name, onChange, resetSelection]);\n\n    useEffect(() => {\n        switch (commitAction) {\n            case CommitAction.APPLY:\n                commitSelection();\n                break;\n            case CommitAction.CLEAR:\n                clearSelectionInProgress.current = true;\n                clearAndResetSelection();\n                break;\n        }\n    }, [clearAndResetSelection, commitAction, commitSelection, name, onChange, resetSelection]);\n\n    /**\n     * Closes the select list and fires an onChange\n     * @param e - Event\n     */\n    const handleSelect = useCallback(\n        (e: Event) => {\n            e.preventDefault();\n\n            // If the target is not one of the list items, select the first list item\n            const target: HTMLUListElement | undefined | null =\n                e.currentTarget && selectListRef?.current?.contains(e.currentTarget as HTMLUListElement)\n                    ? (e.currentTarget as HTMLUListElement)\n                    : null; // (selectListRef?.current?.firstElementChild as HTMLUListElement);\n\n            if (target && !target.getAttribute('data-disabled')) {\n                const value = target.getAttribute('data-value');\n                const item = items.find(item => item.id === value)!;\n                select(item);\n            }\n        },\n        [items, select]\n    );\n\n    useEffect(() => {\n        if (selectedItems.current !== selection) {\n            selectedItems.current = selection;\n            // showList check added to prevent commitSelection from being executed on initial value assignment\n            if ((!multiSelect || clearSelectionInProgress.current) && showList) {\n                commitSelection();\n                closeList();\n            }\n        }\n        clearSelectionInProgress.current = false;\n    }, [closeList, commitSelection, multiSelect, selection, showList]);\n\n    useEffect(() => {\n        if (committing) closeList();\n    }, [committing, closeList]);\n\n    useEffect(() => {\n        if (!showList) {\n            cachedSelectedItems.current = selection;\n        }\n    }, [selection, showList]);\n\n    /**\n     * Handle keyDown events on the selectList button\n     * Opens the selectList and focuses the first element if available\n     * @param evt {KeyboardEvent}\n     */\n    const handleButtonKeyDown = useCallback(\n        (evt: KeyboardEvent) => {\n            switch (evt.code) {\n                case InteractionKeyCode.ESCAPE:\n                case InteractionKeyCode.TAB:\n                    /**\n                     * Implementation notes ({@link https://w3c.github.io/aria-practices/examples/disclosure/disclosure-navigation.html article}):\n                     * - When user has focused select button but not yet moved into select list, close list and keep focus on the select button\n                     * - Shift+Tab out of select should close list\n                     */\n                    showList && closeList();\n                    pendingClickOutsideTriggeredHideList.current = evt.key === InteractionKeyCode.TAB;\n                    return;\n                case InteractionKeyCode.ENTER:\n                case InteractionKeyCode.SPACE:\n                    if (filterable && showList) {\n                        if (evt.key === InteractionKeyCode.ENTER) {\n                            if (textFilter) handleSelect(evt);\n                            else break;\n                        }\n                        return;\n                    }\n                    break;\n                case InteractionKeyCode.ARROW_DOWN:\n                case InteractionKeyCode.ARROW_UP:\n                    if (filterable && showList) {\n                        // When filterable and list is open, arrow keys are handled by input\n                        return;\n                    }\n                    break;\n                default:\n                    return;\n            }\n\n            evt.preventDefault();\n            setShowList(true);\n        },\n        [closeList, filterable, handleSelect, showList, setShowList, textFilter]\n    );\n\n    useEffect(() => {\n        if (showList) {\n            cancelAnimationFrame(autoFocusAnimFrame.current!);\n\n            autoFocusAnimFrame.current = requestAnimationFrame(() => {\n                focus: {\n                    let item = selectListRef.current?.firstElementChild as HTMLLIElement;\n                    let firstAvailableItem: typeof item | undefined;\n                    let activeIndex = 0;\n\n                    while (item) {\n                        if (!(item.dataset.disabled && item.dataset.disabled === 'true')) {\n                            if (item.getAttribute('aria-selected') === 'true') {\n                                item.tabIndex = 0;\n                                filterable ? setActiveIndex(activeIndex) : item.focus();\n                                break focus;\n                            }\n                            firstAvailableItem = firstAvailableItem || item;\n                            activeIndex++;\n                        }\n                        item = item.nextElementSibling as HTMLLIElement;\n                    }\n\n                    if (firstAvailableItem && !filterable) {\n                        firstAvailableItem.tabIndex = 0;\n                        firstAvailableItem.focus();\n                    }\n                }\n            });\n        }\n    }, [filterable, showList]);\n\n    /**\n     * Handle keyDown events on the list elements\n     * Navigates through the list, or select an element, or focus the filter input, or close the menu.\n     * @param e - KeyDownEvent\n     */\n    const handleListKeyDown = useCallback(\n        (evt: KeyboardEvent) => {\n            const target = evt.target as HTMLInputElement;\n\n            switch (evt.code) {\n                case InteractionKeyCode.ESCAPE:\n                    evt.preventDefault();\n                    evt.stopPropagation();\n                    // When user is actively navigating through list with arrow keys - close list and keep focus on the Select Button re. a11y guidelines (above)\n                    closeList();\n                    break;\n                case InteractionKeyCode.ENTER:\n                case InteractionKeyCode.SPACE:\n                    handleSelect(evt);\n                    break;\n                case InteractionKeyCode.ARROW_DOWN: {\n                    evt.preventDefault();\n                    let item = target.nextElementSibling as HTMLLIElement;\n                    while (item) {\n                        if (!(item.dataset.disabled && item.dataset.disabled === 'true')) {\n                            target.tabIndex = -1;\n                            item.tabIndex = 0;\n                            item.focus();\n                            break;\n                        }\n                        item = item.nextElementSibling as HTMLLIElement;\n                    }\n                    break;\n                }\n                case InteractionKeyCode.ARROW_UP: {\n                    evt.preventDefault();\n                    focus: {\n                        let item = target.previousElementSibling as HTMLLIElement;\n                        while (item) {\n                            if (!(item.dataset.disabled && item.dataset.disabled === 'true')) {\n                                target.tabIndex = -1;\n                                item.tabIndex = 0;\n                                item.focus();\n                                break focus;\n                            }\n                            item = item.previousElementSibling as HTMLLIElement;\n                        }\n                        if (filterable && filterInputRef.current) {\n                            filterInputRef.current.focus();\n                        }\n                    }\n                    break;\n                }\n                default:\n            }\n        },\n        [closeList, filterable, handleSelect]\n    );\n\n    /**\n     * Handle keyDown events on the filter input\n     * Navigates through filtered items using arrow keys\n     * @param evt - KeyboardEvent\n     */\n    const handleFilterInputKeyDown = useCallback(\n        (evt: KeyboardEvent) => {\n            if (!filterable || !showList) return;\n\n            const filteredItems = items.filter(item => !textFilter || item.name.toLowerCase().includes(textFilter));\n            const availableItems = filteredItems.filter(item => !item.disabled);\n\n            switch (evt.code) {\n                case InteractionKeyCode.ESCAPE:\n                    evt.preventDefault();\n                    closeList();\n                    break;\n                case InteractionKeyCode.ENTER:\n                    evt.preventDefault();\n                    if (activeIndex >= 0 && activeIndex < filteredItems.length) {\n                        const item = filteredItems[activeIndex];\n                        if (item && !item?.disabled) {\n                            select(item);\n                        }\n                    }\n                    break;\n                case InteractionKeyCode.ARROW_DOWN: {\n                    evt.preventDefault();\n                    if (availableItems.length === 0) break;\n\n                    let nextIndex = activeIndex + 1;\n                    while (nextIndex < filteredItems.length) {\n                        if (!filteredItems[nextIndex]?.disabled) {\n                            setActiveIndex(nextIndex);\n                            break;\n                        }\n                        nextIndex++;\n                    }\n                    // If we reached the end, wrap to first available\n                    if (nextIndex >= filteredItems.length) {\n                        for (let i = 0; i < filteredItems.length; i++) {\n                            if (!filteredItems[i]?.disabled) {\n                                setActiveIndex(i);\n                                break;\n                            }\n                        }\n                    }\n                    break;\n                }\n                case InteractionKeyCode.ARROW_UP: {\n                    evt.preventDefault();\n                    if (availableItems.length === 0) break;\n\n                    let prevIndex = activeIndex - 1;\n                    while (prevIndex >= 0) {\n                        if (!filteredItems[prevIndex]?.disabled) {\n                            setActiveIndex(prevIndex);\n                            break;\n                        }\n                        prevIndex--;\n                    }\n                    // If we reached the start or activeIndex was -1, don't wrap\n                    if (prevIndex < 0) {\n                        setActiveIndex(-1);\n                    }\n                    break;\n                }\n                default:\n                    break;\n            }\n        },\n        [filterable, showList, items, textFilter, activeIndex, closeList, select]\n    );\n\n    /**\n     * Updates the state with the current text filter value\n     * @param e - KeyboardEvent\n     */\n    const handleTextFilter = useCallback(\n        (e: Event) => {\n            const value: string = (e.target as HTMLInputElement).value;\n            setTextFilter(value.toLowerCase());\n            setActiveIndex(-1); // Reset active index when filter changes\n        },\n        [setTextFilter]\n    );\n\n    const showingList = useRef(false);\n\n    /**\n     * Toggles the selectList and focuses in either the filter input or in the selectList button\n     * @param e - Event\n     */\n    const toggleList = useCallback(\n        (e: Event) => {\n            e.preventDefault();\n            if (!showingList.current) {\n                setShowList(showList => !showList);\n            }\n            showList && resetSelection(cachedSelectedItems.current);\n        },\n        [setShowList, showList, resetSelection]\n    );\n\n    useEffect(() => {\n        if (showList && filterable) {\n            filterInputRef.current?.focus();\n            setActiveIndex(-1);\n        }\n        showingList.current = showList;\n    }, [filterable, showList]);\n\n    const handleClear = useCallback(\n        (e?: Event) => {\n            e?.preventDefault?.();\n            e?.stopPropagation?.();\n            clearAndResetSelection();\n        },\n        [clearAndResetSelection]\n    );\n\n    return (\n        <div className={dropdownClassName}>\n            <SelectButton\n                buttonVariant={buttonVariant}\n                id={selectButtonId}\n                appliedFilterNumber={appliedFilterNumber}\n                active={selection}\n                clearable={clearable}\n                filterInputRef={filterInputRef}\n                filterable={filterable}\n                isInvalid={isInvalid}\n                isValid={isValid}\n                name={name}\n                onClear={handleClear}\n                onButtonKeyDown={handleButtonKeyDown}\n                onFilterInputKeyDown={handleFilterInputKeyDown}\n                multiSelect={multiSelect}\n                placeholder={placeholder}\n                readonly={readonly}\n                renderButtonContent={renderButtonContent}\n                selectListId={selectListId}\n                showList={showList}\n                toggleButtonRef={toggleButtonRef}\n                toggleList={toggleList}\n                withoutCollapseIndicator={withoutCollapseIndicator}\n                ariaDescribedBy={!isCollatingErrors && selectButtonId ? `${selectButtonId}${ARIA_ERROR_SUFFIX}` : undefined}\n                {...ariaAttributeProps}\n                onInput={handleTextFilter}\n            />\n            <SelectList\n                popoverClassNameModifiers={popoverClassNameModifiers}\n                setToTargetWidth={setToTargetWidth}\n                dismissPopover={dismissPopover}\n                active={selection}\n                commitActions={commitActionButtons}\n                items={items}\n                multiSelect={multiSelect}\n                disableFocusTrap={disableFocusTrap || filterable}\n                onKeyDown={handleListKeyDown}\n                onSelect={handleSelect}\n                selectListId={selectListId}\n                ref={selectListRef}\n                toggleButtonRef={toggleButtonRef}\n                renderListItem={renderListItem}\n                showList={showList}\n                showOverlay={showOverlay}\n                textFilter={textFilter}\n                activeIndex={filterable ? activeIndex : undefined}\n                filterable={filterable}\n                fitPosition={fitPosition}\n                fixedPopoverPositioning={fixedPopoverPositioning}\n            />\n        </div>\n    );\n};\n\nexport default Select;\n","import useCoreContext from '../../../core/Context/useCoreContext';\nimport { ComponentChildren, Fragment, FunctionalComponent } from 'preact';\nimport { TranslationFill, TranslationFillFunc, TranslationProps } from './types';\nimport { isFunction, uniqueId } from '../../../utils';\nimport { useMemo } from 'preact/hooks';\n\nconst normalizeFill = (fill: TranslationFill): TranslationFillFunc => {\n    return isFunction(fill) ? fill : () => fill;\n};\n\nexport const Translation: FunctionalComponent<TranslationProps> = ({ count, defaultFill, fills, translationKey }) => {\n    const { i18n } = useCoreContext();\n\n    const getFill = useMemo<TranslationFillFunc>(() => {\n        const _defaultFill = normalizeFill(defaultFill);\n\n        if (fills !== undefined) {\n            return (...args) => {\n                const [placeholder, index] = args;\n\n                for (const lookupProperty of [placeholder, index]) {\n                    const fill = normalizeFill((fills as any)[lookupProperty])(...args);\n                    if (fill != undefined) return fill;\n                }\n\n                return _defaultFill(...args);\n            };\n        }\n\n        return _defaultFill;\n    }, [fills, defaultFill]);\n\n    return useMemo(() => {\n        const fills: ComponentChildren[] = [];\n        const placeholderFill = uniqueId('translation');\n\n        const values = (...args: Parameters<TranslationFillFunc>) => {\n            fills.push(getFill(...args) ?? null);\n            return placeholderFill;\n        };\n\n        const [firstFragment, ...restFragments] = i18n.get(translationKey, { count, values }).split(placeholderFill);\n\n        return (\n            <>\n                {firstFragment}\n                {restFragments.map((fragment, index) => (\n                    <Fragment key={`${placeholderFill}__${index}`}>\n                        {fills[index]}\n                        {fragment}\n                    </Fragment>\n                ))}\n            </>\n        );\n    }, [i18n, count, getFill, translationKey]);\n};\n\nexport default Translation;\n","import Icon from '../Icon';\nimport Button from '../Button';\nimport Select from '../FormFields/Select';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { EMPTY_ARRAY, isNullish } from '../../../utils';\nimport { SelectChangeEvent, SelectItem } from '../FormFields/Select/types';\nimport { ButtonVariant } from '../Button/types';\nimport { Translation } from '../Translation';\nimport { PaginationProps } from './types';\nimport './Pagination.scss';\n\nconst BASE_CLASS = 'adyen-pe-pagination';\n\nconst classes = {\n    base: BASE_CLASS,\n    context: BASE_CLASS + '__context',\n    controls: BASE_CLASS + '__controls',\n    limit: BASE_CLASS + '__limit',\n    limitSelector: BASE_CLASS + '__limit-selector',\n};\n\nexport default function Pagination({\n    next,\n    hasNext,\n    hasPrev,\n    prev,\n    limit,\n    limitOptions,\n    onLimitSelection,\n    ariaLabelKey,\n    limitSelectAriaLabelKey,\n}: PaginationProps) {\n    const { i18n } = useCoreContext();\n\n    const _limitOptions = useMemo(\n        () =>\n            limitOptions &&\n            Object.freeze(\n                limitOptions.map(\n                    option =>\n                        ({\n                            name: option.toLocaleString(i18n.locale, { style: 'decimal' }),\n                            id: String(option),\n                        }) as SelectItem\n                )\n            ),\n        [i18n, limitOptions]\n    );\n\n    const _onLimitChanged = useCallback(\n        ({ target }: SelectChangeEvent) => {\n            if (isNullish(target?.value)) return;\n            onLimitSelection?.(+target.value);\n        },\n        [onLimitSelection]\n    );\n\n    return (\n        <div role=\"group\" aria-label={i18n.get(ariaLabelKey ?? 'common.pagination.label')} className={classes.base}>\n            <div className={classes.context}>\n                {_limitOptions && onLimitSelection && (\n                    <div className={classes.limit} role=\"presentation\">\n                        <Translation\n                            translationKey=\"common.pagination.controls.limitSelect\"\n                            fills={{\n                                pageLimit: (\n                                    <div className={classes.limitSelector}>\n                                        <Select\n                                            setToTargetWidth={true}\n                                            filterable={false}\n                                            multiSelect={false}\n                                            items={_limitOptions}\n                                            onChange={_onLimitChanged}\n                                            selected={`${limit ?? ''}`}\n                                            aria-label={i18n.get(limitSelectAriaLabelKey ?? 'common.pagination.controls.limitSelect.label')}\n                                        />\n                                    </div>\n                                ),\n                            }}\n                        />\n                    </div>\n                )}\n            </div>\n\n            <div className={classes.controls}>\n                <Button\n                    variant={ButtonVariant.TERTIARY}\n                    disabled={!hasPrev}\n                    iconButton={true}\n                    aria-label={i18n.get('common.pagination.controls.previousPage.label')}\n                    classNameModifiers={['circle'].concat(hasPrev ? EMPTY_ARRAY : 'disabled')}\n                    onClick={prev}\n                >\n                    <Icon name=\"chevron-left\" />\n                </Button>\n                <Button\n                    variant={ButtonVariant.TERTIARY}\n                    disabled={!hasNext}\n                    iconButton={true}\n                    aria-label={i18n.get('common.pagination.controls.nextPage.label')}\n                    classNameModifiers={['circle'].concat(hasNext ? EMPTY_ARRAY : 'disabled')}\n                    onClick={next}\n                >\n                    <Icon name=\"chevron-right\" />\n                </Button>\n            </div>\n        </div>\n    );\n}\n","export const BASE_CLASS = 'adyen-pe-transactions-table';\nexport const AMOUNT_CLASS = BASE_CLASS + '__amount';\nexport const PAYMENT_METHOD_CLASS = BASE_CLASS + '__payment-method';\nexport const PAYMENT_METHOD_LOGO_CONTAINER_CLASS = BASE_CLASS + '__payment-method-logo-container';\nexport const PAYMENT_METHOD_LOGO_CLASS = BASE_CLASS + '__payment-method-logo';\nexport const DATE_AND_PAYMENT_METHOD_CLASS = BASE_CLASS + '__date-and-payment-method';\nexport const DATE_METHOD_CLASS = BASE_CLASS + '__date-and-payment-method--date';\n","import useCoreContext from '../core/Context/useCoreContext';\nimport { EMPTY_OBJECT } from '../utils';\nimport { useMemo } from 'preact/hooks';\n\n// TODO - Remove once we define a strategy to handle images\nconst FALLBACK_CDN_CONTEXT = 'https://cdf6519016.cdn.adyen.com/checkoutshopper/';\n\nexport interface ImageOptions {\n    extension?: string;\n    imageFolder?: string;\n    resourceContext?: string;\n    name: string;\n    parentFolder?: string;\n    size?: string;\n    subFolder?: string;\n}\n\nconst returnImage = ({\n    name,\n    resourceContext,\n    imageFolder = 'logos/',\n    parentFolder = '',\n    extension = 'svg',\n    size = '',\n    subFolder = '',\n}: ImageOptions) => {\n    const path = `/images/${imageFolder}/${subFolder}/${parentFolder}/${name}${size}.${extension}`.replace(/\\/+/g, '/');\n    return `${resourceContext}${path}`;\n};\n\nexport const useImageUrl = ({ options = EMPTY_OBJECT, name }: { options: Partial<ImageOptions>; name: string }) => {\n    const { loadingContext } = useCoreContext();\n\n    // TODO - Get rid of FALLBACK_CDN_CONTEXT once we define our assets URL\n    const image = useMemo(\n        () =>\n            returnImage({\n                resourceContext: FALLBACK_CDN_CONTEXT || loadingContext,\n                name,\n                ...options,\n            }),\n        [loadingContext, name, options]\n    );\n\n    return image;\n};\n","import cx from 'classnames';\nimport { useImageUrl } from '../../../hooks/useImageUrl';\nimport { useMemo } from 'preact/hooks';\n\ninterface ImageProps {\n    name: string;\n    alt: string;\n    extension?: string;\n    className?: string;\n    folder?: string;\n}\n\nexport const Image = ({ folder = 'components/', className, alt, name, extension }: ImageProps) => {\n    const imageUrl = useImageUrl({\n        options: useMemo(() => ({ imageFolder: folder, extension }), [extension, folder]),\n        name,\n    });\n\n    return <img className={cx('adyen-pe__image', className)} alt={alt} src={imageUrl} />;\n};\n","import { IPaymentMethod } from '../../../../types';\nimport { EMPTY_OBJECT } from '../../../../utils';\nimport { TransactionsFilters } from '../types';\nimport { INITIAL_FILTERS } from '../constants';\n\nconst allFilters = Object.keys(INITIAL_FILTERS) as readonly (keyof TransactionsFilters)[];\n\nconst PAYMENT_METHODS = Object.freeze({\n    klarna: 'Klarna',\n    paypal: 'PayPal',\n    klarna_paynow: 'Klarna Pay Now',\n});\n\nexport const parsePaymentMethodType = (paymentMethod: NonNullable<IPaymentMethod>, format?: 'detail' | 'fourDigit') => {\n    const { lastFourDigits, description, type } = paymentMethod ?? EMPTY_OBJECT;\n    if (lastFourDigits) return format === 'detail' ? `   ${lastFourDigits}` : lastFourDigits;\n    return description || PAYMENT_METHODS[type as keyof typeof PAYMENT_METHODS] || type;\n};\n\nexport const getTransactionsFilterQueryParams = <T extends TransactionsFilters>(filters: T) => {\n    return {\n        balanceAccountId: filters.balanceAccount?.id!, // using null assertion to ensure correct type inference\n        categories: filters.categories as (typeof filters.categories)[number][],\n        createdSince: new Date(filters.createdDate.from).toISOString(),\n        createdUntil: new Date(filters.createdDate.to).toISOString(),\n        currencies: filters.currencies as (typeof filters.currencies)[number][],\n        paymentPspReference: filters.paymentPspReference,\n        statuses: filters.statuses as (typeof filters.statuses)[number][],\n    } as const;\n};\n\nexport const getTransactionsFilterParams = <T extends TransactionsFilters>(filters: T) => {\n    const { balanceAccountId, categories, currencies, statuses, ...restFilterParams } = getTransactionsFilterQueryParams(filters);\n    return {\n        ...restFilterParams,\n        balanceAccountId: balanceAccountId || undefined,\n        categories: String(categories) || undefined,\n        currencies: String(currencies) || undefined,\n        statuses: String(statuses) || undefined,\n    } as const;\n};\n\nexport const compareTransactionsFilters = <T extends TransactionsFilters>(filtersA: T, filtersB: T) => {\n    return allFilters.some(filterName => {\n        const filterValueA = filtersA[filterName];\n        const filterValueB = filtersB[filterName];\n\n        switch (filterName) {\n            case 'categories':\n            case 'currencies':\n            case 'statuses':\n                return String(filterValueA) !== String(filterValueB);\n            default:\n                return filterValueA !== filterValueB;\n        }\n    });\n};\n","import useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { IBankAccount, IPaymentMethod } from '../../../../../types';\nimport { Image } from '../../../../internal/Image/Image';\nimport { Tag } from '../../../../internal/Tag/Tag';\nimport { TagVariant } from '../../../../internal/Tag/types';\nimport { TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport { parsePaymentMethodType } from '../utils';\nimport { PAYMENT_METHOD_CLASS, PAYMENT_METHOD_LOGO_CLASS, PAYMENT_METHOD_LOGO_CONTAINER_CLASS } from './constants';\n\nconst PaymentMethodCell = ({ paymentMethod, bankAccount }: { paymentMethod?: IPaymentMethod; bankAccount?: IBankAccount }) => {\n    const { i18n } = useCoreContext();\n    const isSmContainer = useResponsiveContainer(containerQueries.down.xs);\n\n    return (\n        <div className={PAYMENT_METHOD_CLASS}>\n            {paymentMethod || bankAccount ? (\n                <>\n                    <div className={PAYMENT_METHOD_LOGO_CONTAINER_CLASS}>\n                        <Image\n                            name={paymentMethod ? paymentMethod.type : 'bankTransfer'}\n                            alt={paymentMethod ? paymentMethod.type : 'bankTransfer'}\n                            folder={'logos/'}\n                            className={PAYMENT_METHOD_LOGO_CLASS}\n                        />\n                    </div>\n                    <Typography variant={TypographyVariant.BODY} stronger={isSmContainer}>\n                        {paymentMethod ? parsePaymentMethodType(paymentMethod) : bankAccount?.accountNumberLastFourDigits}\n                    </Typography>\n                </>\n            ) : (\n                <Tag label={i18n.get('common.tags.noData')} variant={TagVariant.LIGHT_WITH_OUTLINE} />\n            )}\n        </div>\n    );\n};\n\nexport default PaymentMethodCell;\n","import { useMemo } from 'preact/hooks';\nimport { CellTextPosition } from '../components/internal/DataGrid/types';\nimport { CustomColumn, DataGridCustomColumnConfig } from '../components/types';\nimport useCoreContext from '../core/Context/useCoreContext';\nimport { EMPTY_OBJECT, isUndefined } from '../utils';\nimport { containerQueries, useResponsiveContainer } from './useResponsiveContainer';\nimport { TranslationKey } from '../translations';\n\ntype Columns<k extends string> = DataGridCustomColumnConfig<k> & { label?: string; position?: CellTextPosition; visible?: boolean };\n\nfunction removeUndefinedProperties<T extends string>(obj: Omit<Columns<T>, 'key'>): Partial<Columns<T>> {\n    let result: Partial<Omit<Columns<T>, 'key'>> = {};\n    for (const key of Object.keys(obj) as Array<keyof Omit<Columns<T>, 'key'>>) {\n        if (!isUndefined(obj[key])) {\n            result = { ...result, [key as keyof T]: obj[key] };\n        }\n    }\n    return result;\n}\n\nexport const useTableColumns = <T extends string, C extends string>({\n    fields,\n    customColumns,\n    columnConfig,\n    fieldsKeys,\n}: {\n    fields: T[] | Readonly<T[]>;\n    customColumns?: CustomColumn<C>[];\n    columnConfig?: { [k in T]?: Omit<Columns<k>, 'key'> };\n    fieldsKeys?: { [k in T]?: TranslationKey };\n}) => {\n    const { i18n } = useCoreContext();\n\n    const tableColumns: CustomColumn<T>[] = useMemo(() => fields.map(field => ({ key: field })), [fields]);\n    const isSmAndUpContainer = useResponsiveContainer(containerQueries.up.sm);\n\n    const columns = useMemo(() => {\n        const newFields = customColumns?.filter(cc => !fields?.some(field => field === (cc.key as unknown as T))).map(colum => colum.key) || [];\n\n        const mergedColumns = [...tableColumns, ...(customColumns?.filter(col => col?.key) || [])];\n\n        const customColumnsMap =\n            customColumns?.reduce<Record<string, (typeof customColumns)[number]>>((acc, col) => {\n                acc[col.key] = col;\n                return acc;\n            }, {}) || {};\n\n        // Use a Map to track columns by key.\n        const columnMap = new Map<string, { key: T; position?: 'center' | 'left' | 'right'; flex?: number; visible?: boolean; label: string }>();\n\n        mergedColumns.forEach(current => {\n            // Check if there is a custom column that should be hidden\n            const hiddenColumn = customColumnsMap[current.key];\n            if (hiddenColumn?.visibility === 'hidden') return;\n\n            if (columnMap.has(current.key)) {\n                // Merge properties from current into the existing column.\n                const existing = columnMap.get(current.key)!;\n                // Current's properties will override existing ones if there are conflicts\n                columnMap.set(current.key, {\n                    ...existing,\n                    ...current,\n                    visible: current.visibility !== 'hidden',\n                    position: current.align || existing.position,\n                });\n            } else {\n                const { key, flex, align } = current;\n                const label = i18n.get(fieldsKeys?.[key] || (key as any));\n                const config = removeUndefinedProperties<T>(columnConfig?.[key] || EMPTY_OBJECT);\n\n                columnMap.set(current.key, {\n                    key: key as unknown as T,\n                    label,\n                    visible: newFields.includes(current.key as unknown as C) ? isSmAndUpContainer : true,\n                    flex,\n                    position: align,\n                    ...config,\n                });\n            }\n        });\n\n        return Array.from(columnMap.values());\n    }, [columnConfig, customColumns, fields, i18n, isSmAndUpContainer, tableColumns]);\n\n    return columns;\n};\n","import { FC } from 'preact/compat';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport { DATE_FORMAT_TRANSACTIONS, DATE_FORMAT_TRANSACTIONS_MOBILE } from '../../../../../constants';\nimport DataOverviewError from '../../../../internal/DataOverviewError/DataOverviewError';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { getCurrencyCode } from '../../../../../core/Localization/amount/amount-util';\nimport { TranslationKey } from '../../../../../translations';\nimport useTimezoneAwareDateFormatting from '../../../../../hooks/useTimezoneAwareDateFormatting';\nimport DataGrid from '../../../../internal/DataGrid';\nimport Pagination from '../../../../internal/Pagination';\nimport { Tooltip } from '../../../../internal/Tooltip/Tooltip';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { getTransactionCategoryDescription, getTransactionCategory } from '../../../../utils/translation/getters';\nimport { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport { AMOUNT_CLASS, BASE_CLASS, DATE_AND_PAYMENT_METHOD_CLASS, DATE_METHOD_CLASS } from './constants';\nimport './TransactionTable.scss';\nimport PaymentMethodCell from './PaymentMethodCell';\nimport { TransactionTableProps } from './types';\nimport { useTableColumns } from '../../../../../hooks/useTableColumns';\nimport { Tag } from '../../../../internal/Tag/Tag';\n\n// Remove status column temporarily\nexport const TRANSACTION_FIELDS = ['createdAt' /*, 'status'*/, 'paymentMethod', 'transactionType', 'currency', 'netAmount', 'grossAmount'] as const;\nexport type TransactionsTableCols = (typeof TRANSACTION_FIELDS)[number];\n\n// Mapping used to remap custom column (field) configurations to a different field name\n// For example: `amount` field (V1) is remapped to `netAmount` field (V2).\nexport const TRANSACTION_FIELDS_REMAPS: Readonly<Record<string, TransactionsTableCols>> = {\n    amount: 'netAmount',\n} as const;\n\nconst FIELDS_KEYS = {\n    createdAt: 'transactions.overview.list.fields.createdAt',\n    currency: 'transactions.overview.list.fields.currency',\n    grossAmount: 'transactions.overview.list.fields.grossAmount',\n    netAmount: 'transactions.overview.list.fields.netAmount',\n    paymentMethod: 'transactions.overview.list.fields.paymentMethod',\n    // status: 'transactions.overview.list.fields.status',\n    transactionType: 'transactions.overview.list.fields.transactionType',\n} as const satisfies Partial<Record<TransactionsTableCols, TranslationKey>>;\n\nexport const TransactionsTable: FC<TransactionTableProps> = ({\n    activeBalanceAccount,\n    availableCurrencies,\n    error,\n    hasMultipleCurrencies,\n    loading,\n    onContactSupport,\n    onRowClick,\n    showDetails,\n    showPagination,\n    transactions,\n    customColumns,\n    ...paginationProps\n}) => {\n    const { i18n } = useCoreContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting(activeBalanceAccount?.timeZone);\n    const [hoveredRow, setHoveredRow] = useState<undefined | number>();\n    const isSmAndUpContainer = useResponsiveContainer(containerQueries.up.sm);\n    const isMdAndUpContainer = useResponsiveContainer(containerQueries.up.md);\n    const isXsAndDownContainer = useResponsiveContainer(containerQueries.down.xs);\n\n    const columns = useTableColumns({\n        customColumns,\n        fields: TRANSACTION_FIELDS,\n        fieldsKeys: FIELDS_KEYS,\n        columnConfig: {\n            netAmount: {\n                label: hasMultipleCurrencies\n                    ? undefined\n                    : `${i18n.get(FIELDS_KEYS['netAmount'])} ${availableCurrencies && availableCurrencies[0] ? `(${getCurrencyCode(availableCurrencies[0])})` : ''}`,\n                position: 'right',\n                flex: isSmAndUpContainer ? 1.5 : undefined,\n            },\n            grossAmount: {\n                label: hasMultipleCurrencies\n                    ? undefined\n                    : `${i18n.get(FIELDS_KEYS['grossAmount'])} ${availableCurrencies && availableCurrencies[0] ? `(${getCurrencyCode(availableCurrencies[0])})` : ''}`,\n                position: 'right',\n                flex: isSmAndUpContainer ? 1.5 : undefined,\n                visible: isMdAndUpContainer,\n            },\n            currency: { visible: isMdAndUpContainer && hasMultipleCurrencies },\n            transactionType: { visible: isMdAndUpContainer },\n            paymentMethod: { visible: isSmAndUpContainer },\n        },\n    });\n\n    const EMPTY_TABLE_MESSAGE = {\n        title: 'transactions.overview.errors.listEmpty',\n        message: ['common.errors.updateFilters'],\n    } satisfies { title: TranslationKey; message: TranslationKey | TranslationKey[] };\n\n    const onHover = useCallback(\n        (index?: number) => {\n            setHoveredRow(index ?? undefined);\n        },\n        [setHoveredRow]\n    );\n\n    const errorDisplay = useMemo(\n        () => () => (\n            <DataOverviewError error={error} onContactSupport={onContactSupport} errorMessage={'transactions.overview.errors.listUnavailable'} />\n        ),\n        [error, onContactSupport]\n    );\n\n    return (\n        <div className={BASE_CLASS}>\n            <DataGrid\n                autoFitColumns={isXsAndDownContainer}\n                errorDisplay={errorDisplay}\n                error={error}\n                columns={columns}\n                data={transactions}\n                loading={loading}\n                outline={false}\n                onRowClick={{ callback: onRowClick }}\n                onRowHover={onHover}\n                emptyTableMessage={EMPTY_TABLE_MESSAGE}\n                customCells={{\n                    // Remove status column temporarily\n                    // status: ({ item }) => {\n                    //     return (\n                    //         <Tag\n                    //             label={getTransactionStatus(i18n, item.status)}\n                    //             variant={getTagVariantForTransaction(item)}\n                    //         />\n                    //     );\n                    // },\n                    transactionType: ({ item, rowIndex }) => {\n                        const category = getTransactionCategory(i18n, item.category);\n                        if (category) {\n                            const tooltip = getTransactionCategoryDescription(i18n, item.category);\n                            const renderCategory = () => (\n                                <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                                    {category}\n                                </Typography>\n                            );\n                            return tooltip ? (\n                                <Tooltip content={tooltip} isUnderlineVisible={rowIndex === hoveredRow}>\n                                    <span>{renderCategory()}</span>\n                                </Tooltip>\n                            ) : (\n                                renderCategory()\n                            );\n                        }\n                        return null;\n                    },\n                    currency: ({ item }) => {\n                        return <Tag>{item.amountBeforeDeductions.currency}</Tag>;\n                    },\n                    netAmount: ({ value: netAmount }) => {\n                        const { value, currency } = netAmount;\n                        const amount = i18n.amount(value, currency, { hideCurrency: !hasMultipleCurrencies });\n                        return (\n                            <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} className={AMOUNT_CLASS}>\n                                {amount}\n                            </Typography>\n                        );\n                    },\n                    grossAmount: ({ item }) => {\n                        const { value, currency } = item.amountBeforeDeductions;\n                        const amount = i18n.amount(value, currency, { hideCurrency: !hasMultipleCurrencies });\n                        return (\n                            <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} className={AMOUNT_CLASS}>\n                                {amount}\n                            </Typography>\n                        );\n                    },\n                    createdAt: ({ item, value }) => {\n                        if (isXsAndDownContainer) {\n                            return (\n                                <div className={DATE_AND_PAYMENT_METHOD_CLASS}>\n                                    <PaymentMethodCell paymentMethod={item.paymentMethod} bankAccount={item.bankAccount} />\n\n                                    <time dateTime={item.createdAt} className={DATE_METHOD_CLASS}>\n                                        <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                                            {dateFormat(item.createdAt, DATE_FORMAT_TRANSACTIONS_MOBILE)}\n                                        </Typography>\n                                    </time>\n                                </div>\n                            );\n                        }\n                        return (\n                            <time dateTime={value}>\n                                <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                                    {dateFormat(value, DATE_FORMAT_TRANSACTIONS)}\n                                </Typography>\n                            </time>\n                        );\n                    },\n                    paymentMethod: ({ item }) => <PaymentMethodCell paymentMethod={item.paymentMethod} bankAccount={item.bankAccount} />,\n                }}\n            >\n                {showPagination && (\n                    <DataGrid.Footer>\n                        <Pagination\n                            {...paginationProps}\n                            ariaLabelKey=\"transactions.overview.pagination.label\"\n                            limitSelectAriaLabelKey=\"transactions.overview.pagination.controls.limitSelect.label\"\n                        />\n                    </DataGrid.Footer>\n                )}\n            </DataGrid>\n        </div>\n    );\n};\n","import { IBalanceAccountBase, ILineItem, IRefundReason, ITransactionWithDetails } from '../../../types';\nimport { CustomDataRetrieved, DetailsDataCustomizationObject, ExternalUIComponentProps } from '../../types';\n\nexport type TransactionDetailsCustomization = DetailsDataCustomizationObject<TransactionDetailsFields, TransactionDetails, CustomDataRetrieved>;\n\nexport interface DetailsWithExtraData<T extends DetailsDataCustomizationObject<any, any, any>> {\n    dataCustomization?: {\n        details?: T;\n    };\n}\n\nexport type TransactionDetails = ITransactionWithDetails & {\n    balanceAccount?: IBalanceAccountBase;\n    lineItems?: ILineItem[];\n};\n\nexport type TransactionDetailsProps = ExternalUIComponentProps<{\n    dataCustomization?: { details?: TransactionDetailsCustomization };\n    id: string;\n}>;\n\nexport type TransactionDetailsFields =\n    | 'account'\n    | 'amount'\n    | 'amountBeforeDeductions'\n    | 'balanceAccount'\n    | 'balanceAccountId'\n    | 'bankAccount'\n    | 'category'\n    | 'createdAt'\n    | 'currency'\n    | 'deductedAmount'\n    | 'description'\n    | 'grossAmount'\n    | 'id'\n    | 'lineItems'\n    | 'merchantReference'\n    | 'netAmount'\n    | 'originalAmount'\n    | 'paymentMethod'\n    | 'paymentPspReference'\n    | 'pspReference'\n    | 'refundDetails'\n    | 'refundMetadata'\n    | 'refundPspReference'\n    | 'refundReason'\n    | 'status'\n    | 'transactionType';\n\nexport const enum ActiveView {\n    DETAILS = 'details',\n    REFUND = 'refund',\n}\n\nexport const enum DetailsTab {\n    DETAILS = 'details',\n    SUMMARY = 'summary',\n    TIMELINE = 'timeline',\n}\n\nexport const enum RefundedState {\n    INDETERMINATE,\n    PARTIAL,\n    FULL,\n}\n\nexport const enum RefundMode {\n    NON_REFUNDABLE = 'non_refundable',\n    PARTIAL_AMOUNT = 'partially_refundable_any_amount',\n    PARTIAL_LINE_ITEMS = 'partially_refundable_with_line_items_required',\n    FULL_AMOUNT = 'fully_refundable_only',\n}\n\nexport const enum RefundType {\n    PARTIAL = 'partial',\n    FULL = 'full',\n}\n\nexport type RefundReason = IRefundReason;\nexport type RefundResult = 'done' | 'error';\n\nexport type RefundLineItem = Readonly<{\n    id: ILineItem['id'];\n    amount: ILineItem['amountIncludingTax']['value'];\n    quantity: ILineItem['availableQuantity'];\n}>;\n\nexport type RefundLineItemUpdates = Readonly<{\n    id: ILineItem['id'];\n    amount?: ILineItem['amountIncludingTax']['value'];\n    quantity: ILineItem['availableQuantity'];\n}>[];\n","import { TRANSACTION_ANALYTICS_CATEGORY, TRANSACTION_ANALYTICS_SUBCATEGORY_DETAILS } from '../TransactionsOverview/constants';\nimport { TRANSACTION_FIELDS } from '../TransactionsOverview/components/TransactionsTable/TransactionsTable';\nimport { DetailsTab, TransactionDetails, TransactionDetailsFields } from './types';\nimport { TranslationKey } from '../../../translations';\nimport { IRefundStatus } from '../../../types';\n\nexport const TX_DATA_CLASS = 'adyen-pe-transaction-data';\nexport const TX_DATA_AMOUNT = `${TX_DATA_CLASS}__amount`;\nexport const TX_DATA_ACTION_BAR = `${TX_DATA_CLASS}__action-bar`;\nexport const TX_DATA_CONTAINER = `${TX_DATA_CLASS}__container`;\nexport const TX_DATA_HEAD_CONTAINER = `${TX_DATA_CLASS}__head-container`;\nexport const TX_DATA_INPUT = `${TX_DATA_CLASS}__input`;\nexport const TX_DATA_INPUT_CHARS = `${TX_DATA_INPUT}-chars-counter`;\nexport const TX_DATA_INPUT_CONTAINER = `${TX_DATA_INPUT}-container`;\nexport const TX_DATA_INPUT_CONTAINER_SHORT = `${TX_DATA_INPUT_CONTAINER}--short`;\nexport const TX_DATA_INPUT_CONTAINER_TEXT = `${TX_DATA_INPUT_CONTAINER}--text-input`;\nexport const TX_DATA_INPUT_CONTAINER_WITH_ERROR = `${TX_DATA_INPUT_CONTAINER}--with-error`;\nexport const TX_DATA_INPUT_HEAD = `${TX_DATA_INPUT}-head`;\nexport const TX_DATA_INPUT_TEXTAREA = `${TX_DATA_INPUT}--textarea`;\nexport const TX_DATA_LABEL = `${TX_DATA_CLASS}__label`;\nexport const TX_DATA_LIST = `${TX_DATA_CLASS}__list`;\nexport const TX_DATA_PAY_METHOD = `${TX_DATA_CLASS}__payment-method`;\nexport const TX_DATA_PAY_METHOD_DETAIL = `${TX_DATA_PAY_METHOD}-detail`;\nexport const TX_DATA_PAY_METHOD_LOGO = `${TX_DATA_PAY_METHOD}-logo`;\nexport const TX_DATA_PAY_METHOD_LOGO_CONTAINER = `${TX_DATA_PAY_METHOD_LOGO}-container`;\nexport const TX_DATA_TAGS = `${TX_DATA_CLASS}__tags`;\nexport const TX_STATUS_BOX = `${TX_DATA_CLASS}__status-box`;\nexport const TX_TIMELINE_LABEL = `${TX_DATA_CLASS}__timeline-label`;\nexport const TX_TIMELINE_VALUE = `${TX_DATA_CLASS}__timeline-value`;\nexport const TX_REFUND_RESPONSE = `${TX_DATA_CLASS}__refund-response`;\nexport const TX_REFUND_RESPONSE_ICON = `${TX_DATA_CLASS}__refund-response-icon`;\nexport const TX_REFUND_RESPONSE_SUCCESS_ICON = `${TX_REFUND_RESPONSE_ICON}--success`;\nexport const TX_REFUND_RESPONSE_ERROR_ICON = `${TX_REFUND_RESPONSE_ICON}--error`;\nexport const TX_REFUND_STATUSES_CONTAINER = `${TX_DATA_CLASS}__refund-statuses-container`;\n\nexport const TX_DETAILS_RESERVED_FIELDS_SET = new Set<TransactionDetailsFields>([\n    ...(['status', 'category', 'paymentMethod', 'bankAccount', 'balanceAccount', 'id', 'balanceAccountId'] satisfies (keyof TransactionDetails)[]),\n    ...TRANSACTION_FIELDS,\n    'account',\n    'deductedAmount',\n    'description',\n    'lineItems',\n    'merchantReference',\n    'originalAmount',\n    'paymentPspReference',\n    'pspReference',\n    'refundDetails',\n    'refundMetadata',\n    'refundPspReference',\n    'refundReason',\n] as const);\n\nexport const TX_DETAILS_FIELDS_REMAPS = {\n    balanceAccount: 'account',\n    balanceAccountId: (tx?: TransactionDetails) => {\n        const account = tx?.balanceAccount;\n        if (account && !account.description) return 'account';\n    },\n    description: (tx?: TransactionDetails) => {\n        if (tx?.balanceAccount?.description) return 'account';\n    },\n} as const;\n\nexport const TX_DETAILS_TABS: readonly Readonly<{ id: DetailsTab; label: TranslationKey; content: null }>[] = [\n    { id: DetailsTab.SUMMARY, label: 'transactions.details.views.summary', content: null } as const,\n    { id: DetailsTab.DETAILS, label: 'transactions.details.views.details', content: null } as const,\n    { id: DetailsTab.TIMELINE, label: 'transactions.details.views.timeline', content: null } as const,\n] as const;\n\nexport const REFUND_STATUSES = ['completed', 'in_progress', 'failed'] as const satisfies readonly IRefundStatus[];\nexport const REFUND_REASONS = ['requested_by_customer', 'issue_with_item_sold', 'fraudulent', 'duplicate', 'other'] as const;\n\nexport const REFUND_REASONS_KEYS = Object.freeze({\n    requested_by_customer: 'transactions.details.common.refundReasons.requestedByCustomer',\n    issue_with_item_sold: 'transactions.details.common.refundReasons.issueWithItemSold',\n    fraudulent: 'transactions.details.common.refundReasons.fraudulent',\n    duplicate: 'transactions.details.common.refundReasons.duplicate',\n    other: 'transactions.details.common.refundReasons.other',\n} as const) satisfies Readonly<Record<(typeof REFUND_REASONS)[number], TranslationKey>>;\n\nexport const REFUND_REFERENCE_CHAR_LIMIT = 80;\n\nexport const sharedTransactionDetailsEventProperties = {\n    category: TRANSACTION_ANALYTICS_CATEGORY,\n    subCategory: TRANSACTION_ANALYTICS_SUBCATEGORY_DETAILS,\n} as const;\n","import { createDynamicTranslationFactory, createKeyFactoryFromConfig, KeyFactoryFunction, TranslationFallbackFunction } from './factory';\nimport { IDisputeReasonCategory, IDisputeStatus, IDisputeType } from '../../../types/api/models/disputes';\nimport { DISPUTE_REASON_CATEGORIES, DISPUTE_STATUSES, DISPUTE_TYPES } from '../disputes/constants';\nimport { REFUND_REASONS_KEYS } from '../../external/TransactionDetails/constants';\nimport { RefundReason } from '../../external/TransactionDetails/types';\n\nconst originalValueFallback: TranslationFallbackFunction = (_, value) => value;\n\nconst payoutAdjustmentTypeKeyFactory = createKeyFactoryFromConfig({ prefix: 'payouts.details.breakdown.adjustments.types.' });\nexport const getPayoutAdjustmentType = createDynamicTranslationFactory(payoutAdjustmentTypeKeyFactory, originalValueFallback);\n\nconst payoutFundsCapturedTypeKeyFactory = createKeyFactoryFromConfig({ prefix: 'payouts.details.breakdown.fundsCaptured.types.' });\nexport const getPayoutFundsCapturedType = createDynamicTranslationFactory(payoutFundsCapturedTypeKeyFactory, originalValueFallback);\n\nconst reportTypeKeyFactory = createKeyFactoryFromConfig({ prefix: 'reports.common.types.' });\nexport const getReportType = createDynamicTranslationFactory(reportTypeKeyFactory, originalValueFallback);\n\nconst txAmountAdjustmentTypeKeyFactory = createKeyFactoryFromConfig({ prefix: 'transactions.details.summary.adjustments.types.' });\nexport const getTransactionAmountAdjustmentType = createDynamicTranslationFactory(txAmountAdjustmentTypeKeyFactory, originalValueFallback);\n\nconst txCategoryKeyFactory = createKeyFactoryFromConfig({ prefix: 'transactions.common.types.' });\nexport const getTransactionCategory = createDynamicTranslationFactory(txCategoryKeyFactory, originalValueFallback);\n\nconst txCategoryDescriptionKeyFactory = createKeyFactoryFromConfig({ prefix: 'transactions.common.types.', suffix: '.description' });\nexport const getTransactionCategoryDescription = createDynamicTranslationFactory(txCategoryDescriptionKeyFactory);\n\nconst txStatusKeyFactory = createKeyFactoryFromConfig({ prefix: 'transactions.common.statuses.' });\nexport const getTransactionStatus = createDynamicTranslationFactory(txStatusKeyFactory, originalValueFallback);\n\nconst txTimelineStatusKeyFactory = createKeyFactoryFromConfig({ prefix: 'transactions.details.timeline.statuses.' });\nexport const getTransactionTimelineTxStatus = createDynamicTranslationFactory(txTimelineStatusKeyFactory, originalValueFallback);\n\nconst txTimelineTypeKeyFactory = createKeyFactoryFromConfig({ prefix: 'transactions.details.timeline.types.' });\nexport const getTransactionTimelineTxType = createDynamicTranslationFactory(txTimelineTypeKeyFactory, originalValueFallback);\n\nconst txRefundReasonKey = createKeyFactoryFromConfig({ prefix: 'transactions.details.common.refundReasons.' });\nconst txRefundReasonKeyFactory: KeyFactoryFunction = reason => reason && (REFUND_REASONS_KEYS[reason as RefundReason] ?? txRefundReasonKey(reason));\nexport const getTransactionRefundReason = createDynamicTranslationFactory(txRefundReasonKeyFactory, originalValueFallback);\n\nconst disputeReasonKey = createKeyFactoryFromConfig({ prefix: 'disputes.common.reasonCategories.' });\nconst disputeReasonKeyFactory: KeyFactoryFunction = reason =>\n    reason && (DISPUTE_REASON_CATEGORIES[reason as IDisputeReasonCategory] ?? disputeReasonKey(reason));\nexport const getDisputeReason = createDynamicTranslationFactory(disputeReasonKeyFactory, originalValueFallback);\n\nconst disputeStatusKey = createKeyFactoryFromConfig({ prefix: 'disputes.common.statuses.' });\nconst disputeStatusKeyFactory: KeyFactoryFunction = status => status && (DISPUTE_STATUSES[status as IDisputeStatus] ?? disputeStatusKey(status));\nexport const getDisputeStatus = createDynamicTranslationFactory(disputeStatusKeyFactory, originalValueFallback);\n\nconst disputeTypeKey = createKeyFactoryFromConfig({ prefix: 'disputes.management.details.types.' });\nconst disputeTypeKeyFactory: KeyFactoryFunction = type => type && (DISPUTE_TYPES[type as IDisputeType] ?? disputeTypeKey(type));\nexport const getDisputeType = createDynamicTranslationFactory(disputeTypeKeyFactory, originalValueFallback);\n","import classnames from 'classnames';\nimport cx from 'classnames';\nimport { useMemo } from 'preact/hooks';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport { TranslationKey } from '../../../../translations';\nimport { IPayoutDetails } from '../../../../types';\nimport { EMPTY_OBJECT } from '../../../../utils';\nimport Accordion from '../../../internal/Accordion/Accordion';\nimport Card from '../../../internal/Card/Card';\nimport { DATE_FORMAT_PAYOUT_DETAILS } from '../../../../constants';\nimport StructuredList from '../../../internal/StructuredList';\nimport { ListValue, StructuredListProps } from '../../../internal/StructuredList/types';\nimport { TypographyElement, TypographyVariant } from '../../../internal/Typography/types';\nimport Typography from '../../../internal/Typography/Typography';\nimport DataOverviewDetailsSkeleton from '../../../internal/DataOverviewDetails/DataOverviewDetailsSkeleton';\nimport useTimezoneAwareDateFormatting from '../../../../hooks/useTimezoneAwareDateFormatting';\nimport './PayoutData.scss';\nimport {\n    PD_BASE_CLASS,\n    PD_BUTTON_ACTIONS,\n    PD_CARD_CLASS,\n    PD_CARD_TITLE_CLASS,\n    PD_CONTENT_CLASS,\n    PD_EXTRA_DETAILS_CLASS,\n    PD_EXTRA_DETAILS_ICON,\n    PD_EXTRA_DETAILS_LABEL,\n    PD_SECTION_AMOUNT_CLASS,\n    PD_SECTION_CLASS,\n    PD_SECTION_GROSS_AMOUNT_CLASS,\n    PD_SECTION_NET_AMOUNT_CLASS,\n    PD_TITLE_BA_CLASS,\n    PD_TITLE_CLASS,\n    PD_TITLE_CLASS_WITH_EXTRA_DETAILS,\n    PD_TITLE_CONTAINER_CLASS,\n    PD_UNPAID_AMOUNT,\n} from './constants';\nimport { Tag } from '../../../internal/Tag/Tag';\nimport { TagVariant } from '../../../internal/Tag/types';\nimport Link from '../../../internal/Link/Link';\nimport Icon from '../../../internal/DataGrid/components/Icon';\nimport { isCustomDataObject } from '../../../internal/DataGrid/components/TableCells';\nimport { ButtonVariant } from '../../../internal/Button/types';\nimport { ButtonActionsLayoutBasic } from '../../../internal/Button/ButtonActions/types';\nimport ButtonActions from '../../../internal/Button/ButtonActions/ButtonActions';\nimport { PayoutDetailsCustomization } from '../types';\nimport { getPayoutAdjustmentType, getPayoutFundsCapturedType } from '../../../utils/translation/getters';\nimport { TranslationFactoryFunction } from '../../../utils/translation/factory';\n\nexport const PayoutData = ({\n    balanceAccountId,\n    balanceAccountDescription,\n    payout: payoutData,\n    extraFields,\n}: {\n    payout?: IPayoutDetails;\n    isFetching?: boolean;\n    balanceAccountId: string;\n    balanceAccountDescription?: string;\n    extraFields?: Record<string, any> | undefined;\n    dataCustomization?: { details?: PayoutDetailsCustomization };\n}) => {\n    const { payout } = payoutData ?? (EMPTY_OBJECT as NonNullable<typeof payoutData>);\n    const { dateFormat } = useTimezoneAwareDateFormatting('UTC');\n    const { i18n } = useCoreContext();\n\n    const adjustments = useMemo(() => {\n        const data = payoutData?.amountBreakdowns?.adjustmentBreakdown?.reduce(\n            (accumulator, currentValue) => {\n                if (currentValue.category && currentValue.amount?.value) {\n                    const { currency, value: amount } = currentValue.amount;\n                    const targetObj = accumulator[amount && amount < 0 ? 'subtractions' : 'additions'];\n\n                    targetObj.push({\n                        key: currentValue.category as TranslationKey,\n                        value: i18n.amount(amount, currency, { hideCurrency: true }),\n                    });\n                }\n                return accumulator;\n            },\n            { subtractions: [] as { key: TranslationKey; value: ListValue }[], additions: [] as { key: TranslationKey; value: ListValue }[] }\n        );\n        data?.subtractions.sort((a, b) => a.key.localeCompare(b.key));\n        data?.additions.sort((a, b) => a.key.localeCompare(b.key));\n        return data;\n    }, [i18n, payoutData]);\n\n    const fundsCaptured = useMemo(() => {\n        const data = payoutData?.amountBreakdowns?.fundsCapturedBreakdown?.reduce(\n            (items, breakdown) => {\n                if (breakdown?.amount?.value === 0) return items;\n                if (breakdown?.amount?.value && breakdown.category) {\n                    items.push({\n                        key: breakdown.category as TranslationKey,\n                        value: i18n.amount(breakdown?.amount?.value, breakdown?.amount?.currency, { hideCurrency: true }),\n                    });\n                }\n                return items;\n            },\n            [] as { key: TranslationKey; value: ListValue }[]\n        );\n        data?.sort((a, b) => {\n            const captureType = 'capture' as TranslationKey;\n            if (a.key === captureType) return -1;\n            if (b.key === captureType) return 1;\n            return a.key.localeCompare(b.key);\n        });\n        return data;\n    }, [payoutData, i18n]);\n\n    const { payoutAdjustmentTypeLabelRenderer, payoutFundsCapturedTypeLabelRenderer } = useMemo(() => {\n        const payoutBreakdownTypeLabelRenderer =\n            (translationFn: TranslationFactoryFunction): StructuredListProps['renderLabel'] =>\n            (_, type) => {\n                return (\n                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                        {translationFn(i18n, type)}\n                    </Typography>\n                );\n            };\n\n        return {\n            payoutAdjustmentTypeLabelRenderer: payoutBreakdownTypeLabelRenderer(getPayoutAdjustmentType),\n            payoutFundsCapturedTypeLabelRenderer: payoutBreakdownTypeLabelRenderer(getPayoutFundsCapturedType),\n        } as const;\n    }, [i18n]);\n\n    const extraDetails: StructuredListProps['items'] =\n        Object.entries(extraFields || {})\n            .filter(([, field]) => field.type !== 'button' && field.visibility !== 'hidden')\n            .map(([key, value]) => ({\n                key: key as TranslationKey,\n                value: isCustomDataObject(value) ? value.value : value,\n                type: isCustomDataObject(value) ? value.type : 'text',\n                config: isCustomDataObject(value) ? value.config : undefined,\n            })) || [];\n\n    const buttonActions = useMemo(() => {\n        const extraActions = extraFields\n            ? Object.values(extraFields)\n                  .filter(field => field.type === 'button')\n                  .map(field => ({\n                      title: field.value,\n                      variant: ButtonVariant.SECONDARY,\n                      event: field.config?.action,\n                      classNames: field?.config?.className ? [field?.config?.className] : [],\n                  }))\n            : [];\n        const actions = [...extraActions].filter(Boolean);\n        return actions;\n    }, [extraFields]);\n\n    return (\n        <>\n            {!payout ? (\n                <DataOverviewDetailsSkeleton skeletonRowNumber={6} />\n            ) : (\n                <div className={PD_BASE_CLASS}>\n                    <div\n                        className={cx(PD_TITLE_CLASS, {\n                            [PD_TITLE_CLASS_WITH_EXTRA_DETAILS]: extraDetails.length,\n                        })}\n                    >\n                        <div className={PD_TITLE_CONTAINER_CLASS}>\n                            <Typography variant={TypographyVariant.SUBTITLE} stronger>\n                                {i18n.get('payouts.details.tags.netPayout')}\n                            </Typography>\n                            {payout.isSumOfSameDayPayouts && (\n                                <Tag variant={TagVariant.BLUE} label={i18n.get('payouts.details.tags.sameDaySum')}></Tag>\n                            )}\n                        </div>\n                        <Typography variant={TypographyVariant.TITLE} large>\n                            {`${i18n.amount(payout.payoutAmount.value, payout.payoutAmount.currency, {\n                                hideCurrency: true,\n                            })} ${payout.payoutAmount.currency}`}\n                        </Typography>\n                        {payout?.createdAt && (\n                            <time dateTime={payout.createdAt}>\n                                <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                                    {dateFormat(payout.createdAt, DATE_FORMAT_PAYOUT_DETAILS)}\n                                </Typography>\n                            </time>\n                        )}\n                        <div className={PD_SECTION_CLASS}>\n                            {balanceAccountDescription && (\n                                <Typography variant={TypographyVariant.CAPTION} stronger wide>\n                                    {`${balanceAccountDescription}`}\n                                </Typography>\n                            )}\n                            <Typography variant={TypographyVariant.CAPTION} className={PD_TITLE_BA_CLASS}>{`${balanceAccountId}`}</Typography>\n                        </div>\n                    </div>\n                    {extraDetails && extraDetails.length > 0 ? (\n                        <div>\n                            <StructuredList\n                                classNames={PD_EXTRA_DETAILS_CLASS}\n                                items={extraDetails}\n                                align=\"start\"\n                                layout=\"4-8\"\n                                renderLabel={label => <div className={PD_EXTRA_DETAILS_LABEL}>{label}</div>}\n                                renderValue={(val, key, type, config) => {\n                                    if (type === 'link' && config) {\n                                        return (\n                                            <Link classNames={[cx(config?.className)]} href={config.href} target={config.target || '_blank'}>\n                                                {val}\n                                            </Link>\n                                        );\n                                    }\n                                    if (type === 'icon' && config) {\n                                        const icon = { url: config.src, alt: config.alt || val };\n                                        return (\n                                            <div className={cx(PD_EXTRA_DETAILS_ICON, config?.className)}>\n                                                <Icon {...icon} />\n                                                <Typography variant={TypographyVariant.BODY}>{val}</Typography>\n                                            </div>\n                                        );\n                                    }\n                                    return (\n                                        <Typography className={cx(config?.className)} variant={TypographyVariant.BODY}>\n                                            {val}\n                                        </Typography>\n                                    );\n                                }}\n                            />\n                        </div>\n                    ) : null}\n                    <div className={PD_CONTENT_CLASS}>\n                        <div className={PD_SECTION_CLASS}>\n                            {payout?.fundsCapturedAmount &&\n                                (fundsCaptured && Object.keys(fundsCaptured).length > 0 ? (\n                                    <Accordion\n                                        header={\n                                            <Typography variant={TypographyVariant.BODY}>\n                                                {i18n.get('payouts.details.breakdown.fields.fundsCaptured')}\n                                            </Typography>\n                                        }\n                                        headerInformation={\n                                            <Typography variant={TypographyVariant.BODY}>\n                                                {i18n.amount(payout.fundsCapturedAmount.value, payout.fundsCapturedAmount.currency)}\n                                            </Typography>\n                                        }\n                                    >\n                                        <div className={PD_SECTION_CLASS}>\n                                            {\n                                                <div className={PD_CARD_CLASS}>\n                                                    <Card noPadding>\n                                                        <StructuredList items={fundsCaptured} renderLabel={payoutFundsCapturedTypeLabelRenderer} />\n                                                    </Card>\n                                                </div>\n                                            }\n                                        </div>\n                                    </Accordion>\n                                ) : (\n                                    <div className={classnames(PD_SECTION_AMOUNT_CLASS, PD_SECTION_GROSS_AMOUNT_CLASS)}>\n                                        <Typography variant={TypographyVariant.BODY}>\n                                            {i18n.get('payouts.details.breakdown.fields.fundsCaptured')}\n                                        </Typography>\n                                        <Typography variant={TypographyVariant.BODY}>\n                                            {i18n.amount(payout.fundsCapturedAmount.value, payout.fundsCapturedAmount.currency)}\n                                        </Typography>\n                                    </div>\n                                ))}\n                        </div>\n                        <div className={PD_SECTION_CLASS}>\n                            {(adjustments?.subtractions && Object.keys(adjustments?.subtractions).length > 0) ||\n                            (adjustments?.additions && Object.keys(adjustments?.additions).length > 0) ? (\n                                <Accordion\n                                    header={\n                                        <Typography variant={TypographyVariant.BODY}>\n                                            {i18n.get('payouts.details.breakdown.fields.adjustments')}\n                                        </Typography>\n                                    }\n                                    headerInformation={\n                                        <Typography variant={TypographyVariant.BODY}>\n                                            {i18n.amount(payout.adjustmentAmount.value, payout.adjustmentAmount.currency)}\n                                        </Typography>\n                                    }\n                                >\n                                    {adjustments?.additions && Object.keys(adjustments?.additions).length > 0 && (\n                                        <div className={PD_CARD_CLASS}>\n                                            <Card\n                                                noPadding\n                                                renderHeader={\n                                                    <Typography className={PD_CARD_TITLE_CLASS} variant={TypographyVariant.CAPTION} stronger>\n                                                        {i18n.get('payouts.details.breakdown.fields.additions')}\n                                                    </Typography>\n                                                }\n                                            >\n                                                <StructuredList items={adjustments?.additions} renderLabel={payoutAdjustmentTypeLabelRenderer} />\n                                            </Card>\n                                        </div>\n                                    )}\n                                    {adjustments?.subtractions && Object.keys(adjustments?.subtractions).length > 0 && (\n                                        <div className={PD_CARD_CLASS}>\n                                            <Card\n                                                noPadding\n                                                renderHeader={\n                                                    <Typography className={PD_CARD_TITLE_CLASS} variant={TypographyVariant.CAPTION} stronger>\n                                                        {i18n.get('payouts.details.breakdown.fields.subtractions')}\n                                                    </Typography>\n                                                }\n                                            >\n                                                <StructuredList items={adjustments?.subtractions} renderLabel={payoutAdjustmentTypeLabelRenderer} />\n                                            </Card>\n                                        </div>\n                                    )}\n                                </Accordion>\n                            ) : (\n                                <div className={classnames(PD_SECTION_AMOUNT_CLASS, PD_SECTION_GROSS_AMOUNT_CLASS)}>\n                                    <Typography variant={TypographyVariant.BODY}>\n                                        {i18n.get('payouts.details.breakdown.fields.adjustments')}\n                                    </Typography>\n                                    <Typography variant={TypographyVariant.BODY}>\n                                        {i18n.amount(payout.adjustmentAmount.value, payout.adjustmentAmount.currency)}\n                                    </Typography>\n                                </div>\n                            )}\n                        </div>\n                        <div className={classnames(PD_SECTION_CLASS)}>\n                            <div className={classnames(PD_SECTION_AMOUNT_CLASS, PD_SECTION_NET_AMOUNT_CLASS)}>\n                                <Typography variant={TypographyVariant.BODY} stronger>\n                                    {i18n.get('payouts.details.breakdown.fields.netPayout')}\n                                </Typography>\n                                <Typography variant={TypographyVariant.BODY} stronger>\n                                    {i18n.amount(payout.payoutAmount.value, payout.payoutAmount.currency)}\n                                </Typography>\n                            </div>\n                        </div>\n                    </div>\n                    {payoutData?.payout?.unpaidAmount && (\n                        <div className={PD_UNPAID_AMOUNT}>\n                            <Typography variant={TypographyVariant.BODY}>{i18n.get('payouts.details.breakdown.fields.remainingAmount')}</Typography>\n                            <Typography variant={TypographyVariant.BODY}>\n                                {i18n.amount(payoutData.payout.unpaidAmount.value, payoutData.payout.unpaidAmount.currency)}\n                            </Typography>\n                        </div>\n                    )}\n                    {buttonActions.length ? (\n                        <div className={PD_BUTTON_ACTIONS}>\n                            <ButtonActions actions={buttonActions} layout={ButtonActionsLayoutBasic.BUTTONS_END} />\n                        </div>\n                    ) : null}\n                </div>\n            )}\n        </>\n    );\n};\n","import { IBalanceAccountBase } from '../types';\nimport { EMPTY_OBJECT, isFunction } from '../utils';\nimport { useCallback, useEffect, useMemo, useState } from 'preact/hooks';\nimport { useConfigContext } from '../core/ConfigContext';\nimport { useFetch } from './useFetch';\n\nconst cache = new WeakMap<(...args: any[]) => any, IBalanceAccountBase[]>();\n\nconst useBalanceAccounts = (balanceAccountId?: string, enabled?: boolean) => {\n    const { getBalanceAccounts } = useConfigContext().endpoints;\n    const [balanceAccountsFromCache, setBalanceAccountsFromCache] = useState(() => getBalanceAccounts && cache.get(getBalanceAccounts));\n\n    const canFetchBalanceAccounts = useMemo(\n        () => !balanceAccountsFromCache && isFunction(getBalanceAccounts) && enabled !== false,\n        [balanceAccountsFromCache, enabled, getBalanceAccounts]\n    );\n\n    const { data, isFetching, error } = useFetch({\n        queryFn: useCallback(async () => getBalanceAccounts?.(EMPTY_OBJECT), [getBalanceAccounts]),\n        fetchOptions: { enabled: canFetchBalanceAccounts, keepPrevData: true },\n    });\n\n    const allBalanceAccounts = balanceAccountsFromCache ?? data?.data;\n\n    const balanceAccounts = useMemo(\n        () => allBalanceAccounts?.filter(account => !balanceAccountId || balanceAccountId === account.id),\n        [allBalanceAccounts, balanceAccountId]\n    );\n\n    const isBalanceAccountIdWrong = useMemo(\n        () => !!balanceAccountId && !!allBalanceAccounts?.length && balanceAccounts?.length === 0,\n        [allBalanceAccounts, balanceAccountId, balanceAccounts]\n    );\n\n    useEffect(() => {\n        if (data?.data && getBalanceAccounts) {\n            const fetchedBalanceAccounts = data.data;\n            cache.set(getBalanceAccounts, fetchedBalanceAccounts);\n            setBalanceAccountsFromCache(fetchedBalanceAccounts);\n        }\n    }, [data, getBalanceAccounts]);\n\n    // TODO: Consider unifying error with isBalanceAccountIdWrong\n    return { balanceAccounts, isBalanceAccountIdWrong, isFetching, error } as const;\n};\n\nexport default useBalanceAccounts;\n","import { boolOrFalse } from '../../../utils';\nimport { useModalContext } from '../Modal/Modal';\nimport { useEffect, useState } from 'preact/hooks';\nimport type { TranslationKey } from '../../../translations';\nimport type { ExternalUIComponentProps } from '../../types';\nimport type { DetailsComponentProps } from './types';\n\ntype _BaseUseDataOverviewDetailsTitleProps = Pick<ExternalUIComponentProps<DetailsComponentProps>, 'hideTitle' | 'type'>;\n\nexport const TITLES_BY_TYPE = {\n    payout: 'payouts.details.title',\n} as const satisfies Record<_BaseUseDataOverviewDetailsTitleProps['type'], TranslationKey>;\n\nexport const useDataOverviewDetailsTitle = <T extends _BaseUseDataOverviewDetailsTitleProps>({ hideTitle: _hideTitle, type }: T) => {\n    const { withinModal } = useModalContext();\n    const [forcedHideTitle, setForcedHideTitle] = useState(false);\n\n    const hideTitle = forcedHideTitle || boolOrFalse(_hideTitle);\n    const titleKey = TITLES_BY_TYPE[type];\n\n    useEffect(() => {\n        // ensure title is always hidden within overview details modal\n        setForcedHideTitle(withinModal);\n    }, [withinModal]);\n\n    return { hideTitle, titleKey } as const;\n};\n\nexport default useDataOverviewDetailsTitle;\n","export const BASE_CLASS = 'adyen-pe-payouts-table';\nexport const NET_PAYOUT_CLASS = `${BASE_CLASS}__net-payout`;\n","import cx from 'classnames';\nimport { FC } from 'preact/compat';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport { getCurrencyCode } from '../../../../../core/Localization/amount/amount-util';\nimport { TranslationKey } from '../../../../../translations';\nimport { IPayout } from '../../../../../types';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport useTimezoneAwareDateFormatting from '../../../../../hooks/useTimezoneAwareDateFormatting';\nimport DataGrid from '../../../../internal/DataGrid';\nimport { DATE_FORMAT_PAYOUTS, DATE_FORMAT_PAYOUTS_MOBILE } from '../../../../../constants';\nimport DataOverviewError from '../../../../internal/DataOverviewError/DataOverviewError';\nimport Pagination from '../../../../internal/Pagination';\nimport { PaginationProps, WithPaginationLimitSelection } from '../../../../internal/Pagination/types';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport { BASE_CLASS, NET_PAYOUT_CLASS } from './constants';\nimport './PayoutsTable.scss';\nimport { useTableColumns } from '../../../../../hooks/useTableColumns';\nimport { CustomColumn } from '../../../../types';\nimport { StringWithAutocompleteOptions } from '../../../../../utils/types';\n\nconst AMOUNT_FIELDS = ['fundsCapturedAmount', 'adjustmentAmount', 'payoutAmount'] as const;\nexport const PAYOUT_TABLE_FIELDS = ['createdAt', ...AMOUNT_FIELDS] as const;\nexport type PayoutsTableFields = (typeof PAYOUT_TABLE_FIELDS)[number];\n\nconst FIELDS_KEYS = {\n    adjustmentAmount: 'payouts.overview.list.fields.adjustmentAmount',\n    createdAt: 'payouts.overview.list.fields.createdAt',\n    fundsCapturedAmount: 'payouts.overview.list.fields.fundsCapturedAmount',\n    payoutAmount: 'payouts.overview.list.fields.payoutAmount',\n} as const satisfies Partial<Record<PayoutsTableFields, TranslationKey>>;\n\nconst _isAmountFieldKey = (key: (typeof PAYOUT_TABLE_FIELDS)[number]): key is (typeof AMOUNT_FIELDS)[number] => {\n    return AMOUNT_FIELDS.includes(key as (typeof AMOUNT_FIELDS)[number]);\n};\n\nexport interface PayoutsTableProps extends WithPaginationLimitSelection<PaginationProps> {\n    loading: boolean;\n    error?: AdyenPlatformExperienceError;\n    onContactSupport?: () => void;\n    onRowClick: (value: any) => void;\n    showDetails?: boolean;\n    showPagination: boolean;\n    data: IPayout[] | undefined;\n    customColumns?: CustomColumn<StringWithAutocompleteOptions<PayoutsTableFields>>[];\n}\n\nexport const PayoutsTable: FC<PayoutsTableProps> = ({\n    error,\n    loading,\n    onContactSupport,\n    onRowClick,\n    showDetails,\n    showPagination,\n    data,\n    customColumns,\n    ...paginationProps\n}) => {\n    const { i18n } = useCoreContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting('UTC');\n    const { refreshing } = useConfigContext();\n    const isLoading = useMemo(() => loading || refreshing, [loading, refreshing]);\n    const isSmAndUpContainer = useResponsiveContainer(containerQueries.up.sm);\n\n    const getAmountFieldConfig = useCallback(\n        (key: (typeof PAYOUT_TABLE_FIELDS)[number]) => {\n            const label = i18n.get(FIELDS_KEYS[key]);\n            if (_isAmountFieldKey(key)) {\n                return {\n                    label: data?.[0]?.[key]?.currency ? `${label} (${getCurrencyCode(data?.[0]?.[key]?.currency)})` : label,\n                    position: 'right',\n                } as const;\n            }\n        },\n        [data, i18n]\n    );\n\n    const columns = useTableColumns({\n        customColumns,\n        fields: PAYOUT_TABLE_FIELDS,\n        fieldsKeys: FIELDS_KEYS,\n        columnConfig: useMemo(\n            () => ({\n                fundsCapturedAmount: { ...getAmountFieldConfig('fundsCapturedAmount'), visible: isSmAndUpContainer },\n                adjustmentAmount: { ...getAmountFieldConfig('adjustmentAmount'), visible: isSmAndUpContainer },\n                payoutAmount: getAmountFieldConfig('payoutAmount'),\n            }),\n            [getAmountFieldConfig, isSmAndUpContainer]\n        ),\n    });\n\n    const EMPTY_TABLE_MESSAGE = {\n        title: 'payouts.overview.errors.listEmpty',\n        message: ['common.errors.updateFilters'],\n    } satisfies { title: TranslationKey; message: TranslationKey | TranslationKey[] };\n\n    const errorDisplay = useMemo(\n        () => () => <DataOverviewError error={error} errorMessage={'payouts.overview.errors.listUnavailable'} onContactSupport={onContactSupport} />,\n        [error, onContactSupport]\n    );\n\n    return (\n        <div className={BASE_CLASS}>\n            <DataGrid\n                errorDisplay={errorDisplay}\n                error={error}\n                columns={columns}\n                data={data}\n                loading={isLoading}\n                outline={false}\n                onRowClick={{ callback: onRowClick }}\n                emptyTableMessage={EMPTY_TABLE_MESSAGE}\n                customCells={{\n                    createdAt: ({ value }) => {\n                        if (!value) return null;\n                        if (!isSmAndUpContainer) {\n                            return <time dateTime={value}>{dateFormat(value, DATE_FORMAT_PAYOUTS_MOBILE)}</time>;\n                        }\n                        return (\n                            value && (\n                                <time dateTime={value}>\n                                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                                        {dateFormat(value, DATE_FORMAT_PAYOUTS)}\n                                    </Typography>\n                                </time>\n                            )\n                        );\n                    },\n                    fundsCapturedAmount: ({ value }) => {\n                        return (\n                            value && (\n                                <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                                    {i18n.amount(value.value, value.currency, { hideCurrency: true })}\n                                </Typography>\n                            )\n                        );\n                    },\n                    adjustmentAmount: ({ value }) => {\n                        return (\n                            value && (\n                                <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                                    {i18n.amount(value.value, value.currency, { hideCurrency: true })}\n                                </Typography>\n                            )\n                        );\n                    },\n                    payoutAmount: ({ value }) => {\n                        return (\n                            value && (\n                                <Typography\n                                    el={TypographyElement.SPAN}\n                                    variant={TypographyVariant.BODY}\n                                    className={cx({ [`${NET_PAYOUT_CLASS}--strong`]: !isSmAndUpContainer })}\n                                >\n                                    {i18n.amount(value.value, value.currency, { hideCurrency: isSmAndUpContainer })}\n                                </Typography>\n                            )\n                        );\n                    },\n                }}\n            >\n                {showPagination && (\n                    <DataGrid.Footer>\n                        <Pagination\n                            {...paginationProps}\n                            ariaLabelKey=\"payouts.overview.pagination.label\"\n                            limitSelectAriaLabelKey=\"payouts.overview.pagination.controls.limitSelect.label\"\n                        />\n                    </DataGrid.Footer>\n                )}\n            </DataGrid>\n        </div>\n    );\n};\n","import { useEffect, useMemo, useRef } from 'preact/hooks';\nimport useCoreContext from '../core/Context/useCoreContext';\nimport useUniqueId from './useUniqueId';\nimport { EMPTY_OBJECT } from '../utils';\n\nexport const enum ComponentHeadingType {\n    TITLE = 1,\n    SUBTITLE = 2,\n}\n\nexport interface UseComponentHeadingElementProps {\n    forwardedToRoot?: boolean;\n    headingType?: ComponentHeadingType;\n}\n\nexport const useComponentHeadingElement = <T extends HTMLElement>(\n    { headingType = ComponentHeadingType.TITLE, forwardedToRoot } = EMPTY_OBJECT as UseComponentHeadingElementProps\n) => {\n    const { componentRef } = useCoreContext();\n    const headingElementId = `heading-${useUniqueId()}`;\n    const headingElementRef = useRef<T | null>(null);\n\n    const ariaAttribute = useMemo(() => {\n        switch (headingType) {\n            case ComponentHeadingType.TITLE:\n                return 'aria-labeledby';\n            case ComponentHeadingType.SUBTITLE:\n                return 'aria-describedby';\n        }\n    }, [headingType]);\n\n    useEffect(() => {\n        if (forwardedToRoot === false) return;\n\n        const componentElement = componentRef.current;\n        const headingElementId = headingElementRef.current?.id;\n\n        if (headingElementId && componentElement) {\n            componentElement.setAttribute(ariaAttribute, headingElementId);\n\n            return () => {\n                const currentAttributeValue = componentElement.getAttribute(ariaAttribute);\n                if (currentAttributeValue !== headingElementId) return;\n                componentElement.removeAttribute(ariaAttribute);\n            };\n        }\n    }, [ariaAttribute, componentRef, forwardedToRoot, headingElementId]);\n\n    return { id: headingElementId, ref: headingElementRef } as const;\n};\n\nexport default useComponentHeadingElement;\n","export const DIVIDER_CLASS_NAMES = {\n    base: 'adyen-pe-divider',\n    vertical: 'adyen-pe-divider--vertical',\n};\n","import { FunctionalComponent } from 'preact';\nimport cx from 'classnames';\nimport './Divider.scss';\nimport { DividerProps } from './types';\nimport { DIVIDER_CLASS_NAMES } from './constants';\n\nexport const Divider: FunctionalComponent<DividerProps> = ({ className, variant = 'horizontal' }) => {\n    return <hr className={cx(DIVIDER_CLASS_NAMES.base, variant === 'vertical' && DIVIDER_CLASS_NAMES.vertical, className)} />;\n};\n","import cx from 'classnames';\nimport { FC, HTMLProps } from 'preact/compat';\nimport Typography from '../Typography/Typography';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport useComponentHeadingElement, { ComponentHeadingType } from '../../../hooks/useComponentHeadingElement';\nimport { TypographyElement, TypographyVariant } from '../Typography/types';\nimport type { TranslationKey } from '../../../translations';\nimport type { UIElementProps } from '../../types';\nimport { Divider } from '../Divider/Divider';\nimport './Header.scss';\n\nexport const BASE_CLASS = 'adyen-pe-header';\n\nexport interface HeaderProps extends HTMLProps<HTMLHeadingElement> {\n    baseClassName?: string;\n    forwardedToRoot?: boolean;\n    hasDivider?: boolean;\n    hideTitle?: UIElementProps['hideTitle'];\n    subtitleKey?: TranslationKey;\n    titleKey?: TranslationKey;\n    subtitleConfig?: {\n        variant?: TypographyVariant;\n        typographyEl?: TypographyElement;\n        classNames?: string;\n    };\n}\n\nexport const Header: FC<HeaderProps> = ({\n    baseClassName = BASE_CLASS,\n    forwardedToRoot = true,\n    children,\n    className,\n    hasDivider,\n    hideTitle,\n    titleKey,\n    subtitleKey,\n    subtitleConfig,\n    ...props\n}) => {\n    const { i18n } = useCoreContext();\n\n    const { id: titleElemId, ref: titleElemRef } = useComponentHeadingElement<HTMLDivElement>({\n        headingType: ComponentHeadingType.TITLE,\n        forwardedToRoot,\n    });\n\n    const { id: subtitleElemId, ref: subtitleElemRef } = useComponentHeadingElement<HTMLDivElement>({\n        headingType: ComponentHeadingType.SUBTITLE,\n        forwardedToRoot,\n    });\n\n    return (\n        <div {...props} className={cx([baseClassName, className])}>\n            <div className={`${baseClassName}__headings`}>\n                {!hideTitle && titleKey && (\n                    <div ref={titleElemRef} id={titleElemId} className={`${baseClassName}__title`}>\n                        <Typography el={TypographyElement.SPAN} variant={TypographyVariant.TITLE} medium>\n                            {i18n.get(titleKey)}\n                        </Typography>\n                    </div>\n                )}\n                {subtitleKey && (\n                    <div ref={subtitleElemRef} id={subtitleElemId} className={cx(`${baseClassName}__subtitle`, subtitleConfig?.classNames)}>\n                        <Typography\n                            el={subtitleConfig?.typographyEl ?? TypographyElement.SPAN}\n                            variant={subtitleConfig?.variant ?? TypographyVariant.BODY}\n                        >\n                            {i18n.get(subtitleKey)}\n                        </Typography>\n                    </div>\n                )}\n                {hasDivider && <Divider className={`${baseClassName}__divider`} />}\n            </div>\n            {children && <div className={`${baseClassName}__controls`}>{children}</div>}\n        </div>\n    );\n};\n","import './DataOverviewDetails.scss';\nimport { useCallback, useEffect, useMemo, useState } from 'preact/hooks';\nimport { useConfigContext } from '../../../core/ConfigContext';\nimport { useModalContext } from '../Modal/Modal';\nimport AdyenPlatformExperienceError from '../../../core/Errors/AdyenPlatformExperienceError';\nimport { useFetch } from '../../../hooks/useFetch';\nimport { IPayoutDetails } from '../../../types';\nimport { EMPTY_OBJECT } from '../../../utils';\nimport { PayoutData } from '../../external/PayoutDetails/components/PayoutData';\nimport useBalanceAccounts from '../../../hooks/useBalanceAccounts';\nimport { CustomColumn, ExternalUIComponentProps } from '../../types';\nimport { getErrorMessage } from '../../utils/getErrorMessage';\nimport { ErrorMessageDisplay } from '../ErrorMessageDisplay/ErrorMessageDisplay';\nimport { DetailsComponentProps } from './types';\nimport useDataOverviewDetailsTitle from './useDataOverviewDetailsTitle';\nimport { TX_DETAILS_RESERVED_FIELDS_SET } from '../../external/TransactionDetails/constants';\nimport { PAYOUT_TABLE_FIELDS } from '../../external/PayoutsOverview/components/PayoutsTable/PayoutsTable';\nimport { PayoutDetailsCustomization } from '../../external/PayoutDetails/types';\nimport { TranslationKey } from '../../../translations';\nimport { Header } from '../Header';\n\nconst ENDPOINTS_BY_TYPE = {\n    payout: 'getPayout',\n} as const;\n\nexport default function DataOverviewDetails(props: ExternalUIComponentProps<DetailsComponentProps>) {\n    const getDetail = useConfigContext().endpoints[ENDPOINTS_BY_TYPE[props.type]];\n    const { hideTitle, titleKey } = useDataOverviewDetailsTitle(props);\n    const { withinModal } = useModalContext();\n\n    const { data, error, isFetching } = useFetch(\n        useMemo(\n            () => ({\n                fetchOptions: { enabled: !!props.id && !!getDetail },\n                queryFn: async () => {\n                    switch (props.type) {\n                        case 'payout':\n                            const queryParam = { query: { balanceAccountId: props.id, createdAt: props.date } };\n                            return getDetail!(EMPTY_OBJECT, { ...queryParam });\n                    }\n                },\n            }),\n            [getDetail, props]\n        )\n    );\n\n    const balanceAccountId = props.id;\n    const hasBalanceAccountDetail = props?.balanceAccountDescription;\n    const { balanceAccounts } = useBalanceAccounts(balanceAccountId, !hasBalanceAccountDetail);\n\n    const errorProps = useMemo(() => {\n        if (error) {\n            let errorMessageKey!: TranslationKey;\n            switch (props.type) {\n                case 'payout':\n                    errorMessageKey = 'payouts.details.errors.unavailable';\n                    break;\n            }\n            return getErrorMessage(error as AdyenPlatformExperienceError, errorMessageKey, props.onContactSupport);\n        }\n    }, [error, props.onContactSupport, props.type]);\n\n    const detailsData = data;\n\n    const [extraFields, setExtraFields] = useState<Record<string, any>>();\n\n    const getExtraFields = useCallback(async () => {\n        if (data) {\n            const detailsData = await props.dataCustomization?.details?.onDataRetrieve?.(data);\n\n            setExtraFields(\n                props.dataCustomization?.details?.fields.reduce((acc, field) => {\n                    return TX_DETAILS_RESERVED_FIELDS_SET.has(field.key as any) ||\n                        PAYOUT_TABLE_FIELDS.includes(field.key as any) ||\n                        field?.visibility === 'hidden'\n                        ? acc\n                        : { ...acc, ...(detailsData?.[field.key] ? { [field.key]: detailsData[field.key] } : {}) };\n                }, {} as CustomColumn<any>)\n            );\n        }\n    }, [data, props]);\n\n    const dataCustomization = props.dataCustomization;\n\n    useEffect(() => {\n        void getExtraFields();\n    }, [getExtraFields]);\n\n    return (\n        <div className=\"adyen-pe-overview-details\">\n            <Header hideTitle={hideTitle} titleKey={titleKey} forwardedToRoot={!withinModal} />\n\n            {error && errorProps && (\n                <div className=\"adyen-pe-overview-details--error-container\">\n                    <ErrorMessageDisplay withImage {...errorProps} />\n                </div>\n            )}\n\n            {props.type === 'payout' && detailsData && (\n                <PayoutData\n                    balanceAccountId={balanceAccountId}\n                    payout={detailsData as IPayoutDetails}\n                    balanceAccountDescription={props?.balanceAccountDescription || balanceAccounts?.[0]?.description}\n                    isFetching={isFetching}\n                    extraFields={extraFields}\n                    dataCustomization={dataCustomization as { details?: PayoutDetailsCustomization }}\n                />\n            )}\n        </div>\n    );\n}\n","import { _UIComponentProps, ExternalComponentType } from '../../types';\nimport UIElement from '../UIElement/UIElement';\nimport DataOverviewDetails from '../../internal/DataOverviewDetails/DataOverviewDetails';\nimport { PayoutDetailsProps } from './types';\n\nexport class PayoutElement extends UIElement<PayoutDetailsProps> {\n    public static type: ExternalComponentType = 'payoutDetails';\n\n    constructor(props: _UIComponentProps<PayoutDetailsProps>) {\n        super(props);\n        this.componentToRender = this.componentToRender.bind(this);\n    }\n\n    public componentToRender = () => {\n        return <DataOverviewDetails {...this.props} type=\"payout\" />;\n    };\n}\n\nexport default PayoutElement;\n","export const WITH_ERROR_CLASS = 'adyen-pe-data-overview-container--with-error';\n","import { WITH_ERROR_CLASS } from './constants';\nimport { ErrorMessageDisplay } from '../ErrorMessageDisplay/ErrorMessageDisplay';\nimport { useConfigContext } from '../../../core/ConfigContext';\nimport { TranslationKey } from '../../../translations';\nimport cx from 'classnames';\nimport { PropsWithChildren } from 'preact/compat';\nimport { getErrorMessage } from '../../utils/getErrorMessage';\nimport AdyenPlatformExperienceError from '../../../core/Errors/AdyenPlatformExperienceError';\n\ntype DataOverviewContainerProps = PropsWithChildren<{\n    balanceAccountsError?: Error;\n    className: string;\n    errorMessage: TranslationKey;\n    isBalanceAccountIdWrong: boolean;\n    onContactSupport?: () => void;\n}>;\n\nfunction DataOverviewContainer({\n    balanceAccountsError,\n    children,\n    className,\n    errorMessage,\n    isBalanceAccountIdWrong,\n    onContactSupport,\n}: DataOverviewContainerProps) {\n    const { hasError } = useConfigContext();\n\n    // TODO: Verify if WITH_ERROR_CLASS should appended only for session setup error\n    return (\n        <div className={cx(className, { [WITH_ERROR_CLASS]: hasError })}>\n            {hasError ? (\n                <ErrorMessageDisplay\n                    withImage\n                    centered\n                    title={'common.errors.somethingWentWrong'}\n                    message={[errorMessage, 'common.errors.retry']}\n                    refreshComponent={true}\n                />\n            ) : balanceAccountsError ? (\n                <ErrorMessageDisplay\n                    withImage\n                    centered\n                    {...getErrorMessage(balanceAccountsError as AdyenPlatformExperienceError, 'common.errors.accountUnavailable', onContactSupport)}\n                />\n            ) : isBalanceAccountIdWrong ? (\n                <ErrorMessageDisplay\n                    withImage\n                    centered\n                    title={'common.errors.somethingWentWrong'}\n                    message={[errorMessage, 'common.errors.accountInvalid']}\n                />\n            ) : (\n                <>{children}</>\n            )}\n        </div>\n    );\n}\n\nexport default DataOverviewContainer;\n","export const BASE_CLASS = 'adyen-pe-payouts-overview';\nexport const BASE_CLASS_DETAILS = 'adyen-pe-payouts-details';\nexport const EARLIEST_PAYOUT_SINCE_DATE = new Date('2024-04-16T00:00:00.000Z').toString();\n","import cx from 'classnames';\nimport Button from '../Button';\nimport Icon from '../Icon';\nimport { isFunction } from '../../../utils';\nimport { ButtonVariant } from '../Button/types';\nimport { PropsWithChildren } from 'preact/compat';\nimport { useEffect, useMemo, useState } from 'preact/hooks';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { containerQueries, useResponsiveContainer } from '../../../hooks/useResponsiveContainer';\nimport type { FilterBarMobileSwitchProps, FilterBarProps } from './types';\nimport './FilterBar.scss';\nimport useUniqueId from '../../../hooks/useUniqueId';\n\nconst MOBILE_SWITCH_CLASS = 'adyen-pe-filter-bar-mobile-switch';\n\nexport const useFilterBarState = () => {\n    const isMobileContainer = useResponsiveContainer(containerQueries.down.xs);\n    const [showingFilters, setShowingFilters] = useState(!isMobileContainer);\n    const filterBarElementId = `filters-${useUniqueId()}`;\n\n    useEffect(() => {\n        setShowingFilters(!isMobileContainer);\n    }, [isMobileContainer]);\n\n    return { filterBarElementId, isMobileContainer, showingFilters, setShowingFilters } as const;\n};\n\nexport const FilterBarMobileSwitch = ({\n    ariaLabelKey,\n    filterBarElementId,\n    isMobileContainer,\n    showingFilters,\n    setShowingFilters,\n}: FilterBarMobileSwitchProps) => {\n    const { i18n } = useCoreContext();\n    const ariaLabel = useMemo(() => i18n.get(ariaLabelKey ?? 'common.filters.mobile.label'), [i18n]);\n    const disabled = !isFunction(setShowingFilters);\n    const expanded = !disabled && !!showingFilters;\n\n    return isMobileContainer ? (\n        <div className={MOBILE_SWITCH_CLASS}>\n            <Button\n                iconButton\n                className={`${MOBILE_SWITCH_CLASS}__button`}\n                disabled={disabled}\n                aria-label={ariaLabel}\n                aria-expanded={expanded}\n                aria-controls={filterBarElementId}\n                onClick={() => setShowingFilters?.(!showingFilters)}\n                variant={ButtonVariant.SECONDARY}\n            >\n                <Icon name={showingFilters ? 'cross' : 'filter'} />\n            </Button>\n        </div>\n    ) : null;\n};\n\nexport const FilterBar = (props: PropsWithChildren<FilterBarProps>) => {\n    const { i18n } = useCoreContext();\n\n    return props.showingFilters ? (\n        <div\n            role=\"group\"\n            data-testId=\"filter-bar\"\n            aria-label={i18n.get(props.ariaLabelKey ?? 'common.filters.label')}\n            className={cx('adyen-pe-filter-bar', { 'adyen-pe-filter-bar--mobile': props.isMobileContainer })}\n            id={props.filterBarElementId}\n        >\n            {props.children}\n            {props.canResetFilters && !!props.resetFilters && (\n                <Button variant={ButtonVariant.TERTIARY} onClick={props.resetFilters}>\n                    {i18n.get('common.filters.controls.resetAll.label')}\n                </Button>\n            )}\n        </div>\n    ) : null;\n};\n\nexport default FilterBar;\n","import { useContext } from 'preact/hooks';\n\nimport { AnalyticsContext } from './AnalyticsContext';\n\nconst useAnalyticsContext = () => {\n    const context = useContext(AnalyticsContext);\n\n    if (!context) {\n        throw new Error('Cannot use AnalyticsContext without <AnalyticsProvider>');\n    }\n\n    return context;\n};\n\nexport default useAnalyticsContext;\n","import { useMemo } from 'preact/hooks';\nimport { FilterType, MixpanelProperty } from '../../core/Analytics/analytics/user-events';\nimport useAnalyticsContext from '../../core/Context/analytics/useAnalyticsContext';\n\nexport interface UseFilterAnalyticsEventProps {\n    category?: string;\n    subCategory?: string;\n    label?: FilterType;\n}\n\nconst useFilterAnalyticsEvent = ({ category, label, subCategory }: UseFilterAnalyticsEventProps) => {\n    const analytics = useAnalyticsContext();\n\n    const logEvent = useMemo(() => {\n        if (category && label) {\n            const defaultPayload = {\n                ...(subCategory && { subCategory }),\n                actionType: 'reset',\n                category,\n                label,\n            } as const;\n\n            return (actionType: 'reset' | 'update', value?: MixpanelProperty) => {\n                try {\n                    analytics.addModifyFilterEvent?.({\n                        ...defaultPayload,\n                        ...(actionType === 'update' ? { actionType, value } : {}),\n                    });\n                } catch (err) {\n                    console.error(err);\n                }\n            };\n        }\n    }, [analytics, category, label, subCategory]);\n\n    return { logEvent } as const;\n};\n\nexport default useFilterAnalyticsEvent;\n","import { capitalize, uniqueId } from '../utils';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport useCoreContext from '../core/Context/useCoreContext';\nimport useFilterAnalyticsEvent from './useAnalytics/useFilterAnalyticsEvent';\nimport type { FilterType } from '../core/Analytics/analytics/user-events';\nimport type { SelectItem } from '../components/internal/FormFields/Select/types';\nimport type { IBalanceAccountBase } from '../types';\n\nexport const ALL_BALANCE_ACCOUNTS_SELECTION_ID = uniqueId();\n\nexport interface UseBalanceAccountSelectionProps {\n    allowAllSelection?: boolean;\n    balanceAccounts?: IBalanceAccountBase[];\n    eventCategory?: string;\n    eventSubCategory?: string;\n    eventLabel?: FilterType;\n    onUpdateSelection?: (balanceAccount?: IBalanceAccountBase) => void;\n}\n\nconst useBalanceAccountSelection = ({\n    allowAllSelection = false,\n    balanceAccounts,\n    eventCategory,\n    eventSubCategory,\n    eventLabel = 'Balance account filter',\n    onUpdateSelection,\n}: UseBalanceAccountSelectionProps) => {\n    const { i18n } = useCoreContext();\n    const { logEvent } = useFilterAnalyticsEvent({ category: eventCategory, subCategory: eventSubCategory, label: eventLabel });\n    const [selectedBalanceAccountIndex, setSelectedBalanceAccountIndex] = useState(0);\n\n    const allBalanceAccounts = useMemo(\n        () =>\n            balanceAccounts && [\n                ...balanceAccounts,\n                ...(allowAllSelection && balanceAccounts.length > 1\n                    ? [\n                          {\n                              ...(balanceAccounts[0] ?? {}),\n                              id: ALL_BALANCE_ACCOUNTS_SELECTION_ID,\n                              description: undefined,\n                          } as IBalanceAccountBase,\n                      ]\n                    : []),\n            ],\n        [allowAllSelection, balanceAccounts]\n    );\n\n    const activeBalanceAccount = useMemo(() => allBalanceAccounts?.[selectedBalanceAccountIndex], [allBalanceAccounts, selectedBalanceAccountIndex]);\n\n    const activeBalanceAccountId = activeBalanceAccount?.id;\n    const cachedBalanceAccountIdRef = useRef<string | undefined>();\n\n    const balanceAccountSelectionOptions = useMemo(\n        () =>\n            Object.freeze(\n                allBalanceAccounts?.map(({ description, id }) => {\n                    const name =\n                        id === ALL_BALANCE_ACCOUNTS_SELECTION_ID ? i18n.get('common.filters.types.account.options.all') : capitalize(description)!;\n                    return { id, name } as SelectItem;\n                }) ?? []\n            ),\n        [allBalanceAccounts, i18n]\n    );\n\n    const onBalanceAccountSelection = useCallback(\n        ({ target }: { target?: { value: string } }) => {\n            const balanceAccountId = target?.value;\n            const index = allBalanceAccounts?.findIndex(({ id }) => id === balanceAccountId);\n            if (index !== undefined && index >= 0) setSelectedBalanceAccountIndex(index);\n        },\n        [allBalanceAccounts]\n    );\n\n    const resetBalanceAccountSelection = useCallback(() => setSelectedBalanceAccountIndex(0), []);\n\n    useEffect(() => {\n        const cachedBalanceAccountId = cachedBalanceAccountIdRef.current;\n\n        if (cachedBalanceAccountId !== activeBalanceAccountId) {\n            // Update the cached balance account id with the active one\n            cachedBalanceAccountIdRef.current = activeBalanceAccountId;\n\n            if (cachedBalanceAccountId && activeBalanceAccountId) {\n                // Balance account changed\n                // Log filter modification event\n                logEvent?.('update', activeBalanceAccountId);\n            }\n\n            onUpdateSelection?.(activeBalanceAccount);\n        }\n    }, [activeBalanceAccount, activeBalanceAccountId, logEvent, onUpdateSelection]);\n\n    return { activeBalanceAccount, balanceAccountSelectionOptions, onBalanceAccountSelection, resetBalanceAccountSelection } as const;\n};\n\nexport default useBalanceAccountSelection;\n","import useBalanceAccountSelection, { ALL_BALANCE_ACCOUNTS_SELECTION_ID } from '../../../../../hooks/useBalanceAccountSelection';\nimport { memo } from 'preact/compat';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport Select from '../../Select';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport { renderDefaultSingleSelectionCheckedness } from '../components/SelectListItem';\nimport { SelectItem, SelectProps } from '../types';\nimport './BalanceAccountSelector.scss';\n\ntype _GetRenderListItemType<T> = T extends Readonly<SelectItem[]> ? NonNullable<SelectProps<T[number]>['renderListItem']> : never;\n\nconst BA_SELECTOR_CLASS = 'adyen-pe-balance-account-selector';\nconst BA_SELECTOR_ACCOUNT_ID_CLASS = `${BA_SELECTOR_CLASS}__account-id` as const;\nconst BA_SELECTOR_ACCOUNT_LABEL_CLASS = `${BA_SELECTOR_CLASS}__account-label` as const;\n\nconst BalanceAccountSelector = memo(\n    ({\n        activeBalanceAccount,\n        balanceAccountSelectionOptions,\n        onBalanceAccountSelection,\n    }: Omit<ReturnType<typeof useBalanceAccountSelection>, 'resetBalanceAccountSelection'>) => {\n        const { i18n } = useCoreContext();\n        const isSmContainer = useResponsiveContainer(containerQueries.down.xs);\n        const balanceAccountLabel = useMemo(() => i18n.get('common.filters.types.account.label'), [i18n]);\n\n        const renderListItem = useCallback<_GetRenderListItemType<typeof balanceAccountSelectionOptions>>(\n            data => (\n                <>\n                    <div className={data.contentClassName}>\n                        {data.item.name && <span className={BA_SELECTOR_ACCOUNT_LABEL_CLASS}>{data.item.name}</span>}\n                        {data.item.id !== ALL_BALANCE_ACCOUNTS_SELECTION_ID && (\n                            <span className={data.item.name ? BA_SELECTOR_ACCOUNT_ID_CLASS : BA_SELECTOR_ACCOUNT_LABEL_CLASS}>{data.item.id}</span>\n                        )}\n                    </div>\n                    {renderDefaultSingleSelectionCheckedness(data)}\n                </>\n            ),\n            []\n        );\n\n        const canRenderSelector = balanceAccountSelectionOptions && balanceAccountSelectionOptions.length > 1;\n\n        return (\n            canRenderSelector && (\n                <Select\n                    popoverClassNameModifiers={[BA_SELECTOR_CLASS]}\n                    onChange={onBalanceAccountSelection}\n                    filterable={false}\n                    multiSelect={false}\n                    placeholder={activeBalanceAccount?.id || balanceAccountLabel}\n                    selected={activeBalanceAccount?.id}\n                    withoutCollapseIndicator={true}\n                    items={balanceAccountSelectionOptions}\n                    renderListItem={renderListItem}\n                    showOverlay={isSmContainer}\n                    aria-label={balanceAccountLabel}\n                />\n            )\n        );\n    }\n);\n\nexport default BalanceAccountSelector;\n","export const LIMIT_OPTIONS = Object.freeze([10, 20]);\nexport const MAX_PAGE_LIMIT = 100;\nexport const DEFAULT_PAGE_LIMIT = 10;\n","import { MAX_PAGE_LIMIT } from './constants';\n\nexport const getClampedPageLimit = (pageLimit?: number) => {\n    const limit = ~~(pageLimit as number);\n    return limit === pageLimit && limit > 0 ? Math.min(limit, MAX_PAGE_LIMIT) : Math.max(limit, 0);\n};\n","import { useMemo, useRef } from 'preact/hooks';\nimport { DEFAULT_PAGE_LIMIT } from '../constants';\nimport { getClampedPageLimit } from '../utils';\nimport { isNumber, mid } from '../../../../utils';\nimport { BasePaginatedRecordsInitOptions } from './types';\n\nexport const getNearestFromSortedUniqueNums = (nums: number[], target: number): number => {\n    const lastindex = nums.length - 1;\n\n    if (lastindex < 0) return target;\n    if (target <= (nums[0] as number)) return nums[0] as number;\n    if (target >= (nums[lastindex] as number)) return nums[lastindex] as number;\n\n    let index = 0,\n        lo = 0,\n        hi = lastindex;\n\n    while (true) {\n        const current = nums[(index = mid(lo, hi))] as number;\n        if (lo > hi || target === current) return current;\n        target > current ? (lo = index + 1) : (hi = index - 1);\n    }\n};\n\nconst usePageLimit = ({\n    preferredLimit = DEFAULT_PAGE_LIMIT,\n    preferredLimitOptions,\n}: Pick<BasePaginatedRecordsInitOptions<any, any, any, any>, 'preferredLimit' | 'preferredLimitOptions'>) => {\n    const cachedLimitOptions = useRef<readonly number[]>();\n    const cachedLimit = useRef<number>();\n\n    const options = useMemo(() => {\n        try {\n            const uniqueOptions = new Set<number>();\n\n            for (const option of preferredLimitOptions as number[]) {\n                const limit = getClampedPageLimit(option);\n                if (limit > 0) uniqueOptions.add(limit);\n            }\n\n            return Object.freeze([...uniqueOptions].sort((a, b) => a - b));\n        } catch {\n            /* ignore exception  no options available */\n        }\n    }, [preferredLimitOptions]);\n\n    const limit = useMemo(() => {\n        let limit = getClampedPageLimit(preferredLimit) || DEFAULT_PAGE_LIMIT;\n\n        parsing: try {\n            const uniqueOptions = new Set((cachedLimitOptions.current = options));\n\n            if (uniqueOptions.size === 0) {\n                cachedLimitOptions.current = undefined;\n                break parsing;\n            }\n\n            if (cachedLimit.current !== limit) {\n                selection: {\n                    if (uniqueOptions.size === uniqueOptions.add(limit).size) {\n                        break selection;\n                    } else uniqueOptions.delete(limit);\n\n                    if (uniqueOptions.size === uniqueOptions.add(cachedLimit.current as number).size) {\n                        if (isNumber(cachedLimit.current)) {\n                            limit = cachedLimit.current;\n                            break selection;\n                        }\n                    } else uniqueOptions.delete(cachedLimit.current as number);\n\n                    // limit = cachedLimitOptions.current?.[0] as number;\n                    limit = getNearestFromSortedUniqueNums(cachedLimitOptions.current as number[], limit);\n                }\n            }\n        } catch {\n            /* ignore exception here  there are no options */\n        }\n\n        return (cachedLimit.current = limit);\n    }, [options, preferredLimit]);\n\n    return { limit, limitOptions: options } as const;\n};\n\nexport default usePageLimit;\n","import { useEffect, useMemo, useRef } from 'preact/hooks';\n\nconst useMounted = <U extends (...args: any[]) => any>(beforeUnmount?: U) => {\n    const $mounted = useRef(false);\n    const unmount = useMemo(() => beforeUnmount, [beforeUnmount]);\n\n    useEffect(() => {\n        $mounted.current = true;\n\n        return () => {\n            $mounted.current = false;\n            unmount && unmount();\n        };\n    }, [unmount]);\n\n    return $mounted;\n};\n\nexport default useMounted;\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { RequestPageCallback, RequestPageCallbackParams, UsePaginationSetupConfig } from './types';\nimport useBooleanState from '../../../../hooks/useBooleanState';\nimport useMounted from '../../../../hooks/useMounted';\nimport { PaginationType, UsePagination } from '../types';\nimport { getClampedPageLimit } from '../utils';\nimport { clamp, noop } from '../../../../utils';\n\nconst usePagination = <Pagination extends PaginationType>(\n    paginationSetupConfig: UsePaginationSetupConfig<Pagination>,\n    requestPageCallback?: RequestPageCallback<Pagination>,\n    pageLimit?: number\n): UsePagination => {\n    const $controller = useRef<AbortController>();\n    const $maxVisitedPage = useRef<number>();\n    const $maxVisitedPageSize = useRef<number>();\n    const $page = useRef<number>();\n\n    const $mounted = useMounted(\n        useCallback(() => {\n            $controller.current?.abort();\n            $controller.current = undefined;\n        }, [])\n    );\n\n    const [page, setCurrentPage] = useState($page.current);\n    const [paginationChanged, updatePaginationChanged] = useBooleanState(false);\n    const limit = useMemo(() => getClampedPageLimit(pageLimit), [pageLimit]);\n\n    const { getPageCount, getPageParams, resetPageCount, updatePagination } = paginationSetupConfig;\n\n    const goto = useMemo(() => {\n        return requestPageCallback\n            ? (page: number) => {\n                  if (!(limit && Number.isInteger(page))) return;\n\n                  const PAGES = getPageCount();\n                  const requestedPage = page < 0 ? page + PAGES + 1 : page;\n                  const isValidPageRequest = requestedPage > 0 && (PAGES ? requestedPage <= PAGES : requestedPage === 1);\n\n                  if (!isValidPageRequest) return;\n\n                  $controller.current?.abort();\n                  $controller.current = new AbortController();\n\n                  if (!$mounted.current) return;\n\n                  if (($page.current = requestedPage) > 1 || PAGES) {\n                      setCurrentPage($page.current);\n                  }\n\n                  (async () => {\n                      const { signal } = $controller.current as AbortController;\n                      const params = { ...getPageParams(requestedPage, limit), limit, page: requestedPage } as RequestPageCallbackParams<Pagination>;\n\n                      try {\n                          const data = await requestPageCallback(params, signal);\n                          if (!data || !$mounted.current) return;\n\n                          const { size, ...paginationData } = data;\n\n                          updatePagination(requestedPage, limit, paginationData);\n                          $maxVisitedPage.current = $page.current && Math.max($page.current, $maxVisitedPage.current || -Infinity);\n\n                          if ($page.current && $page.current === $maxVisitedPage.current) $maxVisitedPageSize.current = size;\n                          if ($page.current === 1 && size > 0) setCurrentPage($page.current);\n\n                          $page.current = undefined;\n                          updatePaginationChanged(true);\n                      } catch (ex) {\n                          if (signal.aborted) return;\n                          console.error(ex); // throw ex;\n                      }\n                  })();\n              }\n            : (noop as UsePagination['goto']);\n    }, [limit, requestPageCallback]);\n\n    const next = useCallback(() => {\n        page && goto(Math.min(page + 1, getPageCount()));\n    }, [goto, page]);\n\n    const prev = useCallback(() => {\n        page && goto(Math.max(page - 1, 1));\n    }, [goto, page]);\n\n    const pages = useMemo(() => getPageCount() || page || undefined, [goto, paginationChanged]);\n    const hasNext = useMemo(() => !!(page && pages) && page < pages, [page, pages]);\n    const hasPrev = useMemo(() => !!page && page > 1, [page]);\n\n    const size = useMemo(\n        () => ($maxVisitedPage.current ? ($maxVisitedPage.current - 1) * limit + ($maxVisitedPageSize.current || 0) : 0),\n        [goto, paginationChanged]\n    );\n\n    const pageSize = useMemo(() => (page ? clamp(0, size - (page - 1) * limit, limit) : 0), [limit, size, page]);\n\n    const resetPagination = useCallback(() => {\n        resetPageCount();\n        $maxVisitedPage.current = $maxVisitedPageSize.current = $page.current = undefined;\n        $mounted.current && setCurrentPage($page.current);\n    }, [resetPageCount]);\n\n    useEffect(() => {\n        if ($mounted.current && paginationChanged) {\n            updatePaginationChanged(false);\n        }\n    }, [paginationChanged]);\n\n    return { goto, hasNext, hasPrev, limit, next, page, pages, pageSize, prev, resetPagination, size };\n};\n\nexport default usePagination;\n","import { useMemo } from 'preact/hooks';\nimport { isString, isUndefined } from '../../../../utils';\nimport { RequestPageCallback, RequestPageCallbackParams } from './types';\nimport { PaginationType, UsePagination, WithEitherPages, WithNextPage, WithPrevPage } from '../types';\nimport usePagination from './usePagination';\n\ntype HasEitherPages = WithEitherPages<PaginationType.CURSOR>;\ntype HasNextPage = WithNextPage<PaginationType.CURSOR>;\ntype HasPrevPage = WithPrevPage<PaginationType.CURSOR>;\ntype PageCursorType = RequestPageCallbackParams<PaginationType.CURSOR>['cursor'];\n\nexport const hasNextPage = (value: HasEitherPages): value is HasNextPage => isString((value as HasNextPage).next);\nexport const hasPrevPage = (value: HasEitherPages): value is HasPrevPage => isString((value as HasPrevPage).prev);\n\nconst useCursorPagination = (requestPageCallback?: RequestPageCallback<PaginationType.CURSOR>, pageLimit?: number): UsePagination => {\n    const paginationSetupConfig = useMemo(() => {\n        const cursors: PageCursorType[] = [];\n        const getPageCount = () => cursors.length;\n        const resetPageCount = () => {\n            cursors.length = 0;\n        };\n        const getPageParams = (page: number) => ({ cursor: cursors[page - 1] });\n\n        const updateCursor = (cursor: PageCursorType, page: number) => {\n            const currentCursor = cursors[page - 1];\n\n            if ((page === 1 || page === (cursors.length || 1) + 1) && isUndefined(currentCursor)) {\n                cursors[page - 1] = cursor ? decodeURIComponent(cursor) : undefined;\n            }\n        };\n\n        const updatePagination = (page: number, limit: number, paginationData: HasEitherPages) => {\n            if (hasNextPage(paginationData)) updateCursor(paginationData.next, page + 1);\n            if (hasPrevPage(paginationData)) updateCursor(paginationData.prev, page - 1);\n        };\n\n        return { getPageCount, getPageParams, resetPageCount, updatePagination };\n    }, []);\n\n    return usePagination<PaginationType.CURSOR>(paginationSetupConfig, requestPageCallback, pageLimit);\n};\n\nexport default useCursorPagination;\n","import { useMemo } from 'preact/hooks';\nimport { RequestPageCallback } from './types';\nimport { PaginationType, UsePagination, WithEitherPages, WithNextPage } from '../types';\nimport usePagination from './usePagination';\n\nexport type HasEitherPages = WithEitherPages<PaginationType.OFFSET>;\nexport type HasNextPage = WithNextPage<PaginationType.OFFSET>;\nexport const hasNextPage = (value: HasEitherPages): value is HasNextPage => (value as HasNextPage).next;\n\nconst useOffsetPagination = (requestPageCallback?: RequestPageCallback<PaginationType.OFFSET>, pageLimit?: number): UsePagination => {\n    const paginationSetupConfig = useMemo(() => {\n        let currentPage = 0;\n        const getPageCount = () => currentPage;\n        const resetPageCount = () => {\n            currentPage = 0;\n        };\n        const getPageParams = (page: number, limit: number) => ({ offset: (page - 1) * limit });\n\n        const updatePagination = (page: number, limit: number, paginationData: HasEitherPages) => {\n            if (hasNextPage(paginationData) && paginationData.next) {\n                currentPage = Math.max(currentPage, page + 1);\n            }\n        };\n\n        return { getPageCount, getPageParams, resetPageCount, updatePagination };\n    }, []);\n\n    return usePagination<PaginationType.OFFSET>(paginationSetupConfig, requestPageCallback, pageLimit);\n};\n\nexport default useOffsetPagination;\n","import { useEffect, useMemo, useReducer, useRef } from 'preact/hooks';\nimport { EMPTY_OBJECT } from '../../utils';\nimport useMounted from '../useMounted';\nimport { ReactiveStateRecord, ReactiveStateUpdateRequest, ReactiveStateUpdateRequestWithField, UseReactiveStateRecord } from './types';\n\nconst useReactiveState = <Value, Param extends string>(\n    params: ReactiveStateRecord<Value, Param> = EMPTY_OBJECT as ReactiveStateRecord<Value, Param>,\n    initialStateSameAsDefault = true\n): UseReactiveStateRecord<Value, Param> => {\n    const $hasDefaultState = useRef(initialStateSameAsDefault);\n    const $defaultState = useRef(Object.freeze({ ...params }) as ReactiveStateRecord<Value, Param>);\n    const $stateParams = useRef(new Set(Object.keys($defaultState.current) as Param[]));\n    const $changedParams = useRef(new Set<Param>());\n    const $mounted = useMounted();\n\n    const [resetState, updateState] = useMemo(() => {\n        const requestStateUpdate = (stateUpdateRequest: ReactiveStateUpdateRequest<Value, Param>) => {\n            if (!$mounted.current) return;\n            dispatch(stateUpdateRequest);\n        };\n\n        return [\n            () => requestStateUpdate('reset'),\n            (stateUpdateRequest: ReactiveStateUpdateRequestWithField<Value, Param>) => requestStateUpdate(stateUpdateRequest),\n        ];\n    }, [$mounted]);\n\n    const [state, dispatch] = useReducer((state, stateUpdateRequest: ReactiveStateUpdateRequest<Value, Param>) => {\n        if (stateUpdateRequest === 'reset') {\n            $changedParams.current.clear();\n            return $defaultState.current;\n        }\n\n        const stateUpdate = { ...stateUpdateRequest } as ReactiveStateRecord<Value, Param>;\n        const stateUpdateFlags = [0];\n\n        (Object.keys(stateUpdate) as Param[]).forEach((key, index) => {\n            if (!$stateParams.current.has(key)) return;\n\n            const currentValue = state[key] ?? undefined;\n            const defaultValue = $defaultState.current[key] ?? undefined;\n            const updateValue = stateUpdate[key] ?? defaultValue;\n\n            if (updateValue === currentValue) return;\n\n            const flagIndex = Math.floor(index / 32);\n            const updateFlag = 1 << index % 32;\n\n            stateUpdate[key] = updateValue;\n            stateUpdateFlags[flagIndex] = (stateUpdateFlags[flagIndex] ?? 0) | updateFlag;\n            $changedParams.current[updateValue === defaultValue ? 'delete' : 'add'](key);\n        });\n\n        const STATE = stateUpdateFlags.some(flag => flag)\n            ? $hasDefaultState.current && $changedParams.current.size === 0\n                ? $defaultState.current\n                : Object.freeze({ ...state, ...stateUpdate })\n            : state;\n\n        if (!$hasDefaultState.current) {\n            // Mark as having default state on the first \"non-reset\" state update request,\n            // whether it results in a state update or not.\n            $defaultState.current = STATE;\n            $hasDefaultState.current = true;\n        }\n\n        return STATE;\n    }, $defaultState.current);\n\n    const canResetState = useMemo(() => !!$changedParams.current.size, []);\n\n    useEffect(() => {\n        $defaultState.current = Object.freeze({ ...params }) as ReactiveStateRecord<Value, Param>;\n        $stateParams.current = new Set(Object.keys($defaultState.current) as Param[]);\n        $hasDefaultState.current = initialStateSameAsDefault;\n        resetState();\n    }, [initialStateSameAsDefault, params, resetState]);\n    return { canResetState, defaultState: $defaultState.current, resetState, state, updateState };\n};\n\nexport default useReactiveState;\n","import { EMPTY_OBJECT } from '../../../../utils';\nimport { UsePaginatedRecordsFilters } from './types';\nimport useReactiveState from '../../../../hooks/useReactiveState';\nimport { ReactiveStateRecord } from '../../../../hooks/useReactiveState/types';\n\nconst usePaginatedRecordsFilters = <FilterValue, FilterParam extends string>(\n    filterParams: ReactiveStateRecord<FilterValue, FilterParam> = EMPTY_OBJECT as ReactiveStateRecord<FilterValue, FilterParam>,\n    initialFiltersSameAsDefault?: boolean\n): UsePaginatedRecordsFilters<FilterValue, FilterParam> => {\n    const {\n        canResetState: canResetFilters,\n        defaultState: defaultFilters,\n        resetState: resetFilters,\n        state: filters,\n        updateState: updateFilters,\n    } = useReactiveState<FilterValue, FilterParam>(filterParams, initialFiltersSameAsDefault);\n\n    return { canResetFilters, defaultFilters, filters, resetFilters, updateFilters };\n};\n\nexport default usePaginatedRecordsFilters;\n","import { UseReactiveStateRecord } from '../../../hooks/useReactiveState/types';\nimport { TranslationKey } from '../../../translations';\n\nexport const enum PageNeighbour {\n    NEXT = 'next',\n    PREV = 'prev',\n}\n\nexport const enum PaginationType {\n    CURSOR = 'cursor',\n    OFFSET = 'offset',\n}\n\nexport type ForPaginationType<T extends PaginationType, CursorType, OffsetType> = T extends PaginationType.CURSOR\n    ? CursorType\n    : T extends PaginationType.OFFSET\n      ? OffsetType\n      : never;\n\ntype BothPageNeighbours<T = any> = { [P in PageNeighbour]: T };\ntype NextPageNeighbour<T = any> = Omit<BothPageNeighbours<T>, PageNeighbour.PREV>;\ntype PrevPageNeighbour<T = any> = Omit<BothPageNeighbours<T>, PageNeighbour.NEXT>;\n\ntype WithNextPageNeighbour<T = any> = BothPageNeighbours<T> | NextPageNeighbour<T>;\ntype WithPrevPageNeighbour<T = any> = BothPageNeighbours<T> | PrevPageNeighbour<T>;\ntype WithPageNeighbours<T = any> = WithNextPageNeighbour<T> | WithPrevPageNeighbour<T>;\n\ntype WhichPageNeighbour<T extends PaginationType> = ForPaginationType<T, string, boolean>;\n\nexport type WithEitherPages<T extends PaginationType> = WithPageNeighbours<WhichPageNeighbour<T>>;\nexport type WithNextPage<T extends PaginationType> = WithNextPageNeighbour<WhichPageNeighbour<T>>;\nexport type WithPrevPage<T extends PaginationType> = WithPrevPageNeighbour<WhichPageNeighbour<T>>;\n\nexport type WithPaginationCursor<T extends Record<any, any> = {}> = T & { cursor?: string };\nexport type WithPaginationLimit<T extends Record<any, any> = {}> = T & { limit?: number };\nexport type WithPaginationOffset<T extends Record<any, any> = {}> = T & { offset: number };\nexport type WithPaginationRecordSize<T extends Record<any, any> = {}> = T & { size?: number };\n\nexport type WithPaginationLimitSelection<T extends Record<any, any> = {}> = T & {\n    limitOptions?: readonly number[];\n    onLimitSelection?: (limit: number) => void;\n};\n\nexport type PaginatedResponseDataKeyword = 'hasNext' | 'hasPrevious' | '_links';\nexport type PaginatedResponseDataField<DataField extends string> = Exclude<DataField | PaginatedResponseDataKeyword, PaginatedResponseDataKeyword>;\n\nexport type BasePaginatedResponseData<T = any, DataField extends string = 'data'> = {\n    [K in PaginatedResponseDataField<DataField>]?: T[];\n};\n\nexport type PaginatedResponseDataWithLinks<T = any, DataField extends string = 'data'> = BasePaginatedResponseData<T, DataField> & {\n    _links: {\n        [K in PageNeighbour]?: { cursor: string };\n    };\n};\n\nexport type PaginatedResponseDataWithoutLinks<T = any, DataField extends string = 'data'> = BasePaginatedResponseData<T, DataField> & {\n    hasNext?: boolean;\n    hasPrevious?: boolean;\n};\n\nexport type PaginatedResponseData<T = any, DataField extends string = 'data'> =\n    | PaginatedResponseDataWithLinks<T, DataField>\n    | PaginatedResponseDataWithoutLinks<T, DataField>;\n\nexport interface UseFilters<S extends UseReactiveStateRecord> {\n    canResetFilters: S['canResetState'];\n    defaultFilters: S['defaultState'];\n    filters: S['state'];\n    resetFilters: S['resetState'];\n    updateFilters: S['updateState'];\n}\n\nexport interface UsePagination extends Required<WithPaginationLimit>, WithPaginationRecordSize {\n    goto: (page: number) => void;\n    hasNext: boolean;\n    hasPrev: boolean;\n    next: () => void;\n    page: number | undefined;\n    pages: number | undefined;\n    pageSize: number | undefined;\n    prev: () => void;\n    resetPagination: () => void;\n}\n\nexport type PaginationProps = WithPaginationLimitSelection<Omit<UsePagination, 'goto' | 'resetPagination'> & Partial<Pick<UsePagination, 'goto'>>> & {\n    ariaLabelKey?: TranslationKey;\n    limitSelectAriaLabelKey?: TranslationKey;\n};\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { boolOrFalse, EMPTY_OBJECT } from '../../../../utils';\nimport {\n    BasePaginatedRecordsInitOptions,\n    PaginatedRecordsFetcherReturnValue,\n    RequestPageCallback,\n    RequestPageCallbackParams,\n    RequestPageCallbackReturnValue,\n    UsePaginatedRecords,\n} from './types';\nimport usePageLimit from './usePageLimit';\nimport useCursorPagination from './useCursorPagination';\nimport useOffsetPagination from './useOffsetPagination';\nimport usePaginatedRecordsFilters from './usePaginatedRecordsFilters';\nimport useBooleanState from '../../../../hooks/useBooleanState';\nimport useMounted from '../../../../hooks/useMounted';\nimport {\n    PageNeighbour,\n    PaginatedResponseData,\n    PaginatedResponseDataField,\n    PaginatedResponseDataWithLinks,\n    PaginationType,\n    WithEitherPages,\n} from '../types';\nimport AdyenPlatformExperienceError from '../../../../core/Errors/AdyenPlatformExperienceError';\nimport { ReactiveStateRecord } from '../../../../hooks/useReactiveState/types';\n\nconst offsetPaginatedResponseFields = ['hasNext', 'hasPrevious'] as const;\n\nconst isCursorPaginatedResponseData = <T, DataField extends string>(\n    data: PaginatedResponseData<T, DataField>\n): data is PaginatedResponseDataWithLinks<T, DataField> => {\n    const dataProperties = Object.getOwnPropertyNames(data as PaginatedResponseDataWithLinks<T, DataField>);\n    return !offsetPaginatedResponseFields.some(prop => dataProperties.includes(prop));\n};\n\nconst parseCursorPaginatedResponseData = <T, DataField extends string>(\n    data: PaginatedResponseData<T, DataField>,\n    dataField: PaginatedResponseDataField<DataField> = 'data' as PaginatedResponseDataField<DataField>\n) => {\n    const records = data[dataField] as T[];\n\n    if (isCursorPaginatedResponseData<T, DataField>(data)) {\n        const paginationData = Object.fromEntries(\n            Object.entries(data._links).map(([key, value]) => [key, value.cursor])\n        ) as WithEitherPages<PaginationType.CURSOR>;\n\n        return { records, paginationData };\n    }\n\n    throw new TypeError('MALFORMED_PAGINATED_DATA');\n};\n\nconst parseOffsetPaginatedResponseData = <T, DataField extends string>(\n    data: PaginatedResponseData<T, DataField>,\n    dataField: PaginatedResponseDataField<DataField> = 'data' as PaginatedResponseDataField<DataField>\n) => {\n    const records = data[dataField] as T[];\n\n    if (!isCursorPaginatedResponseData<T, DataField>(data)) {\n        const { hasNext, hasPrevious } = data;\n\n        const paginationData = {\n            [PageNeighbour.NEXT]: boolOrFalse(hasNext),\n            [PageNeighbour.PREV]: boolOrFalse(hasPrevious),\n        } as WithEitherPages<PaginationType.OFFSET>;\n\n        return { records, paginationData };\n    }\n\n    throw new TypeError('MALFORMED_PAGINATED_DATA');\n};\n\nconst usePaginatedRecords = <T, DataField extends string, FilterValue extends string, FilterParam extends string>({\n    dataField = 'data' as PaginatedResponseDataField<DataField>,\n    fetchRecords,\n    filterParams = EMPTY_OBJECT as ReactiveStateRecord<FilterValue, FilterParam>,\n    initialFiltersSameAsDefault = true,\n    initialize,\n    onFiltersChanged,\n    pagination,\n    preferredLimit,\n    preferredLimitOptions,\n    enabled,\n}: BasePaginatedRecordsInitOptions<T, DataField, FilterValue, FilterParam>): UsePaginatedRecords<T, FilterValue, FilterParam> => {\n    const [records, setRecords] = useState<T[]>([]);\n    const [fetching, updateFetching] = useBooleanState(true);\n    const [error, setError] = useState<AdyenPlatformExperienceError>();\n    const [preferredPageLimit, setPreferredPageLimit] = useState(preferredLimit);\n\n    const $mounted = useMounted();\n    const $initialFetchInProgress = useRef(true);\n    const $lastRequestedPage = useRef(1);\n    const $recordsFilters = usePaginatedRecordsFilters<FilterValue, FilterParam>(filterParams, initialFiltersSameAsDefault);\n\n    const { limit, limitOptions } = usePageLimit({ preferredLimit: preferredPageLimit, preferredLimitOptions });\n    const { defaultFilters, filters, updateFilters, ...filtersProps } = $recordsFilters;\n\n    const [parsePaginatedResponseData, usePagination] = useMemo(\n        () =>\n            pagination === PaginationType.CURSOR\n                ? [parseCursorPaginatedResponseData, useCursorPagination]\n                : [parseOffsetPaginatedResponseData, useOffsetPagination],\n        []\n    );\n\n    const updateLimit = useCallback((limit: number) => setPreferredPageLimit(limit), []);\n\n    const { goto, page, pages, resetPagination, ...paginationProps } = usePagination(\n        useCallback(\n            async (\n                { page, ...pageRequestParams }: RequestPageCallbackParams<PaginationType>,\n                signal?: AbortSignal\n            ): Promise<RequestPageCallbackReturnValue<PaginationType>> => {\n                try {\n                    setError(undefined);\n                    $lastRequestedPage.current = page;\n\n                    if (!$mounted.current || <undefined>updateFetching(true)) return;\n\n                    const res = await fetchRecords({ ...pageRequestParams, ...filters }, signal);\n                    const { records, paginationData } = parsePaginatedResponseData<T, DataField>(res, dataField);\n\n                    if ($initialFetchInProgress.current) {\n                        initialize?.([records, paginationData] as PaginatedRecordsFetcherReturnValue<PaginationType, T>, $recordsFilters);\n                        $initialFetchInProgress.current = false;\n                    }\n\n                    if ($mounted.current) {\n                        setRecords(records);\n                        updateFetching(false);\n                    }\n\n                    return { ...paginationData, size: records?.length };\n                } catch (err) {\n                    // TODO - Handle signal abortion and updateFetching\n                    if (signal?.aborted) return;\n                    updateFetching(false);\n                    setError(err as AdyenPlatformExperienceError);\n\n                    console.error(err);\n                }\n            },\n            [fetchRecords, filters, limit]\n        ) as RequestPageCallback<PaginationType>,\n        limit\n    );\n\n    useMemo(() => {\n        $initialFetchInProgress.current = true;\n        /* eslint-disable-next-line */\n    }, [filterParams]);\n\n    useMemo(() => {\n        resetPagination();\n        $lastRequestedPage.current = 1;\n        /* eslint-disable-next-line */\n    }, [filters, limit, resetPagination]);\n\n    useEffect(() => {\n        if (enabled) goto($lastRequestedPage.current);\n    }, [goto, enabled]);\n\n    useEffect(() => {\n        onFiltersChanged?.(filters);\n    }, [filters]);\n\n    return { error, fetching, filters, goto, limitOptions, page, pages, records, updateFilters, updateLimit, ...filtersProps, ...paginationProps };\n};\n\nexport default usePaginatedRecords;\n","import { PaginatedRecordsInitOptions, UsePaginatedRecords } from './types';\nimport usePaginatedRecords from './usePaginatedRecords';\nimport { PaginationType } from '../types';\n\nconst useCursorPaginatedRecords = <T, DataField extends string, FilterValue extends string, FilterParam extends string>(\n    initOptions: PaginatedRecordsInitOptions<T, DataField, FilterValue, FilterParam>\n): UsePaginatedRecords<T, FilterValue, FilterParam> => {\n    return usePaginatedRecords<T, DataField, FilterValue, FilterParam>({\n        ...initOptions,\n        pagination: PaginationType.CURSOR,\n    });\n};\n\nexport default useCursorPaginatedRecords;\n","import { useEffect, useMemo, useState } from 'preact/hooks';\nimport restamper, { RestampContext } from '../../../../core/Localization/datetime/restamper';\nimport { getGMTSuffixForTimezoneOffset, getTimezoneOffsetFromFormattedDateString } from '../../../../core/Localization/datetime/restamper/utils';\nimport { isWatchlistUnsubscribeToken } from '../../../../primitives/reactive/watchlist';\nimport { boolOrFalse, EMPTY_ARRAY, EMPTY_OBJECT } from '../../../../utils';\nimport clock from '../../../../primitives/time/clock';\n\nexport type UseTimezoneConfig = {\n    timezone?: RestampContext['TIMEZONE'];\n    withClock?: boolean;\n};\n\nexport const { getTimezoneTime, getUsedTimezone } = (() => {\n    const REGEX_CLOCK_TIME_MATCHER = /\\d{2}:\\d{2}(?=:\\d{2}(?:\\.\\d+)?\\s+([AP]M))/i;\n    const REGEX_GMT_OFFSET_UNWANTED_SUBSTRINGS = /^GMT|0(?=\\d:00)|:00/g;\n    const $restamper = restamper();\n\n    const getTimezoneTime = (timezone: RestampContext['TIMEZONE'], timestamp = Date.now()) => {\n        $restamper.tz = timezone!; // switch restamper to this timezone\n\n        const { formatted } = $restamper(timestamp);\n        const [time = '', meridian = ''] = formatted?.match(REGEX_CLOCK_TIME_MATCHER) ?? EMPTY_ARRAY;\n        const offset = getTimezoneOffsetFromFormattedDateString(formatted);\n        const clockTime = `${time}${meridian && ` ${meridian}`}`;\n        const GMTOffsetString = getGMTSuffixForTimezoneOffset(offset).replace(REGEX_GMT_OFFSET_UNWANTED_SUBSTRINGS, '');\n\n        return [clockTime, GMTOffsetString] as const;\n    };\n\n    const getUsedTimezone = (timezone?: RestampContext['TIMEZONE']) => {\n        $restamper.tz = timezone;\n        return $restamper.tz.current!;\n    };\n\n    return { getTimezoneTime, getUsedTimezone } as const;\n})();\n\nconst useTimezone = ({ timezone: tz, withClock = false }: UseTimezoneConfig = EMPTY_OBJECT) => {\n    const shouldWatchClock = useMemo(() => boolOrFalse(withClock), [withClock]);\n    const timezone = useMemo(() => getUsedTimezone(tz), [tz]);\n\n    const [timestamp, setTimestamp] = useState(Date.now());\n    const [clockTime, GMTOffset] = useMemo(() => getTimezoneTime(timezone, timestamp), [timestamp, timezone]);\n\n    useEffect(() => {\n        if (!shouldWatchClock) return;\n\n        return clock.subscribe(snapshot => {\n            if (!isWatchlistUnsubscribeToken(snapshot)) {\n                setTimestamp(snapshot.now);\n            }\n        });\n    }, [setTimestamp, shouldWatchClock]);\n\n    return { clockTime, GMTOffset, timestamp, timezone } as const;\n};\n\nexport default useTimezone;\n","import { useCallback, useMemo, useRef, useState } from 'preact/hooks';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport type { RestampContext } from '../../../../../core/Localization/datetime/restamper';\nimport type { TranslationKey } from '../../../../../translations';\nimport { RangeTimestamp, RangeTimestamps } from '../../../Calendar/calendar/timerange';\nimport * as RangePreset from '../../../Calendar/calendar/timerange/presets';\n\nexport type TimeRangeOptions = 'last7Days' | 'last30Days' | 'last90Days' | 'thisWeek' | 'lastWeek' | 'thisMonth' | 'lastMonth' | 'yearToDate';\n\nexport const TIME_RANGE_SELECTION_PRESET_OPTION_KEYS = Object.freeze({\n    LAST_7_DAYS: 'common.filters.types.date.rangeSelect.options.last7Days',\n    LAST_30_DAYS: 'common.filters.types.date.rangeSelect.options.last30Days',\n    LAST_90_DAYS: 'common.filters.types.date.rangeSelect.options.last90Days',\n    THIS_WEEK: 'common.filters.types.date.rangeSelect.options.thisWeek',\n    LAST_WEEK: 'common.filters.types.date.rangeSelect.options.lastWeek',\n    THIS_MONTH: 'common.filters.types.date.rangeSelect.options.thisMonth',\n    LAST_MONTH: 'common.filters.types.date.rangeSelect.options.lastMonth',\n    YEAR_TO_DATE: 'common.filters.types.date.rangeSelect.options.yearToDate',\n} as const);\n\nexport type TimeRangeSelectionPresetOptionKey =\n    (typeof TIME_RANGE_SELECTION_PRESET_OPTION_KEYS)[keyof typeof TIME_RANGE_SELECTION_PRESET_OPTION_KEYS];\n\nexport type UseTimeRangeSelectionConfig = {\n    clearable?: boolean;\n    now?: RangeTimestamp;\n    options: Readonly<Partial<{ [P in TimeRangeOptions as `common.filters.types.date.rangeSelect.options.${P}`]: RangeTimestamps }>>;\n    selectedOption?: string;\n    timezone?: RestampContext['TIMEZONE'];\n};\n\nexport type UseTimeRangeSelectionData = ReturnType<typeof useTimeRangeSelection>;\n\nexport const getTimeRangeSelectionDefaultPresetOptions = ({\n    exclude = [],\n}: { exclude?: TimeRangeSelectionPresetOptionKey[] } = {}): UseTimeRangeSelectionConfig['options'] => {\n    const allOptions = {\n        [TIME_RANGE_SELECTION_PRESET_OPTION_KEYS.LAST_7_DAYS]: RangePreset.lastNDays(7),\n        [TIME_RANGE_SELECTION_PRESET_OPTION_KEYS.LAST_30_DAYS]: RangePreset.lastNDays(30),\n        [TIME_RANGE_SELECTION_PRESET_OPTION_KEYS.LAST_90_DAYS]: RangePreset.lastNDays(90),\n        [TIME_RANGE_SELECTION_PRESET_OPTION_KEYS.THIS_WEEK]: RangePreset.thisWeek(),\n        [TIME_RANGE_SELECTION_PRESET_OPTION_KEYS.LAST_WEEK]: RangePreset.lastWeek(),\n        [TIME_RANGE_SELECTION_PRESET_OPTION_KEYS.THIS_MONTH]: RangePreset.thisMonth(),\n        [TIME_RANGE_SELECTION_PRESET_OPTION_KEYS.LAST_MONTH]: RangePreset.lastMonth(),\n        [TIME_RANGE_SELECTION_PRESET_OPTION_KEYS.YEAR_TO_DATE]: RangePreset.yearToDate(),\n    } satisfies Readonly<Partial<Record<TranslationKey, RangeTimestamps>>>;\n\n    if (!exclude?.length) return Object.freeze(allOptions) as UseTimeRangeSelectionConfig['options'];\n\n    const excludeSet = new Set(exclude);\n    return Object.freeze(\n        Object.fromEntries(Object.entries(allOptions).filter(([key]) => !excludeSet.has(key as TimeRangeSelectionPresetOptionKey)))\n    ) as UseTimeRangeSelectionConfig['options'];\n};\n\nexport const useTimeRangeSelection = ({\n    now = Date.now(),\n    options: presetOptions,\n    selectedOption: selectedPresetOption,\n    timezone,\n}: UseTimeRangeSelectionConfig) => {\n    const { i18n } = useCoreContext();\n    const [from, setFrom] = useState<number>();\n    const [to, setTo] = useState<number>();\n    const [selectedOption, setSelectedOption] = useState<string>();\n    const NOW = useRef<typeof now>();\n    const TZ = useRef<typeof timezone>();\n\n    const [customOption, getRangesForOption, selectionOptions] = useMemo(() => {\n        const customOption = i18n.get('common.filters.types.date.rangeSelect.options.custom');\n        const optionKeys = Object.keys(presetOptions) as TranslationKey[];\n        const selectionOptions = Object.freeze(optionKeys.map(key => i18n.get(key)));\n\n        const getRangesForOption = (option: string, options: readonly string[] = selectionOptions) => {\n            const optionIndex = options.findIndex(currentOption => currentOption === option);\n            return presetOptions[optionKeys[optionIndex] as keyof typeof presetOptions];\n        };\n\n        return [customOption, getRangesForOption, selectionOptions] as const;\n    }, [i18n, presetOptions]);\n\n    const [isCustomSelection, setIsCustomSelection] = useState(selectedPresetOption === customOption);\n    const selectionOptionsWithCustomOption = useMemo(() => Object.freeze([...selectionOptions, customOption]), [customOption, selectionOptions]);\n\n    const options = useMemo(\n        () => (isCustomSelection ? selectionOptionsWithCustomOption : selectionOptions),\n        [isCustomSelection, selectionOptions, selectionOptionsWithCustomOption]\n    );\n\n    const onSelection = useCallback(\n        (option: string) => {\n            const ranges = getRangesForOption(option, selectionOptions);\n            if (!ranges) return;\n\n            setFrom(ranges.from);\n            setTo(ranges.to);\n            setIsCustomSelection(false);\n            setSelectedOption(option);\n        },\n        [customOption, getRangesForOption, selectedOption, selectionOptions]\n    );\n\n    const customSelection = useCallback(() => {\n        setFrom(undefined);\n        setTo(undefined);\n        setIsCustomSelection(true);\n        setSelectedOption(customOption);\n    }, [customOption]);\n\n    useMemo(() => {\n        selectedPresetOption === customOption ? setSelectedOption(customOption) : onSelection(selectedPresetOption!);\n    }, []);\n\n    useMemo(() => {\n        if (NOW.current !== now || TZ.current !== timezone) {\n            const options = Object.values(presetOptions);\n\n            options.forEach(ranges => {\n                ranges.now = now;\n                ranges.timezone = timezone;\n            });\n\n            NOW.current = now;\n            TZ.current = options[0]?.timezone;\n\n            onSelection(selectedOption!);\n        }\n    }, [now, timezone, presetOptions]);\n\n    return {\n        customSelection,\n        from,\n        onSelection,\n        options,\n        selectedOption,\n        to,\n    } as const;\n};\n\nexport default useTimeRangeSelection;\n","import { AriaAttributes } from 'preact/compat';\nimport { useCallback, useEffect, useMemo, useRef } from 'preact/hooks';\nimport Select from '../../../FormFields/Select';\nimport { SelectChangeEvent, SelectItem } from '../../../FormFields/Select/types';\nimport { useTimeRangeSelection, UseTimeRangeSelectionConfig } from './useTimeRangeSelection';\n\nconst TimeRangeSelector = ({\n    ['aria-label']: ariaLabel,\n    calendarRef,\n    onTimeRangeSelected,\n    timestamp,\n    ...useTimeRangeSelectionConfig\n}: UseTimeRangeSelectionConfig &\n    Pick<AriaAttributes, 'aria-label'> & {\n        calendarRef?: any;\n        onTimeRangeSelected?: (option: string) => any;\n        timestamp: DOMHighResTimeStamp;\n    }) => {\n    const { customSelection, from, onSelection, options, selectedOption, to } = useTimeRangeSelection(useTimeRangeSelectionConfig);\n    const selectOptions = useMemo(() => Object.freeze(options.map(id => ({ id, name: id }) as SelectItem)), [options]);\n    const onSelectedOptionChanged = useCallback(({ target }: SelectChangeEvent) => onSelection(target?.value), [onSelection]);\n    const rangeSelectionInProgress = useRef(true);\n    const cachedTimestamp = useRef(timestamp);\n\n    useEffect(() => {\n        if (calendarRef?.current && from && to) {\n            rangeSelectionInProgress.current = true;\n            calendarRef.current.from = new Date(from);\n            calendarRef.current.to = new Date(to);\n        }\n    }, [calendarRef, from, to]);\n\n    useEffect(() => {\n        if (cachedTimestamp.current !== timestamp) {\n            cachedTimestamp.current = timestamp;\n\n            if (rangeSelectionInProgress.current) {\n                rangeSelectionInProgress.current = false;\n            } else customSelection();\n        }\n    }, [customSelection, timestamp]);\n\n    useEffect(() => {\n        selectedOption && onTimeRangeSelected?.(selectedOption);\n    }, [selectedOption, onTimeRangeSelected]);\n\n    return (\n        <Select\n            setToTargetWidth={true}\n            items={selectOptions}\n            filterable={false}\n            multiSelect={false}\n            onChange={onSelectedOptionChanged}\n            selected={selectedOption}\n            aria-label={ariaLabel}\n        />\n    );\n};\n\nexport default TimeRangeSelector;\n","import { boolOrTrue, EMPTY_OBJECT, enumerable, isPlainObject, struct, structFrom } from '../../../../../utils';\n\ntype PropertyDescriptor<T = any> = {\n    configurable?: boolean;\n    enumerable?: boolean;\n    value?: T;\n    writable?: boolean;\n    get?(): T | undefined;\n    set?(v?: T): void;\n};\n\ntype PropertyFactory = {\n    <T = any>(setter?: false | ((value?: T) => T | undefined), value?: T): PropertyDescriptor<T>;\n    is: (value: any) => value is PropertyDescriptor;\n    isObject: (value: any) => value is Record<any, any>;\n    immutable: <T = any>(value?: T) => PropertyDescriptor<T>;\n    mutable: <T = any>(value?: T) => PropertyDescriptor<T>;\n    restricted: () => PropertyDescriptor<undefined>;\n};\n\nexport const property = (() => {\n    const descriptor = <T>(descriptor: PropertyDescriptor<T>) =>\n        Object.freeze(\n            structFrom(EMPTY_OBJECT, Object.fromEntries(Object.entries(descriptor).map(([field, value]) => [field, { value }])))\n        ) as PropertyDescriptor<T>;\n\n    const isPropDescriptor = (value: any): value is PropertyDescriptor => {\n        try {\n            return Object.getPrototypeOf(value) === EMPTY_OBJECT;\n        } catch {\n            return false;\n        }\n    };\n\n    const prop = <T = any>(setter?: false | ((value?: T) => T | undefined), value?: T) => {\n        if (!setter) return descriptor(enumerable(value, boolOrTrue(setter)));\n\n        let currentValue = value;\n\n        return descriptor({\n            enumerable: true,\n            get: () => currentValue,\n            set: (value?: T) => {\n                currentValue = setter(value);\n            },\n        });\n    };\n\n    return Object.defineProperties(prop, {\n        is: { value: isPropDescriptor },\n        isObject: { value: isPlainObject },\n        immutable: { value: <T = any>(value?: T) => prop(false, value) },\n        mutable: { value: <T = any>(value?: T) => prop(undefined, value) },\n        restricted: { value: () => prop<undefined>(false) },\n    }) as PropertyFactory;\n})();\n\nexport const propsProperty = (() => {\n    type UnwrappedProps<T extends Record<string, any>> = {\n        [K in keyof T]:\n            | (T[K] extends PropertyDescriptor<infer U> ? (U extends Record<string, any> ? UnwrappedProps<U> : U) : T[K])\n            | PropertyDescriptor<T[K]>;\n    } & Record<string, any>;\n\n    const propsProperty = <T extends Record<string, any> = {}>(props = {} as UnwrappedProps<T>, deepImmutable = false) => {\n        const $props = struct() as UnwrappedProps<T>;\n\n        for (const [prop, maybeDescriptor] of Object.entries<UnwrappedProps<T>[keyof T]>(props)) {\n            try {\n                const isDescriptor = property.is(maybeDescriptor);\n                const isPlainObject = property.isObject(maybeDescriptor);\n\n                if (isDescriptor || isPlainObject) {\n                    Object.defineProperty($props, prop, isDescriptor ? maybeDescriptor : propsProperty(maybeDescriptor, deepImmutable));\n                    continue;\n                } else if (deepImmutable) {\n                    Object.defineProperty($props, prop, property.immutable(maybeDescriptor));\n                    continue;\n                }\n            } catch {\n                /* no empty catch block */\n            }\n\n            $props[prop as keyof T] = maybeDescriptor;\n        }\n\n        return property((props = {} as UnwrappedProps<T>) => Object.assign($props, props), $props);\n    };\n\n    const unwrapped = <T extends Record<string, any> = {}>(props = {} as UnwrappedProps<T>, deepImmutable = false) => {\n        const P = propsProperty(props, deepImmutable);\n        return struct({ P }).P as T;\n    };\n\n    return Object.defineProperties(propsProperty, {\n        unwrapped: { value: unwrapped },\n    }) as {\n        <T extends Record<string, any> = {}>(props?: UnwrappedProps<T>, deepImmutable?: boolean): PropertyDescriptor<UnwrappedProps<T>>;\n        unwrapped: <T extends Record<string, any> = {}>(props?: UnwrappedProps<T>, deepImmutable?: boolean) => T;\n    };\n})();\n","import { VNode } from 'preact';\nimport {\n    CalendarBlock,\n    CalendarConfig,\n    CalendarGridControlRecord,\n    CalendarSelection,\n    CalendarShiftControls,\n    FirstWeekDay,\n    Time,\n    TimeFrameSize,\n} from './calendar/types';\n\nexport const enum CalendarGridRenderToken {\n    DATE,\n    DAY_OF_WEEK,\n    MONTH_HEADER,\n}\n\nexport interface CalendarGridCursorRootProps {\n    onClickCapture: (evt: Event) => void;\n    onMouseOverCapture: (evt: Event) => void;\n    onPointerOverCapture: (evt: Event) => void;\n    onKeyDownCapture: (evt: KeyboardEvent) => void;\n}\n\nexport interface CalendarHandle {\n    clear: () => void;\n    config: CalendarConfig;\n    from?: Date;\n    to?: Date;\n}\n\nexport interface CalendarProps {\n    blocks?: TimeFrameSize;\n    controls?: CalendarShiftControls;\n    dynamicBlockRows?: boolean;\n    firstWeekDay?: FirstWeekDay;\n    highlight?: CalendarSelection | string;\n    locale?: string;\n    onHighlight?: (from?: number, to?: number) => any;\n    onlyCellsWithin?: boolean;\n    originDate?: Time | Time[];\n    getGridLabel: (block: CalendarBlock) => string | undefined;\n    prepare?: (renderToken: CalendarGridRenderToken, renderContext: any) => any;\n    renderControl?: (...args: CalendarGridControlRecord) => VNode | null;\n    sinceDate?: Time;\n    timezone?: string;\n    trackCurrentDay?: boolean;\n    untilDate?: Time;\n    useYearView?: boolean;\n}\n\nexport type CalendarRenderControl = Exclude<CalendarProps['renderControl'], undefined>;\nexport type CalendarControlRenderer = (targetElement: Element, ...args: CalendarGridControlRecord) => ReturnType<CalendarRenderControl>;\n","import { memo } from 'preact/compat';\nimport { property, propsProperty } from './utils';\nimport { CalendarGridDateProps, CalendarGridDateRenderProps } from './types';\nimport { fixedForwardRef, getClassName, memoComparator } from '../../../../../utils/preact';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport { CalendarGridRenderToken } from '../../types';\n\nconst DEFAULT_DATE_CELL_CLASSNAME = 'adyen-pe-calendar__cell adyen-pe-calendar__cell--date';\nconst DEFAULT_DATE_TIME_CLASSNAME = 'adyen-pe-calendar__date';\n\nconst getGridDateRenderProps = (computedProps = EMPTY_OBJECT as any, prepare?: CalendarGridDateProps['prepare']) => {\n    const renderProps = propsProperty.unwrapped<CalendarGridDateRenderProps>(\n        {\n            childClassName: property.mutable(DEFAULT_DATE_TIME_CLASSNAME),\n            childProps: {\n                children: property.restricted(),\n                className: '',\n            },\n            className: property.mutable(DEFAULT_DATE_CELL_CLASSNAME),\n            props: {\n                ...computedProps,\n                children: property.restricted(),\n                className: '',\n            },\n        },\n        true\n    );\n\n    prepare?.(CalendarGridRenderToken.DATE, renderProps);\n    return renderProps;\n};\n\nconst CalendarGridDate = fixedForwardRef(\n    ({ grid, prepare, datetime, flags, index, label, onlyCellsWithin }: CalendarGridDateProps, cursorElementRef) => {\n        const withinMonth = flags.WITHIN_BLOCK;\n\n        const props = {\n            'data-cursor-position': index,\n            'data-within-month': withinMonth,\n            tabIndex: -1,\n        } as any;\n\n        if (withinMonth) {\n            const withinRange = flags.WITHIN_RANGE;\n\n            props['data-today'] = flags.CURRENT;\n            props['data-first-week-day'] = flags.LINE_START;\n            props['data-last-week-day'] = flags.LINE_END;\n            props['data-weekend'] = flags.WEEKEND;\n            props['data-first-month-day'] = flags.BLOCK_START;\n            props['data-last-month-day'] = flags.BLOCK_END;\n\n            props['data-within-range'] = withinRange;\n\n            if (withinRange) {\n                props['data-range-end'] = flags.RANGE_END;\n                props['data-range-start'] = flags.RANGE_START;\n                props['data-selection-end'] = flags.SELECTION_END;\n                props['data-selection-start'] = flags.SELECTION_START;\n                props['data-within-selection'] = flags.WITHIN_SELECTION;\n                props['aria-selected'] = `${!!(flags.SELECTION_END || flags.SELECTION_START || flags.WITHIN_SELECTION)}`;\n            }\n\n            if (index === +grid.cursor) props.ref = cursorElementRef;\n        }\n\n        const renderProps = getGridDateRenderProps(props, prepare);\n        const { children: _, className, ...extendedProps } = renderProps.props || (EMPTY_OBJECT as NonNullable<typeof renderProps.props>);\n        const classes = getClassName(renderProps.className, DEFAULT_DATE_CELL_CLASSNAME, className);\n\n        return (\n            <td {...extendedProps} {...props} className={classes}>\n                {(!onlyCellsWithin || withinMonth) &&\n                    (() => {\n                        const {\n                            children: _,\n                            className,\n                            ...extendedProps\n                        } = renderProps.childProps || (EMPTY_OBJECT as NonNullable<typeof renderProps.childProps>);\n                        const classes = getClassName(renderProps.childClassName, DEFAULT_DATE_TIME_CLASSNAME, className);\n                        return (\n                            <time {...extendedProps} className={classes} dateTime={datetime}>\n                                {label}\n                            </time>\n                        );\n                    })()}\n            </td>\n        );\n    }\n);\n\nexport default memo(\n    CalendarGridDate,\n    memoComparator({\n        block: memoComparator.exclude,\n        flags: value => +(value as number),\n    })\n);\n","import { memo } from 'preact/compat';\nimport { property, propsProperty } from './utils';\nimport { getClassName, memoComparator } from '../../../../../utils/preact';\nimport { CalendarGridDayOfWeekProps, CalendarGridDayOfWeekRenderProps } from './types';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport { CalendarGridRenderToken } from '../../types';\nimport { Ref } from 'preact';\n\nconst DEFAULT_CELL_CLASSNAME = 'adyen-pe-calendar__cell adyen-pe-calendar__cell--day-of-week';\nconst DEFAULT_CELL_ABBR_CLASSNAME = 'adyen-pe-calendar__day-of-week';\n\nconst getGridDayOfWeekRenderProps = (computedProps = EMPTY_OBJECT as any, prepare?: CalendarGridDayOfWeekProps['prepare']) => {\n    const renderProps = propsProperty.unwrapped<CalendarGridDayOfWeekRenderProps>(\n        {\n            childClassName: property.mutable(DEFAULT_CELL_ABBR_CLASSNAME),\n            childProps: {\n                children: property.restricted(),\n                className: '',\n            },\n            className: property.mutable(DEFAULT_CELL_CLASSNAME),\n            props: {\n                ...computedProps,\n                children: property.restricted(),\n                className: '',\n            },\n        },\n        true\n    );\n\n    prepare?.(CalendarGridRenderToken.DAY_OF_WEEK, renderProps);\n    return renderProps;\n};\n\nconst CalendarGridDayOfWeek = ({ prepare, flags, labels: { long: longLabel, short: shortLabel } }: CalendarGridDayOfWeekProps) => {\n    const props = {\n        'aria-label': longLabel,\n        'data-first-week-day': flags.LINE_START,\n        'data-last-week-day': flags.LINE_END,\n        'data-weekend': flags.WEEKEND,\n        scope: 'col',\n    };\n\n    const renderProps = getGridDayOfWeekRenderProps(props, prepare);\n    const { children: _, className, onCommand, ...extendedProps } = renderProps.props || (EMPTY_OBJECT as NonNullable<typeof renderProps.props>);\n\n    const classes = getClassName(renderProps.className, DEFAULT_CELL_CLASSNAME, className);\n\n    const {\n        children: __,\n        className: childClassName,\n        ...extendedChildProps\n    } = renderProps.childProps || (EMPTY_OBJECT as NonNullable<typeof renderProps.childProps>);\n    const childClasses = getClassName(renderProps.childClassName, DEFAULT_CELL_ABBR_CLASSNAME, childClassName);\n\n    return (\n        <th {...extendedProps} ref={extendedProps.ref as Ref<HTMLTableCellElement>} {...props} className={classes}>\n            <abbr {...extendedChildProps} className={childClasses}>\n                {shortLabel}\n            </abbr>\n        </th>\n    );\n};\n\nexport default memo(\n    CalendarGridDayOfWeek,\n    memoComparator({\n        block: memoComparator.exclude,\n        flags: value => +(value as number),\n    })\n);\n","import { forwardRef, memo } from 'preact/compat';\nimport { CalendarGridProps } from './types';\nimport CalendarGridDate from './CalendarGridDate';\nimport CalendarGridDayOfWeek from './CalendarGridDayOfWeek';\nimport '../../Calendar.scss';\n\nconst CalendarGrid = forwardRef(({ cursorRootProps, onlyCellsWithin, prepare, getGridLabel, grid }: CalendarGridProps, cursorElementRef) => (\n    <ol className={'adyen-pe-calendar'} role=\"none\" {...cursorRootProps}>\n        {grid.map(block => (\n            <li key={block.datetime} className={'adyen-pe-calendar__month'} role=\"none\">\n                <div className={'adyen-pe-calendar__month-name'} role=\"none\">\n                    <time dateTime={block.datetime} aria-hidden=\"true\">\n                        {block.label}\n                    </time>\n                </div>\n\n                <table\n                    role=\"grid\"\n                    aria-multiselectable={true}\n                    aria-label={getGridLabel(block)}\n                    className={'adyen-pe-calendar__grid'}\n                    style={{ '--adyen-pe-calendar-rowspan': grid.rowspan }}\n                >\n                    <thead>\n                        <tr className={'adyen-pe-calendar__row'}>\n                            {grid.weekdays.map((data, index) => (\n                                <CalendarGridDayOfWeek key={data.labels['long']} grid={grid} block={block} prepare={prepare} cell={index} {...data} />\n                            ))}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {block.map((row, rowindex) => (\n                            <tr key={`${block.month}:${rowindex}`} className={'adyen-pe-calendar__row'}>\n                                {row.map((data, index) => (\n                                    <CalendarGridDate\n                                        key={`${block.month}:${data.timestamp}`}\n                                        ref={cursorElementRef}\n                                        grid={grid}\n                                        block={block}\n                                        prepare={prepare}\n                                        cell={index}\n                                        onlyCellsWithin={onlyCellsWithin}\n                                        row={rowindex}\n                                        {...data}\n                                    />\n                                ))}\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </li>\n        ))}\n    </ol>\n));\n\nexport default memo(CalendarGrid);\n","export const DAY_MS = 86400000 as const;\nexport const DAY_OF_WEEK_FORMATS = ['narrow', 'short', 'long'] as const;\nexport const FIRST_WEEK_DAYS = [0, 1, 6] as const;\nexport const FRAME_SIZES = [1, 2, 3, 4, 6, 12] as const;\nexport const MAXIMUM_MONTH_UNITS = 42 as const;\nexport const WEEKEND_DAYS_SEED = [0, 1] as const;\nexport const YEAR_MONTHS = 12 as const;\nexport const CONTROLS_ALL: unique symbol = Symbol();\nexport const CONTROLS_MINIMAL: unique symbol = Symbol();\nexport const CONTROLS_NONE: unique symbol = Symbol();\nexport const CALENDAR_CONTROLS = [CONTROLS_NONE, CONTROLS_MINIMAL, CONTROLS_ALL] as const;\nexport const SELECT_MANY: unique symbol = Symbol();\nexport const SELECT_NONE: unique symbol = Symbol();\nexport const SELECT_ONE: unique symbol = Symbol();\nexport const CALENDAR_SELECTIONS = [SELECT_NONE, SELECT_ONE, SELECT_MANY] as const;\nexport const CURSOR_BACKWARD: unique symbol = Symbol();\nexport const CURSOR_BLOCK_END: unique symbol = Symbol();\nexport const CURSOR_BLOCK_START: unique symbol = Symbol();\nexport const CURSOR_DOWNWARD: unique symbol = Symbol();\nexport const CURSOR_FORWARD: unique symbol = Symbol();\nexport const CURSOR_LINE_END: unique symbol = Symbol();\nexport const CURSOR_LINE_START: unique symbol = Symbol();\nexport const CURSOR_NEXT_BLOCK: unique symbol = Symbol();\nexport const CURSOR_PREV_BLOCK: unique symbol = Symbol();\nexport const CURSOR_UPWARD: unique symbol = Symbol();\nexport const RANGE_FROM: unique symbol = Symbol();\nexport const RANGE_TO: unique symbol = Symbol();\nexport const SELECTION_COLLAPSE: unique symbol = Symbol();\nexport const SELECTION_FARTHEST: unique symbol = Symbol();\nexport const SELECTION_FROM: unique symbol = Symbol();\nexport const SELECTION_NEAREST: unique symbol = Symbol();\nexport const SELECTION_TO: unique symbol = Symbol();\nexport const SHIFT_BLOCK: unique symbol = Symbol();\nexport const SHIFT_FRAME: unique symbol = Symbol();\nexport const SHIFT_PERIOD: unique symbol = Symbol();\n","import { FRAME_SIZES, WEEKEND_DAYS_SEED } from '../../constants';\nimport { FirstWeekDay, TimeFrameSize, WeekDay } from '../../types';\nimport { mod } from '../../../../../../utils';\n\nexport const downsizeTimeFrame = (size: TimeFrameSize, maxsize: number): TimeFrameSize => {\n    if (maxsize >= size) return size;\n    let i = Math.max(1, FRAME_SIZES.indexOf(size));\n    while (--i && maxsize < (FRAME_SIZES[i] as TimeFrameSize)) {}\n    return FRAME_SIZES[i] as TimeFrameSize;\n};\n\nexport const resolveTimeFrameBlockSize = (size: TimeFrameSize) => FRAME_SIZES[Math.max(FRAME_SIZES.indexOf(size), 0)];\n\nexport const getWeekendDays = (firstWeekDay: FirstWeekDay = 0) =>\n    // [TODO]: Derive weekend days based on locale\n    Object.freeze(WEEKEND_DAYS_SEED.map(seed => mod(6 - firstWeekDay + seed, 7)) as [WeekDay, WeekDay]);\n","import { RANGE_FROM, RANGE_TO } from '../constants';\nimport { Time, TimeFrameRangeEdge } from '../types';\nimport { computeTimestampOffset, getEdgesDistance } from '../utils';\n\nexport default class __TimeSlice__ {\n    readonly #numberOfMonths: number = Infinity;\n    readonly #endTimestamp: number = Infinity;\n    readonly #startTimestamp: number = -Infinity;\n    readonly #endTimestampOffset: number = 0;\n    readonly #startTimestampOffset: number = 0;\n\n    constructor(timezone?: string, fromTime?: Time, toTime?: Time);\n    constructor(timezone?: string, time?: Time, timeEdge?: TimeFrameRangeEdge);\n    constructor(...args: any[]) {\n        if (args.length >= 3) {\n            let timestamp = new Date(args[1]).getTime();\n\n            if (typeof args[2] !== 'symbol') {\n                this.#startTimestamp = timestamp || this.#startTimestamp;\n                this.#endTimestamp = new Date(args[2]).getTime() || this.#endTimestamp;\n\n                if (this.#endTimestamp < this.#startTimestamp) {\n                    [this.#endTimestamp, this.#startTimestamp] = [this.#startTimestamp, this.#endTimestamp];\n                }\n\n                this.#startTimestampOffset = computeTimestampOffset(this.#startTimestamp, args[0]);\n                this.#endTimestampOffset = computeTimestampOffset(this.#endTimestamp, args[0]);\n                this.#numberOfMonths = getEdgesDistance(this.#startTimestamp, this.#endTimestamp, args[0]) + 1;\n            } else if (!isNaN(timestamp)) {\n                switch (args[2]) {\n                    case RANGE_TO:\n                        this.#endTimestamp = timestamp;\n                        this.#endTimestampOffset = computeTimestampOffset(this.#endTimestamp, args[0]);\n                        break;\n\n                    case RANGE_FROM:\n                    default:\n                        this.#startTimestamp = timestamp;\n                        this.#startTimestampOffset = computeTimestampOffset(this.#startTimestamp, args[0]);\n                        break;\n                }\n            }\n        }\n    }\n\n    get numberOfMonths() {\n        return this.#numberOfMonths;\n    }\n\n    get endTimestamp() {\n        return this.#endTimestamp;\n    }\n\n    get endTimestampOffset() {\n        return this.#endTimestampOffset;\n    }\n\n    get startTimestamp() {\n        return this.#startTimestamp;\n    }\n\n    get startTimestampOffset() {\n        return this.#startTimestampOffset;\n    }\n}\n","import __TimeSlice__ from './TimeSlice';\nimport { RANGE_FROM, RANGE_TO } from '../constants';\nimport { TimeSlice, TimeSliceFactory } from '../types';\nimport { getter, struct } from '../../../../../utils';\nimport { withTimezone } from '../utils';\n\nconst factory = ((...args: any[]) => {\n    let tz = withTimezone().tz.current;\n    let slice = new __TimeSlice__(tz, ...args);\n\n    return struct({\n        from: getter(() => slice.startTimestamp, false),\n        to: getter(() => slice.endTimestamp, false),\n        offsets: {\n            value: struct({\n                from: getter(() => slice.startTimestampOffset, false),\n                to: getter(() => slice.endTimestampOffset, false),\n            }),\n        },\n        span: getter(() => slice.numberOfMonths, false),\n        timezone: {\n            ...getter(() => tz, false),\n            set: (timezone: string | undefined | null) => {\n                const currentTimezone = tz;\n                tz = withTimezone(timezone ?? undefined).tz.current;\n                if (tz !== currentTimezone) {\n                    slice = new __TimeSlice__(tz, ...args);\n                }\n            },\n        },\n    }) as TimeSlice;\n}) as TimeSliceFactory;\n\nexport const UNBOUNDED_SLICE = factory();\nexport const sinceNow = () => factory(Date.now(), RANGE_FROM);\nexport const untilNow = () => factory(Date.now(), RANGE_TO);\n\nexport default ((...args: any[]) => (args.length === 0 ? UNBOUNDED_SLICE : factory(...args))) as TimeSliceFactory;\n","import {\n    CONTROLS_ALL,\n    CONTROLS_MINIMAL,\n    CONTROLS_NONE,\n    CURSOR_BACKWARD,\n    CURSOR_BLOCK_END,\n    CURSOR_BLOCK_START,\n    CURSOR_DOWNWARD,\n    CURSOR_FORWARD,\n    CURSOR_LINE_END,\n    CURSOR_LINE_START,\n    CURSOR_NEXT_BLOCK,\n    CURSOR_PREV_BLOCK,\n    CURSOR_UPWARD,\n    DAY_OF_WEEK_FORMATS,\n    FIRST_WEEK_DAYS,\n    FRAME_SIZES,\n    RANGE_FROM,\n    RANGE_TO,\n    SHIFT_BLOCK,\n    SHIFT_FRAME,\n    SHIFT_PERIOD,\n    SELECT_MANY,\n    SELECT_NONE,\n    SELECT_ONE,\n    SELECTION_COLLAPSE,\n    SELECTION_FARTHEST,\n    SELECTION_FROM,\n    SELECTION_NEAREST,\n    SELECTION_TO,\n    CALENDAR_CONTROLS,\n    CALENDAR_SELECTIONS,\n} from './constants';\nimport { Indexed } from '../../../../primitives/auxiliary/indexed';\nimport { WatchListCallable } from '../../../../primitives/reactive/watchlist';\n\nexport type WithGetSetProperty<T = any> = {\n    get _(): T;\n    set _($: T);\n};\n\n// export type WithGetSetProperties<K extends string, T = any> = {\n//     [P in K]: WithGetSetProperty<T, X>['_'];\n// };\n\nexport type WithTimeEdges<T = {}> = {\n    from: T;\n    to: T;\n};\n\nexport type DayOfWeekLabelFormat = (typeof DAY_OF_WEEK_FORMATS)[number];\nexport type FirstWeekDay = (typeof FIRST_WEEK_DAYS)[number];\nexport type WeekDay = FirstWeekDay | 2 | 3 | 4 | 5;\nexport type Month = WeekDay | 7 | 8 | 9 | 10 | 11;\nexport type MonthDays = 28 | 29 | 30 | 31;\nexport type Time = Date | number | string;\n\nexport enum TimeFlag {\n    CURRENT = 0x1,\n    CURSOR = 0x2,\n    WEEKEND = 0x4,\n    LINE_START = 0x8,\n    LINE_END = 0x10,\n    WITHIN_BLOCK = 0x20,\n    BLOCK_START = 0x40,\n    BLOCK_END = 0x80,\n    WITHIN_RANGE = 0x100,\n    RANGE_START = 0x200,\n    RANGE_END = 0x400,\n    WITHIN_SELECTION = 0x800,\n    SELECTION_START = 0x1000,\n    SELECTION_END = 0x2000,\n    ALL = 0x3fff,\n}\n\nexport type TimeFlagProp = Exclude<keyof typeof TimeFlag, 'ALL'>;\n\nexport type TimeFrameCursor =\n    | typeof CURSOR_BACKWARD\n    | typeof CURSOR_BLOCK_END\n    | typeof CURSOR_BLOCK_START\n    | typeof CURSOR_DOWNWARD\n    | typeof CURSOR_FORWARD\n    | typeof CURSOR_LINE_END\n    | typeof CURSOR_LINE_START\n    | typeof CURSOR_NEXT_BLOCK\n    | typeof CURSOR_PREV_BLOCK\n    | typeof CURSOR_UPWARD;\n\nexport type TimeFrameSelection =\n    | typeof SELECTION_COLLAPSE\n    | typeof SELECTION_FARTHEST\n    | typeof SELECTION_FROM\n    | typeof SELECTION_NEAREST\n    | typeof SELECTION_TO;\n\nexport type TimeFrameRangeEdge = typeof RANGE_FROM | typeof RANGE_TO;\nexport type TimeFrameShift = typeof SHIFT_BLOCK | typeof SHIFT_FRAME | typeof SHIFT_PERIOD;\nexport type TimeFrameSize = (typeof FRAME_SIZES)[number];\n\ntype TimeFrameBlockMetrics<T extends string> = {\n    [K in T]: Readonly<WithTimeEdges<number>> & { readonly units: number };\n};\n\nexport type TimeFrameBlock = TimeFrameBlockMetrics<'inner' | 'outer'> &\n    Readonly<{\n        [K: number]: readonly [number, number];\n        month: Month;\n        year: number;\n    }>;\n\nexport type TimeSlice = Readonly<WithTimeEdges<number>> &\n    Readonly<{\n        offsets: Readonly<WithTimeEdges<number>>;\n        span: number;\n    }> & {\n        get timezone(): string;\n        set timezone(value: string | undefined | null);\n    };\n\nexport type TimeSliceFactory = {\n    (fromTime?: Time, toTime?: Time): TimeSlice;\n    (time?: Time, timeEdge?: TimeFrameRangeEdge): TimeSlice;\n};\n\nexport const enum CalendarShiftControlFlag {\n    PREV = 0x1,\n    BLOCK = 0x0,\n    FRAME = 0x2,\n    PERIOD = 0x4,\n}\n\nexport enum CalendarShiftControlsFlag {\n    PREV_PERIOD = CalendarShiftControlFlag.PREV | CalendarShiftControlFlag.PERIOD,\n    PREV_FRAME = CalendarShiftControlFlag.PREV | CalendarShiftControlFlag.FRAME,\n    PREV = CalendarShiftControlFlag.PREV | CalendarShiftControlFlag.BLOCK,\n    NEXT = CalendarShiftControlFlag.BLOCK,\n    NEXT_FRAME = CalendarShiftControlFlag.FRAME,\n    NEXT_PERIOD = CalendarShiftControlFlag.PERIOD,\n}\n\nexport type CalendarShiftControl = keyof typeof CalendarShiftControlsFlag;\nexport type CalendarShiftControls = (typeof CALENDAR_CONTROLS)[number];\nexport type CalendarSelection = (typeof CALENDAR_SELECTIONS)[number];\n\nexport type CalendarConfig = {\n    blocks?: TimeFrameSize;\n    controls?: CalendarShiftControls;\n    firstWeekDay?: FirstWeekDay;\n    fixedBlockHeight?: boolean;\n    highlight?: CalendarSelection | string;\n    locale?: string;\n    minified?: boolean;\n    timeslice?: TimeSlice;\n    timezone?: string;\n    trackCurrentDay?: boolean;\n};\n\nexport type CalendarFlagsRecord = Readonly<{\n    [K in TimeFlagProp]?: 1;\n}>;\n\nexport type CalendarBlock = Readonly<{\n    datetime: string;\n    label: string;\n    month: number;\n    year: number;\n}>;\n\nexport type CalendarBlockCellData = Readonly<{\n    datetime: string;\n    flags: CalendarFlagsRecord;\n    index: number;\n    label: string;\n    timestamp: number;\n}>;\n\nexport type CalendarDayOfWeekData = Readonly<{\n    flags: CalendarFlagsRecord;\n    labels: Readonly<{ [K in DayOfWeekLabelFormat]: string }>;\n}>;\n\nexport type IndexedCalendarBlock = Indexed<Indexed<CalendarBlockCellData>> & CalendarBlock;\n\nexport type CalendarGridControls = Readonly<{\n    [P in CalendarShiftControl]?: (evt?: Event) => boolean;\n}>;\n\nexport type CalendarGridControlRecord = [CalendarShiftControl, Exclude<CalendarGridControls[CalendarShiftControl], undefined>];\n\nexport type CalendarGrid = Indexed<IndexedCalendarBlock> &\n    Readonly<{\n        config: {\n            (config?: CalendarConfig): CalendarConfig;\n            cursorIndex: WithGetSetProperty<(this: CalendarConfig, evt: Event) => number | undefined>['_'];\n            shiftFactor: WithGetSetProperty<(this: CalendarConfig, evt: Event, target: CalendarShiftControl) => number | undefined>['_'];\n            watch: WithGetSetProperty<WatchListCallable<any, CalendarConfig>>['_'];\n        };\n        controls: Indexed<CalendarGridControlRecord> & CalendarGridControls;\n        cursor: (evt?: Event) => boolean;\n        highlight: WithTimeEdges<WithGetSetProperty<number | undefined>['_']> & Readonly<{ blank: boolean }>;\n        rowspan: number;\n        weekdays: Indexed<CalendarDayOfWeekData>;\n    }>;\n\nexport type CalendarFacade = {\n    (init?: CalendarConfig | TimeFrameSize | WatchListCallable<any, CalendarConfig>): Readonly<{\n        readonly grid: CalendarGrid;\n        readonly kill: () => void;\n    }>;\n    readonly controls: Readonly<{\n        ALL: typeof CONTROLS_ALL;\n        MINIMAL: typeof CONTROLS_MINIMAL;\n        NONE: typeof CONTROLS_NONE;\n    }>;\n    readonly highlight: Readonly<{\n        ONE: typeof SELECT_ONE;\n        MANY: typeof SELECT_MANY;\n        NONE: typeof SELECT_NONE;\n    }>;\n    readonly slice: TimeSliceFactory &\n        Readonly<{\n            FROM: typeof RANGE_FROM;\n            SINCE_NOW: TimeSlice;\n            TO: typeof RANGE_TO;\n            UNBOUNDED: TimeSlice;\n            UNTIL_NOW: TimeSlice;\n        }>;\n};\n\nexport type CalendarWatchAtoms = Partial<WithTimeEdges<number>> & {\n    blocks?: TimeFrameSize;\n    cells?: number;\n    controls?: CalendarShiftControls;\n    cursor?: number;\n    highlight?: CalendarSelection;\n    locale?: string;\n    minified?: boolean;\n    origin?: number;\n    today: number;\n    timezone?: string;\n};\n","import { CalendarFlagsRecord, TimeFlag, TimeFlagProp } from '../../types';\nimport { isString, struct, withFreezeProxyHandlers } from '../../../../../../utils';\n\nconst createFlagsRecord = (() => {\n    const CACHE = {} as { [K: number]: CalendarFlagsRecord };\n    const FLAG_PROPS = Object.keys(TimeFlag).filter(prop => isNaN(+prop)) as TimeFlagProp[];\n\n    const isFlagProp = (property: string | symbol): property is TimeFlagProp =>\n        property !== 'ALL' && isString(property) && FLAG_PROPS.includes(property as TimeFlagProp);\n\n    return (flags: number): CalendarFlagsRecord => {\n        const flagsTruncated = flags & TimeFlag.ALL;\n\n        if (!CACHE[flagsTruncated]) {\n            CACHE[flagsTruncated] = new Proxy(\n                struct({\n                    valueOf: { value: () => flagsTruncated },\n                }),\n                withFreezeProxyHandlers({\n                    get: (target: {}, property: string | symbol) => {\n                        switch (property) {\n                            case 'valueOf':\n                                return target.valueOf;\n                            case Symbol.toStringTag:\n                                return '_';\n                            default:\n                                if (!isFlagProp(property)) return;\n                        }\n\n                        return flagsTruncated & (TimeFlag[property] as number) ? 1 : undefined;\n                    },\n                })\n            ) as CalendarFlagsRecord;\n        }\n\n        return CACHE[flagsTruncated] as CalendarFlagsRecord;\n    };\n})();\n\nexport default createFlagsRecord;\n","import { identity, isString } from '../../../utils';\nimport type { Indexed, IndexedMapIteratorFactory } from './types';\n\nexport const indexedProxyGetTrap =\n    <V>(getter: (index: number) => V) =>\n    (target: Indexed<V>, property: string | symbol, receiver: any) => {\n        if (isString(property)) {\n            const index = +property;\n            if (index >= 0 && index < target.length) {\n                return getter(index);\n            }\n        }\n        return Reflect.get(target, property, receiver);\n    };\n\nexport const mapIteratorFactory: IndexedMapIteratorFactory = function* (callback = identity, thisArg: any) {\n    for (let i = 0; i < this.length; i++) {\n        yield callback.call(thisArg, this[i], i, this);\n    }\n};\n","import { isFunction, isNumber, struct, structFrom, truthify } from '../../../utils';\nimport { indexedProxyGetTrap, mapIteratorFactory } from './helpers';\nimport type { Indexed, IndexedMapIteratorCallback } from './types';\n\nconst __INDEXED_PROTO__ = Object.freeze(\n    struct<\n        Readonly<{\n            [Symbol.iterator]: (this: Indexed) => Generator<any>;\n            map: Indexed['map'];\n        }>\n    >({\n        [Symbol.iterator]: {\n            value(this: Indexed) {\n                return mapIteratorFactory.call(this);\n            },\n        },\n        map: {\n            value(this: Indexed, callback?: IndexedMapIteratorCallback, thisArg?: any) {\n                return [...mapIteratorFactory.call(this, callback, thisArg)];\n            },\n        },\n    })\n);\n\nexport const createIndexed = <T extends Record<any, any> = {}, V = any>(\n    iterablePropertyDescriptorsOrSize: PropertyDescriptorMap | (() => number) | number,\n    iteratorValueGetter: (index: number) => V\n): Indexed<V> & T => {\n    if (isFunction(iterablePropertyDescriptorsOrSize)) {\n        return createIndexed<T, V>(\n            {\n                length: { get: iterablePropertyDescriptorsOrSize },\n            },\n            iteratorValueGetter\n        );\n    }\n\n    if (isNumber(iterablePropertyDescriptorsOrSize)) {\n        return createIndexed<T, V>(\n            {\n                length: { value: iterablePropertyDescriptorsOrSize },\n            },\n            iteratorValueGetter\n        );\n    }\n\n    return new Proxy(structFrom(__INDEXED_PROTO__, iterablePropertyDescriptorsOrSize), {\n        get: indexedProxyGetTrap(iteratorValueGetter),\n        set: truthify,\n    }) as Indexed<V> & T;\n};\n\nexport default createIndexed;\n","import $restamper, { RestamperWithTimezone, systemToTimezone, timezoneToSystem } from '../../../core/Localization/datetime/restamper';\nimport { createWatchlist, isWatchlistUnsubscribeToken } from '../../reactive/watchlist';\nimport { enumerable, getter, isNull, struct } from '../../../utils';\nimport type { Today, TodayWatchListEntries } from './types';\nimport { clock } from '../clock';\n\nexport const today = (() => {\n    const timezones = new Map<NonNullable<RestamperWithTimezone['tz']['current']>, Today>();\n    const restamper = $restamper();\n\n    const getTimestampWithTomorrowOffset = (withTimestamp = Date.now()) => {\n        const restampedDate = new Date(timezoneToSystem(restamper, withTimestamp));\n        const currentTimestamp = systemToTimezone(restamper, restampedDate.setHours(0, 0, 0, 0)); // current day start timestamp\n        const nextTimestamp = systemToTimezone(restamper, restampedDate.setDate(restampedDate.getDate() + 1)); // next day start timestamp\n        return [currentTimestamp, nextTimestamp - currentTimestamp] as const;\n    };\n\n    return (timezone?: RestamperWithTimezone['tz']['current']) => {\n        restamper.tz = timezone;\n\n        const tz = restamper.tz.current!;\n\n        return (\n            timezones.get(tz) ??\n            (() => {\n                let timestamp: number | null = null;\n                let tomorrowOffset: number | null = null;\n                let unsubscribeClock: ReturnType<Today['subscribe']> | null = null;\n\n                const getTimestamp = () => {\n                    restamper.tz = tz; // switch restamper to this timezone\n                    return timestamp ?? getTimestampWithTomorrowOffset()[0];\n                };\n\n                const refreshTimestamps = (withTimestamp = Date.now()) => {\n                    restamper.tz = tz; // switch restamper to this timezone\n                    [timestamp, tomorrowOffset] = getTimestampWithTomorrowOffset(withTimestamp);\n                };\n\n                const { cancelSubscriptions, requestNotification, subscribe, on } = createWatchlist<TodayWatchListEntries>({\n                    timestamp: getTimestamp,\n                });\n\n                on.resume = () => {\n                    unsubscribeClock = clock.subscribe(snapshot => {\n                        if (isWatchlistUnsubscribeToken(snapshot)) return;\n\n                        const { now } = snapshot;\n\n                        if (isNull(timestamp) || isNull(tomorrowOffset)) return refreshTimestamps(now);\n                        if (now - timestamp < tomorrowOffset) return;\n\n                        refreshTimestamps(now);\n                        requestNotification();\n                    });\n                };\n\n                on.idle = () => {\n                    unsubscribeClock?.();\n                    timestamp = tomorrowOffset = unsubscribeClock = null;\n                };\n\n                const instance = struct<Today>({\n                    cancelSubscriptions: enumerable(cancelSubscriptions),\n                    timestamp: getter(getTimestamp),\n                    timezone: enumerable(tz),\n                    subscribe: enumerable(subscribe),\n                });\n\n                timezones.set(tz, instance);\n                return instance;\n            })()\n        );\n    };\n})();\n\nexport default today;\n","import { downsizeTimeFrame, resolveTimeFrameBlockSize } from '../common/utils';\nimport $timeslice, { UNBOUNDED_SLICE } from '../../timeslice';\nimport { computeTimestampOffset } from '../../utils';\nimport {\n    CURSOR_BACKWARD,\n    CURSOR_BLOCK_END,\n    CURSOR_BLOCK_START,\n    CURSOR_DOWNWARD,\n    CURSOR_FORWARD,\n    CURSOR_LINE_END,\n    CURSOR_LINE_START,\n    CURSOR_NEXT_BLOCK,\n    CURSOR_PREV_BLOCK,\n    CURSOR_UPWARD,\n    DAY_MS,\n    FIRST_WEEK_DAYS,\n    SELECTION_COLLAPSE,\n    SELECTION_FARTHEST,\n    SELECTION_FROM,\n    SELECTION_NEAREST,\n    SELECTION_TO,\n    SHIFT_BLOCK,\n    SHIFT_FRAME,\n    SHIFT_PERIOD,\n} from '../../constants';\nimport createFlagsRecord from '../common/flags';\nimport { createIndexed } from '../../../../../../primitives/auxiliary/indexed';\nimport type { WatchListCallable } from '../../../../../../primitives/reactive/watchlist';\nimport { BASE_LOCALE } from '../../../../../../core/Localization/datetime/restamper/constants';\nimport {\n    clamp,\n    enumerable,\n    isBitSafeInteger,\n    isBoolean,\n    isFunction,\n    isInfinity,\n    isNullish,\n    isUndefined,\n    mid,\n    mod,\n    struct,\n} from '../../../../../../utils';\nimport today from '../../../../../../primitives/time/today';\nimport {\n    CalendarBlock,\n    CalendarBlockCellData,\n    CalendarDayOfWeekData,\n    FirstWeekDay,\n    IndexedCalendarBlock,\n    Time,\n    TimeFrameBlock,\n    TimeFrameCursor,\n    TimeFrameSelection,\n    TimeFrameShift,\n    TimeFrameSize,\n    TimeSlice,\n} from '../../types';\n\nexport default abstract class TimeFrame {\n    static #DEFAULT_LOCALE = BASE_LOCALE;\n\n    #cursorBlockIndex: number = 0;\n    #cursorBlockStartIndex!: number;\n    #cursorBlockEndIndex!: number;\n    #cursorStartIndex: number = -1;\n    #cursorEndIndex: number = -1;\n    #cursorIndex!: number;\n    #cursorOffset!: number;\n    #cursorTimestamp!: number;\n    #dynamicBlockHeight: boolean = false;\n    #effect?: WatchListCallable;\n    #firstWeekDay: FirstWeekDay = 0;\n    #frameBlocksCached: IndexedCalendarBlock[] = [];\n    #locale: string = TimeFrame.#DEFAULT_LOCALE;\n    #maxFrameSize: TimeFrameSize = 12;\n    #selectionStartTimestamp?: number;\n    #selectionEndTimestamp?: number;\n    #size: TimeFrameSize = 1;\n    #_timeslice!: TimeSlice;\n    #timeslice!: TimeSlice;\n    #timezone!: string;\n    #today = today();\n    #unwatchCurrentDay?: () => void;\n\n    #fromTimestamp: number = -Infinity;\n    #toTimestamp: number = Infinity;\n    #fromBlockOffsetFromOrigin: number = -Infinity;\n    #toBlockOffsetFromOrigin: number = Infinity;\n    #numberOfBlocks: number = Infinity;\n    #numberOfUnits: number = 0;\n\n    protected daysInWeek: number = 0;\n    protected origin!: number;\n    protected originTimestamp!: number;\n\n    protected abstract getCursorBlockOriginTimestampOffset(timestamp: number): number;\n    protected abstract getDayOfWeekAtIndex(index: number): CalendarDayOfWeekData;\n    protected abstract getEdgeBlockOffsetsFromOrigin(): [number, number];\n    protected abstract getFormattedDataForBlockCell(time: Time): [string, string];\n    protected abstract getFormattedDataForFrameBlock(time: Time): [string, string];\n    protected abstract getFrameBlockAtIndex(index: number): TimeFrameBlock;\n    protected abstract getUnitsForFrameBlockAtIndex(index: number): number;\n    protected abstract getUnitsOffsetForTimestamp(startTimestamp: number, timestamp: number): number;\n    protected abstract reoriginate(): void;\n    protected abstract reslice(): void;\n    protected abstract shiftOrigin(offset: number): void;\n\n    abstract getTimestampAtIndex(indexOffset: number): number;\n    abstract withCurrentDayTimestamp(): void;\n\n    abstract get currentDayTimestamp(): number;\n    abstract get rowspan(): number;\n\n    #daysOfWeek = createIndexed(() => this.daysInWeek, this.getDayOfWeekAtIndex.bind(this));\n    #frameBlocks = createIndexed(() => this.#size, this.#getFrameBlockAtIndex.bind(this));\n\n    protected get fromTimestamp() {\n        return this.#fromTimestamp;\n    }\n\n    protected get toTimestamp() {\n        return this.#toTimestamp;\n    }\n\n    protected get numberOfBlocks() {\n        return this.#numberOfBlocks;\n    }\n\n    get blankSelection() {\n        return this.#selectionStartTimestamp === this.#selectionEndTimestamp && isUndefined(this.#selectionEndTimestamp);\n    }\n\n    get cursor() {\n        return this.#cursorIndex ?? -1;\n    }\n\n    get daysOfWeek() {\n        return this.#daysOfWeek;\n    }\n\n    get dynamicBlockHeight(): boolean {\n        return this.#dynamicBlockHeight;\n    }\n\n    set dynamicBlockHeight(bool: boolean | null | undefined) {\n        if (isNullish(bool)) this.#dynamicBlockHeight = !!bool;\n        else if (isBoolean(bool)) this.#dynamicBlockHeight = bool;\n    }\n\n    set effect(effect: WatchListCallable | null | undefined) {\n        if (isNullish(effect)) this.#effect = undefined;\n        else if (isFunction(effect)) this.#effect = effect;\n    }\n\n    get firstWeekDay(): FirstWeekDay {\n        return this.#firstWeekDay;\n    }\n\n    set firstWeekDay(day: FirstWeekDay | null | undefined) {\n        if (!isNullish(day)) {\n            if (!FIRST_WEEK_DAYS.includes(day)) return;\n            if (this.#firstWeekDay === (this.#firstWeekDay = day)) return;\n        } else this.firstWeekDay = 0;\n    }\n\n    get frameBlocks() {\n        return this.#frameBlocks;\n    }\n\n    get isAtEnd() {\n        return !isInfinity(this.#toBlockOffsetFromOrigin) && this.#toBlockOffsetFromOrigin === this.#size - 1;\n    }\n\n    get isAtStart() {\n        return !isInfinity(this.#fromBlockOffsetFromOrigin) && this.#fromBlockOffsetFromOrigin === 0;\n    }\n\n    get locale(): string {\n        return this.#locale;\n    }\n\n    set locale(locale: string | Intl.Locale | null | undefined) {\n        const currentLocale = this.#locale;\n\n        if (isNullish(locale)) {\n            this.#locale = TimeFrame.#DEFAULT_LOCALE;\n        } else if (typeof Intl !== 'undefined') {\n            try {\n                this.#locale = new Intl.Locale(locale as NonNullable<typeof locale>).toString();\n            } catch {\n                this.#locale = TimeFrame.#DEFAULT_LOCALE;\n            }\n        }\n\n        if (this.#locale !== currentLocale) this.refreshFrame(true);\n    }\n\n    get selectionStart() {\n        return this.#selectionStartTimestamp;\n    }\n\n    get selectionEnd() {\n        return this.#selectionEndTimestamp;\n    }\n\n    get size(): TimeFrameSize {\n        return this.#size;\n    }\n\n    set size(size: TimeFrameSize | null | undefined) {\n        const nextFrameSize = Math.min((!isNullish(size) && resolveTimeFrameBlockSize(size)) || 1, this.#maxFrameSize) as TimeFrameSize;\n        if (this.#size === (this.#size = nextFrameSize)) return;\n        this.#shiftOriginIfNecessary();\n        this.refreshFrame();\n    }\n\n    get timeslice(): TimeSlice {\n        return this.#timeslice;\n    }\n\n    set timeslice(timeslice: TimeSlice | null | undefined) {\n        if (timeslice === this.#_timeslice || (isNullish(timeslice) && this.#_timeslice === UNBOUNDED_SLICE)) return;\n        const { from, to, timezone } = (this.#_timeslice = timeslice ?? UNBOUNDED_SLICE);\n        this.#timeslice = $timeslice(from, to);\n        this.timezone = timezone;\n    }\n\n    get timezone(): string {\n        return this.#timezone;\n    }\n\n    set timezone(timezone: string | null | undefined) {\n        this.#timeslice.timezone = timezone;\n        this.#timezone = this.#timeslice.timezone;\n        this.#today = today(this.#timezone);\n\n        if (this.#unwatchCurrentDay) {\n            this.#unwatchCurrentDay();\n            this.#unwatchCurrentDay = this.#today.subscribe(this.refreshFrame.bind(this, true));\n        }\n\n        this.#applyTimeSliceUpdate();\n    }\n\n    set trackCurrentDay(bool: boolean | null | undefined) {\n        if (isBoolean(bool)) {\n            if (bool && !this.#unwatchCurrentDay) {\n                this.#unwatchCurrentDay = this.#today.subscribe(this.refreshFrame.bind(this, true));\n            } else if (!bool && this.#unwatchCurrentDay) {\n                this.#unwatchCurrentDay();\n                this.#unwatchCurrentDay = undefined;\n            }\n        } else if (isNullish(bool)) this.trackCurrentDay = false;\n    }\n\n    get units() {\n        return this.#numberOfUnits;\n    }\n\n    #applyTimeSliceUpdate() {\n        const { from, to, span, offsets } = this.#timeslice;\n\n        this.#fromTimestamp = from - offsets.from;\n        this.#toTimestamp = to - offsets.to;\n        this.#numberOfBlocks = span;\n\n        const selectionStartTimestamp = isUndefined(this.#selectionStartTimestamp)\n            ? this.#selectionStartTimestamp\n            : Math.max(this.#selectionStartTimestamp, from);\n\n        const selectionEndTimestamp = isUndefined(this.#selectionEndTimestamp)\n            ? this.#selectionEndTimestamp\n            : Math.min(this.#selectionEndTimestamp, to);\n\n        if (selectionStartTimestamp === this.#selectionStartTimestamp || selectionEndTimestamp === this.#selectionEndTimestamp) {\n            this.#selectionStartTimestamp = selectionStartTimestamp;\n            this.#selectionEndTimestamp = selectionEndTimestamp;\n        } else this.#selectionStartTimestamp = this.#selectionEndTimestamp = undefined;\n\n        this.reslice();\n        this.#maxFrameSize = downsizeTimeFrame(12, this.numberOfBlocks);\n        this.#size = downsizeTimeFrame(this.#size, this.numberOfBlocks);\n\n        this.shiftFrameToTimestamp(this.#cursorTimestamp);\n    }\n\n    #getClampedFrameOffset(frameOffset: number) {\n        return clamp(this.#fromBlockOffsetFromOrigin, frameOffset || 0, this.#toBlockOffsetFromOrigin - this.#size + 1);\n    }\n\n    #getContainedTimestamp(time?: Time, withMidRangeFallback = true): [number, number] {\n        let timestamp = new Date(time as Time).getTime();\n\n        if (isNaN(timestamp)) return this.#getContainedTimestamp(Date.now());\n\n        const { from, to } = this.#timeslice;\n        const clampedTimestamp = clamp(from, timestamp, to);\n\n        if (clampedTimestamp !== timestamp && withMidRangeFallback) {\n            timestamp = mid(from, to);\n            if (isNaN(timestamp) || isInfinity(timestamp)) {\n                timestamp = clampedTimestamp;\n            }\n        } else timestamp = clampedTimestamp;\n\n        const offset = computeTimestampOffset(timestamp, this.#timezone);\n\n        return [timestamp - offset, offset];\n    }\n\n    #getFrameBlockAtIndex(index: number): IndexedCalendarBlock | undefined {\n        if (!(isBitSafeInteger(index) && index >= 0 && index < this.#size)) return;\n\n        if (!this.#frameBlocksCached[index]) {\n            const block = this.getFrameBlockAtIndex(index);\n            if (!block) return undefined as unknown as IndexedCalendarBlock;\n\n            const [label, datetime] = this.getFormattedDataForFrameBlock(block[block.inner.from]![0] + DAY_MS / 2);\n            const blockStartIndex = block.outer.from;\n\n            this.#frameBlocksCached[index] = createIndexed<CalendarBlock>(\n                {\n                    datetime: enumerable(datetime),\n                    label: enumerable(label),\n                    length: enumerable(Math.ceil(block.outer.units / this.rowspan)),\n                    month: enumerable(block.month),\n                    year: enumerable(block.year),\n                },\n                index => {\n                    const indexOffset = index * this.rowspan;\n\n                    return createIndexed(this.rowspan, index => {\n                        const [timestamp, flags] = block[index + indexOffset] as (typeof block)[number];\n                        const [label, datetime] = this.getFormattedDataForBlockCell(timestamp + DAY_MS / 2);\n\n                        return struct({\n                            datetime: enumerable(datetime),\n                            flags: enumerable(createFlagsRecord(flags)),\n                            index: enumerable(blockStartIndex + index + indexOffset),\n                            label: enumerable(label),\n                            timestamp: enumerable(timestamp),\n                        }) as CalendarBlockCellData;\n                    });\n                }\n            );\n        }\n\n        return this.#frameBlocksCached[index] as IndexedCalendarBlock;\n    }\n\n    #shiftFrameCursorByOffset(offset: number): void {\n        if (offset === 0) return;\n        this.#cursorOffset += offset;\n        this.refreshFrame();\n    }\n\n    #shiftOrigin(offset: number) {\n        const clampedOffset = this.#getClampedFrameOffset(offset);\n        if (clampedOffset) {\n            this.shiftOrigin(clampedOffset);\n            this.#fromBlockOffsetFromOrigin -= clampedOffset;\n            this.#toBlockOffsetFromOrigin -= clampedOffset;\n            this.#cursorBlockIndex = mod(this.#cursorBlockIndex - clampedOffset, this.#size);\n            this.refreshFrame();\n        }\n    }\n\n    #shiftOriginIfNecessary() {\n        const size_1 = this.#size - 1;\n        const offset = Math.min(size_1 - (this.origin % this.#size), this.#toBlockOffsetFromOrigin) - size_1;\n        if (offset) this.#shiftOrigin(offset);\n    }\n\n    protected initialize() {\n        this.timeslice = UNBOUNDED_SLICE;\n    }\n\n    protected refreshFrame(skipCursorRefresh = false): void {\n        this.#frameBlocksCached.length = 0;\n\n        if (!(isUndefined(this.#cursorOffset) || skipCursorRefresh)) {\n            const cursorBlock = this.getFrameBlockAtIndex(this.#cursorBlockIndex) as TimeFrameBlock;\n            const { from: startIndex, to: endIndex } = cursorBlock.inner;\n            const [nextCursorTimestamp] = this.#getContainedTimestamp(this.getTimestampAtIndex(startIndex + this.#cursorOffset), false);\n\n            this.#cursorOffset = this.getUnitsOffsetForTimestamp(this.getTimestampAtIndex(startIndex), nextCursorTimestamp);\n\n            const nextCursorOffset = startIndex + this.#cursorOffset;\n            const clampedNextCursorOffset = clamp(startIndex, nextCursorOffset, endIndex);\n\n            if (clampedNextCursorOffset > nextCursorOffset) {\n                this.#cursorOffset = this.getUnitsForFrameBlockAtIndex(--this.#cursorBlockIndex) + nextCursorOffset - clampedNextCursorOffset;\n                if (this.#cursorBlockIndex >= 0) return this.refreshFrame();\n                this.#cursorBlockIndex = this.#size - 1;\n                return this.shiftFrameByOffset(-1, SHIFT_FRAME);\n            }\n\n            if (clampedNextCursorOffset < nextCursorOffset) {\n                this.#cursorOffset = nextCursorOffset - clampedNextCursorOffset - 1;\n                if (++this.#cursorBlockIndex < this.#size) return this.refreshFrame();\n                this.#cursorBlockIndex = 0;\n                return this.shiftFrameByOffset(1, SHIFT_FRAME);\n            }\n\n            this.#cursorBlockStartIndex = startIndex;\n            this.#cursorBlockEndIndex = endIndex;\n            this.#cursorTimestamp = this.#getContainedTimestamp(this.getTimestampAtIndex(nextCursorOffset), false)[0];\n            this.#cursorOffset = this.getCursorBlockOriginTimestampOffset(this.#cursorTimestamp);\n            this.#cursorIndex = startIndex + this.#cursorOffset;\n\n            const firstBlock = this.#cursorBlockIndex > 0 ? (this.getFrameBlockAtIndex(0) as TimeFrameBlock) : cursorBlock;\n            const lastBlock = this.#cursorBlockIndex < this.#size - 1 ? (this.getFrameBlockAtIndex(this.#size - 1) as TimeFrameBlock) : cursorBlock;\n\n            this.#cursorStartIndex = firstBlock.inner.from;\n            this.#cursorEndIndex = lastBlock.inner.to;\n            this.#numberOfUnits = lastBlock.outer.to + 1;\n        }\n\n        this.withCurrentDayTimestamp();\n        this.#effect?.();\n    }\n\n    shiftFrameByOffset(offset?: number, offsetType?: TimeFrameShift) {\n        if (offset && isBitSafeInteger(offset)) {\n            switch (offsetType) {\n                case SHIFT_BLOCK:\n                    return this.#shiftOrigin(offset);\n                case SHIFT_PERIOD:\n                    return this.#shiftOrigin(offset * 12);\n                case SHIFT_FRAME:\n                default:\n                    return this.#shiftOrigin(offset * this.#size);\n            }\n        }\n    }\n\n    shiftFrameCursor(nextCursorPosition: TimeFrameCursor | number) {\n        switch (nextCursorPosition) {\n            case CURSOR_BACKWARD:\n                return this.#shiftFrameCursorByOffset(-1);\n            case CURSOR_FORWARD:\n                return this.#shiftFrameCursorByOffset(1);\n            case CURSOR_UPWARD:\n                return this.#shiftFrameCursorByOffset(-this.rowspan);\n            case CURSOR_DOWNWARD:\n                return this.#shiftFrameCursorByOffset(this.rowspan);\n            case CURSOR_BLOCK_START:\n                return this.#shiftFrameCursorByOffset(this.#cursorBlockStartIndex - this.#cursorIndex);\n            case CURSOR_BLOCK_END:\n                return this.#shiftFrameCursorByOffset(this.#cursorBlockEndIndex - this.#cursorIndex);\n            case CURSOR_LINE_START:\n                return this.#shiftFrameCursorByOffset(-(this.#cursorIndex % this.rowspan));\n            case CURSOR_LINE_END:\n                return this.#shiftFrameCursorByOffset(this.rowspan - ((this.#cursorIndex % this.rowspan) + 1));\n            case CURSOR_PREV_BLOCK:\n                return this.#shiftFrameCursorByOffset(-this.getUnitsForFrameBlockAtIndex((this.#cursorBlockIndex ?? 0) - 1));\n            case CURSOR_NEXT_BLOCK:\n                return this.#shiftFrameCursorByOffset(this.getUnitsForFrameBlockAtIndex(this.#cursorBlockIndex ?? 0));\n        }\n\n        if (nextCursorPosition < 0) return;\n\n        if (nextCursorPosition >= this.#cursorStartIndex && nextCursorPosition <= this.#cursorEndIndex) {\n            return this.#shiftFrameCursorByOffset(nextCursorPosition - this.#cursorIndex);\n        }\n    }\n\n    shiftFrameToTimestamp(timestamp?: number) {\n        this.#cursorTimestamp = this.originTimestamp = this.#getContainedTimestamp(timestamp, false).reduce((a, b) => a + b);\n        this.#cursorOffset = this.getCursorBlockOriginTimestampOffset(this.#cursorTimestamp);\n        this.reoriginate();\n\n        [this.#fromBlockOffsetFromOrigin, this.#toBlockOffsetFromOrigin] = this.getEdgeBlockOffsetsFromOrigin();\n        this.#shiftOriginIfNecessary();\n        this.refreshFrame();\n\n        this.#shiftFrameCursorByOffset(this.getUnitsOffsetForTimestamp(this.getTimestampAtIndex(this.#cursorIndex), this.#cursorTimestamp));\n    }\n\n    clearSelection() {\n        if (this.blankSelection) return;\n        this.#selectionStartTimestamp = this.#selectionEndTimestamp = undefined;\n        this.refreshFrame(true);\n    }\n\n    updateSelection(time: Time, selection?: TimeFrameSelection) {\n        const currentStart = this.#selectionStartTimestamp as number;\n        const currentEnd = this.#selectionEndTimestamp as number;\n        const timestamp = this.#getContainedTimestamp(time, false).reduce((a, b) => a + b);\n\n        if (selection === SELECTION_FARTHEST) {\n            if (timestamp <= currentStart) selection = SELECTION_TO;\n            else if (timestamp >= currentEnd) selection = SELECTION_FROM;\n        }\n\n        switch (selection) {\n            case SELECTION_FROM:\n                this.#selectionStartTimestamp = timestamp;\n                this.#selectionEndTimestamp = Math.max(this.#selectionStartTimestamp, currentEnd ?? timestamp);\n                break;\n            case SELECTION_TO:\n                this.#selectionEndTimestamp = timestamp;\n                this.#selectionStartTimestamp = Math.min(currentStart ?? timestamp, this.#selectionEndTimestamp);\n                break;\n            case SELECTION_FARTHEST:\n            case SELECTION_NEAREST: {\n                let startDistance = Math.abs(timestamp - (currentStart ?? timestamp));\n                let endDistance = Math.abs(timestamp - (currentEnd ?? timestamp));\n\n                if (selection === SELECTION_NEAREST) {\n                    [startDistance, endDistance] = [endDistance, startDistance];\n                }\n\n                if (startDistance > endDistance) {\n                    this.#selectionStartTimestamp = timestamp;\n                } else this.#selectionEndTimestamp = timestamp;\n\n                break;\n            }\n            case SELECTION_COLLAPSE:\n            default:\n                this.#selectionStartTimestamp = this.#selectionEndTimestamp = timestamp;\n                break;\n        }\n\n        if (this.#selectionStartTimestamp !== currentStart || this.#selectionEndTimestamp !== currentEnd) {\n            this.refreshFrame(true);\n        }\n    }\n}\n","import TimeFrame from './TimeFrame';\nimport { getWeekendDays } from '../common/utils';\nimport { computeTimestampOffset, getEdgesDistance, getMonthDays, getTimezoneDateParts, startOfMonth, startOfWeek, withTimezone } from '../../utils';\nimport { DAY_MS, DAY_OF_WEEK_FORMATS, MAXIMUM_MONTH_UNITS } from '../../constants';\nimport { systemToTimezone, timezoneToSystem } from '../../../../../../core/Localization/datetime/restamper';\nimport createFlagsRecord from '../common/flags';\nimport {\n    enumerable,\n    isBitSafeInteger,\n    isInfinity,\n    isString,\n    isUndefined,\n    struct,\n    structFrom,\n    withFreezeProxyHandlers,\n} from '../../../../../../utils';\nimport {\n    CalendarDayOfWeekData,\n    DayOfWeekLabelFormat,\n    FirstWeekDay,\n    Month,\n    MonthDays,\n    Time,\n    TimeFlag,\n    TimeFrameBlock,\n    TimeFrameSelection,\n    WeekDay,\n} from '../../types';\n\nexport default class MonthFrame extends TimeFrame {\n    #daysInWeek = 7 as const;\n    #daysOfWeekCached: CalendarDayOfWeekData[] = [];\n    #daysOfWeekend: readonly WeekDay[] = getWeekendDays(this.firstWeekDay);\n    #currentDayTimestamp!: number;\n    #fromTimestamp: number = -Infinity;\n    #toTimestamp: number = Infinity;\n    #numberOfBlocks: number = Infinity;\n    #originMonthStartOffset!: WeekDay;\n    #originMonthStartTimestamp!: number;\n    #originYear!: number;\n    #selectionFromTimestamp?: number;\n    #selectionToTimestamp?: number;\n\n    protected daysInWeek: number = this.#daysInWeek;\n    protected declare origin: Month;\n\n    constructor() {\n        super();\n        this.initialize();\n    }\n\n    protected get fromTimestamp() {\n        return this.#fromTimestamp;\n    }\n\n    protected get toTimestamp() {\n        return this.#toTimestamp;\n    }\n\n    protected get numberOfBlocks() {\n        return this.#numberOfBlocks;\n    }\n\n    get currentDayTimestamp() {\n        return this.#currentDayTimestamp;\n    }\n\n    get dynamicBlockHeight(): boolean {\n        return super.dynamicBlockHeight;\n    }\n\n    set dynamicBlockHeight(bool: boolean | null | undefined) {\n        const current = this.dynamicBlockHeight;\n        super.dynamicBlockHeight = bool;\n        if (this.dynamicBlockHeight !== current) this.refreshFrame(true);\n    }\n\n    get rowspan() {\n        return this.#daysInWeek;\n    }\n\n    get firstWeekDay(): FirstWeekDay {\n        return super.firstWeekDay;\n    }\n\n    set firstWeekDay(day: FirstWeekDay | null | undefined) {\n        const current = this.firstWeekDay;\n        super.firstWeekDay = day;\n\n        if (this.firstWeekDay === current) return;\n\n        this.#daysOfWeekCached.length = 0;\n        this.#daysOfWeekend = getWeekendDays(this.firstWeekDay);\n        this.reoriginate();\n        this.refreshFrame();\n    }\n\n    #getBlockTimestampOffsetFromOrigin(timestamp: number) {\n        const offset = getEdgesDistance(timestamp, this.originTimestamp, this.timezone);\n        return timestamp < this.originTimestamp ? 0 - offset : offset;\n    }\n\n    #getDayOffsetTimestamp(fromTimestamp: Date | number, dayOffset = 0) {\n        const restamper = withTimezone(this.timezone);\n        const restampedTimestamp = timezoneToSystem(restamper, fromTimestamp);\n        const timestamp = systemToTimezone(restamper, restampedTimestamp + dayOffset * DAY_MS);\n        let [, , , hrs, mins] = getTimezoneDateParts(timestamp, this.timezone);\n        let timeOffset = 0;\n\n        if (hrs > 0 || mins > 0) {\n            hrs = (hrs > 12 ? 24 : 0) - hrs;\n            mins = (hrs > 1 ? 1 : -1) * mins;\n            timeOffset = hrs * 3600000 + mins * 60000;\n        }\n\n        return timestamp + timeOffset;\n    }\n\n    #getStartForTimestamp(timestamp?: number) {\n        return isUndefined(timestamp) || isInfinity(timestamp) ? timestamp : timestamp - computeTimestampOffset(timestamp, this.timezone);\n    }\n\n    #updateSelectionTimestamps() {\n        this.#selectionFromTimestamp = this.#getStartForTimestamp(this.selectionStart);\n        this.#selectionToTimestamp = this.#getStartForTimestamp(this.selectionEnd);\n    }\n\n    protected getCursorBlockOriginTimestampOffset(timestamp: number): number {\n        return getTimezoneDateParts(timestamp, this.timezone)[2] - 1;\n    }\n\n    protected getDayOfWeekAtIndex(index: number) {\n        if (!this.#daysOfWeekCached[index]) {\n            const date = new Date(this.getTimestampAtIndex(index));\n            let flags = 0;\n\n            if (this.#daysOfWeekend.includes(index as WeekDay)) flags |= TimeFlag.WEEKEND;\n            if (index === 0) flags |= TimeFlag.LINE_START;\n            else if (index === 6) flags |= TimeFlag.LINE_END;\n\n            const labelDescriptors = {} as {\n                [K in DayOfWeekLabelFormat]: {\n                    enumerable: true;\n                    value: string;\n                };\n            };\n\n            for (const format of DAY_OF_WEEK_FORMATS) {\n                labelDescriptors[format] = enumerable(\n                    date.toLocaleDateString(this.locale, { weekday: format, timeZone: this.timezone })\n                ) as (typeof labelDescriptors)[typeof format];\n            }\n\n            this.#daysOfWeekCached[index] = struct({\n                flags: enumerable(createFlagsRecord(flags)),\n                labels: enumerable(struct(labelDescriptors)),\n            }) as CalendarDayOfWeekData;\n        }\n\n        return this.#daysOfWeekCached[index] as CalendarDayOfWeekData;\n    }\n\n    protected getEdgeBlockOffsetsFromOrigin(): [number, number] {\n        return [this.#getBlockTimestampOffsetFromOrigin(this.#fromTimestamp), this.#getBlockTimestampOffsetFromOrigin(this.#toTimestamp)];\n    }\n\n    protected getFormattedDataForBlockCell(time: Time): [string, string] {\n        const [year, month, date] = getTimezoneDateParts(time, this.timezone);\n        return [Number(date).toLocaleString(this.locale), `${year}-${`${month + 1}`.padStart(2, '0')}-${`${date}`.padStart(2, '0')}`];\n    }\n\n    protected getFormattedDataForFrameBlock(time: Time): [string, string] {\n        const [year, month] = getTimezoneDateParts(time, this.timezone);\n        return [\n            new Date(time).toLocaleDateString(this.locale, { month: 'long', year: 'numeric', timeZone: this.timezone }),\n            `${year}-${`${month + 1}`.padStart(2, '0')}`,\n        ];\n    }\n\n    protected getFrameBlockAtIndex(index: number): TimeFrameBlock {\n        const [monthDays, month, year] = getMonthDays(this.origin, this.#originYear, index);\n        const innerStartIndex = index > 0 ? this.getFrameBlockAtIndex(index - 1).inner.to + 1 : this.#originMonthStartOffset;\n        const innerEndIndex = innerStartIndex + monthDays - 1;\n        const outerStartIndex = Math.floor(innerStartIndex / 7) * 7;\n        const outerEndAfterIndex = this.dynamicBlockHeight ? Math.ceil((innerEndIndex + 1) / 7) * 7 : outerStartIndex + MAXIMUM_MONTH_UNITS;\n        const numberOfUnits = this.dynamicBlockHeight ? outerEndAfterIndex - outerStartIndex : MAXIMUM_MONTH_UNITS;\n\n        const proxyForIndexPropertyAccess = new Proxy(\n            struct(),\n            withFreezeProxyHandlers({\n                get: (target: {}, property: string | symbol, receiver: {}) => {\n                    if (isString(property)) {\n                        const offset = +property;\n\n                        if (isBitSafeInteger(offset) && offset >= 0 && offset < numberOfUnits) {\n                            const index = outerStartIndex + offset;\n                            const timestamp = this.getTimestampAtIndex(index);\n                            const weekDay = (index % this.#daysInWeek) as WeekDay;\n\n                            let flags = timestamp === this.currentDayTimestamp ? TimeFlag.CURRENT : 0;\n\n                            if (index === this.cursor) flags |= TimeFlag.CURSOR;\n                            if (this.#daysOfWeekend.includes(weekDay)) flags |= TimeFlag.WEEKEND;\n\n                            if (weekDay === 0) flags |= TimeFlag.LINE_START;\n                            else if (weekDay === this.#daysInWeek - 1) flags |= TimeFlag.LINE_END;\n\n                            if (index >= innerStartIndex && index <= innerEndIndex) {\n                                if (index === innerStartIndex) flags |= TimeFlag.BLOCK_START;\n                                else if (index === innerEndIndex) flags |= TimeFlag.BLOCK_END;\n                                flags |= TimeFlag.WITHIN_BLOCK;\n                            }\n\n                            if (timestamp >= this.fromTimestamp && timestamp <= this.toTimestamp) {\n                                if (timestamp === this.fromTimestamp) flags |= TimeFlag.RANGE_START;\n                                if (timestamp === this.toTimestamp) flags |= TimeFlag.RANGE_END;\n                                flags |= TimeFlag.WITHIN_RANGE;\n                            }\n\n                            if (timestamp >= (this.#selectionFromTimestamp as number) && timestamp <= (this.#selectionToTimestamp as number)) {\n                                if (timestamp === (this.#selectionFromTimestamp as number)) flags |= TimeFlag.SELECTION_START;\n                                if (timestamp === (this.#selectionToTimestamp as number)) flags |= TimeFlag.SELECTION_END;\n                                flags |= TimeFlag.WITHIN_SELECTION;\n                            }\n\n                            return [timestamp, flags] as const;\n                        }\n                    }\n\n                    return Reflect.get(target, property, receiver);\n                },\n            })\n        );\n\n        return structFrom(proxyForIndexPropertyAccess, {\n            inner: {\n                value: struct({\n                    from: { value: innerStartIndex },\n                    to: { value: innerEndIndex },\n                    units: { value: monthDays },\n                }),\n            },\n            month: { value: month },\n            outer: {\n                value: struct({\n                    from: { value: outerStartIndex },\n                    to: { value: outerEndAfterIndex - 1 },\n                    units: { value: numberOfUnits },\n                }),\n            },\n            year: { value: year },\n        }) as TimeFrameBlock;\n    }\n\n    protected getUnitsForFrameBlockAtIndex(index: number): MonthDays {\n        return getMonthDays(this.origin, this.#originYear, index)[0];\n    }\n\n    protected getUnitsOffsetForTimestamp(startTimestamp: number, timestamp: number) {\n        return Math.round((timestamp - startTimestamp) / DAY_MS);\n    }\n\n    protected reoriginate() {\n        this.originTimestamp = startOfMonth(this.originTimestamp, this.timezone);\n        const [originYear, originMonth] = getTimezoneDateParts(this.originTimestamp, this.timezone);\n        const weekStartTimestamp = startOfWeek(this.originTimestamp, this.timezone, this.firstWeekDay);\n\n        this.origin = originMonth as Month;\n        this.#originYear = originYear;\n        this.#originMonthStartOffset = this.getUnitsOffsetForTimestamp(weekStartTimestamp, this.originTimestamp) as WeekDay;\n        this.#originMonthStartTimestamp = this.#getDayOffsetTimestamp(this.originTimestamp, -this.#originMonthStartOffset);\n    }\n\n    protected reslice() {\n        this.#updateSelectionTimestamps();\n        this.#fromTimestamp = this.#getStartForTimestamp(super.fromTimestamp) as number;\n        this.#toTimestamp = this.#getStartForTimestamp(super.toTimestamp) as number;\n        this.#numberOfBlocks = getEdgesDistance(super.fromTimestamp, super.toTimestamp, this.timezone) + 1;\n    }\n\n    protected shiftOrigin(offset: number) {\n        const [year, month] = getTimezoneDateParts(this.originTimestamp, this.timezone);\n        const [, offsetMonth, offsetYear] = getMonthDays(month as Month, year, offset);\n\n        const restamper = withTimezone(this.timezone);\n        const originTimestamp = new Date(timezoneToSystem(restamper, this.originTimestamp)).setFullYear(offsetYear, offsetMonth);\n\n        this.originTimestamp = systemToTimezone(restamper, originTimestamp);\n        this.reoriginate();\n    }\n\n    clearSelection() {\n        super.clearSelection();\n        this.#updateSelectionTimestamps();\n        this.refreshFrame(true);\n    }\n\n    getTimestampAtIndex(indexOffset: number) {\n        return this.#getDayOffsetTimestamp(this.#originMonthStartTimestamp, indexOffset);\n    }\n\n    updateSelection(time: Time, selection?: TimeFrameSelection) {\n        super.updateSelection(time, selection);\n        this.#updateSelectionTimestamps();\n        this.refreshFrame(true);\n    }\n\n    withCurrentDayTimestamp() {\n        this.#currentDayTimestamp = this.#getStartForTimestamp(Date.now()) as number;\n    }\n}\n","import { enumerable, struct } from '../../../utils';\nimport type { EffectStack } from './types';\n\nconst _NO_EXCEPTION = Symbol('<<NO_EXCEPTION>>');\n\nexport const createEffectStack = <Effect extends (...args: any[]) => any>(effect: Effect) => {\n    const _stack: any[] = [];\n\n    const _bindFn: EffectStack<Effect>['bind'] = fn =>\n        function (this: unknown, ...args) {\n            let exception: unknown = _NO_EXCEPTION;\n            try {\n                _stack.push(fn);\n                return fn.call(this, ...args);\n            } catch (ex) {\n                throw (exception = ex);\n            } finally {\n                _stack.pop();\n                if (_stack.length === 0 && exception === _NO_EXCEPTION) effect();\n            }\n        } as typeof fn;\n\n    return struct<EffectStack<Effect>>({\n        bind: enumerable(_bindFn),\n        effect: enumerable(effect),\n    });\n};\n\nexport default createEffectStack;\n","import { InteractionKeyCode } from '../../../../types';\nimport {\n    CALENDAR_CONTROLS,\n    CALENDAR_SELECTIONS,\n    CONTROLS_ALL,\n    CONTROLS_MINIMAL,\n    CONTROLS_NONE,\n    CURSOR_BACKWARD,\n    CURSOR_BLOCK_END,\n    CURSOR_BLOCK_START,\n    CURSOR_DOWNWARD,\n    CURSOR_FORWARD,\n    CURSOR_LINE_END,\n    CURSOR_LINE_START,\n    CURSOR_NEXT_BLOCK,\n    CURSOR_PREV_BLOCK,\n    CURSOR_UPWARD,\n    FIRST_WEEK_DAYS,\n    FRAME_SIZES,\n    SELECT_MANY,\n    SELECT_NONE,\n    SELECT_ONE,\n    SELECTION_COLLAPSE,\n    SELECTION_FROM,\n    SELECTION_TO,\n    SHIFT_BLOCK,\n    SHIFT_FRAME,\n    SHIFT_PERIOD,\n} from '../constants';\nimport { withTimezone } from '../utils';\nimport { MonthFrame, TimeFrame /* , YearFrame */ } from '../timeframe';\nimport { createIndexed } from '../../../../../primitives/auxiliary/indexed';\nimport { createEffectStack, EffectStack } from '../../../../../primitives/reactive/effectStack';\nimport { systemToTimezone, timezoneToSystem } from '../../../../../core/Localization/datetime/restamper';\nimport today from '../../../../../primitives/time/today';\nimport {\n    createWatchlist,\n    isWatchlistUnsubscribeToken,\n    WatchList,\n    WatchListCallable,\n    WatchListSubscriptionCallback,\n} from '../../../../../primitives/reactive/watchlist';\nimport {\n    boolify,\n    boolOrTrue,\n    EMPTY_OBJECT,\n    isBitSafeInteger,\n    isFunction,\n    isNullish,\n    isString,\n    isUndefined,\n    noop,\n    pickFrom,\n    struct,\n    structFrom,\n    withFreezeProxyHandlers,\n} from '../../../../../utils';\nimport {\n    CalendarConfig,\n    CalendarDayOfWeekData,\n    CalendarGrid,\n    CalendarGridControlRecord,\n    CalendarSelection,\n    CalendarShiftControl,\n    CalendarShiftControlFlag,\n    CalendarShiftControlsFlag,\n    CalendarWatchAtoms,\n} from '../types';\n\nexport default class Calendar {\n    grid: CalendarGrid;\n    kill: () => void;\n    #config = EMPTY_OBJECT as CalendarConfig;\n    #destructed = false;\n    #frame?: TimeFrame;\n    #highlightFrom?: number;\n    #highlightTo?: number;\n    #highlightInProgress = false;\n    #highlightSelection?: CalendarSelection = SELECT_NONE;\n    #pendingWatchNotification = false;\n    #rangeOffsets?: [number, number, number, number, number, number];\n    #lastHighlightRange?: string = this.#rangeOffsets?.join(' ');\n\n    #cursorIndexFromEvent?: CalendarGrid['config']['cursorIndex'];\n    #shiftFactorFromEvent?: CalendarGrid['config']['shiftFactor'];\n    #watchCallback?: CalendarGrid['config']['watch'];\n    #watchableEffect?: () => void;\n    #unwatch?: () => void;\n\n    #today = today();\n    #shiftControlsHandles: CalendarGridControlRecord[1][] = [];\n    #shiftControlsList?: CalendarShiftControl[];\n\n    #shiftControls = new Proxy(\n        createIndexed(() => this.#shiftControlsList?.length ?? 0, this.#getShiftControlRecordAtIndex.bind(this)),\n        withFreezeProxyHandlers({\n            get: (target: {}, property: string | symbol, receiver: {}): any => {\n                const index = this.#shiftControlsList?.indexOf(property as CalendarShiftControl) ?? -1;\n                return index >= 0 ? this.#getShiftControlRecordAtIndex(index)?.[1] : Reflect.get(target, property, receiver);\n            },\n        })\n    ) as CalendarGrid['controls'];\n\n    #watchlist?: WatchList<CalendarWatchAtoms> = createWatchlist({\n        blocks: () => this.#frame?.size,\n        cells: () => this.#frame?.units,\n        controls: () => pickFrom(CALENDAR_CONTROLS, this.#config.controls),\n        cursor: () => this.#frame?.cursor,\n        from: () => this.#frame?.selectionStart,\n        highlight: () => this.#highlightSelection,\n        locale: () => this.#frame?.locale,\n        minified: () => boolify(this.#config.minified),\n        origin: () => this.#frame?.getTimestampAtIndex(0),\n        timezone: () => this.#frame?.timezone,\n        to: () => this.#frame?.selectionEnd,\n        today: () => this.#today.timestamp,\n    });\n\n    #lastWatchableSnapshot?: CalendarWatchAtoms = this.#watchlist?.snapshot;\n\n    #chainedNotifyEffectStack?: EffectStack = createEffectStack(() => this.#watchCallback && this.#watchlist?.requestNotification());\n\n    #chainedWatchEffectStack?: EffectStack = createEffectStack(() => this.#watchCallback?.call(this.#currentConfig));\n\n    #grid = structFrom(\n        createIndexed(\n            () => this.#frame?.size ?? 0,\n            index => this.#frame?.frameBlocks[index]\n        ),\n        {\n            config: {\n                value: Object.defineProperties(\n                    (config?: CalendarConfig) => {\n                        config && this.#configure(config);\n                        return this.#currentConfig;\n                    },\n                    {\n                        cursorIndex: {\n                            get: () => this.#cursorIndexFromEvent,\n                            set: (fn: CalendarGrid['config']['cursorIndex'] | null | undefined) => {\n                                if (this.#destructed) return;\n                                if (isNullish(fn)) this.#cursorIndexFromEvent = undefined;\n                                else if (isFunction(fn)) this.#cursorIndexFromEvent = fn;\n                            },\n                        },\n                        shiftFactor: {\n                            get: () => this.#shiftFactorFromEvent,\n                            set: (fn: CalendarGrid['config']['shiftFactor'] | null | undefined) => {\n                                if (this.#destructed) return;\n                                if (isNullish(fn)) this.#shiftFactorFromEvent = undefined;\n                                else if (isFunction(fn)) this.#shiftFactorFromEvent = fn;\n                            },\n                        },\n                        watch: {\n                            get: () => this.#watchCallback,\n                            set: (fn: CalendarGrid['config']['watch'] | null | undefined) => {\n                                if (this.#destructed) return;\n                                if (isFunction(fn)) {\n                                    this.#watchCallback = fn;\n\n                                    if (!this.#watchableEffect) {\n                                        const watchCallback = this.#chainedNotifyEffectStack?.bind(Calendar.#watchableEffectCallback.bind(this));\n\n                                        if (watchCallback) {\n                                            this.#watchableEffect = this.#chainedNotifyEffectStack?.bind(noop);\n                                            this.#unwatch = this.#watchlist?.subscribe(this.#chainedWatchEffectStack?.bind(watchCallback));\n                                            this.#frame && (this.#frame.effect = this.#watchableEffect);\n                                        }\n                                    }\n\n                                    if (!this.#pendingWatchNotification) return;\n\n                                    this.#pendingWatchNotification = false;\n                                    this.#watchableEffect?.();\n                                } else if (isNullish(fn)) this.#watchCallback = undefined;\n                            },\n                        },\n                    }\n                ),\n            },\n            controls: { value: this.#shiftControls },\n            cursor: {\n                value: Object.defineProperties(\n                    (evt?: Event) => Calendar.#withNotifyEffect.call(this, (evt?: Event) => !!(evt && this.#cursorHandle(evt)))(evt),\n                    {\n                        valueOf: { value: () => this.#frame?.cursor ?? -1 },\n                    }\n                ),\n            },\n            highlight: {\n                value: (() => {\n                    const blank = () => this.#highlightFrom === this.#highlightTo && isUndefined(this.#highlightTo);\n\n                    const setter = (selection: typeof SELECTION_FROM | typeof SELECTION_TO) => (time?: number | null) =>\n                        Calendar.#withNotifyEffect.call(this, (time?: number | null) => {\n                            if (this.#destructed || !this.#highlightSelection || this.#highlightSelection === SELECT_NONE) return;\n                            if (isNullish(time)) return this.#clearHighlight();\n\n                            if (!blank()) {\n                                this.#frame?.updateSelection(time, selection);\n                                if (this.#highlightSelection === SELECT_MANY && this.#rangeOffsets) {\n                                    this.#rangeHighlight(time, selection === SELECTION_FROM ? SELECTION_TO : SELECTION_FROM, this.#rangeOffsets);\n                                }\n                            } else this.#frame?.updateSelection(time, SELECTION_COLLAPSE);\n\n                            this.#highlightFrom = this.#frame?.selectionStart;\n                            this.#highlightTo = this.#frame?.selectionEnd;\n                            this.#frame?.shiftFrameToTimestamp(selection === SELECTION_FROM ? this.#highlightFrom : this.#highlightTo);\n                        })(time);\n\n                    return struct({\n                        blank: { get: blank },\n                        from: {\n                            get: () => this.#frame?.selectionStart ?? this.#highlightFrom,\n                            set: setter(SELECTION_FROM),\n                        },\n                        to: {\n                            get: () => this.#frame?.selectionEnd ?? this.#highlightTo,\n                            set: setter(SELECTION_TO),\n                        },\n                    });\n                })(),\n            },\n            rowspan: { get: () => this.#frame?.rowspan ?? 0 },\n            weekdays: { get: () => this.#frame?.daysOfWeek ?? Calendar.#DAYS_OF_WEEK_FALLBACK },\n        }\n    ) as CalendarGrid;\n\n    static #RANGE_OFFSETS_FORMAT_REGEX = /^(?:0|[1-9]\\d*)(\\s+(?:0|[1-9]\\d*)?){0,5}?$/;\n    static #CURSOR_POINTER_INTERACTION_EVENTS = ['click', 'mouseover', 'pointerover'];\n    static #DAYS_OF_WEEK_FALLBACK = createIndexed(0, noop as () => CalendarDayOfWeekData);\n    static #SHIFT_ACTIVATION_KEYS = [InteractionKeyCode.ENTER, InteractionKeyCode.SPACE];\n    static #SHIFT_ALL_CONTROLS = Object.keys(CalendarShiftControlsFlag).filter(control => isNaN(+control)) as CalendarShiftControl[];\n    static #SHIFT_MINIMAL_CONTROLS = ['PREV', 'NEXT'] as CalendarShiftControl[];\n\n    static #getOffsetsFromRange(range?: string): [number, number, number, number, number, number] | undefined {\n        if (!isString(range)) return;\n        if (!Calendar.#RANGE_OFFSETS_FORMAT_REGEX.test(range)) return;\n        const offsets = range.split(/\\s+/);\n        return Array.from({ length: 6 }, (_, index) => parseInt(offsets[index] ?? '0')) as [number, number, number, number, number, number];\n    }\n\n    static #getShiftOffsetType(flags: number) {\n        switch (flags & ~CalendarShiftControlFlag.PREV) {\n            case CalendarShiftControlFlag.FRAME:\n                return SHIFT_FRAME;\n            case CalendarShiftControlFlag.PERIOD:\n                return SHIFT_PERIOD;\n            case CalendarShiftControlFlag.BLOCK:\n            default:\n                return SHIFT_BLOCK;\n        }\n    }\n\n    static #getShiftOffsetUnit(flags: number) {\n        return flags & CalendarShiftControlFlag.PREV ? -1 : 1;\n    }\n\n    static #watchableEffectCallback: WatchListSubscriptionCallback<CalendarWatchAtoms> = function (this: Calendar, snapshot) {\n        if (isWatchlistUnsubscribeToken(snapshot)) return;\n\n        let controlsChanged = false;\n        let highlightChanged = false;\n        let selectionChanged = false;\n        const highlightRange = this.#rangeOffsets?.join(' ');\n\n        for (const key of Object.keys(snapshot) as (keyof typeof snapshot)[]) {\n            if (snapshot[key] === this.#lastWatchableSnapshot?.[key]) continue;\n            if (key === 'controls') controlsChanged = true;\n            else if (key === 'highlight') highlightChanged = true;\n            else if (key === 'from' || key === 'to') selectionChanged = true;\n        }\n\n        if (this.#lastHighlightRange !== highlightRange) {\n            this.#lastHighlightRange = highlightRange;\n            highlightChanged = true;\n        }\n\n        this.#lastWatchableSnapshot = snapshot;\n\n        if (this.#highlightInProgress && !selectionChanged) this.#restoreHighlight();\n        if (controlsChanged) this.#refreshShiftControls();\n        if (highlightChanged) this.#refreshHighlighting();\n    };\n\n    static #withNotifyEffect<T extends WatchListCallable = WatchListCallable>(this: Calendar, fn: T) {\n        return this.#chainedNotifyEffectStack?.bind(fn) ?? fn;\n    }\n\n    constructor() {\n        this.grid = this.#grid;\n        this.kill = this.#destruct.bind(this);\n    }\n\n    get #currentConfig() {\n        return { ...this.#config } as CalendarConfig;\n    }\n\n    get #timeframe() {\n        // return (this.#config.minified as boolean) ? new YearFrame() : new MonthFrame();\n        return new MonthFrame();\n    }\n\n    #canShiftInDirection(shiftDirection: 1 | -1) {\n        return !!this.#frame && !(shiftDirection > 0 ? this.#frame.isAtEnd : this.#frame.isAtStart);\n    }\n\n    #configure(config: CalendarConfig) {\n        if (this.#destructed) return;\n\n        this.#rangeOffsets = undefined;\n\n        const highlight = config?.highlight;\n        const minified = boolify(this.#config.minified);\n\n        if (!isString(highlight)) {\n            this.#highlightSelection = pickFrom(CALENDAR_SELECTIONS, highlight, this.#highlightSelection);\n        } else if ((this.#rangeOffsets = Calendar.#getOffsetsFromRange(highlight))) {\n            this.#highlightSelection = SELECT_MANY;\n        }\n\n        this.#config = {\n            ...this.#config,\n            ...config,\n            blocks: pickFrom(FRAME_SIZES, config?.blocks, this.#config.blocks),\n            controls: pickFrom(CALENDAR_CONTROLS, config?.controls, this.#config.controls),\n            firstWeekDay: pickFrom(FIRST_WEEK_DAYS, config?.firstWeekDay, this.#config.firstWeekDay),\n            fixedBlockHeight: boolify(config?.fixedBlockHeight, this.#config.fixedBlockHeight),\n            highlight: this.#highlightSelection,\n            minified: boolify(config?.minified, this.#config.minified),\n            trackCurrentDay: boolify(config?.trackCurrentDay, this.#config.trackCurrentDay),\n        };\n\n        if (!isFunction(this.#watchCallback)) {\n            if (!this.#frame) {\n                this.#frame = this.#timeframe;\n                this.#reframe();\n                this.#refreshShiftControls();\n                this.#refreshHighlighting();\n            } else this.#pendingWatchNotification = true;\n\n            return;\n        }\n\n        if (!this.#frame || minified !== this.#config.minified) {\n            this.#frame = this.#timeframe;\n            this.#frame.effect = this.#watchableEffect;\n        }\n\n        this.#reframe();\n        this.#watchableEffect?.();\n    }\n\n    #cursorHandle(evt?: Event): true | undefined {\n        if (!(evt && this.#frame && isFunction(this.#watchCallback))) return;\n\n        if (evt instanceof KeyboardEvent) {\n            switch (evt.code) {\n                case InteractionKeyCode.ARROW_LEFT:\n                    this.#frame.shiftFrameCursor(CURSOR_BACKWARD);\n                    break;\n                case InteractionKeyCode.ARROW_RIGHT:\n                    this.#frame.shiftFrameCursor(CURSOR_FORWARD);\n                    break;\n                case InteractionKeyCode.ARROW_UP:\n                    this.#frame.shiftFrameCursor(CURSOR_UPWARD);\n                    break;\n                case InteractionKeyCode.ARROW_DOWN:\n                    this.#frame.shiftFrameCursor(CURSOR_DOWNWARD);\n                    break;\n                case InteractionKeyCode.HOME:\n                    this.#frame.shiftFrameCursor(evt.ctrlKey ? CURSOR_BLOCK_START : CURSOR_LINE_START);\n                    break;\n                case InteractionKeyCode.END:\n                    this.#frame.shiftFrameCursor(evt.ctrlKey ? CURSOR_BLOCK_END : CURSOR_LINE_END);\n                    break;\n                case InteractionKeyCode.PAGE_UP:\n                    evt.shiftKey ? this.#frame.shiftFrameByOffset(-1, SHIFT_PERIOD) : this.#frame.shiftFrameCursor(CURSOR_PREV_BLOCK);\n                    break;\n                case InteractionKeyCode.PAGE_DOWN:\n                    evt.shiftKey ? this.#frame.shiftFrameByOffset(1, SHIFT_PERIOD) : this.#frame.shiftFrameCursor(CURSOR_NEXT_BLOCK);\n                    break;\n                case InteractionKeyCode.SPACE:\n                case InteractionKeyCode.ENTER:\n                    this.#highlight();\n                    return true;\n                default:\n                    return;\n            }\n\n            this.#highlightInProgress && this.#highlight(EMPTY_OBJECT);\n            return true;\n        }\n\n        if (evt instanceof MouseEvent && Calendar.#CURSOR_POINTER_INTERACTION_EVENTS.includes(evt.type) && isFunction(this.#cursorIndexFromEvent)) {\n            const cursorIndex = this.#cursorIndexFromEvent.call(this.#currentConfig, evt);\n\n            if (!isBitSafeInteger(cursorIndex)) return;\n\n            const isClick = evt.type === 'click';\n\n            if (!(isClick || this.#highlightInProgress)) return;\n            this.#frame.shiftFrameCursor(cursorIndex);\n\n            if (this.#frame.cursor === cursorIndex) {\n                isClick ? this.#highlight() : this.#highlight(EMPTY_OBJECT);\n                return true;\n            }\n        }\n    }\n\n    #destruct() {\n        if (this.#destructed) return;\n\n        this.#unwatch?.();\n\n        this.#chainedNotifyEffectStack =\n            this.#chainedWatchEffectStack =\n            this.#cursorIndexFromEvent =\n            this.#frame =\n            this.#highlightSelection =\n            this.#lastHighlightRange =\n            this.#lastWatchableSnapshot =\n            this.#rangeOffsets =\n            this.#shiftFactorFromEvent =\n            this.#unwatch =\n            this.#watchlist =\n            this.#watchableEffect =\n            this.#watchCallback =\n                undefined;\n\n        this.#config = EMPTY_OBJECT;\n        this.#highlightInProgress = this.#pendingWatchNotification = false;\n        this.#destructed = true;\n    }\n\n    #getShiftControlRecordAtIndex(index: number): CalendarGridControlRecord | undefined {\n        if (!this.#shiftControlsList || index < 0 || index >= this.#shiftControlsList.length) return;\n\n        const control = this.#shiftControlsList[index] as CalendarShiftControl;\n\n        if (!this.#shiftControlsHandles[index]) {\n            const flags = CalendarShiftControlsFlag[control];\n            const shiftOffsetType = Calendar.#getShiftOffsetType(flags);\n            const shiftOffsetUnit = Calendar.#getShiftOffsetUnit(flags);\n\n            this.#shiftControlsHandles[index] = (...args: any[]) =>\n                Calendar.#withNotifyEffect.call(this, (...args: any[]) => {\n                    const canShift = this.#canShiftInDirection(shiftOffsetUnit);\n                    if (!(canShift && args.length)) return canShift;\n\n                    const shiftFactor = this.#getShiftFactorFromEvent(control, args[0] as Event);\n                    if (isUndefined(shiftFactor)) return false;\n\n                    this.#frame?.shiftFrameByOffset(shiftOffsetUnit * shiftFactor, shiftOffsetType);\n                    return true;\n                })(...args);\n        }\n\n        return [control, this.#shiftControlsHandles[index] as CalendarGridControlRecord[1]];\n    }\n\n    #getShiftFactorFromEvent(target: CalendarShiftControl, evt?: Event): number | undefined {\n        if (!(this.#frame && isFunction(this.#watchCallback))) return;\n\n        if (evt instanceof MouseEvent) {\n            if (evt.type !== 'click') return;\n        } else if (evt instanceof KeyboardEvent) {\n            if (!Calendar.#SHIFT_ACTIVATION_KEYS.includes(evt.code as InteractionKeyCode)) return;\n        } else return;\n\n        let shiftFactor = 1;\n\n        if (isFunction(this.#shiftFactorFromEvent)) {\n            const factor = Number(this.#shiftFactorFromEvent.call(this.#currentConfig, evt, target));\n            shiftFactor = Number.isInteger(factor) && factor >= 1 ? factor : shiftFactor;\n        }\n\n        return shiftFactor;\n    }\n\n    #highlight(secretFauxHighlightingHint?: any) {\n        if (this.#destructed || !this.#frame) return;\n\n        switch (this.#highlightSelection) {\n            case SELECT_MANY:\n            case SELECT_ONE:\n                break;\n            case SELECT_NONE:\n            default:\n                return;\n        }\n\n        const cursor = this.#frame.cursor;\n        const fromTimestamp = Math.max(this.#frame.getTimestampAtIndex(cursor), this.#frame.timeslice.from);\n        const toTimestamp = Math.min(this.#frame.getTimestampAtIndex(cursor + 1) - 1, this.#frame.timeslice.to);\n        const range = this.#rangeOffsets;\n\n        if (this.#highlightSelection === SELECT_ONE || this.#frame.blankSelection || range) {\n            this.#highlightInProgress = !(this.#highlightSelection === SELECT_ONE || range);\n\n            if (this.#highlightSelection === SELECT_MANY && range) {\n                const selectionDirection = toTimestamp >= (this.#frame.selectionEnd as number) ? SELECTION_FROM : SELECTION_TO;\n\n                selectionDirection === SELECTION_FROM\n                    ? this.#frame.updateSelection(toTimestamp, SELECTION_TO)\n                    : this.#frame.updateSelection(fromTimestamp, SELECTION_FROM);\n\n                this.#rangeHighlight(\n                    (selectionDirection === SELECTION_FROM ? this.#frame.selectionEnd : this.#frame.selectionStart) as number,\n                    selectionDirection,\n                    range\n                );\n            } else {\n                this.#frame.updateSelection(fromTimestamp, SELECTION_FROM);\n                this.#frame.updateSelection(toTimestamp, SELECTION_TO);\n            }\n        } else {\n            const isFauxHighlighting = secretFauxHighlightingHint === EMPTY_OBJECT;\n            const restamper = withTimezone(this.#frame.timezone);\n\n            if (!isFauxHighlighting) this.#highlightInProgress = false;\n\n            if (fromTimestamp <= this.#frame.selectionStart!) {\n                const selectionStartDay = new Date(timezoneToSystem(restamper, this.#frame.selectionStart!));\n                const selectionStartDayEndTimestamp = Math.min(\n                    systemToTimezone(restamper, selectionStartDay.setDate(selectionStartDay.getDate() + 1) - 1),\n                    this.#frame.timeslice.to\n                );\n\n                if (fromTimestamp === this.#frame.selectionStart! && toTimestamp <= selectionStartDayEndTimestamp) {\n                    this.#frame.updateSelection(toTimestamp, SELECTION_TO);\n                }\n\n                this.#frame.updateSelection(fromTimestamp, SELECTION_FROM);\n            } else {\n                const selectionEndDay = new Date(timezoneToSystem(restamper, this.#frame.selectionEnd!));\n                const selectionEndDayStartTimestamp = Math.max(\n                    systemToTimezone(restamper, selectionEndDay.setHours(0, 0, 0, 0)),\n                    this.#frame.timeslice.from\n                );\n\n                if (fromTimestamp <= this.#frame.selectionEnd! && fromTimestamp >= selectionEndDayStartTimestamp) {\n                    this.#frame.updateSelection(fromTimestamp, SELECTION_FROM);\n                }\n\n                this.#frame.updateSelection(toTimestamp, SELECTION_TO);\n            }\n\n            if (isFauxHighlighting) return;\n        }\n\n        this.#highlightFrom = this.#frame.selectionStart;\n        this.#highlightTo = this.#frame.selectionEnd;\n    }\n\n    #clearHighlight() {\n        this.#frame?.clearSelection();\n        this.#highlightInProgress = false;\n        this.#highlightFrom = this.#highlightTo = undefined;\n    }\n\n    #rangeHighlight(\n        time: number,\n        selectionDirection: typeof SELECTION_FROM | typeof SELECTION_TO,\n        rangeOffsets?: [number, number, number, number, number, number]\n    ) {\n        if (!this.#frame) return;\n\n        const restamper = withTimezone(this.#frame?.timezone);\n        const restampedDate = new Date(timezoneToSystem(restamper, time));\n        const direction = selectionDirection === SELECTION_FROM ? -1 : 1;\n        const [years = 0, months = 0, days = 0, hours = 0, minutes = 0, seconds = 0] = rangeOffsets ?? [];\n\n        restampedDate.setFullYear(\n            restampedDate.getFullYear() + years * direction,\n            restampedDate.getMonth() + months * direction,\n            restampedDate.getDate() + days * direction\n        );\n        restampedDate.setHours(\n            restampedDate.getHours() + hours * direction,\n            restampedDate.getMinutes() + minutes * direction,\n            restampedDate.getSeconds() + seconds * direction\n        );\n\n        this.#frame.updateSelection(systemToTimezone(restamper, restampedDate.getTime() - direction), selectionDirection);\n    }\n\n    #restoreHighlight() {\n        this.#highlightFrom && this.#frame?.updateSelection(this.#highlightFrom, SELECTION_FROM);\n        this.#highlightTo && this.#frame?.updateSelection(this.#highlightTo, SELECTION_TO);\n        this.#highlightInProgress = false;\n    }\n\n    #reframe() {\n        if (!this.#frame) return;\n\n        this.#frame.timeslice = this.#config.timeslice;\n        this.#frame.dynamicBlockHeight = !this.#config.fixedBlockHeight;\n        this.#frame.firstWeekDay = this.#config.firstWeekDay;\n        this.#frame.locale = this.#config.locale;\n        this.#frame.size = this.#config.blocks;\n        this.#frame.timezone = this.#config.timezone;\n        this.#frame.trackCurrentDay = this.#config.trackCurrentDay;\n        this.#today = today(this.#frame.timezone);\n\n        this.#restoreHighlight();\n    }\n\n    #refreshHighlighting() {\n        switch (this.#highlightSelection) {\n            case SELECT_MANY:\n                if (!boolOrTrue(this.#frame?.blankSelection) && this.#rangeOffsets) {\n                    this.#rangeHighlight(this.#frame?.selectionStart!, SELECTION_TO, this.#rangeOffsets);\n                }\n                break;\n            case SELECT_ONE:\n                if (!boolOrTrue(this.#frame?.blankSelection)) {\n                    const restamper = withTimezone(this.#frame?.timezone);\n                    const restampedDate = new Date(timezoneToSystem(restamper, this.#frame?.selectionStart!));\n                    this.#frame?.updateSelection(systemToTimezone(restamper, restampedDate.setHours(23, 59, 59, 999)), SELECTION_TO);\n                }\n                break;\n            case SELECT_NONE:\n            default:\n                this.#clearHighlight();\n                return;\n        }\n    }\n\n    #refreshShiftControls() {\n        switch (this.#watchlist?.snapshot.controls) {\n            case CONTROLS_ALL:\n                this.#shiftControlsList = Calendar.#SHIFT_ALL_CONTROLS;\n                break;\n            case CONTROLS_MINIMAL:\n                this.#shiftControlsList = Calendar.#SHIFT_MINIMAL_CONTROLS;\n                break;\n            case CONTROLS_NONE:\n            default:\n                this.#shiftControlsList = undefined;\n        }\n\n        this.#shiftControlsHandles.length = 0;\n        this.#shiftControlsHandles.length = this.#shiftControlsList?.length ?? 0;\n    }\n}\n","import Calendar from './Calendar';\nimport { CONTROLS_ALL, CONTROLS_MINIMAL, CONTROLS_NONE, RANGE_FROM, RANGE_TO, SELECT_MANY, SELECT_NONE, SELECT_ONE } from '../constants';\nimport { ALREADY_RESOLVED_PROMISE, enumerable, isFunction, isNumber, struct } from '../../../../../utils';\nimport timeslice, { sinceNow, UNBOUNDED_SLICE, untilNow } from '../timeslice';\nimport { CalendarFacade } from '../types';\n\nconst calendar = (() => {\n    const calendar = (init => {\n        const { grid, kill } = new Calendar();\n\n        if (isNumber(init)) grid.config({ blocks: init });\n        else if (isFunction(init))\n            ALREADY_RESOLVED_PROMISE.then(() => {\n                grid.config.watch = init;\n            });\n        else grid.config(init);\n\n        return struct({\n            grid: enumerable(grid),\n            kill: enumerable(kill),\n        }) as ReturnType<CalendarFacade>;\n    }) as CalendarFacade;\n\n    return Object.defineProperties(calendar, {\n        controls: {\n            value: struct({\n                ALL: { value: CONTROLS_ALL },\n                MINIMAL: { value: CONTROLS_MINIMAL },\n                NONE: { value: CONTROLS_NONE },\n            }),\n        },\n        highlight: {\n            value: struct({\n                ONE: { value: SELECT_ONE },\n                MANY: { value: SELECT_MANY },\n                NONE: { value: SELECT_NONE },\n            }),\n        },\n        slice: {\n            value: Object.defineProperties(timeslice.bind(null), {\n                FROM: { value: RANGE_FROM },\n                TO: { value: RANGE_TO },\n                UNBOUNDED: { value: UNBOUNDED_SLICE },\n                SINCE_NOW: { get: sinceNow },\n                UNTIL_NOW: { get: untilNow },\n            }),\n        },\n    });\n})();\n\nexport default calendar;\n","import { memo } from 'preact/compat';\nimport { CalendarControlsProps } from './types';\nimport calendar from '../../calendar';\nimport { isFunction } from '../../../../../utils';\n\nconst CalendarControls = ({ config, grid: { controls }, renderer }: CalendarControlsProps) => {\n    if (config.controls === calendar.controls.NONE || !isFunction(renderer)) return null;\n    return <>{controls.map(([control, handle]) => renderer(control, handle))}</>;\n};\n\nexport default memo(CalendarControls);\n","import { useCallback } from 'preact/hooks';\nimport { ALREADY_RESOLVED_PROMISE } from '../../utils';\nimport type { ReflexAction } from '../../primitives/reactive/reflex';\nimport useReflex from '../useReflex';\n\nconst useFocusCursor = (callback?: ReflexAction<Element>) => {\n    const finallyCallback = useCallback(\n        ((current, previous) => {\n            if (previous instanceof Element) previous.setAttribute('tabindex', '-1');\n            if (current instanceof Element) {\n                current.setAttribute('tabindex', '0');\n                // schedule a microtask to focus the current element\n                ALREADY_RESOLVED_PROMISE.then(() => (current as HTMLElement)?.focus());\n            }\n        }) as ReflexAction<Element>,\n        []\n    );\n\n    return useReflex<Element>(\n        useCallback(\n            (current, previous) => {\n                try {\n                    callback?.(current, previous);\n                } finally {\n                    finallyCallback(current, previous);\n                }\n            },\n            [callback]\n        )\n    );\n};\n\nexport default useFocusCursor;\n","import { Ref } from 'preact';\nimport { useCallback, useEffect, useImperativeHandle, useMemo, useRef, useState } from 'preact/hooks';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport type { ReflexAction } from '../../../../primitives/reactive/reflex';\nimport { getDateObjectFromTimestamp } from '../calendar/utils';\nimport { EMPTY_OBJECT, isFunction } from '../../../../utils';\nimport { CalendarGridCursorRootProps, CalendarHandle, CalendarProps } from '../types';\nimport useFocusCursor from '../../../../hooks/element/useFocusCursor';\nimport calendar from '../calendar';\n\nconst useCalendar = (\n    {\n        blocks,\n        controls,\n        dynamicBlockRows,\n        firstWeekDay,\n        highlight,\n        locale,\n        onHighlight,\n        originDate,\n        renderControl,\n        sinceDate,\n        timezone,\n        trackCurrentDay,\n        untilDate,\n        useYearView,\n    }: CalendarProps,\n    ref: Ref<unknown>\n) => {\n    const { i18n } = useCoreContext();\n    const [lastMutationTimestamp, setLastMutationTimestamp] = useState<DOMHighResTimeStamp>(performance.now());\n    const timeslice = useMemo(() => calendar.slice(sinceDate, untilDate), [sinceDate, untilDate]);\n    const config = useRef<ReturnType<typeof grid.config>>(EMPTY_OBJECT);\n\n    const activeControls = useMemo(\n        () => controls ?? (isFunction(renderControl) ? calendar.controls.MINIMAL : calendar.controls.NONE),\n        [controls, renderControl]\n    );\n\n    const activeHighlight = useMemo(\n        () => highlight ?? (isFunction(onHighlight) ? calendar.highlight.ONE : calendar.highlight.NONE),\n        [highlight, onHighlight]\n    );\n\n    const { grid, kill } = useMemo(() => {\n        const { grid, kill } = calendar(function () {\n            setLastMutationTimestamp(performance.now());\n            config.current = this;\n\n            if (highlightStart === grid.highlight.from && highlightEnd === grid.highlight.to) return;\n\n            highlightStart = grid.highlight.from;\n            highlightEnd = grid.highlight.to;\n            onHighlight?.(highlightStart, highlightEnd);\n        });\n\n        let { from: highlightStart, to: highlightEnd } = grid.highlight;\n\n        grid.config.cursorIndex = (evt: Event): number | undefined => {\n            let element: HTMLElement | null = evt.target as HTMLElement;\n\n            while (element && element !== evt.currentTarget) {\n                const index = Number(element.dataset.cursorPosition);\n                if (Number.isFinite(index)) return index;\n                element = element.parentNode as HTMLElement;\n            }\n        };\n\n        grid.config.shiftFactor = function (evt: Event) {\n            if (this.controls !== calendar.controls.MINIMAL) return;\n            if ((evt as MouseEvent)?.shiftKey) return 12;\n            if ((evt as MouseEvent)?.altKey) return this.blocks;\n            return 1;\n        };\n\n        return { grid, kill };\n    }, []);\n\n    const cursorRootProps = useMemo(() => {\n        const pointerHandle = (evt: Event) => {\n            grid.cursor(evt);\n        };\n\n        return {\n            onClickCapture: pointerHandle,\n            onMouseOverCapture: pointerHandle,\n            onPointerOverCapture: pointerHandle,\n            onKeyDownCapture: (evt: KeyboardEvent) => {\n                grid.cursor(evt) && evt.preventDefault();\n            },\n        } as CalendarGridCursorRootProps;\n    }, [grid]);\n\n    const cursorElementRef = useFocusCursor(\n        useCallback(\n            ((current, previous) => {\n                if (previous instanceof Element) previous.removeAttribute('aria-selected');\n                if (current instanceof Element) current.setAttribute('aria-selected', 'true');\n            }) as ReflexAction<Element>,\n            []\n        )\n    );\n\n    useImperativeHandle(\n        ref,\n        () => {\n            const { from, to } = grid?.highlight || EMPTY_OBJECT;\n            return {\n                clear: () => {\n                    grid?.highlight && (grid.highlight.from = undefined);\n                },\n                get config() {\n                    return { ...(config.current ?? EMPTY_OBJECT) };\n                },\n                get from() {\n                    return getDateObjectFromTimestamp(from);\n                },\n                set from(date) {\n                    grid?.highlight && date && (grid.highlight.from = date.getTime());\n                },\n                get to() {\n                    return getDateObjectFromTimestamp(to);\n                },\n                set to(date) {\n                    grid?.highlight && date && (grid.highlight.to = date.getTime());\n                },\n            } as CalendarHandle;\n        },\n        [grid, lastMutationTimestamp]\n    );\n\n    useEffect(() => {\n        grid.config({\n            blocks,\n            controls: activeControls,\n            firstWeekDay,\n            fixedBlockHeight: !dynamicBlockRows,\n            highlight: activeHighlight,\n            locale: locale ?? i18n.locale,\n            minified: useYearView,\n            timeslice,\n            timezone,\n            trackCurrentDay,\n        });\n    }, [\n        activeControls,\n        activeHighlight,\n        blocks,\n        dynamicBlockRows,\n        firstWeekDay,\n        grid,\n        i18n,\n        locale,\n        timeslice,\n        timezone,\n        trackCurrentDay,\n        useYearView,\n    ]);\n\n    useEffect(() => {\n        const origins = ([] as number[])\n            .concat(originDate as ConcatArray<number>)\n            .slice(0, 2)\n            .map(Number)\n            .filter(Boolean);\n        if (origins[0]) grid.highlight.from = +origins[0];\n        if (origins[1]) grid.highlight.to = +origins[1];\n        return kill;\n    }, []);\n\n    return { cursorElementRef, cursorRootProps, grid };\n};\n\nexport default useCalendar;\n","import { forwardRef, memo } from 'preact/compat';\nimport CalendarGrid from './components/CalendarGrid';\nimport CalendarControls from './components/CalendarControls';\nimport useCalendar from './hooks/useCalendar';\nimport { CalendarProps } from './types';\nimport './Calendar.scss';\n\nconst Calendar = forwardRef((props: CalendarProps, ref) => {\n    const calendar = useCalendar(props, ref);\n    const config = calendar.grid.config();\n\n    return (\n        <div role=\"none\">\n            <CalendarControls config={config} grid={calendar.grid} renderer={props.renderControl} />\n            <CalendarGrid\n                ref={calendar.cursorElementRef}\n                config={config}\n                cursorRootProps={calendar.cursorRootProps}\n                getGridLabel={props.getGridLabel}\n                grid={calendar.grid}\n                onlyCellsWithin={props.onlyCellsWithin}\n                prepare={props.prepare}\n            />\n        </div>\n    );\n});\n\nexport default memo(Calendar);\n","import { VNode } from 'preact';\nimport { createPortal } from 'preact/compat';\nimport { useMemo, useState } from 'preact/hooks';\nimport type { Reflexable } from '../../primitives/reactive/reflex';\nimport type { Nullable } from '../../utils/types';\nimport useReflex from '../useReflex';\n\nconst useDetachedRender = (callback: (targetElement: Element, ...args: any[]) => VNode | null, targetRef?: Nullable<Reflexable<Element>>) => {\n    const [render, setRender] = useState<(...args: any[]) => VNode | null>();\n\n    const renderTarget = useReflex<Element>(\n        useMemo(() => {\n            const render =\n                (targetElement: Element) =>\n                (...args: any[]) => {\n                    const jsx = callback(targetElement, ...args);\n                    return jsx && createPortal(jsx, targetElement);\n                };\n\n            setRender(undefined);\n\n            return targetElement => setRender(targetElement instanceof Element ? () => render(targetElement) : undefined);\n        }, [callback, targetRef]),\n        targetRef\n    );\n\n    return [render, renderTarget] as const;\n};\n\nexport default useDetachedRender;\n","import { ButtonVariant } from '../../Button/types';\nimport { useCallback } from 'preact/hooks';\nimport { isFunction } from '../../../../utils';\nimport { CalendarControlRenderer, CalendarRenderControl } from '../types';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport useDetachedRender from '../../../../hooks/element/useDetachedRender';\nimport Button from '../../Button';\nimport Icon from '../../Icon';\n\nconst useCalendarControlsRendering = (renderControl?: CalendarRenderControl) => {\n    const { i18n } = useCoreContext();\n\n    return useDetachedRender(\n        useCallback(\n            ((targetElement, control, handle) => {\n                if (!(targetElement instanceof HTMLElement)) return null;\n                if (isFunction(renderControl)) return renderControl(control, handle);\n\n                let directionModifier: string;\n                let labelModifier: 'next' | 'previous';\n                let iconName: 'chevron-left' | 'chevron-right';\n\n                switch (control) {\n                    case 'PREV':\n                        directionModifier = 'prev';\n                        labelModifier = 'previous';\n                        iconName = 'chevron-left';\n                        break;\n                    case 'NEXT':\n                        directionModifier = labelModifier = 'next';\n                        iconName = 'chevron-right';\n                        break;\n                    default:\n                        return null;\n                }\n\n                const shouldRenderControl = handle();\n\n                return shouldRenderControl ? (\n                    <Button\n                        aria-label={i18n.get(`common.filters.types.date.calendar.navigation.${labelModifier}Month`)}\n                        variant={ButtonVariant.TERTIARY}\n                        disabled={!shouldRenderControl}\n                        classNameModifiers={['circle', directionModifier]}\n                        iconButton={true}\n                        key={control}\n                        onClick={handle}\n                    >\n                        <Icon name={iconName} />\n                    </Button>\n                ) : null;\n            }) as CalendarControlRenderer,\n            [i18n, renderControl]\n        )\n    );\n};\n\nexport default useCalendarControlsRendering;\n","import cx from 'classnames';\nimport { forwardRef } from 'preact/compat';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport { Ref } from 'preact';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { boolOrTrue, EMPTY_OBJECT, noop } from '../../../utils';\nimport useReflex from '../../../hooks/useReflex';\nimport useTimezone from '../Calendar/hooks/useTimezone';\nimport { DEFAULT_FIRST_WEEK_DAY } from '../Calendar/calendar/timerange/presets/shared/offsetWeek';\nimport { DateFilterProps } from '../FilterBar/filters/DateFilter/types';\nimport TimeRangeSelector from './components/TimeRangeSelector';\nimport Calendar from '../Calendar';\nimport calendar from '../Calendar/calendar';\nimport useCalendarControlsRendering from '../Calendar/hooks/useCalendarControlsRendering';\nimport { CalendarHandle, CalendarProps } from '../Calendar/types';\nimport './DatePicker.scss';\n\nexport type DatePickerProps = Omit<CalendarProps, 'getGridLabel'> &\n    Pick<DateFilterProps, 'now' | 'selectedPresetOption' | 'showTimezoneInfo' | 'timeRangePresetOptions' | 'timeRangeSelectorLabel' | 'timezone'> & {\n        onPresetOptionSelected?: (option: string) => any;\n    };\n\nconst DatePicker = forwardRef((props: DatePickerProps, ref) => {\n    const { i18n } = useCoreContext();\n    const [controlsRenderer, controlsContainerRef] = useCalendarControlsRendering(props.renderControl);\n    const [lastUpdatedTimestamp, setLastUpdatedTimestamp] = useState<DOMHighResTimeStamp>(performance.now());\n\n    const withTimezone = useMemo(() => boolOrTrue(props.showTimezoneInfo), [props.showTimezoneInfo]);\n    const { clockTime: time, GMTOffset: offset } = useTimezone({ timezone: props.timezone, withClock: withTimezone });\n\n    const datePickerClassName = useMemo(() => cx([{ 'adyen-pe-datepicker--with-timezone': withTimezone }, 'adyen-pe-datepicker']), [withTimezone]);\n    const timezoneI18nOptions = useMemo(() => (withTimezone ? { values: { offset, time } } : EMPTY_OBJECT), [offset, time, withTimezone]);\n    const calendarRef = useReflex<CalendarHandle>(noop, ref as Ref<CalendarHandle>);\n\n    const getCalendarGridLabel = useCallback<CalendarProps['getGridLabel']>(\n        block => i18n.get('common.filters.types.date.calendar.label', { values: { monthOfYear: block.label } }),\n        [i18n]\n    );\n\n    const onHighlight = useCallback(() => {\n        setLastUpdatedTimestamp(performance.now());\n\n        if (calendarRef.current?.from && calendarRef.current?.to) {\n            props.onHighlight?.(+calendarRef.current?.from, +calendarRef.current?.to);\n        }\n    }, [setLastUpdatedTimestamp, props.onHighlight]);\n\n    return (\n        <div className={datePickerClassName}>\n            <div className={'adyen-pe-datepicker__selector-container'}>\n                <TimeRangeSelector\n                    now={props.now}\n                    calendarRef={calendarRef}\n                    onTimeRangeSelected={props.onPresetOptionSelected}\n                    options={props.timeRangePresetOptions}\n                    selectedOption={props.selectedPresetOption}\n                    timestamp={lastUpdatedTimestamp}\n                    timezone={props.timezone}\n                    aria-label={props.timeRangeSelectorLabel}\n                />\n            </div>\n            <div\n                ref={controlsContainerRef}\n                role=\"group\"\n                className={'adyen-pe-datepicker__controls'}\n                aria-label={i18n.get('common.filters.types.date.calendar.navigation.label')}\n            />\n            <Calendar\n                {...props}\n                ref={calendarRef}\n                firstWeekDay={DEFAULT_FIRST_WEEK_DAY}\n                dynamicBlockRows={true}\n                onlyCellsWithin={true}\n                controls={props.controls ?? calendar.controls.MINIMAL}\n                highlight={props.highlight ?? calendar.highlight.MANY}\n                getGridLabel={getCalendarGridLabel}\n                onHighlight={onHighlight}\n                renderControl={controlsRenderer}\n                trackCurrentDay={true}\n            />\n            {withTimezone && (\n                <div className={'adyen-pe-datepicker__timezone'}>{i18n.get('common.filters.types.date.timezoneInfo', timezoneI18nOptions)}</div>\n            )}\n        </div>\n    );\n});\n\nexport default DatePicker;\n","import useButton from '../../../Button/hooks/useButton';\nimport { TypographyElement, TypographyVariant } from '../../../Typography/types';\nimport Typography from '../../../Typography/Typography';\nimport { fixedForwardRef, parseBooleanProp, parseClassName } from '../../../../../utils/preact';\nimport { ForwardedRef } from 'preact/compat';\nimport { useMemo } from 'preact/hooks';\nimport { FilterButtonProps } from './types';\nimport './FilterButton.scss';\n\nconst DEFAULT_FILTER_BUTTON_CLASSNAME = 'adyen-pe-filter-button';\n\nfunction FilterButton(props: FilterButtonProps, ref: ForwardedRef<HTMLButtonElement>) {\n    const { className, classNameModifiers = [], children, disabled, onClick, ...restAttributes } = props;\n    const classNameValue = useMemo(() => parseClassName('', className) || '', [className]);\n    const disabledValue = useMemo(() => parseBooleanProp(disabled), [disabled]);\n\n    const { allChildren, allProps, click } = useButton(\n        classNameValue,\n        classNameModifiers,\n        DEFAULT_FILTER_BUTTON_CLASSNAME,\n        disabledValue,\n        props,\n        props.type,\n        onClick\n    );\n\n    return (\n        <button ref={ref} onClick={click} {...allProps}>\n            <Typography el={TypographyElement.DIV} variant={TypographyVariant.BODY} stronger={true}>\n                {allChildren}\n            </Typography>\n        </button>\n    );\n}\nexport default fixedForwardRef(FilterButton);\n","import { JSX } from 'preact/jsx-runtime';\nimport { InteractionKeyCode } from '../../types';\n\ninterface FilterDisallowedCharactersProps {\n    event: JSX.TargetedKeyboardEvent<HTMLInputElement>;\n    inputType?: string;\n    onValidInput?: (event: JSX.TargetedKeyboardEvent<HTMLInputElement>) => void;\n}\n\nconst ALLOWED_NAVIGATION_KEYS = [\n    InteractionKeyCode.BACKSPACE,\n    InteractionKeyCode.DELETE,\n    InteractionKeyCode.ARROW_LEFT,\n    InteractionKeyCode.ARROW_RIGHT,\n    InteractionKeyCode.ARROW_UP,\n    InteractionKeyCode.ARROW_DOWN,\n    InteractionKeyCode.TAB,\n];\n\nconst filterDisallowedCharacters = ({ event, inputType, onValidInput }: FilterDisallowedCharactersProps) => {\n    const input = event.currentTarget as HTMLInputElement;\n    const { key } = event;\n\n    // Allow digits, period, comma, and minus\n    const isAllowedChar = /^[0-9.,-]$/.test(key);\n    const hasDecimal = /[.,]/.test(input.value);\n    const isDecimalKey = key === '.' || key === ',';\n\n    const isNavigationKey = ALLOWED_NAVIGATION_KEYS.includes(key as InteractionKeyCode);\n    const isDuplicateDecimal = hasDecimal && isDecimalKey;\n    const isNumberInput = inputType === 'number';\n\n    const shouldBlockInput = isNumberInput && !isNavigationKey && (!isAllowedChar || isDuplicateDecimal);\n\n    if (shouldBlockInput) {\n        event.preventDefault();\n        return;\n    }\n\n    onValidInput?.(event);\n};\n\nexport { filterDisallowedCharacters };\n","import Icon from '../../Icon';\nimport './FieldError.scss';\nimport cx from 'classnames';\n\ninterface FieldErrorProps {\n    id?: string;\n    errorMessage: string;\n    withTopMargin?: boolean;\n}\n\nexport const FieldError = ({ id, errorMessage, withTopMargin }: FieldErrorProps) => {\n    return (\n        <div className={cx('adyen-pe-field-error', { 'adyen-pe-field-error--with-top-margin': withTopMargin })} id={id}>\n            <Icon name=\"cross-circle-fill\" className=\"adyen-pe-field-error__icon\" />\n            <span className=\"adyen-pe-field-error__message\">{errorMessage}</span>\n        </div>\n    );\n};\n","import { ARIA_ERROR_SUFFIX } from '../../../core/Errors/constants';\nimport { hasOwnProperty } from '../../../utils';\nimport classNames from 'classnames';\nimport { h } from 'preact';\nimport { ForwardedRef, forwardRef, TargetedEvent } from 'preact/compat';\nimport { useCallback } from 'preact/hooks';\nimport { InputBaseProps } from './types';\nimport Select from './Select';\nimport { filterDisallowedCharacters } from './utils';\nimport './FormFields.scss';\nimport { ButtonVariant } from '../Button/types';\nimport { FieldError } from './FieldError/FieldError';\n\nfunction InputBase(\n    {\n        onInput,\n        onKeyUp,\n        trimOnBlur,\n        onBlurHandler,\n        onBlur,\n        onFocusHandler,\n        errorMessage,\n        iconBeforeSlot,\n        iconAfterSlot,\n        dropdown,\n        dropdownPosition = 'start',\n        onDropdownInput,\n        onKeyDown,\n        onUpdateDropdown,\n        ...props\n    }: InputBaseProps,\n    ref: ForwardedRef<HTMLInputElement | null>\n) {\n    const { classNameModifiers, isInvalid, isValid, readonly = false, type, uniqueId, isCollatingErrors, disabled } = props;\n\n    /**\n     * To avoid confusion with misplaced/misdirected onChange handlers - InputBase only accepts onInput, onBlur & onFocus handlers.\n     * The first 2 being the means by which we expect useForm--handleChangeFor validation functionality to be applied.\n     */\n    if (hasOwnProperty(props, 'onChange')) {\n        console.error('Error: Form fields that rely on InputBase may not have an onChange property');\n    }\n\n    const handleInput = useCallback(\n        (event: TargetedEvent<HTMLInputElement, Event>) => {\n            onInput?.(event);\n        },\n        [onInput]\n    );\n\n    const handleKeyUp = useCallback(\n        (event: h.JSX.TargetedKeyboardEvent<HTMLInputElement>) => {\n            if (onKeyUp) onKeyUp(event);\n        },\n        [onKeyUp]\n    );\n\n    const handleBlur = useCallback(\n        (event: h.JSX.TargetedEvent<HTMLInputElement>) => {\n            onBlurHandler?.(event); // From Field component\n\n            if (trimOnBlur) {\n                (event.target as HTMLInputElement).value = (event.target as HTMLInputElement).value.trim(); // needed to trim trailing spaces in field (leading spaces can be done via formatting)\n            }\n\n            onBlur?.(event);\n        },\n        [onBlur, onBlurHandler, trimOnBlur]\n    );\n\n    const handleFocus = useCallback(\n        (event: h.JSX.TargetedEvent<HTMLInputElement>) => {\n            onFocusHandler?.(event); // From Field component\n        },\n        [onFocusHandler]\n    );\n\n    const handleDropdownChange = useCallback(\n        (event: any) => {\n            const selectedValue = event.target?.value;\n            onDropdownInput?.(selectedValue);\n            if (dropdown) {\n                onUpdateDropdown?.({ ...dropdown, value: selectedValue });\n            }\n        },\n        [dropdown, onDropdownInput, onUpdateDropdown]\n    );\n\n    const inputClassNames = classNames(\n        'adyen-pe-input',\n        [`adyen-pe-input--${type}`],\n        props.className,\n        {\n            'adyen-pe-input--invalid': isInvalid,\n            'adyen-pe-input--valid': isValid,\n        },\n        classNameModifiers?.map(m => `adyen-pe-input--${m}`)\n    );\n\n    const handleKeyDown = useCallback(\n        (e: h.JSX.TargetedKeyboardEvent<HTMLInputElement>) => {\n            filterDisallowedCharacters({ event: e, inputType: type, onValidInput: () => onKeyDown?.(e) });\n        },\n        [type, onKeyDown]\n    );\n\n    // Don't spread classNameModifiers etc to input element (it ends up as an attribute on the element itself)\n    const {\n        classNameModifiers: cnm,\n        uniqueId: uid,\n        isInvalid: iiv,\n        isValid: iv,\n        isCollatingErrors: ce,\n        autoFocus,\n        autofocus,\n        ...newProps\n    } = props as any;\n\n    const hasIcons = iconBeforeSlot || iconAfterSlot;\n    const shouldShowDropdown = !!dropdown && dropdown.items.length > 0;\n    const shouldDisplayDropdownAtStart = shouldShowDropdown && dropdownPosition === 'start';\n    const shouldDisplayDropdownAtEnd = shouldShowDropdown && dropdownPosition === 'end';\n    const hasDropdownOrIcons = hasIcons || shouldShowDropdown;\n\n    const isDropdownReadOnly = readonly || dropdown?.readonly;\n\n    const inputElement = (\n        <input\n            id={uniqueId}\n            {...newProps}\n            type={type}\n            className={inputClassNames}\n            readOnly={readonly}\n            aria-describedby={isCollatingErrors ? undefined : `${uniqueId}${ARIA_ERROR_SUFFIX}`}\n            aria-invalid={isInvalid}\n            onInput={handleInput}\n            onBlurCapture={handleBlur}\n            onFocus={handleFocus}\n            onKeyDown={handleKeyDown}\n            onKeyUp={handleKeyUp}\n            disabled={disabled}\n            ref={ref}\n            autoFocus={false}\n        />\n    );\n\n    const renderDropdown = useCallback(\n        () =>\n            dropdown ? (\n                <Select\n                    name={dropdown.name}\n                    buttonVariant={ButtonVariant.TERTIARY}\n                    items={dropdown.items}\n                    selected={dropdown.value}\n                    onChange={handleDropdownChange}\n                    readonly={isDropdownReadOnly}\n                    filterable={dropdown.filterable}\n                    aria-label={dropdown['aria-label']}\n                    classNameModifiers={['input-field']}\n                    isCollatingErrors={isCollatingErrors}\n                    disableToggleFocusOnClose\n                />\n            ) : null,\n        [dropdown, handleDropdownChange, isCollatingErrors, isDropdownReadOnly]\n    );\n\n    return (\n        <>\n            {hasDropdownOrIcons ? (\n                <div\n                    className={classNames('adyen-pe-input__container', {\n                        ['adyen-pe-input--invalid']: isInvalid,\n                    })}\n                >\n                    {shouldDisplayDropdownAtStart && (\n                        <div role=\"presentation\" className=\"adyen-pe-input__dropdown adyen-pe-input__dropdown--start\">\n                            {renderDropdown()}\n                        </div>\n                    )}\n                    {iconBeforeSlot && <span className=\"adyen-pe-input__slot-before\">{iconBeforeSlot}</span>}\n                    {inputElement}\n                    {iconAfterSlot && <span className=\"adyen-pe-input__slot-after\">{iconAfterSlot}</span>}\n                    {shouldDisplayDropdownAtEnd && (\n                        <div role=\"presentation\" className=\"adyen-pe-input__dropdown adyen-pe-input__dropdown--end\">\n                            {renderDropdown()}\n                        </div>\n                    )}\n                </div>\n            ) : (\n                inputElement\n            )}\n            {isInvalid && errorMessage && <FieldError id={uniqueId} errorMessage={errorMessage} />}\n        </>\n    );\n}\n\nInputBase.defaultProps = {\n    type: 'text',\n    classNameModifiers: [],\n    onInput: () => {},\n};\n\nexport default forwardRef(InputBase);\n","import InputBase from './InputBase';\nimport { InputBaseProps } from './types';\nimport { ForwardedRef, forwardRef } from 'preact/compat';\n\nexport default forwardRef(function InputText(props: InputBaseProps, ref: ForwardedRef<HTMLInputElement | null>) {\n    return <InputBase classNameModifiers={props.classNameModifiers} {...props} ref={ref} aria-required={props.required} type=\"text\" />;\n});\n","import { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport FilterButton from '../../components/FilterButton/FilterButton';\nimport Popover from '../../../Popover/Popover';\nimport { PopoverContainerPosition, PopoverContainerVariant } from '../../../Popover/types';\nimport { TypographyElement, TypographyVariant } from '../../../Typography/types';\nimport Typography from '../../../Typography/Typography';\nimport useCommitAction, { CommitAction } from '../../../../../hooks/useCommitAction';\nimport { isEmptyString, isNull } from '../../../../../utils';\nimport { memo } from 'preact/compat';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport useBooleanState from '../../../../../hooks/useBooleanState';\nimport useUniqueId from '../../../../../hooks/useUniqueId';\nimport '../../../FormFields';\nimport InputText from '../../../FormFields/InputText';\nimport { BaseFilterProps, FilterEditModalRenderProps, FilterProps } from './types';\n\nconst isValueEmptyFallback = (value?: string) => {\n    return !value || isEmptyString(value);\n};\n\nconst renderFallback = (() => {\n    const DefaultEditModalBody = <T extends BaseFilterProps>(props: FilterEditModalRenderProps<T>) => {\n        const { editAction, name, onChange, onValueUpdated } = props;\n        const [currentValue, setCurrentValue] = useState(props.value);\n        const inputRef = useRef<HTMLInputElement>(null);\n\n        const handleInput = useCallback(\n            (e: Event) => {\n                const value = (e.target as HTMLInputElement).value.trim();\n                setCurrentValue(value);\n                onValueUpdated(value);\n            },\n            [onValueUpdated]\n        );\n\n        useEffect(() => {\n            if (inputRef.current) {\n                inputRef.current.focus();\n            }\n        }, [inputRef]);\n\n        useEffect(() => {\n            if (editAction === CommitAction.CLEAR) {\n                const value = '';\n                setCurrentValue(value);\n                onValueUpdated(value);\n                onChange(value);\n            }\n\n            if (editAction === CommitAction.APPLY) {\n                onChange(currentValue ?? '');\n            }\n        }, [currentValue, editAction, onChange, onValueUpdated]);\n\n        return <InputText ref={inputRef} name={name} value={currentValue} onInput={handleInput} />;\n    };\n\n    return <T extends BaseFilterProps>(props: FilterEditModalRenderProps<T>) => <DefaultEditModalBody<T> {...props} />;\n})();\n\nconst BaseFilter = <T extends BaseFilterProps = BaseFilterProps>({ render, ['aria-label']: ariaLabel, ...props }: FilterProps<T>) => {\n    const isSmContainer = useResponsiveContainer(containerQueries.down.xs);\n    const [editMode, _updateEditMode] = useBooleanState(false);\n    const [editModalMounting, updateEditModalMounting] = useBooleanState(false);\n    const isValueEmpty = useMemo(() => props.isValueEmpty ?? isValueEmptyFallback, [props.isValueEmpty]);\n    const [hasEmptyValue, updateHasEmptyValue] = useBooleanState(isValueEmpty(props.value));\n    const [hasInitialValue, updateHasInitialValue] = useBooleanState(false);\n    const [valueChanged, updateValueChanged] = useBooleanState(false);\n    const [disabledApply, updateDisabledApply] = useBooleanState(isValueEmpty(props.value));\n    const targetElement = useRef<HTMLButtonElement | null>(null);\n\n    const filterButtonId = `elem-${useUniqueId()}`;\n    const renderModalBody = useMemo(() => render ?? renderFallback<T>, [render]);\n\n    const onValueUpdated = useCallback(\n        (currentValue?: string | null) => {\n            const hasEmptyValue = isValueEmpty(currentValue ?? undefined);\n            updateHasEmptyValue(hasEmptyValue);\n            updateDisabledApply(isNull(currentValue));\n            updateValueChanged(hasInitialValue ? currentValue !== props.value : !hasEmptyValue);\n        },\n        [isValueEmpty, updateHasEmptyValue, updateDisabledApply, updateValueChanged, hasInitialValue, props.value]\n    );\n\n    const { commitAction, commitActionButtons, committing, resetCommitAction } = useCommitAction({\n        applyDisabled: disabledApply || !valueChanged,\n        resetDisabled: hasEmptyValue,\n        onResetAction: props?.onResetAction,\n    });\n\n    const editModeActive = useRef(false);\n\n    const [closeEditDialog, openEditDialog] = useMemo(() => {\n        const updateEditMode = (mode: boolean) => () => {\n            if (mode === editMode || (mode && editModeActive.current)) return;\n\n            if (mode) {\n                resetCommitAction();\n                updateValueChanged(false);\n                updateHasInitialValue(false);\n            }\n\n            _updateEditMode(mode);\n            updateEditModalMounting(mode);\n        };\n\n        return [updateEditMode(false), updateEditMode(true)];\n    }, [_updateEditMode, editMode, resetCommitAction, updateEditModalMounting, updateHasInitialValue, updateValueChanged]);\n\n    useEffect(() => {\n        if (editModalMounting) {\n            const hasEmptyValue = isValueEmpty(props.value);\n            updateEditModalMounting(false);\n            updateHasEmptyValue(hasEmptyValue);\n            updateHasInitialValue(!hasEmptyValue);\n        }\n    }, [props.value, editModalMounting, isValueEmpty, updateEditModalMounting, updateHasEmptyValue, updateHasInitialValue]);\n\n    useEffect(() => {\n        committing && closeEditDialog();\n    }, [committing, closeEditDialog]);\n\n    useEffect(() => {\n        editModeActive.current = editMode;\n    }, [editMode]);\n\n    const isOnlySmContainer = useResponsiveContainer(containerQueries.only.sm);\n    const isOnlyMdContainer = useResponsiveContainer(containerQueries.only.md);\n\n    return (\n        <>\n            <div className={`adyen-pe-filter adyen-pe-filter--${props.type}`}>\n                {useMemo(\n                    () => (\n                        <FilterButton\n                            classNameModifiers={[\n                                ...(props.appliedFilterAmount ? ['with-counter'] : []),\n                                ...(props.classNameModifiers ?? []),\n                                ...(editMode ? ['active'] : []),\n                                ...(hasEmptyValue ? [] : ['has-selection']),\n                            ]}\n                            aria-label={ariaLabel}\n                            id={filterButtonId}\n                            onClick={editMode ? closeEditDialog : openEditDialog}\n                            ref={targetElement}\n                            tabIndex={0}\n                        >\n                            <div className=\"adyen-pe-filter-button__default-container\">\n                                <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} className=\"adyen-pe-filter-button__label\">\n                                    {props.label}\n                                </Typography>\n                                {!!props.appliedFilterAmount && (\n                                    <div className=\"adyen-pe-filter-button__counter-wrapper\">\n                                        <Typography\n                                            el={TypographyElement.SPAN}\n                                            variant={TypographyVariant.BODY}\n                                            stronger={true}\n                                            className=\"adyen-pe-filter-button__counter\"\n                                        >\n                                            {props.appliedFilterAmount}\n                                        </Typography>\n                                    </div>\n                                )}\n                            </div>\n                        </FilterButton>\n                    ),\n                    [\n                        props.appliedFilterAmount,\n                        props.classNameModifiers,\n                        props.label,\n                        editMode,\n                        hasEmptyValue,\n                        closeEditDialog,\n                        openEditDialog,\n                        targetElement,\n                    ]\n                )}\n            </div>\n            {editMode && (\n                <Popover\n                    actions={commitActionButtons}\n                    title={props.title?.trim()}\n                    variant={PopoverContainerVariant.POPOVER}\n                    modifiers={['filter']}\n                    open={editMode}\n                    dismiss={closeEditDialog}\n                    dismissible={false}\n                    withContentPadding={props.withContentPadding ?? true}\n                    divider={true}\n                    targetElement={targetElement}\n                    disableFocusTrap={false}\n                    position={PopoverContainerPosition.BOTTOM}\n                    containerSize={props.containerSize}\n                    showOverlay={isSmContainer}\n                    fitPosition={isOnlySmContainer || isOnlyMdContainer}\n                >\n                    {renderModalBody({ ...props, editAction: commitAction, onValueUpdated })}\n                </Popover>\n            )}\n        </>\n    );\n};\n\nexport default memo(BaseFilter);\n","import { UseTimeRangeSelectionConfig } from '../../../DatePicker/components/TimeRangeSelector';\nimport { BaseFilterProps } from '../BaseFilter/types';\n\nexport const enum DateRangeFilterParam {\n    FROM = 'from',\n    TO = 'to',\n}\n\nexport interface DateFilterProps extends BaseFilterProps {\n    onChange: (params?: { [P in DateRangeFilterParam | 'selectedPresetOption']?: string }) => void;\n    sinceDate?: string;\n    untilDate?: string;\n    now?: UseTimeRangeSelectionConfig['now'];\n    selectedPresetOption?: string;\n    showTimezoneInfo?: boolean;\n    timeRangePresetOptions: UseTimeRangeSelectionConfig['options'];\n    timeRangeSelectorLabel?: string;\n    timezone?: UseTimeRangeSelectionConfig['timezone'];\n    [DateRangeFilterParam.FROM]?: string;\n    [DateRangeFilterParam.TO]?: string;\n}\n","import Localization from '../../../../../core/Localization';\nimport useTimezoneAwareDateFormatting from '../../../../../hooks/useTimezoneAwareDateFormatting';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { BASE_LOCALE } from '../../../../../core/Localization/datetime/restamper/constants';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport { CommitAction } from '../../../../../hooks/useCommitAction';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { CalendarHandle } from '../../../Calendar/types';\nimport DatePicker from '../../../DatePicker';\nimport BaseFilter from '../BaseFilter';\nimport { FilterEditModalRenderProps, FilterProps } from '../BaseFilter/types';\nimport { DateFilterProps, DateRangeFilterParam } from './types';\nimport './DateFilterCore.scss';\n\nconst formattingOptions = {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n} as const;\n\nconst computeDateFilterValue = (i18n: Localization['i18n'], fullDateFormat: Localization['fullDate'], fromDate?: string, toDate?: string) => {\n    const from = fromDate && fullDateFormat(fromDate);\n    const to = toDate && fullDateFormat(toDate);\n\n    if (from && to) return i18n.get('common.filters.types.date.range.between', { values: { fromDate: from, toDate: to } });\n    if (from) return i18n.get('common.filters.types.date.range.since', { values: { date: from } });\n    if (to) return i18n.get('common.filters.types.date.range.until', { values: { date: to } });\n};\n\nconst resolveDate = (date?: any) => {\n    try {\n        return new Date(date || '').toISOString();\n    } catch {\n        return '';\n    }\n};\n\nconst renderDateFilterModalBody = (() => {\n    const DateFilterEditModalBody = ({\n        editAction,\n        from,\n        to,\n        now,\n        onChange,\n        onValueUpdated,\n        showTimezoneInfo,\n        selectedPresetOption,\n        timeRangePresetOptions,\n        timeRangeSelectorLabel,\n        timezone,\n        sinceDate,\n        untilDate,\n    }: FilterEditModalRenderProps<DateFilterProps>) => {\n        const { i18n } = useCoreContext();\n        const { fullDateFormat } = useTimezoneAwareDateFormatting(timezone);\n        const [presetOption, setPresetOption] = useState(selectedPresetOption);\n        const originDate = useMemo(() => [new Date(from as string), new Date(to as string)], [from, to]);\n        const datePickerRef = useRef<CalendarHandle & { selection?: string }>();\n\n        const onHighlight = useCallback(\n            (from?: number, to?: number) => {\n                onValueUpdated(computeDateFilterValue(i18n, fullDateFormat, resolveDate(from), resolveDate(to)));\n            },\n            [i18n, fullDateFormat, onValueUpdated]\n        );\n\n        useEffect(() => {\n            switch (editAction) {\n                case CommitAction.APPLY:\n                    onChange({\n                        selectedPresetOption: presetOption,\n                        [DateRangeFilterParam.FROM]: resolveDate(datePickerRef.current?.from),\n                        [DateRangeFilterParam.TO]: resolveDate(datePickerRef.current?.to),\n                    });\n                    break;\n\n                case CommitAction.CLEAR:\n                    datePickerRef.current?.clear();\n                    onChange();\n            }\n        }, [editAction, onChange, presetOption]);\n\n        return (\n            <DatePicker\n                ref={datePickerRef}\n                now={now}\n                originDate={originDate}\n                onHighlight={onHighlight}\n                onPresetOptionSelected={setPresetOption}\n                selectedPresetOption={selectedPresetOption}\n                timeRangePresetOptions={timeRangePresetOptions}\n                timeRangeSelectorLabel={timeRangeSelectorLabel}\n                timezone={timezone}\n                showTimezoneInfo={showTimezoneInfo}\n                sinceDate={resolveDate(sinceDate)}\n                untilDate={resolveDate(untilDate)}\n            />\n        );\n    };\n\n    return (props: FilterEditModalRenderProps<DateFilterProps>) => <DateFilterEditModalBody {...props} />;\n})();\n\nconst customDateRangeFormat = (formatter: Intl.DateTimeFormat, fromDate: Date, toDate: Date) => {\n    return formatter.formatRange(fromDate, toDate);\n};\n\nexport default function DateFilterCore<T extends DateFilterProps = DateFilterProps>({\n    title,\n    from,\n    to,\n    selectedPresetOption,\n    timeRangeSelectorLabel,\n    ...props\n}: FilterProps<T>) {\n    const { i18n } = useCoreContext();\n    const { fullDateFormat } = useTimezoneAwareDateFormatting(props.timezone);\n    const [selectedPresetOptionValue, setSelectedPresetOption] = useState<string>();\n    const [fromValue, setFrom] = useState<string>();\n    const [toValue, setTo] = useState<string>();\n\n    const onChange = useCallback<NonNullable<typeof props.onChange>>(\n        params => {\n            const { from, to, selectedPresetOption } = params ?? (EMPTY_OBJECT as NonNullable<typeof params>);\n            try {\n                setSelectedPresetOption(selectedPresetOptionValue ?? selectedPresetOption);\n                setFrom(resolveDate(fromValue ?? from));\n                setTo(resolveDate(toValue ?? to));\n            } finally {\n                props.onChange({ from, to, selectedPresetOption });\n            }\n        },\n        [selectedPresetOptionValue, fromValue, toValue, props]\n    );\n\n    const customSelection = useMemo(() => i18n.get('common.filters.types.date.rangeSelect.options.custom'), [i18n]);\n\n    const dateTimeFormatter = useMemo(() => {\n        const _formattingOptions = { ...formattingOptions, timeZone: props.timezone };\n        let formatter = new Intl.DateTimeFormat(BASE_LOCALE, _formattingOptions);\n\n        try {\n            formatter = new Intl.DateTimeFormat(i18n.locale, _formattingOptions);\n        } catch {\n            /* invalid locale: continue with base `en-US` formatter */\n        }\n\n        return formatter;\n    }, [i18n, props.timezone]);\n\n    useEffect(() => setSelectedPresetOption(selectedPresetOption), [selectedPresetOption]);\n    useEffect(() => setFrom(resolveDate(from || Date.now())), [from]);\n    useEffect(() => setTo(resolveDate(to || Date.now())), [to]);\n\n    const label = useMemo(() => {\n        if (selectedPresetOption === customSelection && fromValue && toValue) {\n            return customDateRangeFormat(dateTimeFormatter, new Date(fromValue), new Date(toValue));\n        }\n\n        return selectedPresetOption ?? props.label;\n    }, [customSelection, dateTimeFormatter, fromValue, toValue, selectedPresetOption, props.label]);\n\n    return (\n        <BaseFilter<T>\n            {...(props as FilterProps<T>)}\n            from={from}\n            to={to}\n            type={'date'}\n            label={label}\n            onChange={onChange}\n            render={renderDateFilterModalBody}\n            selectedPresetOption={selectedPresetOption}\n            timeRangeSelectorLabel={timeRangeSelectorLabel ?? i18n.get('common.filters.types.date.rangeSelect.label')}\n            value={computeDateFilterValue(i18n, fullDateFormat, from, to)}\n            withContentPadding={false}\n        />\n    );\n}\n","import { UseTimeRangeSelectionConfig } from '../../../DatePicker/components/TimeRangeSelector';\nimport DateFilterCore from './DateFilterCore';\nimport useDefaultOverviewFilterParams from '../../../../../hooks/useDefaultOverviewFilterParams';\nimport { FilterParam } from '../../../../types';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { DateFilterProps, DateRangeFilterParam } from './types';\nimport { UsePaginatedRecords } from '../../../Pagination/hooks/types';\nimport { EMPTY_OBJECT } from '../../../../../utils';\n\ntype DataOverviewDateFilterProps = Pick<UsePaginatedRecords<any, string, FilterParam>, 'canResetFilters' | 'filters' | 'updateFilters'> &\n    ReturnType<typeof useDefaultOverviewFilterParams> & {\n        timezone?: UseTimeRangeSelectionConfig['timezone'];\n        onResetAction?: () => void;\n    };\n\nconst DateFilter = <T extends DateFilterProps = DateFilterProps>({\n    timezone,\n    canResetFilters,\n    defaultParams,\n    filters,\n    nowTimestamp,\n    refreshNowTimestamp,\n    sinceDate,\n    untilDate,\n    updateFilters,\n}: Pick<T, 'sinceDate' | 'untilDate'> & DataOverviewDateFilterProps) => {\n    const { i18n } = useCoreContext();\n    const label = useMemo(() => i18n.get('common.filters.types.date.label'), [i18n]);\n    const defaultTimeRangePreset = useMemo(() => i18n.get(defaultParams.current.defaultTimeRange), [i18n]);\n    const [selectedTimeRangePreset, setSelectedTimeRangePreset] = useState(defaultTimeRangePreset);\n\n    const updateCreatedDateFilter = useCallback(\n        (params: Parameters<DateFilterProps['onChange']>[0] = EMPTY_OBJECT) => {\n            for (const [param, value] of Object.entries(params) as [keyof typeof params, (typeof params)[keyof typeof params]][]) {\n                switch (param) {\n                    case 'selectedPresetOption':\n                        setSelectedTimeRangePreset(value || defaultTimeRangePreset);\n                        break;\n                    case DateRangeFilterParam.FROM:\n                        updateFilters({\n                            [FilterParam.CREATED_SINCE]: value || defaultParams.current.defaultFilterParams[FilterParam.CREATED_SINCE],\n                        });\n                        break;\n                    case DateRangeFilterParam.TO:\n                        updateFilters({\n                            [FilterParam.CREATED_UNTIL]: value || defaultParams.current.defaultFilterParams[FilterParam.CREATED_UNTIL],\n                        });\n                        break;\n                    default:\n                        return;\n                }\n\n                refreshNowTimestamp();\n            }\n        },\n        [defaultTimeRangePreset, refreshNowTimestamp, updateFilters]\n    );\n\n    useMemo(() => !canResetFilters && setSelectedTimeRangePreset(defaultTimeRangePreset), [canResetFilters, defaultTimeRangePreset]);\n\n    return (\n        <DateFilterCore\n            label={label}\n            aria-label={label}\n            name={FilterParam.CREATED_SINCE}\n            sinceDate={sinceDate}\n            untilDate={untilDate ?? new Date(nowTimestamp).toString()}\n            from={filters[FilterParam.CREATED_SINCE]}\n            to={filters[FilterParam.CREATED_UNTIL]}\n            selectedPresetOption={selectedTimeRangePreset}\n            timeRangePresetOptions={defaultParams.current.timeRangeOptions}\n            timezone={timezone}\n            onChange={updateCreatedDateFilter}\n            showTimezoneInfo={true}\n            now={nowTimestamp}\n        />\n    );\n};\n\nexport default DateFilter;\n","import { TranslationKey } from '../../translations';\nimport { ModalSize } from '../../components/internal/Modal/types';\n\ntype CallbackFunction<T> = (arg: T) => void;\n\ntype DetailsConfig<T> = {\n    showDetails: boolean;\n    callback?: CallbackFunction<T>;\n};\n\nexport type SelectedDetail<Options> = {\n    title?: TranslationKey;\n    selection: { type: keyof Options; data: any };\n    modalSize?: ModalSize;\n};\n\nexport type GetArgsExceptCallback<T extends Required<DetailsConfig<any>>> = Omit<Parameters<T['callback']>[0], 'showModal'>;\n\nexport type ModalDetailsOptions<Options extends string> = {\n    [k in Options]: DetailsConfig<any>;\n};\n\nexport type CallbackIsPresent<\n    Opt extends ModalDetailsOptions<any>,\n    Options extends ModalDetailsOptions<Extract<keyof Opt, string>>,\n    T extends SelectedDetail<Options>\n> = Options[T['selection']['type']] extends {\n    callback: any;\n}\n    ? true\n    : false;\n\nexport type CallbackParams<\n    Opt extends ModalDetailsOptions<any>,\n    Options extends ModalDetailsOptions<Extract<keyof Opt, string>>,\n    T extends SelectedDetail<Options>\n> = {\n    callback: (\n        args: Options[T['selection']['type']] extends { callback: any } ? GetArgsExceptCallback<Required<Options[T['selection']['type']]>> : never\n    ) => void;\n};\nexport function hasCallback(options: any): options is Required<DetailsConfig<any>> {\n    return 'callback' in options;\n}\n","import { useCallback, useMemo, useState } from 'preact/hooks';\nimport { CallbackIsPresent, CallbackParams, GetArgsExceptCallback, hasCallback, ModalDetailsOptions, SelectedDetail } from './types';\n\n/**\n * @param options - This parameter is an object that contains several fields.\n *                  The keys of these fields represent the type of details that will be displayed on a modal.\n *                  - showDetails: An array of values that determine whether the details should be shown on the modal.\n *                                 If this field is undefined, it will be assumed to be true.\n *                  - callback?: An optional function that will be executed at the merchant level.\n *                               This function will receive a 'showModal' function as a parameter,\n *                               which allows the merchant to control when the modal appears.\n */\n\nfunction useModalDetails<Options extends ModalDetailsOptions<any>>(options: Options) {\n    const [selectedDetail, setSelectedDetail] = useState<SelectedDetail<Options> | null>(null);\n    const updateDetails = useCallback(\n        <T extends SelectedDetail<Options>>(\n            state: T\n        ): CallbackIsPresent<Options, Options, T> extends true ? CallbackParams<Options, Options, T> : {} => {\n            if (state && hasCallback(options[state.selection.type])) {\n                return {\n                    callback: options?.[state.selection.type]?.callback\n                        ? (\n                              args: Options[T['selection']['type']] extends { callback: any }\n                                  ? GetArgsExceptCallback<Required<Options[T['selection']['type']]>>\n                                  : never\n                          ) => options[state.selection.type]?.callback?.({ showModal: () => setSelectedDetail(state), ...args })\n                        : () => options[state.selection.type]?.showDetails && setSelectedDetail(state),\n                };\n            }\n            setSelectedDetail(state);\n            return {} as CallbackIsPresent<Options, Options, T> extends true ? CallbackParams<Options, Options, T> : {};\n        },\n        [options]\n    );\n    const resetDetails = useCallback(() => setSelectedDetail(null), []);\n\n    const detailsToShow = useMemo(() => {\n        const details = {} as { [key in keyof Options]: boolean };\n\n        for (const detail in options) {\n            const selectedDetail = options[detail];\n            details[detail] = !selectedDetail?.showDetails || !!selectedDetail.callback;\n        }\n\n        return details;\n    }, [options]);\n\n    return {\n        selectedDetail,\n        updateDetails,\n        detailsToShow,\n        resetDetails,\n    };\n}\n\nexport default useModalDetails;\n","import { memo } from 'preact/compat';\nimport Select from '../../../../internal/FormFields/Select';\nimport { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport type { SelectProps } from '../../../../internal/FormFields/Select/types';\nimport useMultiSelectionFilter from './useMultiSelectionFilter';\n\nconst MultiSelectionFilter = memo(\n    <FilterParam extends string = string, FilterValue extends string = string>({\n        placeholder,\n        selection,\n        selectionOptions,\n        updateSelection,\n        onResetAction,\n        readonly,\n        isInvalid,\n    }: ReturnType<typeof useMultiSelectionFilter<FilterParam, FilterValue>> &\n        Required<Pick<SelectProps<any>, 'placeholder'>> & { readonly?: boolean; isInvalid?: boolean; onResetAction?: () => void }) => {\n        const isSmContainer = useResponsiveContainer(containerQueries.down.xs);\n        const isOnlySmContainer = useResponsiveContainer(containerQueries.only.sm);\n        const isOnlyMdContainer = useResponsiveContainer(containerQueries.only.md);\n\n        const canRenderSelector = (selectionOptions && selectionOptions.length > 1) || readonly;\n\n        return (\n            canRenderSelector && (\n                <Select\n                    readonly={readonly}\n                    isInvalid={isInvalid}\n                    onResetAction={onResetAction}\n                    onChange={updateSelection}\n                    filterable={false}\n                    multiSelect={true}\n                    placeholder={placeholder}\n                    selected={selection}\n                    withoutCollapseIndicator={true}\n                    items={selectionOptions ?? []}\n                    showOverlay={isSmContainer}\n                    fitPosition={isOnlyMdContainer || isOnlySmContainer}\n                    aria-label={placeholder}\n                />\n            )\n        );\n    }\n);\n\nexport default MultiSelectionFilter;\n","import { identity, isFunction } from '../../../../../../utils';\nimport { SelectItem } from '../../../../../internal/FormFields/Select/types';\nimport { SelectionOptionsList } from './types';\n\nexport const selectionOptionsFor = <T extends string = string>(list: SelectionOptionsList<T>, mapOptionName?: (id: T) => string | undefined) => {\n    const mapOption = isFunction(mapOptionName) ? mapOptionName : identity<T>;\n    return Object.freeze(list.map(id => ({ id, name: mapOption(id) ?? id } as SelectItem<T>)));\n};\n","import { useCallback, useMemo, useState } from 'preact/hooks';\nimport { listFrom } from '../../../../../../utils';\nimport { selectionOptionsFor } from './utils';\nimport type { SelectionOptionsList, UseMultiSelectionFilterConfig, UseMultiSelectionFilterConfigWithoutValues } from './types';\nimport type { SelectChangeEvent } from '../../../../../internal/FormFields/Select/types';\n\nexport const useMultiSelectionFilter = <FilterParam extends string = string, FilterValue extends string = string>({\n    filterParam,\n    filterValues,\n    filters,\n    defaultFilters,\n    updateFilters,\n    mapFilterOptionName,\n}: UseMultiSelectionFilterConfig<FilterParam, FilterValue>) => {\n    const selection = useMemo(() => {\n        return listFrom<FilterValue>(filters?.[filterParam] ?? defaultFilters?.[filterParam] ?? '');\n    }, [defaultFilters, filters, filterParam]);\n\n    const selectionOptions = useMemo(\n        () => filterValues && selectionOptionsFor(filterValues, mapFilterOptionName),\n        [filterValues, mapFilterOptionName]\n    );\n\n    const updateSelection = useCallback(\n        ({ target }: SelectChangeEvent) => {\n            updateFilters?.({ [filterParam]: target?.value || '' });\n        },\n        [updateFilters, filterParam]\n    );\n\n    return { selection, selectionOptions, updateSelection } as const;\n};\n\nexport const useMultiSelectionFilterWithoutValues = <FilterParam extends string = string, FilterValue extends string = string>(\n    config: UseMultiSelectionFilterConfigWithoutValues<FilterParam, FilterValue>\n) => {\n    const [filterValues, updateFilterValues] = useState<SelectionOptionsList<FilterValue>>();\n    const useMultiSelectionFilterProperties = useMultiSelectionFilter({ ...config, filterValues });\n\n    return { ...useMultiSelectionFilterProperties, filterValues, updateFilterValues } as const;\n};\n\nexport default useMultiSelectionFilter;\n","import { FilterParam } from '../../../../../types';\nimport type { ITransactionCategory, ITransactionStatus } from '../../../../../../types';\nimport type { TransactionsOverviewMultiSelectionFilterParam } from './types';\n\nexport const TRANSACTIONS_OVERVIEW_MULTI_SELECTION_FILTERS = [FilterParam.CURRENCIES, FilterParam.CATEGORIES, FilterParam.STATUSES] as const;\n\nexport const DEFAULT_TRANSACTIONS_OVERVIEW_MULTI_SELECTION_FILTER_PARAMS = Object.freeze(\n    Object.fromEntries(TRANSACTIONS_OVERVIEW_MULTI_SELECTION_FILTERS.map(param => [param, '']))\n) as Readonly<{ [P in TransactionsOverviewMultiSelectionFilterParam]: string }>;\n\nexport const TRANSACTION_CATEGORIES: readonly ITransactionCategory[] = [\n    'ATM',\n    'Capital',\n    'Chargeback',\n    'Correction',\n    // 'Fee',\n    'Payment',\n    'Refund',\n    'Transfer',\n    'Other',\n] as const;\n\nexport const TRANSACTION_STATUSES: readonly ITransactionStatus[] = ['Booked', 'Pending', 'Reversed'] as const;\n","import useBalanceAccountSelection from './useBalanceAccountSelection';\nimport { MutableRef, useCallback, useEffect, useRef, useState } from 'preact/hooks';\nimport {\n    getTimeRangeSelectionDefaultPresetOptions,\n    TIME_RANGE_SELECTION_PRESET_OPTION_KEYS,\n    TimeRangeOptions,\n    UseTimeRangeSelectionConfig,\n} from '../components/internal/DatePicker/components/TimeRangeSelector';\nimport { DEFAULT_TRANSACTIONS_OVERVIEW_MULTI_SELECTION_FILTER_PARAMS } from '../components/external/TransactionsOverview/components/MultiSelectionFilter';\nimport { FilterParam } from '../components/types';\n\nconst getDefaultFilterParams = (\n    type: 'transactions' | 'payouts' | 'reports' | 'disputes' | 'paymentLinks',\n    timeRange?: TimeRangeOptions,\n    timeRangeOptionsSubset?: Partial<UseTimeRangeSelectionConfig['options']>\n) => {\n    const timeRangeOptions = getTimeRangeSelectionDefaultPresetOptions();\n    const defaultTimeRange = timeRange\n        ? (`common.filters.types.date.rangeSelect.options.${timeRange}` as const)\n        : TIME_RANGE_SELECTION_PRESET_OPTION_KEYS.LAST_30_DAYS;\n\n    const { from, to } = timeRangeOptions[defaultTimeRange]!;\n\n    const defaultFilterParams = {\n        ...(type === 'transactions' && {\n            ...DEFAULT_TRANSACTIONS_OVERVIEW_MULTI_SELECTION_FILTER_PARAMS,\n            [FilterParam.MIN_AMOUNT]: undefined,\n            [FilterParam.MAX_AMOUNT]: undefined,\n        }),\n        ...(type !== 'paymentLinks' && {\n            [FilterParam.BALANCE_ACCOUNT]: undefined,\n        }),\n        ...(type === 'paymentLinks' && {\n            [FilterParam.MERCHANT_REFERENCE]: undefined,\n            [FilterParam.PAYMENT_LINK_ID]: undefined,\n            [FilterParam.MIN_AMOUNT]: undefined,\n            [FilterParam.MAX_AMOUNT]: undefined,\n        }),\n        [FilterParam.CREATED_SINCE]: new Date(from).toISOString(),\n        [FilterParam.CREATED_UNTIL]: new Date(to).toISOString(),\n    } as const;\n\n    return { defaultFilterParams, defaultTimeRange, timeRangeOptions: timeRangeOptionsSubset || timeRangeOptions } as const;\n};\n\nconst useDefaultOverviewFilterParams = (\n    filterType: Parameters<typeof getDefaultFilterParams>[0],\n    balanceAccount?: ReturnType<typeof useBalanceAccountSelection>['activeBalanceAccount'],\n    timeRange?: TimeRangeOptions,\n    timeRangeOptionsSubset?: Partial<UseTimeRangeSelectionConfig['options']>\n) => {\n    const [nowTimestamp, setNowTimestamp] = useState(Date.now());\n    const params = getDefaultFilterParams(filterType, timeRange, timeRangeOptionsSubset);\n    const defaultParams: MutableRef<any> = useRef(params);\n    const refreshNowTimestamp = useCallback(() => setNowTimestamp(Date.now()), [setNowTimestamp]);\n\n    useEffect(() => {\n        refreshNowTimestamp();\n    }, [balanceAccount, refreshNowTimestamp]);\n\n    return { defaultParams, nowTimestamp, refreshNowTimestamp } as const;\n};\n\nexport default useDefaultOverviewFilterParams;\n","import { useMemo } from 'preact/hooks';\nimport DataOverviewDetails from '../../DataOverviewDetails/DataOverviewDetails';\nimport { DetailsComponentProps, PayoutDetailsWithIdProps, SelectedDetail } from '../../DataOverviewDetails/types';\n\n// [TODO]: Consider covering ...restData with type information (added here as a hack to capture extra details)\nfunction ModalContent({ type, data, dataCustomization, ...restData }: SelectedDetail) {\n    const detailProps: DetailsComponentProps | undefined = useMemo(() => {\n        switch (type) {\n            case 'payout':\n                return { ...(data as PayoutDetailsWithIdProps & { balanceAccountDescription?: string }), type, ...restData };\n        }\n    }, [data, restData, type]);\n\n    return detailProps && <DataOverviewDetails {...(detailProps as DetailsComponentProps)} dataCustomization={dataCustomization} />;\n}\n\nexport default ModalContent;\n","import Modal from '../Modal';\nimport { useEffect } from 'preact/hooks';\nimport { FC, PropsWithChildren } from 'preact/compat';\nimport { popoverUtil } from '../Popover/utils/popoverUtil';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport useModalDetails from '../../../hooks/useModalDetails/useModalDetails';\nimport ModalContent from '../Modal/ModalContent/ModalContent';\nimport { DataCustomizationObject } from '../../types';\nimport { TranslationKey } from '../../../translations';\n\nexport interface DataOverviewDisplayProps {\n    ariaLabelKey: TranslationKey;\n    onContactSupport?: () => void;\n    balanceAccountDescription?: string;\n    selectedDetail: ReturnType<typeof useModalDetails>['selectedDetail'];\n    resetDetails: ReturnType<typeof useModalDetails>['resetDetails'];\n    className: string;\n    dataCustomization?: DataCustomizationObject<any, any, any>;\n}\n\nexport const DataDetailsModal: FC<DataOverviewDisplayProps> = ({\n    children,\n    className,\n    ariaLabelKey,\n    selectedDetail,\n    resetDetails,\n    dataCustomization,\n}: PropsWithChildren<DataOverviewDisplayProps>) => {\n    const { i18n } = useCoreContext();\n    const isModalOpen = !!selectedDetail;\n\n    useEffect(() => {\n        if (isModalOpen) {\n            popoverUtil.closeAll();\n        }\n    }, [isModalOpen]);\n\n    return (\n        <div className={className}>\n            {children}\n            {selectedDetail && (\n                <Modal\n                    title={selectedDetail?.title ? i18n.get(selectedDetail.title) : undefined}\n                    isOpen={!!selectedDetail}\n                    aria-label={i18n.get(ariaLabelKey)}\n                    onClose={resetDetails}\n                    isDismissible={true}\n                    headerWithBorder={false}\n                    size={selectedDetail?.modalSize ?? 'large'}\n                >\n                    {selectedDetail && <ModalContent dataCustomization={{ details: dataCustomization }} {...selectedDetail?.selection} />}\n                </Modal>\n            )}\n        </div>\n    );\n};\n","import { useCallback, useEffect, useState } from 'preact/hooks';\nimport { OnDataRetrievedCallback } from '../components/types';\nimport { isFunction } from '../utils';\n\nexport const useCustomColumnsData = <T>({\n    records,\n    hasCustomColumn = false,\n    onDataRetrieve,\n    mergeCustomData,\n}: {\n    records: T[];\n    hasCustomColumn?: boolean;\n    onDataRetrieve?: OnDataRetrievedCallback<T[]> | undefined;\n    mergeCustomData: (args: { retrievedData: Awaited<ReturnType<OnDataRetrievedCallback<T[]>>>; records: T[] }) => (T & Record<string, any>)[];\n}) => {\n    const [customRecords, setCustomRecords] = useState<T[] | (T & Record<string, any>)[]>(records);\n    const [loadingCustomRecords, setLoadingCustomRecords] = useState(false);\n\n    const mergedRecords = useCallback(async () => {\n        try {\n            if (hasCustomColumn && isFunction(onDataRetrieve)) {\n                const retrievedData = await onDataRetrieve(records);\n                if (!Array.isArray(retrievedData)) throw new Error('Retrieved data should be an array');\n                else setCustomRecords(mergeCustomData({ records, retrievedData: retrievedData?.filter(Boolean) || [] }));\n            } else {\n                setCustomRecords(records);\n            }\n        } catch (error) {\n            setCustomRecords(records);\n            console.error(error);\n        } finally {\n            setLoadingCustomRecords(false);\n        }\n    }, [hasCustomColumn, onDataRetrieve, mergeCustomData, records]);\n\n    useEffect(() => {\n        if (hasCustomColumn && onDataRetrieve) {\n            setLoadingCustomRecords(true);\n        }\n        void mergedRecords();\n    }, [hasCustomColumn, mergedRecords, onDataRetrieve]);\n\n    return { customRecords, loadingCustomRecords } as const;\n};\n","import { EMPTY_ARRAY } from '../../../utils';\nimport type { CustomColumn } from '../../types';\n\ntype _Fields<Field extends string> = readonly CustomColumn<Field>[];\n\nexport const hasCustomField = <Field extends string, StandardFields extends readonly string[] = string[]>(\n    preferredFields?: _Fields<Field>,\n    standardFields = EMPTY_ARRAY as unknown as StandardFields\n) => {\n    if (Array.isArray(preferredFields)) {\n        for (const field of preferredFields) {\n            try {\n                // Normalize the field to determine its name (without any leading or trailing whitespaces)\n                const fieldName = typeof field === 'object' ? field?.key?.trim() : false;\n\n                if (\n                    // `fieldName` is expected to be a string (except in a case of misconfiguration)\n                    typeof fieldName === 'string' &&\n                    // `fieldName` should not be an empty string (except in a case of misconfiguration)\n                    fieldName &&\n                    // `field` is a custom field if `fieldName` is not in the `standardFields` list\n                    !standardFields.includes(fieldName as StandardFields[number])\n                ) {\n                    return true;\n                }\n            } catch (ex) {\n                // An exception will only be thrown if there is some misconfiguration of the preferred field.\n                // Only log the exception to console if not in production environment (vite).\n                if (!import.meta.env.PROD) console.error(ex);\n            }\n        }\n    }\n    return false;\n};\n\nexport default hasCustomField;\n","import { EMPTY_OBJECT } from '../../../utils';\n\nexport type MatchRecordCallback<OriginalRecord extends Record<string, any>, ModifiedRecord extends Record<string, any>> = (\n    modifiedRecord: ModifiedRecord,\n    originalRecord: OriginalRecord,\n    recordIndex: number\n) => any;\n\nexport type MergedRecord<OriginalRecord extends Record<string, any>, ModifiedRecord extends Record<string, any>> =\n    | OriginalRecord\n    | (OriginalRecord & Partial<Omit<ModifiedRecord, keyof OriginalRecord>>);\n\nexport const mergeRecords = <OriginalRecord extends Record<string, any>, ModifiedRecord extends Record<string, any>>(\n    originalRecords: OriginalRecord[],\n    modifiedRecords: ModifiedRecord[],\n    matchRecordCallback: MatchRecordCallback<OriginalRecord, ModifiedRecord>\n) => {\n    const mergedRecords: MergedRecord<OriginalRecord, ModifiedRecord>[] = [];\n\n    for (let i = 0; i < originalRecords.length; i++) {\n        const originalRecord = originalRecords[i]!;\n        const modifiedRecord = modifiedRecords.find(record => matchRecordCallback(record, originalRecord, i));\n        mergedRecords[i] = { ...(modifiedRecord ?? EMPTY_OBJECT), ...originalRecord };\n    }\n\n    return mergedRecords;\n};\n\nexport default mergeRecords;\n","import { BASE_CLASS, BASE_CLASS_DETAILS, EARLIEST_PAYOUT_SINCE_DATE } from './constants';\nimport { PAYOUT_TABLE_FIELDS, PayoutsTable } from '../PayoutsTable/PayoutsTable';\nimport FilterBar, { FilterBarMobileSwitch, useFilterBarState } from '../../../../internal/FilterBar';\nimport BalanceAccountSelector from '../../../../internal/FormFields/Select/BalanceAccountSelector';\nimport { DEFAULT_PAGE_LIMIT, LIMIT_OPTIONS } from '../../../../internal/Pagination/constants';\nimport { useCursorPaginatedRecords } from '../../../../internal/Pagination/hooks';\nimport useBalanceAccountSelection from '../../../../../hooks/useBalanceAccountSelection';\nimport DateFilter from '../../../../internal/FilterBar/filters/DateFilter/DateFilter';\nimport useModalDetails from '../../../../../hooks/useModalDetails/useModalDetails';\nimport { IPayout } from '../../../../../types';\nimport useDefaultOverviewFilterParams from '../../../../../hooks/useDefaultOverviewFilterParams';\nimport { PayoutsOverviewComponentProps, ExternalUIComponentProps, FilterParam, CustomDataRetrieved } from '../../../../types';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport { IBalanceAccountBase } from '../../../../../types';\nimport { isFunction } from '../../../../../utils';\nimport { useCallback, useEffect, useMemo } from 'preact/hooks';\nimport { DataDetailsModal } from '../../../../internal/DataOverviewDisplay/DataDetailsModal';\nimport { Header } from '../../../../internal/Header';\nimport './PayoutsOverview.scss';\nimport { useCustomColumnsData } from '../../../../../hooks/useCustomColumnsData';\nimport hasCustomField from '../../../../utils/customData/hasCustomField';\nimport mergeRecords from '../../../../utils/customData/mergeRecords';\n\nexport const PayoutsOverview = ({\n    onFiltersChanged,\n    balanceAccounts,\n    allowLimitSelection = true,\n    preferredLimit = DEFAULT_PAGE_LIMIT,\n    onRecordSelection,\n    showDetails,\n    isLoadingBalanceAccount,\n    onContactSupport,\n    hideTitle,\n    dataCustomization,\n}: ExternalUIComponentProps<\n    PayoutsOverviewComponentProps & { balanceAccounts: IBalanceAccountBase[] | undefined; isLoadingBalanceAccount: boolean }\n>) => {\n    const { getPayouts: payoutsEndpointCall } = useConfigContext().endpoints;\n    const { activeBalanceAccount, balanceAccountSelectionOptions, onBalanceAccountSelection } = useBalanceAccountSelection({ balanceAccounts });\n    const { defaultParams, nowTimestamp, refreshNowTimestamp } = useDefaultOverviewFilterParams('payouts', activeBalanceAccount);\n\n    const getPayouts = useCallback(\n        async (pageRequestParams: Record<FilterParam | 'cursor', string>, signal?: AbortSignal) => {\n            const requestOptions = { signal, errorLevel: 'error' } as const;\n\n            return payoutsEndpointCall!(requestOptions, {\n                query: {\n                    ...pageRequestParams,\n                    createdSince:\n                        pageRequestParams[FilterParam.CREATED_SINCE] ?? defaultParams.current.defaultFilterParams[FilterParam.CREATED_SINCE],\n                    createdUntil:\n                        pageRequestParams[FilterParam.CREATED_UNTIL] ?? defaultParams.current.defaultFilterParams[FilterParam.CREATED_UNTIL],\n                    balanceAccountId: activeBalanceAccount?.id ?? '',\n                },\n            });\n        },\n        [activeBalanceAccount?.id, defaultParams, payoutsEndpointCall]\n    );\n\n    // FILTERS\n    const filterBarState = useFilterBarState();\n    const _onFiltersChanged = useMemo(() => (isFunction(onFiltersChanged) ? onFiltersChanged : void 0), [onFiltersChanged]);\n    const preferredLimitOptions = useMemo(() => (allowLimitSelection ? LIMIT_OPTIONS : undefined), [allowLimitSelection]);\n\n    const { canResetFilters, error, fetching, filters, limit, limitOptions, records, resetFilters, updateFilters, updateLimit, ...paginationProps } =\n        useCursorPaginatedRecords<IPayout, 'data', string, FilterParam>({\n            fetchRecords: getPayouts,\n            dataField: 'data',\n            filterParams: defaultParams.current.defaultFilterParams,\n            initialFiltersSameAsDefault: true,\n            onFiltersChanged: _onFiltersChanged,\n            preferredLimit,\n            preferredLimitOptions,\n            enabled: !!activeBalanceAccount?.id && !!payoutsEndpointCall,\n        });\n\n    useEffect(() => {\n        refreshNowTimestamp();\n    }, [filters, refreshNowTimestamp]);\n\n    const payoutDetails = useMemo(\n        () => ({\n            showDetails: showDetails ?? true,\n            callback: onRecordSelection,\n        }),\n        [showDetails, onRecordSelection]\n    );\n\n    const mergeCustomData = useCallback(\n        ({ records, retrievedData }: { records: IPayout[]; retrievedData: CustomDataRetrieved[] }) =>\n            mergeRecords(records, retrievedData, (modifiedRecord, record) => modifiedRecord.createdAt === record.createdAt),\n        []\n    );\n\n    const hasCustomColumn = useMemo(() => hasCustomField(dataCustomization?.list?.fields, PAYOUT_TABLE_FIELDS), [dataCustomization?.list?.fields]);\n    const { customRecords, loadingCustomRecords } = useCustomColumnsData<IPayout>({\n        records,\n        hasCustomColumn,\n        onDataRetrieve: dataCustomization?.list?.onDataRetrieve,\n        mergeCustomData,\n    });\n\n    const modalOptions = useMemo(() => ({ payout: payoutDetails }), [payoutDetails]);\n\n    const { updateDetails, resetDetails, selectedDetail } = useModalDetails(modalOptions);\n\n    const onRowClick = useCallback(\n        (value: IPayout) => {\n            updateDetails({\n                selection: {\n                    type: 'payout',\n                    data: { id: activeBalanceAccount?.id, balanceAccountDescription: activeBalanceAccount?.description || '', date: value.createdAt },\n                },\n                modalSize: 'small',\n            }).callback({ balanceAccountId: activeBalanceAccount?.id || '', date: value.createdAt });\n        },\n        [updateDetails, activeBalanceAccount?.id, activeBalanceAccount?.description]\n    );\n\n    return (\n        <div className={BASE_CLASS}>\n            <Header hideTitle={hideTitle} titleKey=\"payouts.overview.title\" subtitleKey=\"payouts.overview.generateInfo\">\n                <FilterBarMobileSwitch {...filterBarState} />\n            </Header>\n            <FilterBar {...filterBarState} ariaLabelKey=\"payouts.overview.filters.label\">\n                <BalanceAccountSelector\n                    activeBalanceAccount={activeBalanceAccount}\n                    balanceAccountSelectionOptions={balanceAccountSelectionOptions}\n                    onBalanceAccountSelection={onBalanceAccountSelection}\n                />\n                <DateFilter\n                    canResetFilters={canResetFilters}\n                    defaultParams={defaultParams}\n                    filters={filters}\n                    nowTimestamp={nowTimestamp}\n                    refreshNowTimestamp={refreshNowTimestamp}\n                    sinceDate={EARLIEST_PAYOUT_SINCE_DATE}\n                    timezone={'UTC'}\n                    updateFilters={updateFilters}\n                />\n            </FilterBar>\n            <DataDetailsModal\n                ariaLabelKey=\"payouts.details.title\"\n                className={BASE_CLASS_DETAILS}\n                onContactSupport={onContactSupport}\n                selectedDetail={selectedDetail as ReturnType<typeof useModalDetails>['selectedDetail']}\n                resetDetails={resetDetails}\n                dataCustomization={dataCustomization?.details}\n            >\n                <PayoutsTable\n                    loading={fetching || isLoadingBalanceAccount || !balanceAccounts || loadingCustomRecords}\n                    data={dataCustomization?.list?.onDataRetrieve ? customRecords : records}\n                    showPagination={true}\n                    onRowClick={onRowClick}\n                    showDetails={showDetails}\n                    limit={limit}\n                    limitOptions={limitOptions}\n                    onContactSupport={onContactSupport}\n                    onLimitSelection={updateLimit}\n                    error={error as AdyenPlatformExperienceError}\n                    customColumns={dataCustomization?.list?.fields}\n                    {...paginationProps}\n                />\n            </DataDetailsModal>\n        </div>\n    );\n};\n","export const BASE_CLASS = 'adyen-pe-payouts-overview-container';\n","import useBalanceAccounts from '../../../../../hooks/useBalanceAccounts';\nimport DataOverviewContainer from '../../../../internal/DataOverviewContainer/DataOverviewContainer';\nimport type { PayoutsOverviewComponentProps, ExternalUIComponentProps } from '../../../../types';\nimport { PayoutsOverview } from '../PayoutsOverview/PayoutsOverview';\nimport { BASE_CLASS } from './constants';\n\nfunction PayoutsOverviewContainer({ ...props }: ExternalUIComponentProps<PayoutsOverviewComponentProps>) {\n    const { balanceAccounts, isBalanceAccountIdWrong, isFetching, error } = useBalanceAccounts(props.balanceAccountId);\n\n    return (\n        <DataOverviewContainer\n            balanceAccountsError={error}\n            className={BASE_CLASS}\n            errorMessage={'payouts.overview.errors.unavailable'}\n            isBalanceAccountIdWrong={isBalanceAccountIdWrong}\n            onContactSupport={props.onContactSupport}\n        >\n            <PayoutsOverview {...props} balanceAccounts={balanceAccounts} isLoadingBalanceAccount={isFetching} />\n        </DataOverviewContainer>\n    );\n}\nexport default PayoutsOverviewContainer;\n","import { _UIComponentProps, ExternalComponentType, PayoutsOverviewComponentProps } from '../../types';\nimport Payouts from './components/PayoutsOverviewContainer/PayoutsOverviewContainer';\nimport UIElement from '../UIElement/UIElement';\n\nexport class PayoutsElement extends UIElement<PayoutsOverviewComponentProps> {\n    public static type: ExternalComponentType = 'payouts';\n\n    constructor(props: _UIComponentProps<PayoutsOverviewComponentProps>) {\n        super(props);\n        this.componentToRender = this.componentToRender.bind(this);\n    }\n\n    public componentToRender = () => {\n        return <Payouts {...this.props} />;\n    };\n}\n\nexport default PayoutsElement;\n","import { isFunction } from '../../../utils';\nimport type { CustomColumn } from '../../types';\n\ntype _Fields<Field extends string> = readonly CustomColumn<Field>[];\ntype _RemappedField<Field extends string> = Field | undefined;\n\nexport const normalizeCustomFields = <Field extends string, Context>(\n    customFields?: _Fields<Field>,\n    fieldMappings: Record<string, _RemappedField<Field> | ((context?: Context) => _RemappedField<Field>)> = {},\n    context?: Context\n) => {\n    return customFields?.map(field => {\n        if (typeof field === 'object') {\n            const fieldName = field?.key?.trim();\n            const remappedFieldGetter = fieldName && fieldMappings[fieldName];\n            const remappedFieldName = isFunction(remappedFieldGetter) ? remappedFieldGetter(context) : remappedFieldGetter;\n            if (remappedFieldName) return { ...field, key: remappedFieldName };\n        }\n        return field;\n    });\n};\n\nexport default normalizeCustomFields;\n","import { useEffect, useRef } from 'preact/hooks';\n\nconst useComponentTiming = () => {\n    const duration = useRef<number | undefined>(undefined);\n    const startTime = useRef(0);\n\n    useEffect(() => {\n        // Capture the start time, when component is mounted\n        startTime.current = performance.now();\n        // Compute the duration, when component is unmounting\n        return () => void (duration.current = performance.now() - startTime.current);\n    }, []);\n\n    return { duration } as const;\n};\n\nexport default useComponentTiming;\n","import cx from 'classnames';\nimport { useEffect, useMemo } from 'preact/hooks';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport { RefundReason, RefundResult } from '../../types';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport { ButtonActionsLayoutBasic } from '../../../../internal/Button/ButtonActions/types';\nimport { TX_DATA_ACTION_BAR, TX_DATA_CONTAINER, sharedTransactionDetailsEventProperties } from '../../constants';\nimport ButtonActions from '../../../../internal/Button/ButtonActions/ButtonActions';\nimport useAnalyticsContext from '../../../../../core/Context/analytics/useAnalyticsContext';\nimport useMutation from '../../../../../hooks/useMutation/useMutation';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\n\nexport interface PaymentRefundActionsProps {\n    beginRefund: () => void;\n    currency: string;\n    disabled: boolean;\n    maxAmount: number;\n    refundAmount: number;\n    refundedAmount: number;\n    refundingAmounts: readonly number[];\n    refundReason: RefundReason;\n    setRefundInProgress: (inProgress: boolean) => void;\n    setRefundResult: (result: RefundResult) => void;\n    showDetails: () => void;\n    transactionId: string;\n}\n\nconst PaymentRefundActions = ({\n    beginRefund,\n    currency,\n    disabled,\n    maxAmount,\n    refundAmount,\n    refundedAmount,\n    refundingAmounts,\n    refundReason,\n    setRefundInProgress,\n    setRefundResult,\n    showDetails,\n    transactionId,\n}: PaymentRefundActionsProps) => {\n    const { initiateRefund } = useConfigContext().endpoints;\n    const { isLoading, mutate: refundTransaction } = useMutation({ queryFn: initiateRefund });\n    const { i18n } = useCoreContext();\n\n    const amountWithinRange = refundAmount > 0 && refundAmount <= maxAmount;\n    const isFullRefundAmount = refundedAmount === 0 && refundingAmounts.length === 0 && refundAmount === maxAmount;\n    const refundDisabled = disabled || isLoading || !amountWithinRange;\n\n    const backButtonLabel = useMemo(() => i18n.get('transactions.details.refund.actions.back'), [i18n]);\n\n    const refundButtonLabelsWithoutAmount = useMemo(\n        () => ({\n            idle: i18n.get('transactions.details.refund.actions.refund.labels.payment'),\n            inProgress: `${i18n.get('transactions.details.refund.actions.refund.labels.inProgress')}..`,\n        }),\n        [i18n]\n    );\n\n    const refundButtonLabelWithAmount = useMemo(() => {\n        const values = { amount: i18n.amount(refundAmount, currency) };\n        return i18n.get('transactions.details.refund.actions.refund.labels.amount', { values });\n    }, [i18n, currency, refundAmount]);\n\n    const refundButtonLabel = isLoading\n        ? refundButtonLabelsWithoutAmount.inProgress\n        : amountWithinRange\n          ? refundButtonLabelWithAmount\n          : refundButtonLabelsWithoutAmount.idle;\n\n    const userEvents = useAnalyticsContext();\n\n    const primaryAction = {\n        disabled: refundDisabled,\n        event: async () => {\n            if (refundDisabled) return;\n\n            beginRefund();\n\n            userEvents.addEvent?.('Completed refund', {\n                ...sharedTransactionDetailsEventProperties,\n                isFullRefund: isFullRefundAmount,\n                refundReason,\n            });\n\n            try {\n                const path = { transactionId };\n                const payload = { amount: { currency, value: refundAmount }, refundReason };\n                await refundTransaction({ contentType: 'application/json', body: payload }, { path });\n                setRefundResult('done');\n            } catch {\n                setRefundResult('error');\n            }\n        },\n        state: isLoading ? 'loading' : undefined,\n        title: refundButtonLabel,\n        variant: ButtonVariant.PRIMARY,\n        ariaLabel: isLoading ? refundButtonLabelWithAmount : refundButtonLabel,\n    } as const;\n\n    const secondaryAction = {\n        disabled: disabled,\n        event: showDetails,\n        title: backButtonLabel,\n        variant: ButtonVariant.SECONDARY,\n    } as const;\n\n    useEffect(() => setRefundInProgress(isLoading), [isLoading, setRefundInProgress]);\n\n    return (\n        <div className={cx(TX_DATA_CONTAINER, TX_DATA_ACTION_BAR)}>\n            <ButtonActions actions={[primaryAction, secondaryAction]} layout={ButtonActionsLayoutBasic.BUTTONS_END} />\n        </div>\n    );\n};\n\nexport default PaymentRefundActions;\n","import {\n    TX_DATA_CONTAINER,\n    TX_DATA_INPUT,\n    TX_DATA_INPUT_CONTAINER,\n    TX_DATA_INPUT_CONTAINER_SHORT,\n    TX_DATA_INPUT_CONTAINER_TEXT,\n    TX_DATA_INPUT_CONTAINER_WITH_ERROR,\n    TX_DATA_INPUT_HEAD,\n} from '../../constants';\nimport cx from 'classnames';\nimport { memo } from 'preact/compat';\nimport { Tag } from '../../../../internal/Tag/Tag';\nimport { TagVariant } from '../../../../internal/Tag/types';\nimport { ARIA_ERROR_SUFFIX } from '../../../../../core/Errors/constants';\nimport { getDecimalAmount, getDivider } from '../../../../../core/Localization/amount/amount-util';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport Typography from '../../../../internal/Typography/Typography';\nimport InputBase from '../../../../internal/FormFields/InputBase';\nimport useUniqueId from '../../../../../hooks/useUniqueId';\nimport Icon from '../../../../internal/Icon';\n\ninterface PaymentRefundAmountProps {\n    currency: string;\n    disabled?: boolean;\n    onChange?: (value: number) => void;\n    value: string | number;\n}\n\nconst PaymentRefundAmount = memo(({ currency, disabled, onChange, value }: PaymentRefundAmountProps) => {\n    const { i18n } = useCoreContext();\n    const inputIdentifier = useUniqueId();\n    const labelIdentifier = useUniqueId();\n\n    const currencyExponent = Math.log10(getDivider(currency));\n    const refundableAmount = parseInt(`${value}`, 10);\n    const formattedAmount = getDecimalAmount(refundableAmount, currency).toFixed(currencyExponent);\n\n    const [refundAmount, setRefundAmount] = useState<string | number>(formattedAmount);\n    const [validationError, setValidationError] = useState<keyof typeof errorMessages>();\n\n    const errorMessages = useMemo(() => {\n        const values = { amount: i18n.amount(refundableAmount, currency) };\n        return {\n            excess: i18n.get('transactions.details.refund.inputs.amount.errors.excess', { values }),\n            negative: i18n.get('transactions.details.refund.inputs.amount.errors.negative'),\n            required: i18n.get('transactions.details.refund.inputs.amount.errors.required'),\n        } as const;\n    }, [i18n, currency, refundableAmount]);\n\n    const errorMessage = validationError && errorMessages[validationError];\n    const inputLabel = useMemo(() => i18n.get('transactions.details.refund.inputs.amount.label'), [i18n]);\n    const inputElementRef = useRef<HTMLInputElement>(null);\n\n    const onInput = useCallback(\n        (target: HTMLInputElement) => {\n            let error: typeof validationError;\n            let value = target.value.trim();\n            const amount = Math.trunc(+`${parseFloat(value)}e${currencyExponent}`) || 0;\n\n            if (amount || value) {\n                if (amount < 0) error = 'negative';\n                if (amount > refundableAmount) error = 'excess';\n            } else error = 'required';\n\n            // Get the decimal separator based on the user's locale\n            const decimalSeparator = (1.1).toLocaleString(i18n.locale).match(/\\d(.*?)\\d/)?.[1] || '.';\n\n            // Split the input value at the decimal separator\n            const parts = value.split(decimalSeparator);\n\n            if (parts.length === 2) {\n                const integerPart = parts[0]!;\n                let decimalPart = parts[1]!;\n\n                if (decimalPart.length >= currencyExponent) {\n                    decimalPart = decimalPart.substring(0, currencyExponent);\n                    value = integerPart + decimalSeparator + decimalPart;\n                    target.value = value;\n                }\n            }\n\n            setRefundAmount(value);\n            setValidationError(error);\n            onChange?.(error ? 0 : amount);\n        },\n        [currencyExponent, refundableAmount, onChange]\n    );\n\n    const cachedRefundableAmount = useRef<number>();\n\n    useEffect(() => {\n        if (cachedRefundableAmount.current !== refundableAmount) {\n            cachedRefundableAmount.current = refundableAmount;\n        } else if (disabled && validationError && inputElementRef.current) {\n            inputElementRef.current.value = formattedAmount;\n        } else return;\n\n        if (inputElementRef.current) {\n            onInput(inputElementRef.current);\n        }\n    }, [onInput, disabled, formattedAmount, refundableAmount]);\n\n    return (\n        <div className={TX_DATA_CONTAINER}>\n            <div className={TX_DATA_INPUT_HEAD}>\n                <div id={labelIdentifier}>\n                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} stronger>\n                        {inputLabel}\n                    </Typography>\n                </div>\n            </div>\n\n            <div\n                className={cx({\n                    [TX_DATA_INPUT_CONTAINER]: true,\n                    [TX_DATA_INPUT_CONTAINER_SHORT]: true,\n                    [TX_DATA_INPUT_CONTAINER_TEXT]: true,\n                    [TX_DATA_INPUT_CONTAINER_WITH_ERROR]: errorMessage,\n                })}\n            >\n                <label htmlFor={inputIdentifier} aria-labelledby={labelIdentifier}>\n                    {currency && <Tag label={currency} variant={TagVariant.DEFAULT} />}\n                    <InputBase\n                        min={0}\n                        type=\"number\"\n                        className={TX_DATA_INPUT}\n                        disabled={disabled}\n                        lang={i18n.locale}\n                        onInput={evt => onInput(evt.currentTarget)}\n                        value={refundAmount}\n                        uniqueId={inputIdentifier}\n                        ref={inputElementRef}\n                    />\n                </label>\n                {errorMessage && (\n                    <div className=\"adyen-pe-input__refund-invalid-value\" id={`${inputIdentifier}${ARIA_ERROR_SUFFIX}`}>\n                        <Icon name=\"cross-circle-fill\" />\n                        <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                            {errorMessage}\n                        </Typography>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n});\n\nexport default PaymentRefundAmount;\n","import cx from 'classnames';\nimport { memo } from 'preact/compat';\nimport { useModalContext } from '../../../../internal/Modal/Modal';\nimport { TX_DATA_CONTAINER, TX_DATA_HEAD_CONTAINER } from '../../constants';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport Typography from '../../../../internal/Typography/Typography';\n\nconst PaymentRefundNotice = memo(() => {\n    const { i18n } = useCoreContext();\n    const { withinModal } = useModalContext();\n    const titleEl = withinModal ? TypographyElement.H2 : TypographyElement.DIV;\n\n    return (\n        <div className={cx(TX_DATA_CONTAINER, TX_DATA_HEAD_CONTAINER)}>\n            <Typography el={titleEl} variant={TypographyVariant.SUBTITLE} stronger>\n                {i18n.get('transactions.details.refund.title')}\n            </Typography>\n            <Typography variant={TypographyVariant.BODY}>{i18n.get('transactions.details.refund.processingInfo')}</Typography>\n        </div>\n    );\n});\n\nexport default PaymentRefundNotice;\n","import { REFUND_REASONS, TX_DATA_CONTAINER, TX_DATA_INPUT_CONTAINER, TX_DATA_INPUT_CONTAINER_SHORT, TX_DATA_INPUT_HEAD } from '../../constants';\nimport { RefundReason } from '../../types';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { getTransactionRefundReason } from '../../../../utils/translation/getters';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport Typography from '../../../../internal/Typography/Typography';\nimport Select from '../../../../internal/FormFields/Select';\nimport useUniqueId from '../../../../../hooks/useUniqueId';\n\nexport interface PaymentRefundReasonProps {\n    disabled: boolean;\n    onChange: (reason: RefundReason) => void;\n    reason: RefundReason;\n}\n\nconst PaymentRefundReason = ({ disabled, onChange, reason }: PaymentRefundReasonProps) => {\n    const { i18n } = useCoreContext();\n    const selectLabelId = useUniqueId();\n    const selectLabel = useMemo(() => i18n.get('transactions.details.refund.inputs.reason.label'), [i18n]);\n\n    const refundReasons = useMemo(\n        () =>\n            REFUND_REASONS.map(reason => ({\n                name: getTransactionRefundReason(i18n, reason) as string,\n                id: reason,\n            })),\n        [i18n]\n    );\n\n    const onReasonChange = useCallback(\n        (evt: { target?: { value: RefundReason } }) => {\n            const reason = evt.target?.value;\n            reason && onChange(reason);\n        },\n        [onChange]\n    );\n\n    return (\n        <div className={TX_DATA_CONTAINER}>\n            <div id={selectLabelId} className={TX_DATA_INPUT_HEAD}>\n                <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} stronger>\n                    {selectLabel}\n                </Typography>\n            </div>\n\n            <div className={`${TX_DATA_INPUT_CONTAINER} ${TX_DATA_INPUT_CONTAINER_SHORT}`}>\n                <Select\n                    aria-labelledby={selectLabelId}\n                    filterable={false}\n                    multiSelect={false}\n                    readonly={disabled}\n                    items={refundReasons}\n                    onChange={onReasonChange}\n                    selected={reason}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default PaymentRefundReason;\n","import { ComponentChild, VNode } from 'preact';\nimport { JSXInternal } from 'preact/src/jsx';\n\nexport interface AlertAction {\n    label: string;\n    onClick: () => void;\n}\n\nexport interface AlertProps {\n    actions?: AlertAction[];\n    className?: string;\n    closeButton?: boolean;\n    type: AlertTypeOption;\n    title?: VNode<Element> | string;\n    description?: VNode<Element> | string;\n    children?: ComponentChild;\n    onClose?: (event: JSXInternal.TargetedMouseEvent<HTMLButtonElement>) => void;\n    variant?: AlertVariantOption;\n}\n\nexport enum AlertTypeOption {\n    WARNING = 'warning',\n    CRITICAL = 'critical',\n    HIGHLIGHT = 'highlight',\n    SUCCESS = 'success',\n}\n\nexport enum AlertVariantOption {\n    DEFAULT = 'default',\n    TIP = 'tip',\n}\n","import Icon from '../Icon';\nimport { AlertTypeOption } from './types';\n\nexport interface AlertIconProps {\n    type: AlertTypeOption;\n    className?: string;\n}\n\nexport const AlertIcon = ({ className, type }: AlertIconProps) => {\n    switch (type) {\n        case AlertTypeOption.WARNING:\n            return <Icon name=\"warning-filled\" className={className} />;\n        case AlertTypeOption.CRITICAL:\n            return <Icon name=\"cross-circle-fill\" className={className} />;\n        case AlertTypeOption.HIGHLIGHT:\n            return <Icon name=\"info-filled\" className={className} />;\n        case AlertTypeOption.SUCCESS:\n        default:\n            return <Icon name=\"checkmark-circle-fill\" className={className} />;\n    }\n};\n","import cx from 'classnames';\nimport Button from '../Button';\nimport { ButtonVariant } from '../Button/types';\nimport Icon from '../Icon';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { TypographyElement, TypographyVariant } from '../Typography/types';\nimport Typography from '../Typography/Typography';\nimport { AlertIcon } from './AlertIcon';\nimport { AlertProps, AlertVariantOption } from './types';\nimport './Alert.scss';\n\n//TODO: Revisit the closeButton prop which is adopted from Bento component\nexport const Alert = ({\n    className,\n    description,\n    closeButton,\n    title,\n    type,\n    children,\n    onClose,\n    actions,\n    variant = AlertVariantOption.DEFAULT,\n}: AlertProps) => {\n    const { i18n } = useCoreContext();\n    return (\n        <div className={cx('adyen-pe-alert', `adyen-pe-alert--${type}`, `adyen-pe-alert--${variant}`, className)} role=\"alert\">\n            <AlertIcon type={type} className=\"adyen-pe-alert__icon\" />\n            <div className=\"adyen-pe-alert__content-container\">\n                <div className=\"adyen-pe-alert__content\">\n                    {title && variant !== AlertVariantOption.TIP && (\n                        <Typography className={'adyen-pe-alert__title'} el={TypographyElement.DIV} variant={TypographyVariant.BODY} wide strongest>\n                            {title}\n                        </Typography>\n                    )}\n                    {description && (\n                        <Typography\n                            className={'adyen-pe-alert__description'}\n                            el={TypographyElement.DIV}\n                            variant={variant === AlertVariantOption.TIP ? TypographyVariant.CAPTION : TypographyVariant.BODY}\n                            wide\n                        >\n                            {description}\n                        </Typography>\n                    )}\n                    {children}\n                </div>\n                {actions?.length && (\n                    <div className=\"adyen-pe-alert__actions\">\n                        {actions?.map((action, index) => (\n                            <Button key={index} onClick={action.onClick} variant={ButtonVariant.TERTIARY}>\n                                {action.label}\n                            </Button>\n                        ))}\n                    </div>\n                )}\n            </div>\n            {onClose && (variant !== AlertVariantOption.TIP || closeButton) && (\n                <div className=\"adyen-pe-alert__close-button\">\n                    <Button\n                        iconButton\n                        variant={ButtonVariant.TERTIARY}\n                        onClick={onClose}\n                        aria-label={i18n.get('common.actions.dismiss.labels.dismiss')}\n                    >\n                        <Icon name=\"cross\" />\n                    </Button>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default Alert;\n","import {\n    REFUND_REASONS,\n    TX_DATA_CLASS,\n    TX_REFUND_RESPONSE,\n    TX_REFUND_RESPONSE_ERROR_ICON,\n    TX_REFUND_RESPONSE_ICON,\n    TX_REFUND_RESPONSE_SUCCESS_ICON,\n    sharedTransactionDetailsEventProperties,\n} from '../../constants';\nimport { memo } from 'preact/compat';\nimport { clamp } from '../../../../../utils';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport useAnalyticsContext from '../../../../../core/Context/analytics/useAnalyticsContext';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport useComponentTiming from '../../../../../hooks/useComponentTiming';\n// import useRefundLineItems from '../../hooks/useRefundLineItems';\nimport PaymentRefundActions from './PaymentRefundActions';\nimport PaymentRefundAmount from './PaymentRefundAmount';\nimport PaymentRefundNotice from './PaymentRefundNotice';\nimport PaymentRefundReason from './PaymentRefundReason';\nimport Alert from '../../../../internal/Alert/Alert';\nimport Button from '../../../../internal/Button/Button';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { ActiveView, RefundMode, RefundReason, RefundResult, TransactionDetails } from '../../types';\nimport { TypographyElement, TypographyModifier, TypographyVariant } from '../../../../internal/Typography/types';\nimport { AlertTypeOption, AlertVariantOption } from '../../../../internal/Alert/types';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport { ILineItem, IRefundMode } from '../../../../../types';\nimport { TranslationKey } from '../../../../../translations';\nimport { IconName } from '../../../../internal/Icon/Icon';\nimport Icon from '../../../../internal/Icon';\nimport cx from 'classnames';\n\nexport interface PaymentRefundProps {\n    currency: string;\n    disabled: boolean;\n    lineItems: readonly ILineItem[];\n    maxAmount: number;\n    mode: IRefundMode;\n    refreshTransaction: () => void;\n    refundedAmount: number;\n    refundingAmounts: readonly number[];\n    setActiveView: (activeView: ActiveView) => void;\n    setLocked: (locked: boolean) => void;\n    transaction: TransactionDetails;\n}\n\ninterface PaymentRefundFormProps extends Omit<PaymentRefundProps, 'disabled' | 'refreshTransaction' | 'setActiveView' | 'setLocked'> {\n    beginRefund: () => void;\n    setRefundResult: (result: RefundResult) => void;\n    showDetails: () => void;\n}\n\ninterface PaymentRefundResultProps extends Pick<PaymentRefundProps, 'refreshTransaction'> {\n    result: RefundResult;\n    showDetails: () => void;\n}\n\nconst PaymentRefund = ({ disabled, refreshTransaction, setActiveView, setLocked, ...formProps }: PaymentRefundProps) => {\n    const [refundResult, setRefundResult] = useState<RefundResult>();\n    const beginRefund = useCallback(() => void (initiatedRefund.current = true), []);\n    const lockRefunds = useCallback(() => setLocked(true), [setLocked]);\n    const showDetails = useCallback(() => setActiveView(ActiveView.DETAILS), [setActiveView]);\n\n    const { duration } = useComponentTiming();\n    const loggedEntryEvent = useRef(false);\n    const initiatedRefund = useRef(false);\n    const userEvents = useAnalyticsContext();\n\n    useEffect(() => {\n        if (!loggedEntryEvent.current) {\n            loggedEntryEvent.current = true;\n            userEvents.addEvent?.('Switched to refund view', sharedTransactionDetailsEventProperties);\n        }\n    }, [userEvents]);\n\n    useEffect(() => {\n        if (disabled && !refundResult) showDetails();\n        if (refundResult === 'done') lockRefunds();\n    }, [disabled, lockRefunds, refundResult, showDetails]);\n\n    useEffect(() => {\n        return () => {\n            if (duration.current !== undefined && !initiatedRefund.current) {\n                // This component is unmounting (duration.current is defined),\n                // and a refund was not initiated (initiatedRefund.current is false),\n                // indicating an abrupt termination of the refund flow.\n                userEvents.addEvent?.('Cancelled refund', sharedTransactionDetailsEventProperties);\n            }\n        };\n    }, [duration, userEvents]);\n\n    return refundResult ? (\n        <PaymentRefund.Result result={refundResult} refreshTransaction={refreshTransaction} showDetails={showDetails} />\n    ) : (\n        <PaymentRefund.Form {...formProps} beginRefund={beginRefund} setRefundResult={setRefundResult} showDetails={showDetails} />\n    );\n};\n\nPaymentRefund.Form = memo(\n    ({\n        beginRefund,\n        currency,\n        maxAmount,\n        mode,\n        refundedAmount,\n        refundingAmounts,\n        setRefundResult,\n        showDetails,\n        transaction,\n    }: PaymentRefundFormProps) => {\n        const [refundInProgress, setRefundInProgress] = useState(false);\n        const [refundReason, setRefundReason] = useState<RefundReason>(REFUND_REASONS[0]);\n        const [refundAmount, setRefundAmount] = useState(0);\n\n        // const { refundingItems } = useRefundLineItems({ currency, lineItems });\n        const { i18n } = useCoreContext();\n\n        const amount = useMemo(() => {\n            switch (mode) {\n                case RefundMode.FULL_AMOUNT:\n                case RefundMode.PARTIAL_AMOUNT:\n                case RefundMode.PARTIAL_LINE_ITEMS:\n                    return maxAmount;\n                // case RefundMode.PARTIAL_LINE_ITEMS:\n                //     return refundingItems.reduce((total, { amount, quantity }) => total + amount * quantity, 0);\n                default:\n                    return 0;\n            }\n        }, [maxAmount, mode]);\n\n        const maxAmountAlert = useMemo(() => {\n            if (maxAmount > 0) {\n                const values = { amount: i18n.amount(maxAmount, currency) };\n                switch (mode) {\n                    case RefundMode.FULL_AMOUNT:\n                        return i18n.get('transactions.details.refund.alerts.refundableAmount', { values });\n                    case RefundMode.PARTIAL_AMOUNT:\n                        return i18n.get('transactions.details.refund.alerts.refundableMaximum', { values });\n                }\n            }\n        }, [i18n, currency, maxAmount, mode]);\n\n        return (\n            <div className={TX_DATA_CLASS}>\n                <PaymentRefundNotice />\n                <PaymentRefundReason disabled={refundInProgress} reason={refundReason} onChange={setRefundReason} />\n\n                <PaymentRefundAmount\n                    currency={currency}\n                    disabled={refundInProgress || mode !== RefundMode.PARTIAL_AMOUNT}\n                    onChange={value => setRefundAmount(clamp(0, value, amount))}\n                    value={amount}\n                />\n\n                {maxAmountAlert && (\n                    <Alert variant={AlertVariantOption.TIP} type={AlertTypeOption.HIGHLIGHT}>\n                        <Typography className={'adyen-pe-alert__description'} el={TypographyElement.DIV} variant={TypographyVariant.BODY} wide>\n                            {maxAmountAlert}\n                        </Typography>\n                    </Alert>\n                )}\n\n                <PaymentRefundActions\n                    beginRefund={beginRefund}\n                    currency={currency}\n                    disabled={refundInProgress}\n                    maxAmount={maxAmount}\n                    refundAmount={refundAmount}\n                    refundedAmount={refundedAmount}\n                    refundingAmounts={refundingAmounts}\n                    refundReason={refundReason}\n                    setRefundInProgress={setRefundInProgress}\n                    setRefundResult={setRefundResult}\n                    showDetails={showDetails}\n                    transactionId={transaction.id}\n                />\n            </div>\n        );\n    }\n);\n\nPaymentRefund.Result = memo(({ result, refreshTransaction, showDetails }: PaymentRefundResultProps) => {\n    const { i18n } = useCoreContext();\n\n    const { isErrorResult, iconName, titleKey, descriptionKey } = useMemo(() => {\n        let iconName: IconName = 'checkmark-circle-fill';\n        let titleKey: TranslationKey = 'transactions.details.refund.alerts.refundSent';\n        let descriptionKey: TranslationKey = 'transactions.details.refund.alerts.refundSuccess';\n\n        const isErrorResult = result === 'error';\n\n        if (isErrorResult) {\n            iconName = 'cross-circle-fill';\n            titleKey = 'common.errors.somethingWentWrong';\n            descriptionKey = 'transactions.details.refund.alerts.refundFailure';\n        }\n\n        return { isErrorResult, iconName, titleKey, descriptionKey } as const;\n    }, [result]);\n\n    return (\n        <div className={TX_REFUND_RESPONSE}>\n            <Icon\n                className={cx(TX_REFUND_RESPONSE_ICON, {\n                    [TX_REFUND_RESPONSE_ERROR_ICON]: isErrorResult,\n                    [TX_REFUND_RESPONSE_SUCCESS_ICON]: !isErrorResult,\n                })}\n                name={iconName}\n            />\n            <Typography className={TypographyModifier.MEDIUM} variant={TypographyVariant.TITLE}>\n                {i18n.get(titleKey)}\n            </Typography>\n            <Typography variant={TypographyVariant.BODY}>{i18n.get(descriptionKey)}</Typography>\n            <Button\n                onClick={() => {\n                    showDetails();\n                    refreshTransaction();\n                }}\n                variant={ButtonVariant.SECONDARY}\n            >\n                {i18n.get('transactions.details.refund.actions.back')}\n            </Button>\n        </div>\n    );\n});\n\nexport default PaymentRefund;\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { InteractionKeyCode } from '../components/types';\nimport useUniqueId from './useUniqueId';\n\nexport type TabbedControlOptions<OptionId extends string> = readonly { id: OptionId; disabled?: boolean }[];\n\nexport interface TabbedControlConfig<OptionId extends string, Options extends TabbedControlOptions<OptionId>> {\n    onChange?: <ActiveOption extends Options[number]>(activeOption: ActiveOption) => void;\n    activeOption?: OptionId;\n    options: Options;\n}\n\nconst enum TabDirection {\n    BACKWARD = -1,\n    FORWARD = 1,\n}\n\nconst isDisabledOption = <Option extends { disabled?: boolean } | null>(option?: Option) => option?.disabled === true;\n\nconst getNearestActiveOptionIndex = <Options extends readonly ({ disabled?: boolean } | null)[]>(\n    options: Options,\n    index: number,\n    direction: TabDirection\n) => {\n    const numberOfOptions = options.length;\n\n    if (numberOfOptions) {\n        let nearestIndex = index;\n        let unvisitedOptions = numberOfOptions;\n\n        while (unvisitedOptions--) {\n            while (nearestIndex < 0) nearestIndex += numberOfOptions;\n            if (nearestIndex >= numberOfOptions) nearestIndex %= numberOfOptions;\n            if (!isDisabledOption(options[nearestIndex])) return nearestIndex;\n            nearestIndex += direction;\n        }\n    }\n\n    return 0;\n};\n\nconst findActiveOptionIndex = <OptionId extends string, Options extends TabbedControlOptions<OptionId>>(\n    options: TabbedControlConfig<OptionId, Options>['options'],\n    activeOption?: TabbedControlConfig<OptionId, Options>['activeOption'],\n    fallbackActiveOptionIndex = 0\n) => {\n    if (!activeOption) return fallbackActiveOptionIndex;\n\n    const index = options.findIndex(option => option.id === activeOption);\n    const activeOptionIndex = index === -1 ? fallbackActiveOptionIndex : index;\n    const nearestActiveOptionIndex = getNearestActiveOptionIndex(options, activeOptionIndex, TabDirection.FORWARD);\n\n    return activeOptionIndex === nearestActiveOptionIndex ? activeOptionIndex : fallbackActiveOptionIndex;\n};\n\nexport const useTabbedControl = <OptionId extends string, Options extends TabbedControlOptions<OptionId>>({\n    options,\n    activeOption: activeOptionFromProps,\n    onChange,\n}: TabbedControlConfig<OptionId, Options>) => {\n    const [focusPending, setFocusPending] = useState(false);\n    const [activeIndex, setActiveIndex] = useState(findActiveOptionIndex(options, activeOptionFromProps));\n\n    const activeOption: Options[number] = options[activeIndex]!;\n    const activeOptionRef = useRef(activeOption);\n    const optionElementsRef = useRef<(HTMLButtonElement | null)[]>([]);\n    const uniqueId = useUniqueId();\n\n    const refs = useMemo(() => {\n        const refs = [] as ((el: HTMLButtonElement | null) => any)[];\n        for (let i = 0; i < options.length; i++) {\n            refs[i] = el => (optionElementsRef.current[i] = el);\n        }\n        return refs;\n    }, [options]);\n\n    const onClick = useCallback((event: MouseEvent) => {\n        const clickedOptionIndex = optionElementsRef.current.findIndex(elem => elem === event.currentTarget);\n\n        if (!isDisabledOption(optionElementsRef.current[clickedOptionIndex])) {\n            event.preventDefault();\n            setActiveIndex(clickedOptionIndex);\n        }\n    }, []);\n\n    const onKeyDown = useMemo(() => {\n        const keyMap: Record<KeyboardEvent['key'], () => void> = {\n            [InteractionKeyCode.ARROW_LEFT]: () =>\n                setActiveIndex(activeIndex => getNearestActiveOptionIndex(optionElementsRef.current, activeIndex - 1, TabDirection.BACKWARD)),\n            [InteractionKeyCode.ARROW_RIGHT]: () =>\n                setActiveIndex(activeIndex => getNearestActiveOptionIndex(optionElementsRef.current, activeIndex + 1, TabDirection.FORWARD)),\n            [InteractionKeyCode.HOME]: () => setActiveIndex(getNearestActiveOptionIndex(optionElementsRef.current, 0, TabDirection.FORWARD)),\n            [InteractionKeyCode.END]: () => setActiveIndex(getNearestActiveOptionIndex(optionElementsRef.current, -1, TabDirection.BACKWARD)),\n        };\n\n        return (event: KeyboardEvent) => {\n            if (keyMap[event.key]) {\n                event.preventDefault();\n                keyMap[event.key]?.();\n                setFocusPending(true);\n            }\n        };\n    }, []);\n\n    useEffect(() => {\n        setActiveIndex(activeIndex => findActiveOptionIndex(options, activeOptionFromProps, activeIndex));\n    }, [options, activeOptionFromProps]);\n\n    useEffect(() => {\n        if (focusPending) {\n            const optionElement = optionElementsRef.current[activeIndex];\n            if (!isDisabledOption(optionElement)) optionElement?.focus();\n            setFocusPending(false);\n        }\n    }, [activeIndex, focusPending]);\n\n    useEffect(() => {\n        if (activeOptionRef.current !== activeOption) {\n            activeOptionRef.current = activeOption;\n            onChange?.(activeOption);\n        }\n    }, [activeOption, onChange]);\n\n    return { activeIndex, onClick, onKeyDown, refs, uniqueId } as const;\n};\n\nexport default useTabbedControl;\n","import { TabComponentProps } from './types';\nimport { AriaAttributes } from 'preact/compat';\nimport { TypographyElement, TypographyVariant } from '../Typography/types';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport useTabbedControl from '../../../hooks/useTabbedControl';\nimport Typography from '../Typography/Typography';\nimport './Tabs.scss';\n\nfunction Tabs<TabId extends string>({\n    ['aria-label']: ariaLabel,\n    activeTab,\n    tabs,\n    onChange,\n}: TabComponentProps<TabId> & Pick<AriaAttributes, 'aria-label'>) {\n    const { activeIndex, onClick, onKeyDown, refs, uniqueId } = useTabbedControl({ onChange, options: tabs, activeOption: activeTab });\n    const { i18n } = useCoreContext();\n    return (\n        <div>\n            <div className=\"adyen-pe-tabs\" role=\"tablist\" aria-orientation=\"horizontal\" aria-label={ariaLabel}>\n                {tabs.map((tab, index) => {\n                    const isActive = activeIndex === index;\n                    return (\n                        <button\n                            role=\"tab\"\n                            name={tab.id}\n                            ref={refs[index]}\n                            key={`tab:${uniqueId}-${tab.id}`}\n                            id={`tab:${uniqueId}-${tab.id}`}\n                            className=\"adyen-pe-tabs__tab\"\n                            aria-controls={`panel:${uniqueId}-${tab.id}`}\n                            aria-selected={isActive}\n                            onClick={isActive ? undefined : onClick}\n                            onKeyDown={onKeyDown}\n                            disabled={tab.disabled}\n                            tabIndex={isActive ? 0 : -1}\n                        >\n                            <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} className=\"adyen-pe-tabs__tab-label\" stronger>\n                                {i18n.get(tab.label)}\n                            </Typography>\n                        </button>\n                    );\n                })}\n            </div>\n            <div className=\"adyen-pe-tabpanels\">\n                {tabs.map((tab, index) => (\n                    <div\n                        role=\"tabpanel\"\n                        key={`panel:${uniqueId}-${tab.id}`}\n                        id={`panel:${uniqueId}-${tab.id}`}\n                        className=\"adyen-pe-tabpanels__panel\"\n                        aria-labelledby={`tab:${uniqueId}-${tab.id}`}\n                        hidden={activeIndex !== index}\n                    >\n                        {tab.content}\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default Tabs;\n","import { memo } from 'preact/compat';\nimport { ComponentChild } from 'preact';\nimport { RefundedState } from '../../types';\nimport { useCallback, useEffect, useMemo, useRef } from 'preact/hooks';\nimport { REFUND_STATUSES, TX_REFUND_STATUSES_CONTAINER } from '../../constants';\nimport { AlertProps, AlertTypeOption, AlertVariantOption } from '../../../../internal/Alert/types';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport Alert from '../../../../internal/Alert/Alert';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\n\nconst baseAlertProps = {\n    type: AlertTypeOption.HIGHLIGHT,\n    variant: AlertVariantOption.TIP,\n} as const;\n\nexport interface PaymentRefundAlertsProps {\n    fullRefundFailed: boolean;\n    fullRefundInProgress: boolean;\n    refundAmounts: Readonly<Record<(typeof REFUND_STATUSES)[number], readonly number[] | undefined>>;\n    refundCurrency: string;\n    refundedAmount: number;\n    refundedState: RefundedState;\n    refundLocked: boolean;\n}\n\nconst PaymentRefundAlerts = memo(\n    ({\n        fullRefundFailed,\n        fullRefundInProgress,\n        refundAmounts,\n        refundCurrency,\n        refundedAmount,\n        refundedState,\n        refundLocked,\n    }: PaymentRefundAlertsProps) => {\n        const { i18n } = useCoreContext();\n\n        const getFormattedAmountsList = useMemo(() => {\n            const listFormatter = new Intl.ListFormat(i18n.locale, { type: 'conjunction' });\n            return (amounts: readonly number[]) => listFormatter.format(amounts.map(amount => i18n.amount(amount, refundCurrency)));\n        }, [i18n, refundCurrency]);\n\n        const nextAlert = useCallback(<T extends AlertProps>({ description, ...alertProps }: Partial<T>) => {\n            alerts.current.push(\n                <Alert {...baseAlertProps} {...alertProps}>\n                    <Typography className={'adyen-pe-alert__description'} el={TypographyElement.DIV} variant={TypographyVariant.BODY} wide>\n                        {description}\n                    </Typography>\n                </Alert>\n            );\n        }, []);\n\n        const alerts = useRef<ComponentChild[]>([]);\n\n        if (refundedState === RefundedState.FULL) {\n            nextAlert({ description: i18n.get('transactions.details.refund.alerts.refundedFull') });\n        } else {\n            if (refundedAmount > 0) {\n                const values = { amount: getFormattedAmountsList([refundedAmount]) };\n                nextAlert({ description: i18n.get('transactions.details.refund.alerts.refundedAmount', { values }) });\n            }\n\n            if (refundLocked) {\n                nextAlert({ description: i18n.get('transactions.details.refund.alerts.inProgressBlocked') });\n            } else {\n                if (refundAmounts.in_progress && refundAmounts.in_progress.length > 0) {\n                    if (fullRefundInProgress) {\n                        nextAlert({ description: i18n.get('transactions.details.refund.alerts.inProgress') });\n                    } else {\n                        const values = { amount: getFormattedAmountsList(refundAmounts.in_progress) };\n                        nextAlert({ description: i18n.get('transactions.details.refund.alerts.inProgressAmount', { values }) });\n                    }\n                }\n\n                if (refundAmounts.failed && refundAmounts.failed.length > 0) {\n                    const type = AlertTypeOption.WARNING;\n                    if (fullRefundFailed) {\n                        nextAlert({ type, description: i18n.get('transactions.details.refund.alerts.notPossible') });\n                    } else {\n                        const values = { amount: getFormattedAmountsList(refundAmounts.failed) };\n                        nextAlert({ type, description: i18n.get('transactions.details.refund.alerts.notPossibleAmount', { values }) });\n                    }\n                }\n            }\n        }\n\n        useEffect(() => {\n            alerts.current = [];\n        });\n\n        return alerts.current.length > 0 ? <div className={TX_REFUND_STATUSES_CONTAINER}>{alerts.current}</div> : null;\n    }\n);\n\nexport default PaymentRefundAlerts;\n","import cx from 'classnames';\nimport { memo } from 'preact/compat';\nimport { useMemo } from 'preact/hooks';\nimport { ActiveView, TransactionDetails } from '../../types';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport { ButtonActionObject, ButtonActionsLayoutBasic, ButtonActionsList } from '../../../../internal/Button/ButtonActions/types';\nimport { TX_DATA_ACTION_BAR, TX_DATA_CONTAINER, sharedTransactionDetailsEventProperties } from '../../constants';\nimport { TransactionDataContentProps } from '../TransactionData/TransactionDataContent';\nimport ButtonActions from '../../../../internal/Button/ButtonActions/ButtonActions';\nimport useAnalyticsContext from '../../../../../core/Context/analytics/useAnalyticsContext';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport Icon from '../../../../internal/Icon';\n\nexport interface PaymentDetailsActionsProps {\n    extraFields: Record<string, any> | undefined;\n    refundAvailable: boolean;\n    refundDisabled: boolean;\n    setActiveView: (activeView: ActiveView) => void;\n    transaction: TransactionDetails;\n    transactionNavigator: TransactionDataContentProps['transactionNavigator'];\n}\n\nconst PaymentDetailsActions = ({\n    extraFields,\n    refundAvailable,\n    refundDisabled,\n    setActiveView,\n    transaction,\n    transactionNavigator,\n}: PaymentDetailsActionsProps) => {\n    const userEvents = useAnalyticsContext();\n    const { currentTransaction: currentTransactionId, canNavigateBackward, canNavigateForward, backward, forward } = transactionNavigator;\n    const { i18n } = useCoreContext();\n\n    const actionButtons = useMemo(\n        () => ({\n            backToRefund: { title: i18n.get('transactions.details.actions.backToRefund'), eventLabel: 'Return to refund' } as const,\n            goToPayment: { title: i18n.get('transactions.details.actions.goToPayment'), eventLabel: 'Go to payment' } as const,\n            refund: { title: i18n.get('transactions.details.actions.refund') } as const,\n        }),\n        [i18n]\n    );\n\n    const transactionNavigation = useMemo<'backToRefund' | 'goToPayment' | undefined>(() => {\n        if (currentTransactionId !== transaction.id) return;\n        if (canNavigateBackward) return 'backToRefund' satisfies keyof typeof actionButtons;\n        if (canNavigateForward) return 'goToPayment' satisfies keyof typeof actionButtons;\n    }, [canNavigateBackward, canNavigateForward, currentTransactionId, transaction.id]);\n\n    const primaryAction = useMemo<Readonly<ButtonActionObject> | undefined>(() => {\n        if (refundAvailable) {\n            return {\n                disabled: refundDisabled,\n                event: () => {\n                    if (!refundDisabled) setActiveView(ActiveView.REFUND);\n                },\n                title: actionButtons.refund.title,\n                variant: ButtonVariant.PRIMARY,\n            } as const;\n        }\n    }, [actionButtons, refundAvailable, refundDisabled, setActiveView]);\n\n    const secondaryAction = useMemo<Readonly<ButtonActionObject> | undefined>(() => {\n        if (transactionNavigation) {\n            const actionButton = actionButtons[transactionNavigation];\n            const isBackNavigation = transactionNavigation === 'backToRefund';\n            const transactionNavigationAction = isBackNavigation ? backward : forward;\n            return {\n                disabled: false,\n                event: () => {\n                    try {\n                        transactionNavigationAction();\n                    } finally {\n                        userEvents.addEvent?.('Clicked button', {\n                            ...sharedTransactionDetailsEventProperties,\n                            label: actionButton.eventLabel,\n                        });\n                    }\n                },\n                renderTitle: (title: string) => (\n                    <>\n                        <Icon name=\"angle-right\" style={{ transform: `scaleX(${isBackNavigation ? -1 : 1})` }} />\n                        <span>{title}</span>\n                    </>\n                ),\n                title: actionButton.title,\n                variant: ButtonVariant.SECONDARY,\n            } as const;\n        }\n    }, [actionButtons, backward, forward, transactionNavigation, userEvents]);\n\n    const customActions = useMemo<ButtonActionsList>(\n        () =>\n            Object.values(extraFields || [])\n                .filter(field => field?.type === 'button')\n                .map(action => ({\n                    title: action.value,\n                    variant: ButtonVariant.SECONDARY,\n                    event: action.config?.action,\n                    classNames: action.config?.className ? [action.config.className] : [],\n                })),\n        [extraFields]\n    );\n\n    const actions = useMemo(\n        () => [primaryAction, secondaryAction, ...customActions].filter(Boolean) as ButtonActionsList,\n        [primaryAction, secondaryAction, customActions]\n    );\n\n    return actions.length > 0 ? (\n        <div className={cx(TX_DATA_CONTAINER, TX_DATA_ACTION_BAR)}>\n            <ButtonActions actions={actions} layout={ButtonActionsLayoutBasic.BUTTONS_END} />\n        </div>\n    ) : null;\n};\n\nexport default memo(PaymentDetailsActions);\n","import { memo } from 'preact/compat';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { TranslationKey } from '../../../../../translations';\nimport { TransactionDetails, TransactionDetailsProps } from '../../types';\nimport { StructuredListProps } from '../../../../internal/StructuredList/types';\nimport { getTransactionRefundReason } from '../../../../utils/translation/getters';\nimport { isCustomDataObject } from '../../../../internal/DataGrid/components/TableCells';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport { TX_DATA_LABEL, TX_DATA_LIST, TX_DETAILS_FIELDS_REMAPS, sharedTransactionDetailsEventProperties } from '../../constants';\nimport normalizeCustomFields from '../../../../utils/customData/normalizeCustomFields';\nimport useAnalyticsContext from '../../../../../core/Context/analytics/useAnalyticsContext';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport StructuredList from '../../../../internal/StructuredList';\nimport Typography from '../../../../internal/Typography/Typography';\nimport Icon from '../../../../internal/DataGrid/components/Icon';\nimport CopyText from '../../../../internal/CopyText/CopyText';\nimport Link from '../../../../internal/Link/Link';\nimport cx from 'classnames';\n\nconst copyButtonAnalyticsEventProperties = {\n    ...sharedTransactionDetailsEventProperties,\n    sectionName: 'Details',\n    label: 'Copy button',\n} as const;\n\nconst paymentDataKeys = {\n    account: 'transactions.details.fields.account',\n    id: 'transactions.details.fields.referenceID',\n    merchantReference: 'transactions.details.fields.merchantReference',\n    pspReference: 'transactions.details.fields.pspReference',\n    refundPspReference: 'transactions.details.fields.refundPspReference',\n    refundReason: 'transactions.details.fields.refundReason',\n} satisfies Record<string, TranslationKey>;\n\nconst paymentDataCopyButtonKeys = {\n    id: 'transactions.details.actions.copyReferenceID',\n    merchantReference: 'transactions.details.actions.copyMerchantReference',\n    pspReference: 'transactions.details.actions.copyPspReference',\n} satisfies Record<string, TranslationKey>;\n\nconst SKIP_ITEM: StructuredListProps['items'][number] = null!;\n\nexport interface PaymentDetailsPropertiesProps {\n    dataCustomization?: TransactionDetailsProps['dataCustomization'];\n    extraFields: Record<string, any> | undefined;\n    transaction: TransactionDetails;\n}\n\nconst PaymentDetailsProperties = ({ dataCustomization, extraFields, transaction }: PaymentDetailsPropertiesProps) => {\n    const { i18n } = useCoreContext();\n\n    const standardPropertiesList = useMemo<StructuredListProps['items']>(() => {\n        const { balanceAccount, category, id, merchantReference, paymentPspReference, refundMetadata } = transaction;\n        const account = balanceAccount?.description || balanceAccount?.id;\n        const isRefundTransaction = category === 'Refund';\n\n        const customizedFields = normalizeCustomFields(dataCustomization?.details?.fields, TX_DETAILS_FIELDS_REMAPS, transaction);\n\n        const listItems: StructuredListProps['items'] = [\n            // balance account\n            account ? { id: 'account', key: paymentDataKeys.account, value: account } : SKIP_ITEM,\n\n            // refund reason\n            isRefundTransaction && refundMetadata?.refundReason\n                ? {\n                      id: 'refundReason',\n                      key: paymentDataKeys.refundReason,\n                      value: getTransactionRefundReason(i18n, refundMetadata.refundReason),\n                  }\n                : SKIP_ITEM,\n\n            // reference id\n            {\n                id: 'id',\n                key: paymentDataKeys.id,\n                value: (\n                    <PaymentDetailsProperties.CopyText\n                        copyButtonAriaLabelKey={paymentDataCopyButtonKeys.id}\n                        trackingName=\"Reference ID\"\n                        textToCopy={id}\n                    />\n                ),\n            },\n\n            // merchant reference\n            merchantReference\n                ? {\n                      id: 'merchantReference',\n                      key: paymentDataKeys.merchantReference,\n                      value: (\n                          <PaymentDetailsProperties.CopyText\n                              copyButtonAriaLabelKey={paymentDataCopyButtonKeys.merchantReference}\n                              trackingName=\"Merchant reference\"\n                              textToCopy={merchantReference}\n                          />\n                      ),\n                  }\n                : SKIP_ITEM,\n\n            // payment psp reference\n            paymentPspReference\n                ? {\n                      id: 'paymentPspReference',\n                      key: paymentDataKeys.pspReference,\n                      value: (\n                          <PaymentDetailsProperties.CopyText\n                              copyButtonAriaLabelKey={paymentDataCopyButtonKeys.pspReference}\n                              trackingName=\"PSP reference\"\n                              textToCopy={paymentPspReference}\n                          />\n                      ),\n                  }\n                : SKIP_ITEM,\n\n            // refund psp reference\n            isRefundTransaction && refundMetadata?.refundPspReference\n                ? {\n                      id: 'refundPspReference',\n                      key: paymentDataKeys.refundPspReference,\n                      value: refundMetadata.refundPspReference,\n                  }\n                : SKIP_ITEM,\n        ] as const;\n\n        const isVisibleField = customizedFields\n            ? (id: string) => customizedFields.find(field => field.key === id)?.visibility !== 'hidden'\n            : () => true;\n\n        return listItems.filter(item => item?.id && isVisibleField(item.id));\n    }, [i18n, dataCustomization, transaction]);\n\n    const customPropertiesList = useMemo<StructuredListProps['items']>(\n        () =>\n            Object.entries(extraFields || {})\n                .filter(([, value]) => value?.type !== 'button')\n                .map(([key, value]) => ({\n                    key: key as TranslationKey,\n                    value: isCustomDataObject(value) ? value.value : value,\n                    type: isCustomDataObject(value) ? value.type : 'text',\n                    config: isCustomDataObject(value) ? value.config : undefined,\n                })),\n        [extraFields]\n    );\n\n    const listItems = useMemo(() => [...standardPropertiesList, ...customPropertiesList], [customPropertiesList, standardPropertiesList]);\n\n    const renderListPropertyLabel = useCallback<NonNullable<StructuredListProps['renderLabel']>>(\n        label => <div className={TX_DATA_LABEL}>{label}</div>,\n        []\n    );\n\n    const renderListPropertyValue = useCallback<NonNullable<StructuredListProps['renderValue']>>((val, key, type, config) => {\n        if (config) {\n            switch (type) {\n                case 'icon':\n                    return (\n                        <div className={cx(config.className, 'adyen-pe-transaction-data__list-icon-value')}>\n                            <Icon url={config.src} alt={config.alt || val} />\n                            <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                                {' '}\n                                {val}\n                            </Typography>\n                        </div>\n                    );\n                case 'link':\n                    return (\n                        <Link classNames={[cx(config.className)]} href={config.href} target={config.target || '_blank'}>\n                            {val}\n                        </Link>\n                    );\n            }\n        }\n        return (\n            <Typography el={TypographyElement.DIV} variant={TypographyVariant.BODY} className={cx(config?.className)}>\n                {val}\n            </Typography>\n        );\n    }, []);\n\n    return (\n        <StructuredList\n            align=\"start\"\n            layout=\"5-7\"\n            items={listItems}\n            classNames={TX_DATA_LIST}\n            renderLabel={renderListPropertyLabel}\n            renderValue={renderListPropertyValue}\n        />\n    );\n};\n\ninterface PaymentDetailsPropertiesCopyTextProps {\n    copyButtonAriaLabelKey: TranslationKey;\n    textToCopy: string;\n    trackingName?: string;\n}\n\nPaymentDetailsProperties.CopyText = memo(({ trackingName, ...copyTextProps }: PaymentDetailsPropertiesCopyTextProps) => {\n    const userEvents = useAnalyticsContext();\n\n    const onCopyText = useCallback(() => {\n        if (trackingName) {\n            userEvents.addEvent?.('Clicked button', {\n                ...copyButtonAnalyticsEventProperties,\n                subSectionName: trackingName,\n            });\n        }\n    }, [trackingName, userEvents]);\n\n    return <CopyText {...copyTextProps} onCopyText={onCopyText} showCopyTextTooltip={false} type=\"Default\" />;\n});\n\nexport default memo(PaymentDetailsProperties);\n","export const STATUS_BOX_CLASS = 'adyen-pe-status-box';\nexport const STATUS_BOX_DATA_AMOUNT = `${STATUS_BOX_CLASS}__amount`;\nexport const STATUS_BOX_DATA_LABEL = `${STATUS_BOX_CLASS}__label`;\nexport const STATUS_BOX_DATA_PAY_METHOD = `${STATUS_BOX_CLASS}__payment-method`;\nexport const STATUS_BOX_DATA_PAY_METHOD_DETAIL = `${STATUS_BOX_DATA_PAY_METHOD}-detail`;\nexport const STATUS_BOX_DATA_PAY_METHOD_LOGO = `${STATUS_BOX_DATA_PAY_METHOD}-logo`;\nexport const STATUS_BOX_DATA_PAY_METHOD_LOGO_CONTAINER = `${STATUS_BOX_DATA_PAY_METHOD_LOGO}-container`;\nexport const STATUS_BOX_DATA_TAGS = `${STATUS_BOX_CLASS}__tags`;\n","import cx from 'classnames';\nimport { memo } from 'preact/compat';\nimport './StatusBox.scss';\nimport { JSXInternal } from 'preact/src/jsx';\nimport { Image } from '../Image/Image';\nimport {\n    STATUS_BOX_CLASS,\n    STATUS_BOX_DATA_AMOUNT,\n    STATUS_BOX_DATA_LABEL,\n    STATUS_BOX_DATA_PAY_METHOD,\n    STATUS_BOX_DATA_PAY_METHOD_DETAIL,\n    STATUS_BOX_DATA_PAY_METHOD_LOGO,\n    STATUS_BOX_DATA_PAY_METHOD_LOGO_CONTAINER,\n    STATUS_BOX_DATA_TAGS,\n} from './constants';\nimport useStatusBoxData from './useStatusBox';\n\nexport type StatusBoxProps = ReturnType<typeof useStatusBoxData> & { tag?: JSXInternal.Element };\n\nexport type StatusBoxKeys = keyof StatusBoxProps;\n\ntype StatusBoxOptions = { classNames?: { [K in StatusBoxKeys]?: string } };\n\nconst StatusBox = ({ tag, amount, paymentMethod, paymentMethodType, date, formattedDate, classNames }: StatusBoxProps & StatusBoxOptions) => {\n    return (\n        <div className={STATUS_BOX_CLASS}>\n            {tag && <div className={STATUS_BOX_DATA_TAGS}>{tag}</div>}\n\n            {amount && <div className={cx(STATUS_BOX_DATA_AMOUNT, classNames?.amount)}>{amount}</div>}\n\n            {paymentMethodType && (\n                <div className={STATUS_BOX_DATA_PAY_METHOD}>\n                    <div className={STATUS_BOX_DATA_PAY_METHOD_LOGO_CONTAINER}>\n                        <Image className={STATUS_BOX_DATA_PAY_METHOD_LOGO} name={paymentMethodType} alt={paymentMethodType} folder={'logos/'} />\n                    </div>\n\n                    <div className={STATUS_BOX_DATA_PAY_METHOD_DETAIL}>{paymentMethod}</div>\n                </div>\n            )}\n\n            {date && formattedDate && (\n                <div className={STATUS_BOX_DATA_LABEL}>\n                    <time dateTime={date}>{formattedDate}</time>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default memo(StatusBox);\n","import { IBankAccount, IPaymentMethod } from '../../../types';\nimport { parsePaymentMethodType } from '../../external/TransactionsOverview/components/utils';\n\ntype PaymentOptionsType = {\n    paymentMethod?: IPaymentMethod;\n    bankAccount?: IBankAccount;\n};\n\nexport const getPaymentMethodType = (data: PaymentOptionsType) => {\n    return data?.paymentMethod ? data.paymentMethod.type : data?.bankAccount ? 'bankTransfer' : null;\n};\n\nexport const getDisplayablePaymentMethod = (data: PaymentOptionsType) => {\n    return data?.paymentMethod ? parsePaymentMethodType(data.paymentMethod, 'detail') : data?.bankAccount?.accountNumberLastFourDigits;\n};\n","import { useMemo } from 'preact/hooks';\nimport { DATE_FORMAT_TRANSACTION_DETAILS } from '../../../constants';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport useTimezoneAwareDateFormatting from '../../../hooks/useTimezoneAwareDateFormatting';\nimport { IAmount, IBankAccount, IPaymentMethod } from '../../../types';\nimport { getDisplayablePaymentMethod, getPaymentMethodType } from './utils';\n\ntype StatusBoxDataProps = {\n    paymentMethodData?: IPaymentMethod;\n    bankAccount?: IBankAccount;\n    amountData?: IAmount;\n    timezone?: string;\n    createdAt?: string;\n};\n\nconst useStatusBoxData = ({ timezone, paymentMethodData, bankAccount, amountData, createdAt: date }: StatusBoxDataProps) => {\n    const paymentProps = useMemo(() => ({ paymentMethod: paymentMethodData, bankAccount }), [paymentMethodData, bankAccount]);\n\n    const { i18n } = useCoreContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting(timezone);\n\n    const amount = useMemo(() => {\n        if (amountData) {\n            const { currency, value } = amountData;\n            return `${i18n.amount(value, currency, { hideCurrency: true })} ${currency}`;\n        }\n    }, [amountData, i18n]);\n\n    const paymentMethodType = useMemo(() => {\n        return getPaymentMethodType(paymentProps);\n    }, [paymentProps]);\n\n    const paymentMethod = useMemo(() => {\n        return getDisplayablePaymentMethod(paymentProps);\n    }, [paymentProps]);\n\n    const formattedDate = useMemo(() => {\n        return date && dateFormat(date, DATE_FORMAT_TRANSACTION_DETAILS);\n    }, [date, dateFormat]);\n\n    return { amount, date, formattedDate, paymentMethod, paymentMethodType };\n};\n\nexport default useStatusBoxData;\n","import { EMPTY_OBJECT } from '../../../utils';\nimport { RefundType, TransactionDetails } from './types';\nimport { TagVariant } from '../../internal/Tag/types';\n\nexport const getAmountStyleForTransaction = (transaction?: TransactionDetails) => {\n    switch (transaction?.status) {\n        case 'Booked':\n            return 'default';\n        case 'Reversed':\n            return 'error';\n        default:\n            return 'pending';\n    }\n};\n\nexport const getTagVariantForTransaction = (transaction?: TransactionDetails) => {\n    switch (transaction?.status) {\n        case 'Booked':\n            return TagVariant.SUCCESS;\n        case 'Reversed':\n            return TagVariant.ERROR;\n        default:\n            return TagVariant.DEFAULT;\n    }\n};\n\nexport const getRefundTypeForTransaction = (transaction?: TransactionDetails) => {\n    if (transaction?.category === 'Refund') {\n        const { refundType } = transaction.refundMetadata ?? (EMPTY_OBJECT as NonNullable<TransactionDetails['refundMetadata']>);\n        switch (refundType) {\n            case RefundType.FULL:\n                return RefundType.FULL;\n            case RefundType.PARTIAL:\n                return RefundType.PARTIAL;\n        }\n    }\n};\n","import cx from 'classnames';\nimport StatusBox from '../../../../internal/StatusBox/StatusBox';\nimport useStatusBoxData from '../../../../internal/StatusBox/useStatusBox';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { getTransactionCategory } from '../../../../utils/translation/getters';\nimport { getAmountStyleForTransaction, getRefundTypeForTransaction } from '../../utils';\nimport { TX_DATA_AMOUNT, TX_DATA_CONTAINER, TX_DATA_TAGS, TX_STATUS_BOX } from '../../constants';\nimport { RefundedState, RefundType, TransactionDetails } from '../../types';\nimport { TagVariant } from '../../../../internal/Tag/types';\nimport { Tag } from '../../../../internal/Tag/Tag';\nimport { useMemo } from 'preact/hooks';\nimport { memo } from 'preact/compat';\n\nexport interface PaymentDetailsStatusBoxProps {\n    refundedState: RefundedState;\n    transaction: TransactionDetails;\n}\n\nconst PaymentDetailsStatusBox = ({ refundedState, transaction }: PaymentDetailsStatusBoxProps) => {\n    const statusBoxOptions = useStatusBoxData({\n        timezone: transaction.balanceAccount?.timeZone,\n        createdAt: transaction.createdAt,\n        amountData: transaction.netAmount,\n        paymentMethodData: transaction.paymentMethod,\n        bankAccount: transaction.bankAccount,\n    });\n\n    const statusBoxClassNames = useMemo(\n        () => ({\n            amount: `${TX_DATA_AMOUNT}--${getAmountStyleForTransaction(transaction)}`,\n        }),\n        [transaction]\n    );\n\n    const statusBoxTags = useMemo(\n        () => <PaymentDetailsStatusBox.StatusTags transaction={transaction} refundedState={refundedState} />,\n        [transaction, refundedState]\n    );\n\n    return (\n        <div className={cx(TX_DATA_CONTAINER, TX_STATUS_BOX)}>\n            <StatusBox {...statusBoxOptions} classNames={statusBoxClassNames} tag={statusBoxTags} />\n        </div>\n    );\n};\n\nPaymentDetailsStatusBox.StatusTags = memo(({ transaction, refundedState }: PaymentDetailsStatusBoxProps) => {\n    const { i18n } = useCoreContext();\n    const { category } = transaction;\n\n    const refundType = getRefundTypeForTransaction(transaction);\n\n    return (\n        <div className={TX_DATA_TAGS}>\n            {/*{status && <Tag label={getTransactionStatus(i18n, status)} variant={getTagVariantForTransaction(transaction)} />}*/}\n            {category && <Tag label={getTransactionCategory(i18n, category)} variant={TagVariant.DEFAULT} />}\n\n            {/* refund type: only available for transaction.category == Refund */}\n            {refundType && (\n                <>\n                    {refundType === RefundType.FULL && (\n                        <Tag label={i18n.get('transactions.details.common.refundTypes.full')} variant={TagVariant.SUCCESS} />\n                    )}\n                    {refundType === RefundType.PARTIAL && (\n                        <Tag label={i18n.get('transactions.details.common.refundTypes.partial')} variant={TagVariant.BLUE} />\n                    )}\n                </>\n            )}\n\n            {refundedState === RefundedState.FULL && (\n                <Tag label={i18n.get('transactions.details.common.refundedStates.full')} variant={TagVariant.SUCCESS} />\n            )}\n            {refundedState === RefundedState.PARTIAL && (\n                <Tag label={i18n.get('transactions.details.common.refundedStates.partial')} variant={TagVariant.BLUE} />\n            )}\n        </div>\n    );\n});\n\nexport default memo(PaymentDetailsStatusBox);\n","import { memo } from 'preact/compat';\nimport { IAmount } from '../../../../../types';\nimport { isNullish } from '../../../../../utils';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { TransactionDetails } from '../../types';\nimport { TranslationKey } from '../../../../../translations';\nimport { TX_DATA_LABEL, TX_DATA_LIST } from '../../constants';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport { getTransactionAmountAdjustmentType } from '../../../../utils/translation/getters';\nimport { StructuredListProps } from '../../../../internal/StructuredList/types';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport Typography from '../../../../internal/Typography/Typography';\nimport StructuredList from '../../../../internal/StructuredList';\nimport cx from 'classnames';\nimport { Tooltip } from '../../../../internal/Tooltip/Tooltip';\n\nconst paymentAmountKeys = {\n    grossAmount: 'transactions.details.summary.fields.grossAmount',\n    netAmount: 'transactions.details.summary.fields.netAmount',\n    originalAmount: 'transactions.details.summary.fields.originalAmount',\n} satisfies Record<string, TranslationKey>;\n\nconst SKIP_ITEM: StructuredListProps['items'][number] = null!;\n\nexport interface PaymentDetailsSummaryProps {\n    transaction: TransactionDetails;\n}\n\nconst isAmount = (value: any): value is IAmount => {\n    return value && typeof value === 'object' && 'value' in value;\n};\n\nconst ADJUSTMENTS_TOOLTIP_CONTENT: Record<`transactions.details.summary.adjustments.types.${string}`, TranslationKey> = {\n    'transactions.details.summary.adjustments.types.tip': 'transactions.details.summary.adjustments.types.tip.information',\n    'transactions.details.summary.adjustments.types.surcharge': 'transactions.details.summary.adjustments.types.surcharge.information',\n};\n\nconst PaymentDetailsSummary = ({ transaction }: PaymentDetailsSummaryProps) => {\n    const { i18n } = useCoreContext();\n\n    const summaryListItems = useMemo<StructuredListProps['items']>(() => {\n        const { additions, deductions, amountBeforeDeductions, netAmount, originalAmount } = transaction;\n\n        const getFormattedAmount = (amount?: IAmount) => {\n            if (isNullish(amount)) return null;\n            const { value, currency } = amount;\n            return i18n.amount(value, currency);\n        };\n\n        const listItems: StructuredListProps['items'] = [\n            // original amount\n            originalAmount && ((additions && additions.length > 0) || originalAmount.value !== amountBeforeDeductions.value)\n                ? {\n                      id: 'originalAmount',\n                      key: paymentAmountKeys.originalAmount,\n                      value: getFormattedAmount(originalAmount),\n                  }\n                : SKIP_ITEM,\n\n            // additions\n            ...(additions?.map(({ type, ...amount }) => ({\n                key: getTransactionAmountAdjustmentType(i18n, type) as TranslationKey,\n                value: getFormattedAmount(amount),\n            })) ?? []),\n\n            // amountBeforeDeductions\n            {\n                id: 'grossAmount',\n                key: paymentAmountKeys.grossAmount,\n                value: getFormattedAmount(amountBeforeDeductions),\n            },\n\n            // deductions\n            ...(deductions?.map(({ type, ...amount }) => ({\n                key: `transactions.details.summary.adjustments.types.${type}` as TranslationKey,\n                value: getFormattedAmount(amount),\n                rawValue: amount,\n                label: getTransactionAmountAdjustmentType(i18n, type),\n            })) ?? []),\n\n            // netAmount\n            {\n                id: 'netAmount',\n                key: paymentAmountKeys.netAmount,\n                value: getFormattedAmount(netAmount),\n            },\n        ];\n\n        return listItems.filter(Boolean);\n    }, [i18n, transaction]);\n\n    const renderListPropertyLabel = useCallback<NonNullable<StructuredListProps['renderLabel']>>(\n        (label, key, value) => {\n            const tooltipContent = ADJUSTMENTS_TOOLTIP_CONTENT[key as keyof typeof ADJUSTMENTS_TOOLTIP_CONTENT];\n\n            if (value && isAmount(value) && value.value < 0 && tooltipContent) {\n                return (\n                    <Tooltip content={i18n.get(tooltipContent)} key={key} isUnderlineVisible>\n                        <span className={cx(TX_DATA_LABEL)}>{label}</span>\n                    </Tooltip>\n                );\n            }\n            return <div className={cx(TX_DATA_LABEL)}>{label}</div>;\n        },\n        [i18n]\n    );\n\n    const renderListPropertyValue = useCallback<NonNullable<StructuredListProps['renderValue']>>((val, key) => {\n        const strongest = key === paymentAmountKeys.netAmount;\n        const variant = TypographyVariant.BODY;\n        return (\n            <Typography el={TypographyElement.DIV} variant={variant} strongest={strongest}>\n                {val}\n            </Typography>\n        );\n    }, []);\n\n    return (\n        <StructuredList\n            classNames={TX_DATA_LIST}\n            items={summaryListItems}\n            layout=\"5-7\"\n            renderLabel={renderListPropertyLabel}\n            renderValue={renderListPropertyValue}\n        />\n    );\n};\n\nexport default memo(PaymentDetailsSummary);\n","import { TagProps } from '../Tag/types';\nimport { TranslationKey } from '../../../translations';\n\nexport type TimelineShowMorePlacement = 'bottom' | 'after-first' | 'before-last';\n\nexport interface TimelineShowMoreObject {\n    limit: number;\n    placement?: TimelineShowMorePlacement;\n}\n\nexport type TimelineGapUnit = 'day';\n\nexport interface TimelineGapObject {\n    thresholdAmount: number;\n    unit: TimelineGapUnit;\n}\n\nexport type TimelineStatus = 'black' | 'blue' | 'green' | 'red' | 'grey' | 'orange' | 'yellow';\n\nexport enum TimelineDateFormat {\n    FULL_DATE = 'full-date',\n    FULL_DATE_EXACT_TIME = 'full-date-exact-time',\n    FULL_DATE_EXACT_TIME_WITHOUT_PERIOD = 'full-date-exact-time-without-period',\n    SHORT_DATE = 'short-date',\n    SHORT_DATE_TIME = 'short-date-time',\n    FULL_DATE_EXACT_TIME_WITHOUT_SECONDS = 'full-date-exact-time-without-seconds',\n}\n\nexport interface TimelineTimestamp {\n    date: Date;\n    format?: TimelineDateFormat;\n    value?: string;\n    timezone?: string;\n}\n\nexport interface TimelineDataListObject {\n    label: string;\n    value: string;\n    key: TranslationKey;\n}\n\nexport type TimelineDataList = TimelineDataListObject[];\n\nexport type TimelineTagProps = TagProps;\n\nexport interface TimelineEntry {\n    title?: string;\n    description?: string;\n    date: Date;\n}\n\nexport type TimelineDateUnit = 'day';\n","import { createContext } from 'preact';\nimport { TimelineEntry, TimelineGapObject } from './types';\n\nexport interface TimelineContextValue {\n    registerTimelineEntry: (entry: TimelineEntry) => () => void;\n    entries: TimelineEntry[];\n    showAll: boolean;\n    showMoreIndex: number | null;\n    hiddenItems: number | null;\n    visibleIndexes: number[] | null;\n    timeGapLimit: TimelineGapObject | null;\n    toggleShowAll: () => void;\n}\n\nexport const TimelineContext = createContext<TimelineContextValue | null>(null);\n","import { useMemo } from 'preact/hooks';\nimport { TimelineDateFormat, TimelineDateUnit } from '../types';\nimport useTimezoneAwareDateFormatting from '../../../../hooks/useTimezoneAwareDateFormatting';\n\ninterface DateTextProps {\n    date: Date;\n    format?: TimelineDateFormat;\n    timezone?: string;\n}\n\nfunction getDateFormatOptions(format?: TimelineDateFormat): Intl.DateTimeFormatOptions {\n    switch (format) {\n        case TimelineDateFormat.FULL_DATE:\n            return {\n                year: 'numeric',\n                month: 'short',\n                day: 'numeric',\n            };\n        case TimelineDateFormat.FULL_DATE_EXACT_TIME:\n        case TimelineDateFormat.FULL_DATE_EXACT_TIME_WITHOUT_PERIOD:\n            return {\n                year: 'numeric',\n                month: 'short',\n                day: 'numeric',\n                hour: '2-digit',\n                minute: '2-digit',\n                second: '2-digit',\n                hour12: false,\n            };\n        case TimelineDateFormat.FULL_DATE_EXACT_TIME_WITHOUT_SECONDS:\n            return {\n                year: 'numeric',\n                month: 'short',\n                day: 'numeric',\n                hour: '2-digit',\n                minute: '2-digit',\n                hour12: false,\n            };\n        case TimelineDateFormat.SHORT_DATE:\n            return {\n                year: 'numeric',\n                month: '2-digit',\n                day: '2-digit',\n            };\n        case TimelineDateFormat.SHORT_DATE_TIME:\n            return {\n                year: 'numeric',\n                month: '2-digit',\n                day: '2-digit',\n                hour: '2-digit',\n                minute: '2-digit',\n                hour12: false,\n            };\n        default:\n            return {\n                year: 'numeric',\n                month: 'short',\n                day: 'numeric',\n                hour: '2-digit',\n                minute: '2-digit',\n                second: '2-digit',\n                hour12: false,\n            };\n    }\n}\n\nexport function DateText({ date, format, timezone }: DateTextProps) {\n    const { dateFormat } = useTimezoneAwareDateFormatting(timezone);\n\n    const formattedDate = useMemo(() => {\n        const options = getDateFormatOptions(format);\n\n        return dateFormat(date, options);\n    }, [date, dateFormat, format]);\n\n    return <>{formattedDate}</>;\n}\n\nexport function formatDistanceStrict(\n    dateLeft: Date,\n    dateRight: Date,\n    options: { unit: TimelineDateUnit }\n): { value: number; unit: TimelineDateUnit } {\n    const leftTime = dateLeft.getTime();\n    const rightTime = dateRight.getTime();\n    const diffMs = Math.abs(leftTime - rightTime);\n\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    let value: number;\n    let unit: TimelineDateUnit;\n\n    // TODO - Add more supported units\n    switch (options.unit) {\n        case 'day':\n            value = diffMs / day;\n            unit = 'day';\n            break;\n        default:\n            value = diffMs / day;\n            unit = 'day';\n    }\n\n    value = Math.round(value);\n\n    return { value, unit };\n}\n","import { ComponentChildren } from 'preact';\nimport { useContext, useLayoutEffect, useMemo, useRef } from 'preact/hooks';\nimport cx from 'classnames';\nimport { TimelineContext } from '../context';\nimport { TimelineDateUnit, TimelineDataList, TimelineStatus, TimelineTagProps, TimelineTimestamp } from '../types';\nimport { DateText, formatDistanceStrict } from './DateText';\nimport Button from '../../Button';\nimport { ButtonVariant } from '../../Button/types';\nimport Typography from '../../Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../Typography/types';\nimport { Tag } from '../../Tag/Tag';\nimport StructuredList from '../../StructuredList/StructuredList';\nimport Icon from '../../Icon';\nimport './TimelineItem.scss';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport { TranslationKey } from '../../../../translations';\nimport useUniqueId from '../../../../hooks/useUniqueId';\n\nconst UNIT_TRANSLATION_KEYS: Record<TimelineDateUnit, TranslationKey> = {\n    day: 'common.timeline.timelineItem.timeGap.unit.day',\n};\n\nexport interface TimelineItemProps {\n    dataList?: TimelineDataList | null;\n    description?: string | null;\n    status?: TimelineStatus;\n    tag?: TimelineTagProps;\n    timestamp: TimelineTimestamp;\n    title?: string | null;\n    children?: ComponentChildren;\n}\n\nexport function TimelineItem({ dataList = null, description = null, status = 'black', tag, timestamp, title = null, children }: TimelineItemProps) {\n    const { i18n } = useCoreContext();\n    const context = useContext(TimelineContext);\n\n    if (!context) {\n        throw new Error('TimelineItem must be used within a Timeline component');\n    }\n\n    const { registerTimelineEntry, entries, showAll, showMoreIndex, hiddenItems, visibleIndexes, timeGapLimit, toggleShowAll } = context;\n\n    const instanceIdRef = useRef<string>(useUniqueId());\n\n    // Register this timeline entry on mount, unregister on unmount\n    useLayoutEffect(() => {\n        const entry = {\n            title: title || undefined,\n            description: description || undefined,\n            date: timestamp.date,\n            _instanceId: instanceIdRef.current,\n        };\n        const unregister = registerTimelineEntry(entry as any);\n        return unregister;\n    }, [registerTimelineEntry, title, description, timestamp.date]);\n\n    // Calculate index by finding this entry using the instance ID\n    const index = useMemo(() => {\n        const foundIndex = entries.findIndex(entry => (entry as any)._instanceId === instanceIdRef.current);\n        return foundIndex;\n    }, [entries]);\n\n    const allItemsShowing = showAll || !visibleIndexes;\n    // If index is -1, component is registering - use allItemsShowing to determine visibility\n    const isVisible = index === -1 ? allItemsShowing : allItemsShowing ? true : visibleIndexes.includes(index);\n\n    const timeGap = useMemo(() => {\n        if (!timeGapLimit || index <= 0) {\n            return null;\n        }\n        const previousEntry = entries[index - 1];\n        if (!previousEntry) {\n            return null;\n        }\n        const isPreviousItemVisible = allItemsShowing || (visibleIndexes && visibleIndexes.includes(index - 1));\n        if (!isPreviousItemVisible) {\n            return null;\n        }\n        const currentDate = timestamp.date;\n        const previousDate = previousEntry.date;\n\n        const timegapInSelectedUnit = formatDistanceStrict(previousDate, currentDate, { unit: timeGapLimit.unit || 'day' });\n\n        const formattedTimeGap = i18n.get(UNIT_TRANSLATION_KEYS[timegapInSelectedUnit.unit], {\n            values: { value: timegapInSelectedUnit.value },\n            count: timegapInSelectedUnit.value,\n        });\n\n        return timeGapLimit.thresholdAmount < timegapInSelectedUnit.value ? formattedTimeGap : null;\n    }, [timeGapLimit, entries, index, allItemsShowing, visibleIndexes, timestamp.date, i18n]);\n\n    const timeGapAriaLabel = timeGap ? i18n.get('common.timeline.timelineItem.timeGap.a11y.label', { values: { timeGap } }) : '';\n\n    const displayShowMoreButton = hiddenItems && showMoreIndex === index;\n\n    const isLastItem = index === entries.length - 1;\n\n    const iconConditionalClasses = cx('adyen-pe-timeline-item__icon', {\n        [`adyen-pe-timeline-item__icon--${status}`]: status,\n    });\n\n    if (!isVisible) {\n        return null;\n    }\n\n    return (\n        <li className={'adyen-pe-timeline-item'}>\n            {timeGap && (\n                <div className=\"adyen-pe-timeline-item__row\">\n                    <div className=\"adyen-pe-timeline-item__marker\" aria-hidden=\"true\">\n                        <div className=\"adyen-pe-timeline-item__icon adyen-pe-timeline-item__icon--timegap\"></div>\n                        <div className=\"adyen-pe-timeline-item__separator\"></div>\n                    </div>\n                    <div className=\"adyen-pe-timeline-item__content\">\n                        <Typography className=\"adyen-pe-timeline-item__timegap\" variant={TypographyVariant.CAPTION} aria-label={timeGapAriaLabel}>\n                            {timeGap}\n                        </Typography>\n                    </div>\n                </div>\n            )}\n            <div className=\"adyen-pe-timeline-item__row\">\n                <div className=\"adyen-pe-timeline-item__marker\" aria-hidden=\"true\">\n                    <Icon name=\"square-small-fill\" className={iconConditionalClasses} />\n                    {!isLastItem && <div className=\"adyen-pe-timeline-item__separator\" data-testid=\"last-timeline-item-separator\"></div>}\n                </div>\n                <div className=\"adyen-pe-timeline-item__content\">\n                    {title && (\n                        <div role=\"heading\" aria-level={2}>\n                            <Typography\n                                el={TypographyElement.DIV}\n                                variant={TypographyVariant.BODY}\n                                strongest\n                                className=\"adyen-pe-timeline-item__title\"\n                            >\n                                <span>{title}</span>\n                            </Typography>\n                        </div>\n                    )}\n\n                    {timestamp && (\n                        <Typography className=\"adyen-pe-timeline-item__timestamp\" el={TypographyElement.DIV} variant={TypographyVariant.CAPTION}>\n                            <DateText date={timestamp.date} format={timestamp.format} timezone={timestamp.timezone} />\n                            {timestamp.value && ` ${timestamp.value}`}\n                        </Typography>\n                    )}\n\n                    {(description || children) && (\n                        <Typography el={TypographyElement.DIV} variant={TypographyVariant.BODY} className=\"adyen-pe-timeline-item__description\">\n                            {children || description}\n                        </Typography>\n                    )}\n\n                    {dataList && (\n                        <div className=\"adyen-pe-timeline-item__data-list\">\n                            <StructuredList\n                                condensed\n                                align=\"start\"\n                                items={dataList.map(entry => ({\n                                    label: entry.label,\n                                    value: entry.value,\n                                    key: entry.key,\n                                    id: entry.key,\n                                }))}\n                            />\n                        </div>\n                    )}\n                    {tag && (\n                        <div className=\"adyen-pe-timeline-item__tag\">\n                            <Tag {...tag} />\n                        </div>\n                    )}\n                </div>\n            </div>\n            {displayShowMoreButton && (\n                <div className=\"adyen-pe-timeline-item__row\">\n                    <div className=\"adyen-pe-timeline-item__marker\" aria-hidden=\"true\">\n                        <div className=\"adyen-pe-timeline-item__separator\"></div>\n                    </div>\n                    <div className=\"adyen-pe-timeline-item__content\">\n                        <Button className=\"adyen-pe-timeline__show-more\" variant={ButtonVariant.TERTIARY} onClick={toggleShowAll}>\n                            {!showAll\n                                ? i18n.get('common.timeline.timelineItem.showMoreItems', { values: { items: hiddenItems } })\n                                : i18n.get('common.timeline.timelineItem.showLess')}\n                        </Button>\n                    </div>\n                </div>\n            )}\n        </li>\n    );\n}\n","import { ComponentChildren } from 'preact';\nimport { useCallback, useMemo, useRef, useState } from 'preact/hooks';\nimport { TimelineContext } from './context';\nimport { TimelineEntry, TimelineGapObject, TimelineShowMoreObject } from './types';\nimport './Timeline.scss';\n\nexport interface TimelineProps {\n    children: ComponentChildren;\n    showMore?: TimelineShowMoreObject | null;\n    timeGapLimit?: TimelineGapObject | null;\n}\n\nexport default function Timeline({ children, showMore = null, timeGapLimit = null }: TimelineProps) {\n    const [entries, setEntries] = useState<TimelineEntry[]>([]);\n    const [showAll, setShowAll] = useState(false);\n    const entryIdCounter = useRef(0);\n\n    const hiddenItems = useMemo(() => {\n        if (showMore && entries.length > showMore.limit) {\n            return entries.length - showMore.limit;\n        }\n        return null;\n    }, [showMore, entries.length]);\n\n    const visibleIndexes = useMemo(() => {\n        if (!showMore || !entries.length) {\n            return null;\n        }\n\n        const timelineIndexes = Array.from(entries.keys());\n\n        if (showMore.placement === 'before-last') {\n            const lastIndex = timelineIndexes[timelineIndexes.length - 1];\n            if (lastIndex === undefined) return timelineIndexes.slice(0, showMore.limit);\n            return [...timelineIndexes.slice(0, showMore.limit - 1), lastIndex];\n        }\n\n        if (showMore.placement === 'after-first') {\n            const firstIndex = timelineIndexes[0];\n            if (firstIndex === undefined) return timelineIndexes.slice(0, showMore.limit);\n            return [firstIndex, ...timelineIndexes.slice(-(showMore.limit - 1))];\n        }\n\n        return timelineIndexes.slice(0, showMore.limit);\n    }, [entries, showMore]);\n\n    const showMoreIndex = useMemo(() => {\n        if (!showMore) {\n            return null;\n        }\n\n        switch (showMore.placement) {\n            case 'before-last':\n                return showMore.limit - 2;\n            case 'after-first':\n                return 0;\n            case 'bottom':\n            default:\n                return showMore.limit - 1;\n        }\n    }, [showMore]);\n\n    const registerTimelineEntry = useCallback((entry: TimelineEntry) => {\n        // Assign unique ID to track this specific entry\n        const entryId = entryIdCounter.current++;\n        const entryWithId = { ...entry, _id: entryId };\n\n        setEntries(prev => [...prev, entryWithId]);\n\n        return () => {\n            setEntries(prev => prev.filter(e => (e as any)._id !== entryId));\n        };\n    }, []);\n\n    const toggleShowAll = useCallback(() => {\n        setShowAll(!showAll);\n    }, [showAll]);\n\n    const contextValue = useMemo(\n        () => ({\n            registerTimelineEntry,\n            entries,\n            showAll,\n            showMoreIndex,\n            hiddenItems,\n            visibleIndexes,\n            timeGapLimit,\n            toggleShowAll,\n        }),\n        [registerTimelineEntry, entries, showAll, showMoreIndex, hiddenItems, visibleIndexes, timeGapLimit, toggleShowAll]\n    );\n\n    return (\n        <TimelineContext.Provider value={contextValue}>\n            <div className=\"adyen-pe-timeline\">\n                <ol className=\"adyen-pe-timeline__items\">{children}</ol>\n            </div>\n        </TimelineContext.Provider>\n    );\n}\n","import { memo } from 'preact/compat';\nimport { useMemo } from 'preact/hooks';\nimport { uniqueId } from '../../../../../utils';\nimport { TransactionDetails } from '../../types';\nimport { TX_TIMELINE_LABEL, TX_TIMELINE_VALUE } from '../../constants';\nimport { getTransactionTimelineTxStatus, getTransactionTimelineTxType } from '../../../../utils/translation/getters';\nimport { StructuredListItem, StructuredListProps } from '../../../../internal/StructuredList/types';\nimport { TimelineDateFormat, TimelineTimestamp } from '../../../../internal/Timeline/types';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport { TimelineItem } from '../../../../internal/Timeline/components/TimelineItem';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport Typography from '../../../../internal/Typography/Typography';\nimport StructuredList from '../../../../internal/StructuredList';\nimport Timeline from '../../../../internal/Timeline/Timeline';\n\nexport interface PaymentDetailsTimelineProps {\n    transaction: TransactionDetails;\n}\n\ninterface PaymentDetailsTimelineItemProps {\n    event: NonNullable<TransactionDetails['events']>[number];\n    defaultTimestamp: TimelineTimestamp;\n}\n\nconst PaymentDetailsTimeline = ({ transaction }: PaymentDetailsTimelineProps) => {\n    const createdAt = transaction.createdAt;\n    const events = transaction.events;\n    const timezone = transaction.balanceAccount?.timeZone;\n\n    const defaultTimestamp = useMemo<TimelineTimestamp>(\n        () => ({\n            format: TimelineDateFormat.FULL_DATE_EXACT_TIME_WITHOUT_SECONDS,\n            date: new Date(createdAt),\n            timezone,\n        }),\n        [createdAt, timezone]\n    );\n\n    const eventKeys = useMemo(() => {\n        const map = new WeakMap<NonNullable<typeof events>[number], string>();\n        events?.forEach(event => map.set(event, uniqueId()));\n        return map;\n    }, [events]);\n\n    return events ? (\n        <Timeline showMore={{ limit: 2, placement: 'before-last' }}>\n            {events.map(event => (\n                <PaymentDetailsTimeline.Item key={eventKeys.get(event)} event={event} defaultTimestamp={defaultTimestamp} />\n            ))}\n        </Timeline>\n    ) : null;\n};\n\nconst renderTimelineListPropertyLabel: NonNullable<StructuredListProps['renderLabel']> = label => (\n    <Typography el={TypographyElement.DIV} variant={TypographyVariant.CAPTION} className={TX_TIMELINE_LABEL}>\n        {label}\n    </Typography>\n);\n\nconst renderTimelineListPropertyValue: NonNullable<StructuredListProps['renderValue']> = label => (\n    <Typography el={TypographyElement.DIV} variant={TypographyVariant.CAPTION} className={TX_TIMELINE_VALUE}>\n        {label}\n    </Typography>\n);\n\nPaymentDetailsTimeline.Item = memo(({ defaultTimestamp, event }: PaymentDetailsTimelineItemProps) => {\n    const { amount, createdAt, status, type } = event;\n    const { i18n } = useCoreContext();\n\n    const timestamp = useMemo<TimelineTimestamp>(() => ({ ...defaultTimestamp, date: new Date(createdAt) }), [defaultTimestamp, createdAt]);\n    const formattedType = useMemo(() => getTransactionTimelineTxType(i18n, type)!, [i18n, type]);\n    const items = useMemo<StructuredListItem[]>(() => {\n        const { currency, value } = amount;\n        const formattedAmount = `${i18n.amount(value, currency, { hideCurrency: true })} ${currency}`;\n        const formattedStatus = getTransactionTimelineTxStatus(i18n, status)!;\n        return [\n            { key: 'transactions.details.timeline.fields.amount', value: formattedAmount },\n            { key: 'transactions.details.timeline.fields.status', value: formattedStatus },\n        ] as const;\n    }, [i18n, amount, status]);\n\n    // [TODO] - Remove this harcoded type once the team reviews all statuses and types and have less number of different strings, and more friendly ones.\n    const fixedType = status.toLowerCase().includes('refund') ? 'Refund' : status.toLowerCase().includes('auth') ? 'Capture' : formattedType;\n\n    return (\n        <TimelineItem title={fixedType} timestamp={timestamp}>\n            <StructuredList\n                align=\"start\"\n                layout=\"3-9\"\n                items={items}\n                renderLabel={renderTimelineListPropertyLabel}\n                renderValue={renderTimelineListPropertyValue}\n            />\n        </TimelineItem>\n    );\n});\n\nexport default memo(PaymentDetailsTimeline);\n","import Tabs from '../../../../internal/Tabs/Tabs';\nimport PaymentRefundAlerts from './PaymentRefundAlerts';\nimport PaymentDetailsActions from './PaymentDetailsActions';\nimport PaymentDetailsProperties from './PaymentDetailsProperties';\nimport PaymentDetailsStatusBox from './PaymentDetailsStatusBox';\nimport { TransactionDataContentProps } from '../TransactionData/TransactionDataContent';\nimport PaymentDetailsSummary from './PaymentDetailsSummary';\nimport PaymentDetailsTimeline from './PaymentDetailsTimeline';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { ActiveView, DetailsTab, RefundedState, TransactionDetails, TransactionDetailsProps } from '../../types';\nimport { REFUND_STATUSES, TX_DATA_CLASS, TX_DATA_CONTAINER, TX_DETAILS_TABS } from '../../constants';\nimport { TabProps } from '../../../../internal/Tabs/types';\nimport { useEffect, useMemo, useState } from 'preact/hooks';\n\nexport interface PaymentDetailsProps {\n    dataCustomization?: TransactionDetailsProps['dataCustomization'];\n    extraFields: Record<string, any> | undefined;\n    fullRefundFailed: boolean;\n    fullRefundInProgress: boolean;\n    refundAmounts: Readonly<Record<(typeof REFUND_STATUSES)[number], readonly number[] | undefined>>;\n    refundAvailable: boolean;\n    refundCurrency: string;\n    refundDisabled: boolean;\n    refundedAmount: number;\n    refundedState: RefundedState;\n    refundLocked: boolean;\n    setActiveView: (activeView: ActiveView) => void;\n    transaction: TransactionDetails;\n    transactionNavigator: TransactionDataContentProps['transactionNavigator'];\n}\n\nconst PaymentDetails = ({\n    dataCustomization,\n    extraFields,\n    fullRefundFailed,\n    fullRefundInProgress,\n    refundAmounts,\n    refundAvailable,\n    refundCurrency,\n    refundDisabled,\n    refundedAmount,\n    refundedState,\n    refundLocked,\n    setActiveView,\n    transaction,\n    transactionNavigator,\n}: PaymentDetailsProps) => {\n    const { i18n } = useCoreContext();\n    const [activeTab, setActiveTab] = useState<DetailsTab>();\n\n    const navigationTabs = useMemo(\n        () =>\n            TX_DETAILS_TABS.filter(({ id }) => {\n                switch (id) {\n                    case DetailsTab.SUMMARY:\n                        const { additions, deductions, originalAmount, amountBeforeDeductions, netAmount } = transaction;\n                        return (\n                            (additions && additions.length > 0) ||\n                            (deductions && deductions.length > 0) ||\n                            (originalAmount && originalAmount.value !== amountBeforeDeductions.value) ||\n                            netAmount.value !== amountBeforeDeductions.value\n                        );\n                    case DetailsTab.TIMELINE:\n                        return transaction.events && transaction.events.length > 0;\n                    default:\n                        return true;\n                }\n            }),\n        [transaction]\n    );\n\n    const tabContent = useMemo(\n        () => ({\n            [DetailsTab.DETAILS]: (\n                <PaymentDetailsProperties dataCustomization={dataCustomization} extraFields={extraFields} transaction={transaction} />\n            ),\n            [DetailsTab.SUMMARY]: <PaymentDetailsSummary transaction={transaction} />,\n            [DetailsTab.TIMELINE]: <PaymentDetailsTimeline transaction={transaction} />,\n        }),\n        [dataCustomization, extraFields, transaction]\n    );\n\n    useEffect(() => setActiveTab(navigationTabs[0]?.id), [navigationTabs]);\n\n    return (\n        <div className={TX_DATA_CLASS}>\n            <PaymentDetailsStatusBox refundedState={refundedState} transaction={transaction} />\n\n            <div className={TX_DATA_CONTAINER}>\n                {navigationTabs.length > 1 && (\n                    <Tabs\n                        aria-label={i18n.get('transactions.details.viewSelect.a11y.label')}\n                        onChange={({ id }: TabProps<DetailsTab>) => setActiveTab(id)}\n                        tabs={navigationTabs}\n                        activeTab={activeTab}\n                    />\n                )}\n\n                {activeTab && tabContent[activeTab]}\n            </div>\n\n            <PaymentRefundAlerts\n                fullRefundFailed={fullRefundFailed}\n                fullRefundInProgress={fullRefundInProgress}\n                refundAmounts={refundAmounts}\n                refundCurrency={refundCurrency}\n                refundedAmount={refundedAmount}\n                refundedState={refundedState}\n                refundLocked={refundLocked}\n            />\n\n            <PaymentDetailsActions\n                extraFields={extraFields}\n                refundAvailable={refundAvailable}\n                refundDisabled={refundDisabled}\n                setActiveView={setActiveView}\n                transaction={transaction}\n                transactionNavigator={transactionNavigator}\n            />\n        </div>\n    );\n};\n\nexport default PaymentDetails;\n","import { useMemo } from 'preact/hooks';\nimport { boolOrFalse, isFunction } from '../../../../../utils';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport { RefundMode, RefundedState, TransactionDetails } from '../../types';\nimport { IRefundMode } from '../../../../../types';\nimport { REFUND_STATUSES } from '../../constants';\n\nexport const useRefundMetadata = (transaction?: TransactionDetails) => {\n    const details = transaction?.refundDetails;\n    const refundMode: IRefundMode = details?.refundMode ?? RefundMode.FULL_AMOUNT;\n    const refundLocked = boolOrFalse(details?.refundLocked);\n    const refundable = refundMode !== RefundMode.NON_REFUNDABLE;\n\n    const refundableAmount = useMemo(() => (transaction ? Math.max(0, details?.refundableAmount?.value ?? 0) : 0), [details, transaction]);\n\n    const refundAuthorization = isFunction(useConfigContext().endpoints.initiateRefund);\n    const refundAvailable = refundAuthorization && refundable && refundableAmount > 0;\n    const refundCurrency = details?.refundableAmount?.currency ?? transaction?.netAmount.currency ?? '';\n    const refundDisabled = !refundAvailable || refundLocked;\n\n    const refundAmounts = useMemo(() => {\n        let latestNonFailedRefundIndex = -1;\n\n        return (details?.refundStatuses ?? []).reduceRight(\n            (refundAmounts, { amount, status }, index) => {\n                if (amount.value !== 0 && REFUND_STATUSES.includes(status)) {\n                    const isNonFailedRefund = status !== 'failed';\n                    const isMoreRecentRefund = index > latestNonFailedRefundIndex;\n\n                    if (isNonFailedRefund && isMoreRecentRefund) {\n                        latestNonFailedRefundIndex = index;\n                    }\n\n                    if (isNonFailedRefund || isMoreRecentRefund) {\n                        const updatedStatusAmounts = (refundAmounts[status] ?? []).concat(Math.abs(amount.value));\n                        return { ...refundAmounts, [status]: updatedStatusAmounts };\n                    }\n                }\n                return refundAmounts;\n            },\n            {} as Readonly<Record<(typeof REFUND_STATUSES)[number], readonly number[] | undefined>>\n        );\n    }, [details?.refundStatuses]);\n\n    const { fullRefundFailed, fullRefundInProgress, refundedAmount } = useMemo(() => {\n        let fullRefundFailed = false;\n        let fullRefundInProgress = false;\n\n        const refundedAmount = (refundAmounts.completed ?? []).reduce((sum, amount) => sum + amount, 0);\n        const refundingAmounts = refundAmounts.in_progress ?? [];\n        const failedRefundAmounts = refundAmounts.failed ?? [];\n\n        if (refundedAmount === 0) {\n            fullRefundFailed = refundingAmounts.length === 0 && failedRefundAmounts.slice(-1)[0] === refundableAmount;\n            fullRefundInProgress = refundingAmounts.length === 1 && refundingAmounts[0] === refundableAmount;\n        }\n\n        return { fullRefundFailed, fullRefundInProgress, refundedAmount } as const;\n    }, [refundableAmount, refundAmounts]);\n\n    const refundedState = useMemo(() => {\n        if (refundedAmount > 0) {\n            switch (refundMode) {\n                case RefundMode.NON_REFUNDABLE:\n                    if (refundableAmount === 0) return RefundedState.FULL;\n                    break;\n                case RefundMode.PARTIAL_AMOUNT:\n                case RefundMode.PARTIAL_LINE_ITEMS:\n                    if (refundableAmount > 0) return RefundedState.PARTIAL;\n                    break;\n            }\n        }\n        return RefundedState.INDETERMINATE;\n    }, [refundableAmount, refundedAmount, refundMode]);\n\n    return {\n        fullRefundFailed, // whether the last (and only) refund that failed is the full refundable amount\n        fullRefundInProgress, // whether the only refund in progress is the full refundable amount\n        refundableAmount, // the maximum amount still available for refund\n        refundable, // whether the refund mode of the payment allows for refund\n        refundAvailable, // whether a refund can be initiated for the payment\n        refundAuthorization, // whether the authenticated user has sufficient permission to initiate refunds\n        refundCurrency, // the payment currency for any initiated refund\n        refundDisabled, // whether refund action for the payment is disabled (refund view should be prevented)\n        refundAmounts, // lookup of refund amounts by refund statuses\n        refundedAmount, // the total amount already refunded\n        refundedState, // whether the payment is yet to be, partially or fully refunded\n        refundLocked, // whether refund action for the payment is temporarily locked\n        refundMode, // the refund mode of the payment\n    } as const;\n};\n\nexport default useRefundMetadata;\n","import { useEffect, useRef } from 'preact/hooks';\nimport { AdditionalEventProperties } from '../../core/Analytics/analytics/user-events';\nimport useAnalyticsContext from '../../core/Context/analytics/useAnalyticsContext';\n\nexport const useLandedPageEvent = (eventProperties: AdditionalEventProperties) => {\n    const userEvents = useAnalyticsContext();\n    const logEvent = useRef(true);\n\n    useEffect(() => {\n        if (!logEvent.current) return;\n        // Log event only on component mount\n        logEvent.current = false;\n        userEvents.addEvent?.('Landed on page', eventProperties);\n    }, [userEvents, eventProperties]);\n};\n","import PaymentRefund from '../PaymentRefund/PaymentRefund';\nimport PaymentDetails from '../PaymentDetails/PaymentDetails';\nimport useRefundMetadata from '../../hooks/useRefundMetadata';\nimport useTransaction from '../../hooks/useTransaction';\nimport DataOverviewDetailsSkeleton from '../../../../internal/DataOverviewDetails/DataOverviewDetailsSkeleton';\nimport { ActiveView, TransactionDetails, TransactionDetailsProps } from '../../types';\nimport { useLandedPageEvent } from '../../../../../hooks/useAnalytics/useLandedPageEvent';\nimport { useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { useModalContext } from '../../../../internal/Modal/Modal';\nimport { sharedTransactionDetailsEventProperties } from '../../constants';\nimport { EMPTY_ARRAY } from '../../../../../utils';\nimport { ILineItem } from '../../../../../types';\nimport './TransactionData.scss';\n\ntype UseTransactionResult = ReturnType<typeof useTransaction>;\n\nexport interface TransactionDataContentProps extends Omit<UseTransactionResult, 'error' | 'transaction'> {\n    dataCustomization?: TransactionDetailsProps['dataCustomization'];\n    extraFields: Record<string, any> | undefined;\n    transaction: TransactionDetails;\n}\n\nexport const TransactionDataContent = ({\n    dataCustomization,\n    extraFields,\n    fetchingTransaction,\n    refreshTransaction,\n    transaction,\n    transactionNavigator,\n}: TransactionDataContentProps) => {\n    const [activeView, setActiveView] = useState(ActiveView.DETAILS);\n    const [locked, setLocked] = useState(false);\n\n    const { withinModal } = useModalContext();\n\n    const {\n        fullRefundFailed,\n        fullRefundInProgress,\n        refundableAmount,\n        refundAmounts,\n        refundAvailable,\n        refundCurrency,\n        refundDisabled,\n        refundedAmount,\n        refundedState,\n        refundMode,\n        refundLocked,\n    } = useRefundMetadata(transaction);\n\n    const cachedRefundLocked = useRef(refundLocked);\n    const refundIsDisabled = useMemo(() => refundDisabled || locked, [refundDisabled, locked]);\n    const refundIsLocked = useMemo(() => refundLocked || locked, [refundLocked, locked]);\n\n    const lineItems = useMemo<readonly ILineItem[]>(() => Object.freeze(transaction.lineItems ?? EMPTY_ARRAY), [transaction.lineItems]);\n\n    useLandedPageEvent({\n        ...sharedTransactionDetailsEventProperties,\n        ...(withinModal && { fromPage: 'Transactions overview' }),\n    });\n\n    useEffect(() => {\n        if ((cachedRefundLocked.current = refundLocked)) {\n            // Refund has been locked while a refund is still in progress\n            // Rely only on the refundLocked state\n            // Reset the local locked state\n            setLocked(false);\n        }\n    }, [refundLocked]);\n\n    if (fetchingTransaction) {\n        return <DataOverviewDetailsSkeleton skeletonRowNumber={5} />;\n    }\n\n    switch (activeView) {\n        case ActiveView.REFUND:\n            return (\n                <PaymentRefund\n                    currency={refundCurrency}\n                    disabled={refundIsDisabled}\n                    lineItems={lineItems}\n                    maxAmount={refundableAmount}\n                    mode={refundMode}\n                    refreshTransaction={refreshTransaction}\n                    refundedAmount={refundedAmount}\n                    refundingAmounts={refundAmounts.in_progress ?? EMPTY_ARRAY}\n                    setActiveView={setActiveView}\n                    setLocked={setLocked}\n                    transaction={transaction}\n                />\n            );\n\n        default:\n            return (\n                <PaymentDetails\n                    dataCustomization={dataCustomization}\n                    extraFields={extraFields}\n                    fullRefundFailed={fullRefundFailed}\n                    fullRefundInProgress={fullRefundInProgress}\n                    refundAmounts={refundAmounts}\n                    refundAvailable={refundAvailable}\n                    refundCurrency={refundCurrency}\n                    refundDisabled={refundIsDisabled}\n                    refundedAmount={refundedAmount}\n                    refundedState={refundedState}\n                    refundLocked={refundIsLocked}\n                    setActiveView={setActiveView}\n                    transaction={transaction}\n                    transactionNavigator={transactionNavigator}\n                />\n            );\n    }\n};\n\nexport default TransactionDataContent;\n","import { EMPTY_ARRAY, enumerable, getter, isEmptyString, isFunction, isNullish, struct } from '../../../../../../utils';\nimport type { TransactionNavigation, TransactionNavigationCallback, TransactionNavigator } from './types';\nimport type { ITransaction } from '../../../../../../types';\n\nexport const createDuplexTransactionNavigator = () => {\n    let [currentTransactionId, previousTransactionId, fromTransactionId, toTransactionId] = EMPTY_ARRAY as readonly ITransaction['id'][];\n    const canNavigateBackward = () => !!(currentTransactionId && currentTransactionId === toTransactionId && fromTransactionId);\n    const canNavigateForward = () => !!(currentTransactionId && currentTransactionId === fromTransactionId && toTransactionId);\n\n    let onNavigation: TransactionNavigationCallback | null = null;\n\n    const backward: TransactionNavigator['backward'] = () => {\n        if (canNavigateBackward()) {\n            previousTransactionId = currentTransactionId;\n            currentTransactionId = fromTransactionId;\n            triggerNavigationCallback();\n        }\n    };\n\n    const forward: TransactionNavigator['forward'] = () => {\n        if (canNavigateForward()) {\n            previousTransactionId = currentTransactionId;\n            currentTransactionId = toTransactionId;\n            triggerNavigationCallback();\n        }\n    };\n\n    const reset: TransactionNavigator['reset'] = (_fromTransactionId, _toTransactionId) => {\n        const cachedCurrentTransactionId = currentTransactionId;\n        currentTransactionId = previousTransactionId = fromTransactionId = toTransactionId = undefined;\n\n        if (!isEmptyString(_fromTransactionId) && !isEmptyString(_toTransactionId)) {\n            fromTransactionId = _fromTransactionId;\n            toTransactionId = _toTransactionId;\n\n            currentTransactionId =\n                cachedCurrentTransactionId === fromTransactionId || cachedCurrentTransactionId === toTransactionId\n                    ? cachedCurrentTransactionId\n                    : fromTransactionId;\n\n            if (cachedCurrentTransactionId !== currentTransactionId) triggerNavigationCallback();\n        }\n    };\n\n    const setNavigationCallback = (callback: TransactionNavigationCallback | null | undefined) => {\n        if (isNullish(callback)) {\n            onNavigation = null;\n        } else if (isFunction(callback) && onNavigation !== (onNavigation = callback)) {\n            triggerNavigationCallback();\n        }\n    };\n\n    const triggerNavigationCallback = () => {\n        const from = previousTransactionId;\n        const to = currentTransactionId!;\n        previousTransactionId = undefined;\n\n        onNavigation?.(\n            struct<TransactionNavigation>({\n                from: getter(() => from),\n                to: getter(() => to),\n            })\n        );\n    };\n\n    return struct<TransactionNavigator>({\n        backward: enumerable(backward),\n        forward: enumerable(forward),\n        canNavigateBackward: getter(canNavigateBackward),\n        canNavigateForward: getter(canNavigateForward),\n        currentTransaction: getter(() => currentTransactionId),\n        onNavigation: { set: setNavigationCallback },\n        reset: enumerable(reset),\n    });\n};\n\nexport default createDuplexTransactionNavigator;\n","import useBalanceAccounts from '../../../../../hooks/useBalanceAccounts';\nimport createDuplexTransactionNavigator from './transactionNavigator/createDuplexTransactionNavigator';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport { TransactionNavigator } from './transactionNavigator/types';\nimport { EMPTY_OBJECT, isFunction } from '../../../../../utils';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport { TransactionDetails } from '../../types';\n\nconst getTransactionNavigatorState = (transactionNavigator: TransactionNavigator) => {\n    const { onNavigation, reset, ...navigatorState } = transactionNavigator;\n    return navigatorState;\n};\n\nexport const useTransaction = (id: string) => {\n    const transactionNavigator = useRef(createDuplexTransactionNavigator()).current;\n\n    const [transactionId, setTransactionId] = useState(id);\n    const [transaction, setTransaction] = useState<TransactionDetails>();\n    const [navigatorState, setNavigatorState] = useState(() => getTransactionNavigatorState(transactionNavigator));\n\n    const { balanceAccounts } = useBalanceAccounts();\n    const { getTransaction } = useConfigContext().endpoints;\n\n    const {\n        data,\n        error,\n        isFetching: fetchingTransaction,\n    } = useFetch(\n        useMemo(() => {\n            const enabled = isFunction(getTransaction) && !!transactionId;\n            const path = { transactionId };\n            return {\n                fetchOptions: { enabled },\n                queryFn: () => getTransaction!(EMPTY_OBJECT, { path }),\n            };\n        }, [getTransaction, transactionId])\n    );\n\n    const cachedFetchingTransaction = useRef(fetchingTransaction);\n    const lastFetchedTransactionId = useRef(transactionId);\n\n    const transactionWithBalanceAccount = useMemo(() => {\n        if (!transaction) return;\n        const balanceAccount = balanceAccounts?.find(account => account.id === transaction.balanceAccountId);\n        return { ...transaction, balanceAccount } as const;\n    }, [balanceAccounts, transaction]);\n\n    const refreshTransaction = useCallback(() => setTransactionId(undefined!), []);\n\n    useEffect(() => {\n        switch (transaction?.id === id && transaction?.category) {\n            case 'Refund': {\n                transactionNavigator.reset(transaction?.id, transaction?.refundMetadata?.originalPaymentId);\n                transactionNavigator.onNavigation = ({ to: id }) => setTransactionId(id);\n                break;\n            }\n        }\n\n        setNavigatorState(getTransactionNavigatorState(transactionNavigator));\n    }, [id, transaction, transactionNavigator]);\n\n    useEffect(() => {\n        if (cachedFetchingTransaction.current === fetchingTransaction) return;\n        if ((cachedFetchingTransaction.current = fetchingTransaction)) return;\n\n        if (!data || error) {\n            setTransactionId(lastFetchedTransactionId.current);\n        } else {\n            setTransaction(data);\n            lastFetchedTransactionId.current = transactionId;\n        }\n    }, [data, error, fetchingTransaction, transactionId]);\n\n    useEffect(() => {\n        if (!transactionId) setTransactionId(lastFetchedTransactionId.current);\n    }, [transaction, transactionId]);\n\n    useEffect(() => {\n        return () => {\n            transactionNavigator.onNavigation = null;\n            transactionNavigator.reset();\n        };\n    }, [transactionNavigator]);\n\n    return {\n        error,\n        fetchingTransaction,\n        refreshTransaction,\n        transaction: transactionWithBalanceAccount,\n        transactionNavigator: navigatorState,\n    } as const;\n};\n\nexport default useTransaction;\n","import { boolOrFalse } from '../../../../../utils';\nimport { CustomColumn } from '../../../../types';\nimport { TX_DETAILS_FIELDS_REMAPS, TX_DETAILS_RESERVED_FIELDS_SET } from '../../constants';\nimport DataOverviewDetailsSkeleton from '../../../../internal/DataOverviewDetails/DataOverviewDetailsSkeleton';\nimport normalizeCustomFields from '../../../../utils/customData/normalizeCustomFields';\nimport TransactionDataContent from './TransactionDataContent';\nimport { TransactionDetails, TransactionDetailsProps } from '../../types';\nimport useTransaction from '../../hooks/useTransaction';\nimport { useModalContext } from '../../../../internal/Modal/Modal';\nimport { useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { Header } from '../../../../internal/Header';\nimport { ErrorMessageDisplay } from '../../../../internal/ErrorMessageDisplay/ErrorMessageDisplay';\nimport { getErrorMessage } from '../../../../utils/getErrorMessage';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\n\nexport const TransactionData = ({ id, dataCustomization, hideTitle, onContactSupport }: TransactionDetailsProps) => {\n    const { error, fetchingTransaction, refreshTransaction, transaction, transactionNavigator } = useTransaction(id);\n    const { withinModal } = useModalContext();\n\n    const [extraFields, setExtraFields] = useState<Record<string, any>>();\n    const [forcedHideTitle, setForcedHideTitle] = useState(false);\n\n    const shouldHideTitle = useMemo(() => forcedHideTitle || boolOrFalse(hideTitle), [forcedHideTitle, hideTitle]);\n    const initialTransaction = useRef(transaction);\n\n    const errorProps = useMemo(\n        () => getErrorMessage(error as AdyenPlatformExperienceError, 'transactions.details.errors.unavailable', onContactSupport),\n        [error, onContactSupport]\n    );\n\n    if (!initialTransaction.current && transaction) {\n        initialTransaction.current = transaction;\n    }\n\n    useEffect(() => {\n        // ensure title is always hidden within transaction details modal\n        setForcedHideTitle(withinModal);\n    }, [withinModal]);\n\n    useEffect(() => {\n        if (transaction && transaction.id === id) {\n            (async () => {\n                const customizedDetails = await dataCustomization?.details?.onDataRetrieve?.(transaction);\n                setExtraFields(\n                    normalizeCustomFields(\n                        dataCustomization?.details?.fields,\n                        TX_DETAILS_FIELDS_REMAPS,\n                        customizedDetails as TransactionDetails\n                    )?.reduce((extraFields, field) => {\n                        return !TX_DETAILS_RESERVED_FIELDS_SET.has(field.key as any) && field?.visibility !== 'hidden'\n                            ? {\n                                  ...extraFields,\n                                  ...(customizedDetails?.[field.key] && { [field.key]: customizedDetails[field.key] }),\n                              }\n                            : extraFields;\n                    }, {} as CustomColumn<any>)\n                );\n            })();\n        } else setExtraFields(undefined);\n    }, [transaction, id, dataCustomization]);\n\n    return (\n        <div className=\"adyen-pe-overview-details\">\n            <Header hideTitle={shouldHideTitle} titleKey=\"transactions.details.title\" forwardedToRoot={!withinModal} />\n\n            {initialTransaction.current ? (\n                <TransactionDataContent\n                    extraFields={extraFields}\n                    dataCustomization={dataCustomization}\n                    fetchingTransaction={fetchingTransaction}\n                    refreshTransaction={refreshTransaction}\n                    transaction={transaction ?? initialTransaction.current}\n                    transactionNavigator={transactionNavigator}\n                />\n            ) : fetchingTransaction ? (\n                <DataOverviewDetailsSkeleton skeletonRowNumber={5} />\n            ) : (\n                error &&\n                errorProps && (\n                    <div className=\"adyen-pe-overview-details--error-container\">\n                        <ErrorMessageDisplay outlined={false} absolutePosition={false} withBackground={false} withImage {...errorProps} />\n                    </div>\n                )\n            )}\n        </div>\n    );\n};\n","import TransactionData from './components/TransactionData';\nimport { _UIComponentProps, ExternalComponentType } from '../../types';\nimport { TransactionDetailsProps } from './types';\nimport UIElement from '../UIElement/UIElement';\n\nexport class TransactionElement extends UIElement<TransactionDetailsProps> {\n    public static type: ExternalComponentType = 'transactionDetails';\n\n    constructor(props: _UIComponentProps<TransactionDetailsProps>) {\n        super(props);\n        this.componentToRender = this.componentToRender.bind(this);\n    }\n\n    public componentToRender = () => {\n        return <TransactionData {...this.props} />;\n    };\n}\n\nexport default TransactionElement;\n","import { isFunction } from '../../../../utils';\nimport { ITransaction } from '../../../../types';\nimport { TransactionsFilters } from '../types';\nimport { DEFAULT_PAGE_LIMIT, LIMIT_OPTIONS } from '../../../internal/Pagination/constants';\nimport { TRANSACTION_FIELDS, TRANSACTION_FIELDS_REMAPS } from '../components/TransactionsTable/TransactionsTable';\nimport { getTransactionsFilterParams, getTransactionsFilterQueryParams } from '../components/utils';\nimport { CustomDataRetrieved, TransactionOverviewComponentProps } from '../../../types';\nimport { useCursorPaginatedRecords } from '../../../internal/Pagination/hooks';\nimport { useCustomColumnsData } from '../../../../hooks/useCustomColumnsData';\nimport { useConfigContext } from '../../../../core/ConfigContext';\nimport { useCallback, useEffect, useMemo, useRef } from 'preact/hooks';\nimport normalizeCustomFields from '../../../utils/customData/normalizeCustomFields';\nimport hasCustomField from '../../../utils/customData/hasCustomField';\nimport mergeRecords from '../../../utils/customData/mergeRecords';\n\nexport interface UseTransactionsListProps\n    extends Pick<TransactionOverviewComponentProps, 'allowLimitSelection' | 'dataCustomization' | 'onFiltersChanged' | 'preferredLimit'> {\n    fetchEnabled: boolean;\n    filters: Readonly<TransactionsFilters>;\n}\n\nconst useTransactionsList = ({\n    allowLimitSelection = true,\n    preferredLimit = DEFAULT_PAGE_LIMIT,\n    dataCustomization,\n    fetchEnabled,\n    filters,\n    onFiltersChanged,\n}: UseTransactionsListProps) => {\n    const { getTransactions } = useConfigContext().endpoints;\n\n    const filterParams = useMemo(() => getTransactionsFilterParams(filters), [filters]);\n    const initialFilterParams = useRef(filterParams).current;\n    const cachedFilterParams = useRef(initialFilterParams);\n    const canFetchTransactions = isFunction(getTransactions) && fetchEnabled;\n\n    const fetchTransactions = useCallback(\n        async (requestParams: Pick<Parameters<NonNullable<typeof getTransactions>>[1]['query'], 'limit' | 'cursor'>, signal?: AbortSignal) => {\n            const query: Parameters<NonNullable<typeof getTransactions>>[1]['query'] = {\n                ...requestParams,\n                ...getTransactionsFilterQueryParams(filters),\n                sortDirection: 'desc' as const,\n            } as const;\n\n            return getTransactions!({ signal }, { query });\n        },\n        [filters, getTransactions]\n    );\n\n    const {\n        canResetFilters,\n        error,\n        fetching,\n        filters: _,\n        limit,\n        limitOptions,\n        records,\n        resetFilters,\n        updateFilters,\n        updateLimit,\n        ...paginationProps\n    } = useCursorPaginatedRecords<ITransaction, 'data', string, keyof typeof filterParams>({\n        dataField: 'data',\n        fetchRecords: fetchTransactions,\n        enabled: canFetchTransactions,\n        filterParams: initialFilterParams,\n        initialFiltersSameAsDefault: true,\n        onFiltersChanged: isFunction(onFiltersChanged) ? onFiltersChanged : void 0,\n        preferredLimitOptions: allowLimitSelection ? LIMIT_OPTIONS : undefined,\n        preferredLimit,\n    });\n\n    const mergeCustomData = useCallback(\n        ({ records, retrievedData }: { records: ITransaction[]; retrievedData: CustomDataRetrieved[] }) =>\n            mergeRecords(records, retrievedData, (modifiedRecord, record) => modifiedRecord.id === record.id),\n        []\n    );\n\n    const { fields, onDataRetrieve } = dataCustomization?.list ?? {};\n\n    const normalizedFields = useMemo<typeof fields>(() => normalizeCustomFields(fields, TRANSACTION_FIELDS_REMAPS), [fields]);\n    const hasCustomColumn = useMemo(() => hasCustomField(normalizedFields, TRANSACTION_FIELDS), [normalizedFields]);\n    const { customRecords, loadingCustomRecords } = useCustomColumnsData<ITransaction>({ hasCustomColumn, mergeCustomData, onDataRetrieve, records });\n\n    useEffect(() => {\n        if (cachedFilterParams.current !== filterParams) {\n            cachedFilterParams.current = filterParams;\n            updateFilters?.(filterParams);\n        }\n    }, [filterParams, updateFilters]);\n\n    return {\n        ...paginationProps,\n        error,\n        fields: normalizedFields,\n        fetching: fetching || loadingCustomRecords,\n        records: customRecords,\n        hasCustomColumn,\n        limit,\n        limitOptions,\n        updateLimit,\n    } as const;\n};\n\nexport default useTransactionsList;\n","import { useFetch } from '../../../../hooks/useFetch';\nimport { useCallback, useMemo, useRef } from 'preact/hooks';\nimport { useConfigContext } from '../../../../core/ConfigContext';\nimport { createAbortable } from '../../../../primitives/async/abortable';\nimport { getTransactionsFilterQueryParams } from '../components/utils';\nimport { EMPTY_ARRAY, isFunction } from '../../../../utils';\nimport { ITransactionTotal } from '../../../../types';\nimport { TransactionsFilters } from '../types';\n\nconst ZERO_TOTALS = {\n    expenses: 0,\n    incomings: 0,\n    total: 0,\n    breakdown: {\n        expenses: [] as const,\n        incomings: [] as const,\n    } as const,\n} as const satisfies Omit<ITransactionTotal, 'currency'>;\n\nexport interface UseTransactionsTotalsProps {\n    currencies: readonly string[];\n    fetchEnabled: boolean;\n    filters: Readonly<TransactionsFilters>;\n    loadingBalances: boolean;\n}\n\nconst useTransactionsTotals = ({ currencies, fetchEnabled, filters, loadingBalances }: UseTransactionsTotalsProps) => {\n    const { getTransactionTotals } = useConfigContext().endpoints;\n    const abortable = useRef(createAbortable()).current;\n    const canGetTransactionTotals = isFunction(getTransactionTotals);\n    const canFetchTransactionTotals = canGetTransactionTotals && fetchEnabled;\n\n    const fetchTransactionTotals = useCallback(async () => {\n        if (canFetchTransactionTotals) {\n            const { signal } = abortable.refresh(true);\n            try {\n                const { balanceAccountId, createdSince, createdUntil } = getTransactionsFilterQueryParams(filters);\n                const query = { balanceAccountId, createdSince, createdUntil } as const;\n                const json = await getTransactionTotals({ signal }, { query });\n\n                if (!signal.aborted) return json?.data;\n            } catch (error) {\n                if (!signal.aborted) throw error;\n            }\n        }\n    }, [abortable, canFetchTransactionTotals, filters, getTransactionTotals]);\n\n    const { data, error, isFetching } = useFetch({\n        fetchOptions: { enabled: canFetchTransactionTotals },\n        queryFn: fetchTransactionTotals,\n    });\n\n    const { totals, totalsLookup } = useMemo(() => {\n        const records = Array.isArray(data) ? data : EMPTY_ARRAY;\n        const totals: readonly Readonly<ITransactionTotal>[] = currencies.map((currentCurrency): Readonly<ITransactionTotal> => {\n            const record = records.find(({ currency }) => currency === currentCurrency);\n            return record ?? { ...ZERO_TOTALS, currency: currentCurrency };\n        });\n        const totalsLookup: Readonly<Record<string, (typeof totals)[number]>> = Object.fromEntries(totals.map(record => [record.currency, record]));\n        return { totals, totalsLookup } as const;\n    }, [data, currencies]);\n\n    return {\n        totals,\n        totalsLookup,\n        error,\n        isAvailable: canGetTransactionTotals,\n        isWaiting: isFetching || loadingBalances || (canGetTransactionTotals && !fetchEnabled),\n    } as const;\n};\n\nexport default useTransactionsTotals;\n","import { EMPTY_ARRAY, isFunction } from '../utils';\nimport { IBalance, IBalanceAccountBase } from '../types';\nimport { createAbortable } from '../primitives/async/abortable';\nimport { useCallback, useMemo, useRef } from 'preact/hooks';\nimport { useConfigContext } from '../core/ConfigContext';\nimport { useFetch } from './useFetch';\n\nexport interface UseAccountBalancesProps {\n    balanceAccount?: IBalanceAccountBase;\n}\n\nconst useAccountBalances = ({ balanceAccount }: UseAccountBalancesProps) => {\n    const { getBalances } = useConfigContext().endpoints;\n    const abortable = useRef(createAbortable()).current;\n    const balanceAccountId = balanceAccount?.id;\n    const canGetBalances = isFunction(getBalances);\n    const canFetchBalances = canGetBalances && !!balanceAccountId;\n\n    const fetchBalances = useCallback(async () => {\n        if (canFetchBalances) {\n            const { signal } = abortable.refresh(true);\n            try {\n                const path: Parameters<NonNullable<typeof getBalances>>[1]['path'] = { balanceAccountId };\n                const json = await getBalances({ signal }, { path });\n                if (!signal.aborted) return json?.data;\n            } catch (error) {\n                if (!signal.aborted) throw error;\n            }\n        }\n    }, [abortable, balanceAccountId, canFetchBalances, getBalances]);\n\n    const { data, error, isFetching } = useFetch({\n        fetchOptions: { enabled: canFetchBalances },\n        queryFn: fetchBalances,\n    });\n\n    const { balances, balancesLookup, currencies } = useMemo(() => {\n        const balances = [...(Array.isArray(data) ? data : EMPTY_ARRAY)] as readonly Readonly<IBalance>[];\n        const currencySortedBalances = [...balances].sort(({ currency: a }, { currency: b }) => a.localeCompare(b));\n        const balancesLookup = Object.freeze(Object.fromEntries(balances.map(balance => [balance.currency, balance])));\n        const currencies = Object.freeze([...new Set(currencySortedBalances.map(({ currency }) => currency))]);\n        return { balances, balancesLookup, currencies } as const;\n    }, [data]);\n\n    return {\n        balances,\n        balancesLookup,\n        currencies,\n        error,\n        isAvailable: canGetBalances,\n        isEmpty: !!error || !currencies.length,\n        isMultiCurrency: currencies.length > 1,\n        isWaiting: isFetching || (canGetBalances && !balanceAccountId),\n    } as const;\n};\n\nexport default useAccountBalances;\n","import { useEffect, useRef } from 'preact/hooks';\nimport { AdditionalEventProperties } from '../../core/Analytics/analytics/user-events';\nimport useAnalyticsContext from '../../core/Context/analytics/useAnalyticsContext';\nimport useComponentTiming from '../useComponentTiming';\n\nexport const useDurationEvent = (eventProperties: AdditionalEventProperties) => {\n    const { duration } = useComponentTiming();\n    const userEvents = useAnalyticsContext();\n    const analyticsEventProperties = useRef(eventProperties);\n\n    useEffect(() => {\n        analyticsEventProperties.current = eventProperties;\n    }, [eventProperties]);\n\n    useEffect(() => {\n        return () => {\n            if (duration.current !== undefined) {\n                userEvents.addEvent?.('Duration', {\n                    ...analyticsEventProperties.current,\n                    duration: Math.floor(duration.current satisfies number),\n                });\n            }\n        };\n    }, [duration, userEvents]);\n};\n","import { useEffect } from 'preact/hooks';\nimport { classes } from '../../constants';\nimport { FC, PropsWithChildren } from 'preact/compat';\nimport { TransactionDetailsProps } from '../../../TransactionDetails';\nimport { popoverUtil } from '../../../../internal/Popover/utils/popoverUtil';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport useModalDetails from '../../../../../hooks/useModalDetails/useModalDetails';\nimport TransactionData from '../../../TransactionDetails/components/TransactionData';\nimport Modal from '../../../../internal/Modal';\n\nexport interface DataOverviewDisplayProps {\n    onContactSupport?: () => void;\n    dataCustomization?: TransactionDetailsProps['dataCustomization'];\n    resetDetails: ReturnType<typeof useModalDetails>['resetDetails'];\n    selectedDetail: ReturnType<typeof useModalDetails>['selectedDetail'];\n}\n\nexport const TransactionDetailsModal: FC<DataOverviewDisplayProps> = ({\n    children,\n    dataCustomization,\n    onContactSupport,\n    selectedDetail,\n    resetDetails,\n}: PropsWithChildren<DataOverviewDisplayProps>) => {\n    const { i18n } = useCoreContext();\n    const isModalOpen = !!selectedDetail;\n\n    useEffect(() => {\n        if (isModalOpen) {\n            popoverUtil.closeAll();\n        }\n    }, [isModalOpen]);\n\n    return (\n        <div className={classes.details}>\n            {children}\n            {selectedDetail && (\n                <Modal\n                    isOpen={isModalOpen}\n                    aria-label={i18n.get('transactions.details.title')}\n                    onClose={resetDetails}\n                    isDismissible={true}\n                    headerWithBorder={false}\n                    size={selectedDetail.modalSize || 'large'}\n                >\n                    <TransactionData\n                        id={selectedDetail.selection.data}\n                        dataCustomization={dataCustomization}\n                        onContactSupport={onContactSupport}\n                        hideTitle\n                    />\n                </Modal>\n            )}\n        </div>\n    );\n};\n","import { useCallback } from 'preact/hooks';\nimport { TransactionsListProps } from './types';\nimport { ITransaction } from '../../../../../types';\nimport { TransactionDetailsModal } from './TransactionDetailsModal';\nimport { TransactionsTable } from '../TransactionsTable/TransactionsTable';\nimport { sharedTransactionDetailsEventProperties } from '../../../TransactionDetails/constants';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport useAnalyticsContext from '../../../../../core/Context/analytics/useAnalyticsContext';\nimport useModalDetails from '../../../../../hooks/useModalDetails/useModalDetails';\n\nconst TransactionsList = ({\n    accountBalancesResult,\n    balanceAccount,\n    dataCustomization,\n    loadingBalanceAccounts,\n    onContactSupport,\n    onRecordSelection,\n    showDetails,\n    transactionsListResult,\n}: TransactionsListProps) => {\n    const userEvents = useAnalyticsContext();\n    const { currencies: availableCurrencies } = accountBalancesResult;\n\n    const { updateDetails, resetDetails, selectedDetail } = useModalDetails({\n        transaction: {\n            showDetails: showDetails ?? true,\n            callback: onRecordSelection,\n        },\n    });\n\n    const onRowClick = useCallback(\n        ({ id, category }: ITransaction) => {\n            if (category) {\n                userEvents.addEvent?.('Viewed transaction details', {\n                    ...sharedTransactionDetailsEventProperties,\n                    transactionType: category,\n                });\n            }\n            updateDetails({\n                selection: {\n                    data: id,\n                    type: 'transaction',\n                    balanceAccount,\n                },\n                modalSize: 'small',\n            }).callback({ id });\n        },\n        [balanceAccount, updateDetails, userEvents]\n    );\n\n    const {\n        error: transactionsError,\n        fetching: loadingTransactions,\n        fields: transactionsFields,\n        records: transactions,\n        updateLimit: onLimitSelection,\n        hasCustomColumn,\n        ...paginationProps\n    } = transactionsListResult;\n\n    return (\n        <TransactionDetailsModal\n            dataCustomization={dataCustomization}\n            onContactSupport={onContactSupport}\n            resetDetails={resetDetails}\n            selectedDetail={selectedDetail as ReturnType<typeof useModalDetails>['selectedDetail']}\n        >\n            <TransactionsTable\n                activeBalanceAccount={balanceAccount}\n                availableCurrencies={availableCurrencies as (typeof availableCurrencies)[number][]}\n                error={transactionsError as AdyenPlatformExperienceError}\n                hasMultipleCurrencies={accountBalancesResult.isMultiCurrency}\n                loading={loadingBalanceAccounts || loadingTransactions}\n                onContactSupport={onContactSupport}\n                onLimitSelection={onLimitSelection}\n                onRowClick={onRowClick}\n                showPagination={true}\n                transactions={transactions}\n                customColumns={transactionsFields}\n                {...paginationProps}\n            />\n        </TransactionDetailsModal>\n    );\n};\n\nexport default TransactionsList;\n","export const DEFAULT_BASE_BUTTON_CLASSNAME = 'adyen-pe-base-button';\n","import useButton from '../Button/hooks/useButton';\nimport { DEFAULT_BASE_BUTTON_CLASSNAME } from './constants';\nimport { fixedForwardRef, parseBooleanProp, parseClassName } from '../../../utils/preact';\nimport { Ref } from 'preact';\nimport { useMemo } from 'preact/hooks';\nimport { ButtonProps } from './types';\nimport './BaseButton.scss';\n\nfunction BaseButton(props: ButtonProps, ref: Ref<HTMLButtonElement>) {\n    const classNameValue = useMemo(() => parseClassName('', props.className) || '', [props.className]);\n    const disabledValue = useMemo(() => parseBooleanProp(props.disabled || false), [props.disabled]);\n\n    const { click, allProps } = useButton(\n        classNameValue,\n        [...(props.classNameModifiers || []), ...(props.fullWidth ? ['full-width'] : [])],\n        DEFAULT_BASE_BUTTON_CLASSNAME,\n        disabledValue,\n        props,\n        props.type,\n        props.onClick\n    );\n\n    return (\n        <button type={props.type || 'button'} onClick={click} ref={ref} {...allProps}>\n            {props.children}\n        </button>\n    );\n}\n\nexport default fixedForwardRef(BaseButton);\n","const NAMESPACE = 'adyen-pe-expandable-card';\n\n// Block classes\nexport const BASE_CLASS = NAMESPACE;\n\n// Element classes\nexport const CONTAINER_CLASS = BASE_CLASS + '__container';\nexport const CONTENT_CLASS = BASE_CLASS + '__content';\nexport const CHEVRON_CLASS = BASE_CLASS + '__chevron';\n\n// Modifier classes\nexport const CONTAINER_BUTTON_CLASS = CONTAINER_CLASS + '--button';\nexport const CONTAINER_FILLED_CLASS = CONTAINER_CLASS + '--filled';\nexport const CONTAINER_HIDDEN_CLASS = CONTAINER_CLASS + '--hidden';\nexport const CONTAINER_IN_FLOW_CLASS = CONTAINER_CLASS + '--in-flow';\nexport const CONTAINER_OVERLAY_CLASS = CONTAINER_CLASS + '--overlay';\nexport const CONTENT_EXPANDABLE_CLASS = CONTENT_CLASS + '--expandable';\n\n// Custom properties\nexport const CARD_HEIGHT_PROPERTY = `--${NAMESPACE}-height`;\n","import classNames from 'classnames';\nimport { isFunction } from '../../../utils';\nimport { PropsWithChildren } from 'preact/compat';\nimport { useCallback, useEffect, useLayoutEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { ExpandableCardContentRender, ExpandableCardProps } from './types';\nimport { useClickOutside } from '../../../hooks/element/useClickOutside';\nimport useUniqueId from '../../../hooks/useUniqueId';\nimport BaseButton from '../BaseButton';\nimport Icon from '../Icon';\nimport './ExpandableCard.scss';\nimport {\n    BASE_CLASS,\n    CARD_HEIGHT_PROPERTY,\n    CHEVRON_CLASS,\n    CONTAINER_BUTTON_CLASS,\n    CONTAINER_CLASS,\n    CONTAINER_FILLED_CLASS,\n    CONTAINER_HIDDEN_CLASS,\n    CONTAINER_IN_FLOW_CLASS,\n    CONTAINER_OVERLAY_CLASS,\n    CONTENT_CLASS,\n    CONTENT_EXPANDABLE_CLASS,\n} from './constants';\n\nconst ExpandableCard = ({ renderContent, children, filled, fullWidth, inFlow, ...restProps }: PropsWithChildren<ExpandableCardProps>) => {\n    const [isOpen, setIsOpen] = useState(false);\n    const [collapsedCardHeight, setCollapsedCardHeight] = useState(0);\n    const inNormalFlow = useMemo(() => inFlow === true, [inFlow]);\n    const toggleIsOpen = useCallback(() => setIsOpen(isOpen => !isOpen), [setIsOpen]);\n    const expandableCardRef = useRef<HTMLDivElement>(null);\n    const expandButtonRef = useRef<HTMLButtonElement>(null);\n    const expandedContentId = `elem-${useUniqueId()}`;\n    const isClosedFromOutside = useRef(false);\n    const isOpenRef = useRef(isOpen);\n\n    const clickOutsideRef = useClickOutside<HTMLElement>(\n        undefined,\n        useCallback(() => {\n            if (isOpen) {\n                toggleIsOpen();\n                isClosedFromOutside.current = true;\n            }\n        }, [isOpen, toggleIsOpen])\n    );\n\n    const renderCardContent = useMemo<ExpandableCardContentRender>(\n        () =>\n            isFunction(renderContent)\n                ? renderContent\n                : ({ collapsibleContent }) => (\n                      <>\n                          {renderContent}\n                          {collapsibleContent && <div>{collapsibleContent}</div>}\n                      </>\n                  ),\n        [renderContent]\n    );\n\n    useLayoutEffect(() => {\n        const cardElement = expandableCardRef.current;\n        if (!cardElement) return;\n\n        if (inNormalFlow) {\n            // The inNormalFlow value is currently `true`,\n            // Ensure the collapsed card height property is up-to-date\n            cardElement.style.setProperty(CARD_HEIGHT_PROPERTY, `${collapsedCardHeight}px`);\n        } else if (!isOpen) {\n            // The card isn't currently expanded, and the inNormalFlow value is currently `false`\n            // The collapsed card height property is no longer needed\n            cardElement.style.removeProperty(CARD_HEIGHT_PROPERTY);\n        }\n    }, [collapsedCardHeight, inNormalFlow, isOpen]);\n\n    useEffect(() => {\n        if (!inNormalFlow) return void setCollapsedCardHeight(0);\n\n        const element = expandButtonRef.current;\n        if (!element) return;\n\n        const resizeObserver = new ResizeObserver(entries => {\n            for (const entry of entries) {\n                if (entry.target !== element) continue;\n                setCollapsedCardHeight(element.offsetHeight || 0);\n            }\n        });\n\n        resizeObserver.observe(element);\n\n        return () => {\n            resizeObserver.unobserve(element);\n            resizeObserver.disconnect();\n        };\n    }, [inNormalFlow]);\n\n    useEffect(() => {\n        if (isOpen) {\n            clickOutsideRef.current?.focus();\n        } else {\n            // We want to manually focus the expand button only when the card is collapsed by inside clicks\n            // Therefore we skip the manual focus initially when isOpen is false and when we have outside clicks\n            if (isOpenRef.current !== isOpen && !isClosedFromOutside.current) {\n                expandButtonRef.current?.focus();\n            }\n            isClosedFromOutside.current = false;\n        }\n        isOpenRef.current = isOpen;\n    }, [isOpen, clickOutsideRef]);\n\n    return (\n        <div ref={expandableCardRef} className={BASE_CLASS}>\n            {children ? (\n                <>\n                    <BaseButton\n                        className={classNames(CONTAINER_CLASS, CONTAINER_BUTTON_CLASS, { [CONTAINER_FILLED_CLASS]: filled })}\n                        disabled={isOpen}\n                        fullWidth={fullWidth}\n                        onClick={toggleIsOpen}\n                        ref={expandButtonRef}\n                        data-testid={'expand-button'}\n                        {...(isOpen ? { 'aria-hidden': true } : { 'aria-controls': expandedContentId, 'aria-expanded': false })}\n                        {...restProps}\n                    >\n                        <div className={classNames(CONTENT_CLASS, CONTENT_EXPANDABLE_CLASS)}>{renderCardContent({ isExpanded: isOpen })}</div>\n                        <div className={CHEVRON_CLASS}>\n                            <Icon name=\"chevron-down\" />\n                        </div>\n                    </BaseButton>\n                    <BaseButton\n                        id={expandedContentId}\n                        className={classNames(CONTAINER_CLASS, CONTAINER_BUTTON_CLASS, CONTAINER_OVERLAY_CLASS, {\n                            [CONTAINER_FILLED_CLASS]: filled,\n                            [CONTAINER_HIDDEN_CLASS]: !isOpen,\n                            [CONTAINER_IN_FLOW_CLASS]: inNormalFlow,\n                        })}\n                        disabled={!isOpen}\n                        fullWidth={fullWidth}\n                        onClick={toggleIsOpen}\n                        ref={clickOutsideRef}\n                        data-testid={'collapse-button'}\n                        {...(isOpen ? { 'aria-controls': expandedContentId, 'aria-expanded': true } : { role: 'presentation' })}\n                        {...restProps}\n                    >\n                        <div className={classNames(CONTENT_CLASS, CONTENT_EXPANDABLE_CLASS)}>\n                            {renderCardContent({ isExpanded: isOpen, collapsibleContent: children })}\n                        </div>\n                        <div className={CHEVRON_CLASS}>\n                            <Icon name=\"chevron-up\" />\n                        </div>\n                    </BaseButton>\n                </>\n            ) : (\n                <div className={classNames(CONTAINER_CLASS, { [CONTAINER_FILLED_CLASS]: filled })} {...restProps}>\n                    <div className={CONTENT_CLASS}>{renderCardContent({ isExpanded: false })}</div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default ExpandableCard;\n","export const BASE_CLASS = 'adyen-pe-amount-skeleton';\nexport const MARGIN_CLASS = BASE_CLASS + '--has-margin';\nexport const LOADING_CLASS = BASE_CLASS + '--loading';\n","import classNames from 'classnames';\nimport { BASE_CLASS, LOADING_CLASS, MARGIN_CLASS } from './constants';\nimport './AmountSkeleton.scss';\nimport { FC } from 'preact/compat';\nimport { AmountSkeletonProps } from './types';\n\nexport const AmountSkeleton: FC<AmountSkeletonProps> = ({ hasMargin = false, isLoading = false, width }) => {\n    return <span className={classNames(BASE_CLASS, { [LOADING_CLASS]: isLoading, [MARGIN_CLASS]: hasMargin })} style={{ width }}></span>;\n};\n\nexport default AmountSkeleton;\n","export const BASE_CLASS = 'adyen-pe-summary-item';\nexport const LABEL_CONTAINER_CLASS = BASE_CLASS + '__label-container';\nexport const LABEL_CONTAINER_CLASS_LOADING = LABEL_CONTAINER_CLASS + '--loading';\nexport const BODY_CLASS = BASE_CLASS + '--body';\nexport const LABEL_CLASS = BASE_CLASS + '__label';\nexport const PLACEHOLDER_CLASS = BASE_CLASS + '__placeholder';\nexport const AMOUNT_CLASS = BASE_CLASS + '__amount';\n","import { LABEL_CLASS, LABEL_CONTAINER_CLASS, LABEL_CONTAINER_CLASS_LOADING } from './constants';\nimport { SummaryItemLabelProps } from './types';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { fixedForwardRef } from '../../../../../utils/preact';\nimport classNames from 'classnames';\nimport { ForwardedRef } from 'preact/compat';\n\nexport const SummaryItemLabel = fixedForwardRef(\n    ({ config, i18n, isSkeletonVisible, className, ...restArgs }: SummaryItemLabelProps, ref: ForwardedRef<HTMLSpanElement>) => {\n        return (\n            <span\n                className={classNames(LABEL_CONTAINER_CLASS, className, { [LABEL_CONTAINER_CLASS_LOADING]: isSkeletonVisible })}\n                style={{ cursor: 'default' }}\n                ref={ref}\n                {...restArgs}\n            >\n                {config.labelKey && (\n                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION} className={LABEL_CLASS}>\n                        {i18n.get(config.labelKey)}\n                    </Typography>\n                )}\n            </span>\n        );\n    }\n);\n","import AmountSkeleton from '../AmountSkeleton/AmountSkeleton';\nimport { AMOUNT_CLASS, BASE_CLASS, BODY_CLASS, LABEL_CLASS, PLACEHOLDER_CLASS } from './constants';\nimport { SummaryItemLabel } from './SummaryItemLabel';\nimport { SummaryItemColumnConfig, SummaryItemProps } from './types';\nimport { Tooltip } from '../../../../internal/Tooltip/Tooltip';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport classNames from 'classnames';\nimport { useCallback, useEffect } from 'preact/hooks';\nimport './SummaryItem.scss';\nimport { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\n\nexport const SummaryItem = ({\n    columnConfigs,\n    isHeader = false,\n    showLabelUnderline = false,\n    isSkeletonVisible = false,\n    isLoading = false,\n    widths,\n    onWidthsSet,\n    isEmpty,\n}: SummaryItemProps) => {\n    const { i18n } = useCoreContext();\n\n    useEffect(() => {\n        const newWidths = columnConfigs.map(config => config.ref?.current?.getBoundingClientRect().width ?? 0);\n        onWidthsSet(newWidths);\n        // We need columnConfigs only for the refs, therefore we don't need to include them in effect dependencies\n        // If we do include it though, we run into an infinite loop of re-rendering\n        // TODO: Check what causes the infinite loop\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [onWidthsSet]);\n\n    const getColumnStyle = (index: number) => ({ width: widths && widths[index] ? widths[index] : 'auto' });\n\n    const isXsContainer = useResponsiveContainer(containerQueries.only.xs);\n\n    const typographyVariant = useCallback(\n        (config: SummaryItemColumnConfig, isLongValue: boolean) => {\n            if (config.valueHasLabelStyle) {\n                return TypographyVariant.CAPTION;\n            }\n            return isLongValue && !isXsContainer ? TypographyVariant.BODY : TypographyVariant.TITLE;\n        },\n        [isXsContainer]\n    );\n\n    return (\n        <div className={classNames(BASE_CLASS, { [BODY_CLASS]: !isHeader })}>\n            {columnConfigs.map((config, index) => {\n                const value = config.getValue();\n                const isLongValue = !!value && value.length > 15;\n                return (\n                    <div key={index}>\n                        {isHeader && (\n                            <div role=\"presentation\">\n                                {config.tooltipLabel ? (\n                                    <Tooltip content={i18n.get(`${config.tooltipLabel}`)} isUnderlineVisible={showLabelUnderline}>\n                                        <SummaryItemLabel config={config} i18n={i18n} isSkeletonVisible={isSkeletonVisible} />\n                                    </Tooltip>\n                                ) : (\n                                    <SummaryItemLabel config={config} i18n={i18n} isSkeletonVisible={isSkeletonVisible} />\n                                )}\n                            </div>\n                        )}\n                        {isSkeletonVisible ? (\n                            <AmountSkeleton isLoading={isLoading} hasMargin={config.hasSkeletonMargin} width={config.skeletonWidth + 'px'} />\n                        ) : isEmpty ? (\n                            <span className={classNames([BASE_CLASS, PLACEHOLDER_CLASS])}></span>\n                        ) : (\n                            <div id={config.elemId} ref={config.ref} style={getColumnStyle(index)} aria-label={config.ariaLabel} role=\"presentation\">\n                                <Typography\n                                    el={TypographyElement.SPAN}\n                                    variant={typographyVariant(config, isLongValue)}\n                                    className={classNames({ [LABEL_CLASS]: config.valueHasLabelStyle, [AMOUNT_CLASS]: !config.valueHasLabelStyle })}\n                                >\n                                    {value}\n                                </Typography>\n                            </div>\n                        )}\n                    </div>\n                );\n            })}\n        </div>\n    );\n};\n","import useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { useMemo, useRef } from 'preact/hooks';\nimport { TransactionTotalItemProps } from './types';\nimport { SummaryItemColumnConfig } from '../SummaryItem/types';\nimport { SummaryItem } from '../SummaryItem/SummaryItem';\n\nexport const TransactionTotalItem = ({\n    total,\n    hiddenField,\n    isHeader = false,\n    showLabelUnderline = false,\n    isSkeleton = false,\n    isLoading = false,\n    widths,\n    onWidthsSet,\n    expensesElemId,\n    incomingsElemId,\n}: TransactionTotalItemProps) => {\n    const { i18n } = useCoreContext();\n    const incomingRef = useRef<HTMLDivElement>(null);\n    const expenseRef = useRef<HTMLDivElement>(null);\n    const currencyRef = useRef<HTMLDivElement>(null);\n\n    const columnConfigs: SummaryItemColumnConfig[] = useMemo(() => {\n        const incomingsConfig: SummaryItemColumnConfig = {\n            elemId: incomingsElemId,\n            labelKey: 'transactions.overview.totals.tags.incoming',\n            ref: incomingRef,\n            skeletonWidth: 80,\n            getValue: () => total && i18n.amount(total.incomings, total.currency),\n            tooltipLabel: 'transactions.overview.totals.tags.incoming.description',\n            get ariaLabel(): string {\n                return `${i18n.get(this.labelKey!)}: ${this.getValue()}`;\n            },\n        };\n\n        const expensesConfig: SummaryItemColumnConfig = {\n            elemId: expensesElemId,\n            labelKey: 'transactions.overview.totals.tags.outgoing',\n            ref: expenseRef,\n            skeletonWidth: 80,\n            getValue: () => total && i18n.amount(total.expenses, total.currency),\n            tooltipLabel: 'transactions.overview.totals.tags.outgoing.description',\n            get ariaLabel(): string {\n                return `${i18n.get(this.labelKey!)}: ${this.getValue()}`;\n            },\n        };\n\n        return [\n            ...(hiddenField !== 'incomings' ? [incomingsConfig] : []),\n            ...(hiddenField !== 'expenses' ? [expensesConfig] : []),\n            {\n                ref: currencyRef,\n                skeletonWidth: 40,\n                valueHasLabelStyle: true,\n                getValue: () => total?.currency,\n            },\n        ];\n    }, [incomingsElemId, expensesElemId, hiddenField, total, i18n]);\n\n    return (\n        <SummaryItem\n            showLabelUnderline={showLabelUnderline}\n            isEmpty={!total}\n            columnConfigs={columnConfigs}\n            isHeader={isHeader}\n            isSkeletonVisible={isSkeleton}\n            isLoading={isLoading}\n            widths={widths}\n            onWidthsSet={onWidthsSet}\n        />\n    );\n};\n","import { useCallback, useState } from 'preact/hooks';\n\nexport const useMaxWidthsState = (): [number[], (widths: number[]) => void] => {\n    const [maxWidths, setMaxWidths] = useState<number[]>([]);\n    const setMaxWidthsConditionally = useCallback((widths: number[]) => {\n        setMaxWidths(currentMaxWidths =>\n            widths.every(width => !width)\n                ? widths\n                : widths.map((width, index) => {\n                      const currentMaxWidth = currentMaxWidths[index];\n                      return !currentMaxWidth || width > currentMaxWidth ? width : currentMaxWidth;\n                  })\n        );\n    }, []);\n    return [maxWidths, setMaxWidthsConditionally];\n};\n","import { memo } from 'preact/compat';\nimport { useMemo, useState } from 'preact/hooks';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport ExpandableCard from '../../../../internal/ExpandableCard/ExpandableCard';\nimport { TransactionTotalItem } from '../TransactionTotalItem/TransactionTotalItem';\nimport { ITransactionTotalWithKey, TotalsCardProps } from './types';\nimport { useMaxWidthsState } from '../../hooks/useMaxWidths';\nimport { uniqueId } from '../../../../../utils';\n\nexport const TotalsCard = memo(({ totals, isLoading, hiddenField, fullWidth, ...ariaAttributes }: TotalsCardProps) => {\n    const { i18n } = useCoreContext();\n    const [maxWidths, setMaxWidths] = useMaxWidthsState();\n    const [isHovered, setIsHovered] = useState(false);\n\n    const localizedPlainCurrencyText = useMemo(() => i18n.get('transactions.overview.totals.currency.label'), [i18n]);\n\n    const [firstTotal, ...restOfTotals] = useMemo<Required<ITransactionTotalWithKey>[]>(() => {\n        return totals.map((t: ITransactionTotalWithKey) => ({\n            ...t,\n            key: t.currency,\n            expensesElemId: uniqueId('elem'),\n            incomingsElemId: uniqueId('elem'),\n        }));\n    }, [totals]);\n\n    const totalsListLabel = useMemo(() => {\n        switch (hiddenField) {\n            case 'expenses':\n                return i18n.get('transactions.overview.totals.lists.incoming');\n            case 'incomings':\n                return i18n.get('transactions.overview.totals.lists.outgoing');\n            default:\n                return i18n.get('transactions.overview.totals.lists.default');\n        }\n    }, [i18n, hiddenField]);\n\n    const renderFirstTotal = useMemo(\n        () => (\n            <div\n                role=\"listitem\"\n                aria-label={firstTotal ? `${localizedPlainCurrencyText}: ${firstTotal.currency}` : undefined}\n                aria-describedby={firstTotal ? `${firstTotal.incomingsElemId} ${firstTotal.expensesElemId}` : undefined}\n            >\n                <TransactionTotalItem\n                    showLabelUnderline={isHovered}\n                    total={firstTotal}\n                    hiddenField={hiddenField}\n                    widths={maxWidths}\n                    isHeader\n                    isSkeleton={isLoading}\n                    isLoading={isLoading}\n                    onWidthsSet={setMaxWidths}\n                    expensesElemId={firstTotal?.expensesElemId}\n                    incomingsElemId={firstTotal?.incomingsElemId}\n                />\n            </div>\n        ),\n        [isHovered, firstTotal, hiddenField, maxWidths, isLoading, setMaxWidths, localizedPlainCurrencyText]\n    );\n\n    const renderRestOfTotals = useMemo(() => {\n        return !isLoading && restOfTotals.length ? (\n            <>\n                {restOfTotals.map(total => (\n                    <div\n                        role=\"listitem\"\n                        key={total.key}\n                        aria-label={`${localizedPlainCurrencyText}: ${total.currency}`}\n                        aria-describedby={`${total.incomingsElemId} ${total.expensesElemId}`}\n                    >\n                        <TransactionTotalItem\n                            showLabelUnderline={isHovered}\n                            total={total}\n                            hiddenField={hiddenField}\n                            widths={maxWidths}\n                            onWidthsSet={setMaxWidths}\n                            expensesElemId={total.expensesElemId}\n                            incomingsElemId={total.incomingsElemId}\n                        />\n                    </div>\n                ))}\n            </>\n        ) : undefined;\n    }, [isLoading, restOfTotals, isHovered, hiddenField, maxWidths, setMaxWidths, localizedPlainCurrencyText]);\n\n    return (\n        <ExpandableCard\n            renderContent={({ collapsibleContent }) => (\n                <div role=\"list\" aria-label={totalsListLabel}>\n                    {renderFirstTotal}\n                    {collapsibleContent}\n                </div>\n            )}\n            fullWidth={fullWidth}\n            onMouseEnter={() => setIsHovered(true)}\n            onFocus={() => setIsHovered(true)}\n            onMouseLeave={() => setIsHovered(false)}\n            onBlur={() => setIsHovered(false)}\n            {...ariaAttributes}\n        >\n            {renderRestOfTotals}\n        </ExpandableCard>\n    );\n});\n","export const BASE_CLASS = 'adyen-pe-transaction-totals';\nexport const ITEM_CLASS = 'adyen-pe-transaction-totals__item';\n","import { memo } from 'preact/compat';\nimport { TotalsCard } from './TotalsCard';\nimport { BASE_CLASS, ITEM_CLASS } from './constants';\nimport { TransactionTotalsProps } from './types';\nimport { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport './TransactionTotals.scss';\n\nconst TransactionTotals = memo(({ loadingTotals, totals }: TransactionTotalsProps) => {\n    const { i18n } = useCoreContext();\n    const isXsContainer = useResponsiveContainer(containerQueries.only.xs);\n    const isNarrowContainer = useResponsiveContainer(containerQueries.down.sm);\n\n    return (\n        <div className={BASE_CLASS}>\n            {isXsContainer ? (\n                <>\n                    <div className={ITEM_CLASS}>\n                        <TotalsCard\n                            aria-label={i18n.get('transactions.overview.totals.labels.incoming')}\n                            totals={totals}\n                            isLoading={loadingTotals}\n                            hiddenField=\"expenses\"\n                            fullWidth={isNarrowContainer}\n                        />\n                    </div>\n                    <div className={ITEM_CLASS}>\n                        <TotalsCard\n                            aria-label={i18n.get('transactions.overview.totals.labels.outgoing')}\n                            totals={totals}\n                            isLoading={loadingTotals}\n                            hiddenField=\"incomings\"\n                            fullWidth={isNarrowContainer}\n                        />\n                    </div>\n                </>\n            ) : (\n                <TotalsCard\n                    aria-label={i18n.get('transactions.overview.totals.labels.default')}\n                    totals={totals}\n                    isLoading={loadingTotals}\n                    fullWidth={isNarrowContainer}\n                />\n            )}\n        </div>\n    );\n});\n\nexport default TransactionTotals;\n","import useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { useMemo, useRef } from 'preact/hooks';\nimport { BalanceItemProps } from './types';\nimport { SummaryItemColumnConfig } from '../SummaryItem/types';\nimport { SummaryItem } from '../SummaryItem/SummaryItem';\n\nexport const BalanceItem = ({\n    balance,\n    hiddenField,\n    isHeader = false,\n    showLabelUnderline = false,\n    isSkeleton = false,\n    isLoading = false,\n    widths,\n    onWidthsSet,\n    availableBalanceElemId,\n    reservedBalanceElemId,\n}: BalanceItemProps) => {\n    const { i18n } = useCoreContext();\n    const availableAmountRef = useRef<HTMLDivElement>(null);\n    const reservedAmountRef = useRef<HTMLDivElement>(null);\n    const currencyRef = useRef<HTMLDivElement>(null);\n\n    const columnConfigs: SummaryItemColumnConfig[] = useMemo(() => {\n        const availableBalanceConfig: SummaryItemColumnConfig = {\n            elemId: availableBalanceElemId,\n            labelKey: 'transactions.overview.balances.tags.available',\n            ref: availableAmountRef,\n            skeletonWidth: 80,\n            getValue: () => balance && i18n.amount(balance.value, balance.currency),\n            get ariaLabel(): string {\n                return `${i18n.get(this.labelKey!)}: ${this.getValue()}`;\n            },\n        };\n\n        const reservedBalanceConfig: SummaryItemColumnConfig = {\n            elemId: reservedBalanceElemId,\n            labelKey: 'transactions.overview.balances.tags.reserved',\n            ref: reservedAmountRef,\n            skeletonWidth: 80,\n            getValue: () => balance && i18n.amount(balance.reservedValue, balance.currency),\n            tooltipLabel: 'transactions.overview.balances.tags.reserved.description',\n            get ariaLabel(): string {\n                return `${i18n.get(this.labelKey!)}: ${this.getValue()}`;\n            },\n        };\n\n        return [\n            ...(hiddenField !== 'available' ? [availableBalanceConfig] : []),\n            ...(hiddenField !== 'reserved' ? [reservedBalanceConfig] : []),\n            {\n                ref: currencyRef,\n                skeletonWidth: 40,\n                valueHasLabelStyle: true,\n                getValue: () => balance?.currency,\n            },\n        ];\n    }, [balance, hiddenField, i18n]);\n\n    return (\n        <SummaryItem\n            showLabelUnderline={showLabelUnderline}\n            isEmpty={!balance}\n            columnConfigs={columnConfigs}\n            isHeader={isHeader}\n            isSkeletonVisible={isSkeleton}\n            isLoading={isLoading}\n            widths={widths}\n            onWidthsSet={onWidthsSet}\n        />\n    );\n};\n","import { memo } from 'preact/compat';\nimport { useMemo, useState } from 'preact/hooks';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport ExpandableCard from '../../../../internal/ExpandableCard/ExpandableCard';\nimport { BalanceItem } from '../BalanceItem/BalanceItem';\nimport { IBalanceWithKey, BalancesCardProps } from './types';\nimport { useMaxWidthsState } from '../../hooks/useMaxWidths';\nimport { uniqueId } from '../../../../../utils';\n\nexport const BalancesCard = memo(({ balances, isLoading, hiddenField, fullWidth, ...ariaAttributes }: BalancesCardProps) => {\n    const { i18n } = useCoreContext();\n    const [maxWidths, setMaxWidths] = useMaxWidthsState();\n    const [isHovered, setIsHovered] = useState(false);\n\n    const localizedPlainCurrencyText = useMemo(() => i18n.get('transactions.overview.balances.currency.label'), [i18n]);\n\n    const [firstBalance, ...restOfBalances] = useMemo<Required<IBalanceWithKey>[]>(() => {\n        return balances.map((t: IBalanceWithKey) => ({\n            ...t,\n            key: t.currency,\n            availableBalanceElemId: uniqueId('elem'),\n            reservedBalanceElemId: uniqueId('elem'),\n        }));\n    }, [balances]);\n\n    const balancesListLabel = useMemo(() => {\n        switch (hiddenField) {\n            case 'available':\n                return i18n.get('transactions.overview.balances.lists.reserved');\n            case 'reserved':\n                return i18n.get('transactions.overview.balances.lists.available');\n            default:\n                return i18n.get('transactions.overview.balances.lists.default');\n        }\n    }, [i18n, hiddenField]);\n\n    const renderFirstBalance = useMemo(\n        () => (\n            <div\n                role=\"listitem\"\n                aria-label={firstBalance ? `${localizedPlainCurrencyText}: ${firstBalance.currency}` : undefined}\n                aria-describedby={firstBalance ? `${firstBalance.availableBalanceElemId} ${firstBalance.reservedBalanceElemId}` : undefined}\n            >\n                <BalanceItem\n                    showLabelUnderline={isHovered}\n                    balance={firstBalance}\n                    hiddenField={hiddenField}\n                    widths={maxWidths}\n                    isHeader\n                    isSkeleton={isLoading}\n                    isLoading={isLoading}\n                    onWidthsSet={setMaxWidths}\n                    reservedBalanceElemId={firstBalance?.reservedBalanceElemId}\n                    availableBalanceElemId={firstBalance?.availableBalanceElemId}\n                />\n            </div>\n        ),\n        [isHovered, firstBalance, hiddenField, maxWidths, isLoading, setMaxWidths, localizedPlainCurrencyText]\n    );\n\n    const renderRestOfBalances = useMemo(() => {\n        return !isLoading && restOfBalances.length ? (\n            <>\n                {restOfBalances.map(total => (\n                    <div\n                        role=\"listitem\"\n                        key={total.key}\n                        aria-label={`${localizedPlainCurrencyText}: ${total.currency}`}\n                        aria-describedby={`${total.availableBalanceElemId} ${total.reservedBalanceElemId}`}\n                    >\n                        <BalanceItem\n                            showLabelUnderline={isHovered}\n                            balance={total}\n                            hiddenField={hiddenField}\n                            widths={maxWidths}\n                            onWidthsSet={setMaxWidths}\n                            reservedBalanceElemId={total.reservedBalanceElemId}\n                            availableBalanceElemId={total.availableBalanceElemId}\n                        />\n                    </div>\n                ))}\n            </>\n        ) : undefined;\n    }, [isLoading, restOfBalances, isHovered, hiddenField, maxWidths, setMaxWidths, localizedPlainCurrencyText]);\n\n    return (\n        <ExpandableCard\n            renderContent={({ collapsibleContent }) => (\n                <div role=\"list\" aria-label={balancesListLabel}>\n                    {renderFirstBalance}\n                    {collapsibleContent}\n                </div>\n            )}\n            fullWidth={fullWidth}\n            onMouseEnter={() => setIsHovered(true)}\n            onFocus={() => setIsHovered(true)}\n            onMouseLeave={() => setIsHovered(false)}\n            onBlur={() => setIsHovered(false)}\n            {...ariaAttributes}\n        >\n            {renderRestOfBalances}\n        </ExpandableCard>\n    );\n});\n","export const BASE_CLASS = 'adyen-pe-balances';\nexport const ITEM_CLASS = 'adyen-pe-balances__item';\n","import { memo } from 'preact/compat';\nimport { BalancesCard } from './BalancesCard';\nimport { BASE_CLASS, ITEM_CLASS } from './constants';\nimport { BalancesProps } from './types';\nimport { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport './Balances.scss';\n\nconst Balances = memo(({ balances, loadingBalances }: BalancesProps) => {\n    const { i18n } = useCoreContext();\n    const isXsContainer = useResponsiveContainer(containerQueries.only.xs);\n    const isNarrowContainer = useResponsiveContainer(containerQueries.down.sm);\n\n    return (\n        <div className={BASE_CLASS}>\n            {isXsContainer ? (\n                <>\n                    <div className={ITEM_CLASS}>\n                        <BalancesCard\n                            aria-label={i18n.get('transactions.overview.balances.labels.available')}\n                            balances={balances}\n                            isLoading={loadingBalances}\n                            hiddenField=\"reserved\"\n                            fullWidth={isNarrowContainer}\n                        />\n                    </div>\n                    <div className={ITEM_CLASS}>\n                        <BalancesCard\n                            aria-label={i18n.get('transactions.overview.balances.labels.reserved')}\n                            balances={balances}\n                            isLoading={loadingBalances}\n                            hiddenField=\"available\"\n                            fullWidth={isNarrowContainer}\n                        />\n                    </div>\n                </>\n            ) : (\n                <BalancesCard\n                    aria-label={i18n.get('transactions.overview.balances.labels.default')}\n                    balances={balances}\n                    isLoading={loadingBalances}\n                    fullWidth={isNarrowContainer}\n                />\n            )}\n        </div>\n    );\n});\n\nexport default Balances;\n","import { useCallback, useMemo } from 'preact/hooks';\nimport { TransactionOverviewProps } from '../../types';\nimport { IBalanceAccountBase } from '../../../../../types';\nimport { TransactionsListProps } from '../TransactionsList/types';\nimport { classes, TRANSACTION_ANALYTICS_CATEGORY, TRANSACTION_ANALYTICS_SUBCATEGORY_LIST } from '../../constants';\nimport { useLandedPageEvent } from '../../../../../hooks/useAnalytics/useLandedPageEvent';\nimport { useDurationEvent } from '../../../../../hooks/useAnalytics/useDurationEvent';\nimport useAccountBalances from '../../../../../hooks/useAccountBalances';\nimport useTransactionsTotals from '../../hooks/useTransactionsTotals';\nimport useTransactionsList from '../../hooks/useTransactionsList';\nimport TransactionsList from '../TransactionsList/TransactionsList';\nimport TransactionTotals from '../TransactionTotals/TransactionTotals';\nimport Balances from '../Balances/Balances';\nimport Alert from '../../../../internal/Alert/Alert';\nimport Button from '../../../../internal/Button';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { AlertTypeOption } from '../../../../internal/Alert/types';\nimport { ButtonVariant } from '../../../../internal/Button/types';\n\nconst sharedAnalyticsEventProperties = {\n    category: TRANSACTION_ANALYTICS_CATEGORY,\n    subCategory: TRANSACTION_ANALYTICS_SUBCATEGORY_LIST,\n} as const;\n\ninterface TransactionsOverviewListProps\n    extends Omit<TransactionsListProps, 'loadingBalanceAccounts'>,\n        Pick<TransactionOverviewProps, 'balanceAccounts' | 'isLoadingBalanceAccount'> {\n    balanceAccount?: Readonly<IBalanceAccountBase>;\n    accountBalancesResult: ReturnType<typeof useAccountBalances>;\n    transactionsListResult: ReturnType<typeof useTransactionsList>;\n    transactionsTotalsResult: ReturnType<typeof useTransactionsTotals>;\n}\n\nconst TransactionsOverviewList = ({\n    accountBalancesResult,\n    balanceAccount,\n    balanceAccounts,\n    isLoadingBalanceAccount,\n    transactionsListResult,\n    transactionsTotalsResult,\n    ...transactionsListProps\n}: TransactionsOverviewListProps) => {\n    const { i18n, updateCore } = useCoreContext();\n    const { isWaiting: loadingBalances, balances } = accountBalancesResult;\n    const { isWaiting: loadingTotals, totals, error } = transactionsTotalsResult;\n    const defaultCurrencyCode = balanceAccount?.defaultCurrencyCode;\n\n    const defaultCurrencyFirstSortFn = useCallback(\n        <T extends { currency: string }>({ currency: firstCurrency }: T, { currency: secondCurrency }: T) => {\n            if (defaultCurrencyCode) {\n                if (firstCurrency === defaultCurrencyCode) return -1;\n                if (secondCurrency === defaultCurrencyCode) return 1;\n            }\n            return firstCurrency.localeCompare(secondCurrency);\n        },\n        [defaultCurrencyCode]\n    );\n\n    const sortedBalances = useMemo(() => [...balances].sort(defaultCurrencyFirstSortFn), [balances, defaultCurrencyFirstSortFn]);\n    const sortedTotals = useMemo(() => [...totals].sort(defaultCurrencyFirstSortFn), [totals, defaultCurrencyFirstSortFn]);\n\n    useLandedPageEvent(sharedAnalyticsEventProperties);\n    useDurationEvent(sharedAnalyticsEventProperties);\n\n    return (\n        <>\n            <div className={classes.summary}>\n                {error ? (\n                    <Alert\n                        className={classes.totalsError}\n                        type={AlertTypeOption.WARNING}\n                        title={i18n.get('transactions.overview.totals.error')}\n                        description={\n                            <div>\n                                <Button variant={ButtonVariant.TERTIARY} onClick={updateCore}>\n                                    {i18n.get('common.actions.refresh.labels.default')}\n                                </Button>\n                            </div>\n                        }\n                    />\n                ) : (\n                    <div className={classes.summaryItem}>\n                        <TransactionTotals totals={sortedTotals} loadingTotals={loadingTotals} />\n                    </div>\n                )}\n                <div className={classes.summaryItem}>\n                    <Balances balances={sortedBalances} loadingBalances={loadingBalances} />\n                </div>\n            </div>\n\n            <TransactionsList\n                accountBalancesResult={accountBalancesResult}\n                balanceAccount={balanceAccount}\n                loadingBalanceAccounts={isLoadingBalanceAccount || !balanceAccounts}\n                transactionsListResult={transactionsListResult}\n                {...transactionsListProps}\n            />\n        </>\n    );\n};\n\nexport default TransactionsOverviewList;\n","export const BASE_CLASS = 'adyen-pe-transaction-insights-totals';\n\nexport const classes = {\n    root: BASE_CLASS,\n    breakdowns: BASE_CLASS + '__breakdowns',\n    breakdown: BASE_CLASS + '__breakdown',\n    breakdownList: BASE_CLASS + '__breakdown-list',\n    skeleton: BASE_CLASS + '__skeleton',\n    skeletonLoading: BASE_CLASS + '__skeleton--loading',\n    skeletonAmount: BASE_CLASS + '__skeleton--amount',\n    skeletonAmountLarge: BASE_CLASS + '__skeleton--amount-large',\n    errorContainer: BASE_CLASS + '__error-container',\n};\n","export const BASE_CLASS = 'adyen-pe-transaction-amount-display';\n\nexport const classes = {\n    root: BASE_CLASS,\n    amount: BASE_CLASS + '__amount',\n    amountLarge: BASE_CLASS + '__amount--large',\n    currency: BASE_CLASS + '__currency',\n    label: BASE_CLASS + '__label',\n} as const;\n","import cx from 'classnames';\nimport Icon from '../../../../internal/Icon';\nimport Typography from '../../../../internal/Typography/Typography';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport { Tooltip } from '../../../../internal/Tooltip/Tooltip';\nimport { useMemo } from 'preact/hooks';\nimport { classes } from './constants';\nimport './AmountDisplay.scss';\n\nexport interface AmountDisplayProps {\n    amount: number;\n    currency: string;\n    description?: string;\n    label: string;\n    large?: boolean;\n}\n\nconst AmountDisplay = ({ amount, currency, description, label, large }: AmountDisplayProps) => {\n    const { i18n } = useCoreContext();\n\n    const [amountTypographyProps, currencyTypographyProps] = useMemo(() => {\n        const amountTypographyProps = large\n            ? ({ variant: TypographyVariant.TITLE, large: true } as const)\n            : ({ variant: TypographyVariant.SUBTITLE, stronger: true } as const);\n\n        const currencyTypographyProps = large\n            ? ({ variant: TypographyVariant.SUBTITLE, stronger: true } as const)\n            : ({ variant: TypographyVariant.CAPTION, stronger: true } as const);\n\n        return [amountTypographyProps, currencyTypographyProps] as const;\n    }, [large]);\n\n    const formattedAmount = useMemo(() => i18n.amount(amount, currency), [i18n, amount, currency]);\n\n    return (\n        <div className={classes.root}>\n            <div className={classes.label}>\n                <Typography el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION}>\n                    {label}\n                </Typography>\n\n                {description && (\n                    <Tooltip content={description}>\n                        <span>\n                            <Icon name=\"info\" />\n                        </span>\n                    </Tooltip>\n                )}\n            </div>\n\n            <div className={cx(classes.amount, { [classes.amountLarge]: large })}>\n                <Typography el={TypographyElement.SPAN} {...amountTypographyProps}>\n                    {formattedAmount}\n                </Typography>\n\n                <Typography el={TypographyElement.SPAN} className={classes.currency} {...currencyTypographyProps}>\n                    {currency}\n                </Typography>\n            </div>\n        </div>\n    );\n};\n\nexport default AmountDisplay;\n","import cx from 'classnames';\nimport { memo } from 'preact/compat';\nimport { useMemo } from 'preact/hooks';\nimport { classes } from './constants';\nimport { TranslationKey } from '../../../../../translations';\nimport { ITransactionCategory } from '../../../../../types';\nimport { getTransactionCategory } from '../../../../utils/translation/getters';\nimport { StructuredListItem } from '../../../../internal/StructuredList/types';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport AmountDisplay, { AmountDisplayProps } from '../AmountDisplay/AmountDisplay';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport useTransactionsTotals from '../../hooks/useTransactionsTotals';\nimport Typography from '../../../../internal/Typography/Typography';\nimport StructuredList from '../../../../internal/StructuredList';\nimport './InsightsTotals.scss';\nimport { ErrorMessageDisplay } from '../../../../internal/ErrorMessageDisplay/ErrorMessageDisplay';\n\nexport interface InsightsTotalsProps {\n    currency?: string;\n    loadingTotals: boolean;\n    totals: ReturnType<typeof useTransactionsTotals>['totalsLookup'];\n    error?: Error;\n}\n\nconst InsightsTotals = ({ currency: insightsCurrency, loadingTotals, totals, error }: InsightsTotalsProps) => {\n    const { i18n } = useCoreContext();\n    const data = (insightsCurrency && totals[insightsCurrency]) || undefined;\n\n    if (loadingTotals || !data) {\n        const breakdownArray = Array.from({ length: 2 });\n        const breakdownListArray = Array.from({ length: 3 });\n        const className = cx(classes.skeleton, classes.skeletonLoading);\n\n        return (\n            <div className={classes.root}>\n                <span className={cx(className, classes.skeletonAmount, classes.skeletonAmountLarge)} />\n\n                <div className={classes.breakdowns}>\n                    {breakdownArray.map((_, index) => (\n                        <div className={classes.breakdown} key={`breakdown-${index}`}>\n                            <span className={cx(className, classes.skeletonAmount)} />\n\n                            <div className={classes.breakdownList}>\n                                {breakdownListArray.map((_, index) => (\n                                    <span className={className} key={`breakdown-${index}`} />\n                                ))}\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className={classes.root}>\n            {error ? (\n                <div className={classes.errorContainer}>\n                    <ErrorMessageDisplay\n                        title={'common.errors.somethingWentWrong'}\n                        message={['common.errors.retry']}\n                        absolutePosition={false}\n                        outlined={false}\n                        withImage\n                        refreshComponent\n                    />\n                </div>\n            ) : (\n                <>\n                    <AmountDisplay\n                        amount={data.total}\n                        currency={data.currency}\n                        label={i18n.get('transactions.overview.totals.tags.periodResult')}\n                        large\n                    />\n\n                    <div className={classes.breakdowns}>\n                        <InsightsTotals.Breakdown\n                            amount={data.incomings}\n                            breakdown={data.breakdown.incomings}\n                            currency={data.currency}\n                            label={i18n.get('transactions.overview.totals.tags.incoming')}\n                        />\n                        <InsightsTotals.Breakdown\n                            amount={data.expenses}\n                            breakdown={data.breakdown.expenses}\n                            currency={data.currency}\n                            label={i18n.get('transactions.overview.totals.tags.outgoing')}\n                        />\n                    </div>\n                </>\n            )}\n        </div>\n    );\n};\n\ninterface BreakdownProps extends AmountDisplayProps {\n    ariaLabel?: string;\n    breakdown: readonly { category: ITransactionCategory; value: number }[];\n}\n\nInsightsTotals.Breakdown = ({ ariaLabel, breakdown, ...amountDisplayProps }: BreakdownProps) => {\n    const { currency } = amountDisplayProps;\n    const { i18n } = useCoreContext();\n\n    const listItems = useMemo(\n        () =>\n            breakdown.map(\n                ({ category, value }): StructuredListItem => ({\n                    key: getTransactionCategory(i18n, category) as TranslationKey,\n                    value: `${i18n.amount(value, currency)} ${currency}`,\n                })\n            ),\n        [i18n, breakdown, currency]\n    );\n\n    return (\n        <div className={classes.breakdown}>\n            <AmountDisplay {...amountDisplayProps} />\n            <StructuredList\n                items={listItems}\n                aria-label={ariaLabel}\n                classNames={classes.breakdownList}\n                renderLabel={label => (\n                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION}>\n                        {label}\n                    </Typography>\n                )}\n                renderValue={value => (\n                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION} stronger>\n                        {value}\n                    </Typography>\n                )}\n            />\n        </div>\n    );\n};\n\nexport default memo(InsightsTotals);\n","import { TRANSACTION_ANALYTICS_CATEGORY, TRANSACTION_ANALYTICS_SUBCATEGORY_INSIGHTS } from '../../constants';\nimport { useDurationEvent } from '../../../../../hooks/useAnalytics/useDurationEvent';\nimport { useLandedPageEvent } from '../../../../../hooks/useAnalytics/useLandedPageEvent';\nimport useTransactionsTotals from '../../hooks/useTransactionsTotals';\nimport InsightsTotals from '../InsightsTotals/InsightsTotals';\n\nconst sharedAnalyticsEventProperties = {\n    category: TRANSACTION_ANALYTICS_CATEGORY,\n    subCategory: TRANSACTION_ANALYTICS_SUBCATEGORY_INSIGHTS,\n} as const;\n\ninterface TransactionsOverviewInsightsProps {\n    currency?: string;\n    transactionsTotalsResult: ReturnType<typeof useTransactionsTotals>;\n}\n\nconst TransactionsOverviewInsights = ({ currency, transactionsTotalsResult }: TransactionsOverviewInsightsProps) => {\n    const { isWaiting: loadingTotals, totalsLookup: totals, error } = transactionsTotalsResult;\n    useLandedPageEvent(sharedAnalyticsEventProperties);\n    useDurationEvent(sharedAnalyticsEventProperties);\n    return <InsightsTotals currency={currency} loadingTotals={loadingTotals} totals={totals} error={error} />;\n};\n\nexport default TransactionsOverviewInsights;\n","import { listFrom } from '../utils';\nimport { useCallback } from 'preact/hooks';\nimport { FilterType } from '../core/Analytics/analytics/user-events';\nimport { SelectItem } from '../components/internal/FormFields/Select/types';\nimport useFilterAnalyticsEvent from './useAnalytics/useFilterAnalyticsEvent';\n\nexport interface UseMultiSelectionFilterPropsConfig<T extends string> {\n    eventCategory?: string;\n    eventSubCategory?: string;\n    eventLabel?: FilterType;\n    onResetFilter?: () => void;\n    onUpdateFilter?: (selection: readonly T[]) => void;\n    selectionOptions: readonly SelectItem<T>[];\n    selection: readonly T[];\n}\n\nconst useMultiSelectionFilterProps = <T extends string>({\n    eventCategory,\n    eventSubCategory,\n    eventLabel,\n    onResetFilter,\n    onUpdateFilter,\n    selectionOptions,\n    selection,\n}: UseMultiSelectionFilterPropsConfig<T>) => {\n    const { logEvent } = useFilterAnalyticsEvent({ category: eventCategory, subCategory: eventSubCategory, label: eventLabel });\n\n    const onResetAction = useCallback(() => {\n        // The reset action clears every existing selection (deselects every option).\n        // If there is no existing selection (nothing is selected), the reset action\n        // is a no-op operation since it does not alter the selection state.\n        if (selection.length > 0) {\n            // Since there was at least one existing selection before this reset,\n            // trigger the reset action callback (if available)\n            logEvent?.('reset');\n            onResetFilter?.();\n        }\n    }, [selection, logEvent, onResetFilter]);\n\n    const updateSelection = useCallback(\n        ({ target }: { target?: { value: string } }) => {\n            const nextSelection = new Set<T>(listFrom(target?.value || ''));\n            const hasDeletions = selection.some(option => !nextSelection.has(option));\n            const selectionChanged = hasDeletions || selection.length !== nextSelection.size;\n\n            if (selectionChanged) {\n                const sortedSelection = Object.freeze([...nextSelection].sort((a, b) => a.localeCompare(b)));\n                logEvent?.('update', String(sortedSelection));\n                onUpdateFilter?.(sortedSelection);\n            }\n        },\n        [selection, logEvent, onUpdateFilter]\n    );\n\n    return { selection, selectionOptions, onResetAction, updateSelection };\n};\n\nexport default useMultiSelectionFilterProps;\n","import MultiSelectionFilter from '../MultiSelectionFilter';\nimport useMultiSelectionFilterProps, { UseMultiSelectionFilterPropsConfig } from '../../../../../hooks/useMultiSelectionFilterProps';\n\nexport interface TransactionMultiSelectionFilterProps<T extends string> extends UseMultiSelectionFilterPropsConfig<T> {\n    placeholder: string;\n}\n\nconst TransactionMultiSelectionFilter = <T extends string>({\n    placeholder,\n    ...useMultiSelectionFilterPropsConfig\n}: TransactionMultiSelectionFilterProps<T>) => {\n    const { selection, ...filterProps } = useMultiSelectionFilterProps(useMultiSelectionFilterPropsConfig);\n    return <MultiSelectionFilter {...filterProps} placeholder={placeholder} selection={selection as (typeof selection)[number][]} />;\n};\n\nexport default TransactionMultiSelectionFilter;\n","import BaseFilter from '../BaseFilter';\nimport { FilterProps } from '../BaseFilter/types';\nimport { TextFilterProps } from './types';\n\nexport default function TextFilter<T extends TextFilterProps = TextFilterProps>(props: FilterProps<T>) {\n    return <BaseFilter<T> {...props} type=\"text\" />;\n}\n","import { h } from 'preact';\nimport { uniqueId } from '../../../../../utils';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { CommitAction } from '../../../../../hooks/useCommitAction';\nimport { TextFilterProps } from '../../../../internal/FilterBar/filters/TextFilter/types';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport { FilterEditModalRenderProps } from '../../../../internal/FilterBar/filters/BaseFilter/types';\nimport useFilterAnalyticsEvent from '../../../../../hooks/useAnalytics/useFilterAnalyticsEvent';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport TextFilter from '../../../../internal/FilterBar/filters/TextFilter';\nimport Typography from '../../../../internal/Typography/Typography';\nimport InputBase from '../../../../internal/FormFields/InputBase';\nimport './TransactionPspReferenceFilter.scss';\n\nconst BASE_CLASS = 'adyen-pe-psp-reference-filter';\n\nconst classes = {\n    root: BASE_CLASS,\n    info: BASE_CLASS + '__info',\n    input: BASE_CLASS + '__input',\n    title: BASE_CLASS + '__title',\n} as const;\n\nexport interface TransactionPspReferenceFilterProps {\n    eventCategory?: string;\n    eventSubCategory?: string;\n    onChange?: (value?: string) => void;\n    value?: string;\n}\n\nconst TransactionPspReferenceFilter = ({ eventCategory, eventSubCategory, onChange, value }: TransactionPspReferenceFilterProps) => {\n    const { i18n } = useCoreContext();\n    const { logEvent } = useFilterAnalyticsEvent({ category: eventCategory, subCategory: eventSubCategory, label: 'PSP reference filter' });\n    const [pendingResetAction, setPendingResetAction] = useState(false);\n\n    const label = useMemo(() => i18n.get('transactions.overview.filters.types.paymentPspReference.label'), [i18n]);\n    const cachedValue = useRef(value);\n\n    const onValueChange = useCallback<NonNullable<typeof onChange>>(\n        value => {\n            if (cachedValue.current !== value) {\n                cachedValue.current = value;\n                logEvent?.('update', null);\n                onChange?.(value);\n            }\n        },\n        [logEvent, onChange]\n    );\n\n    const onResetAction = useCallback(() => setPendingResetAction(true), []);\n\n    useEffect(() => {\n        if (!pendingResetAction) return;\n        setPendingResetAction(false);\n        if (cachedValue.current !== value) logEvent?.('reset');\n    }, [pendingResetAction, value, logEvent]);\n\n    return (\n        <TextFilter\n            aria-label={label}\n            label={value ?? label}\n            onChange={onValueChange}\n            onResetAction={onResetAction}\n            value={value}\n            render={props => <TransactionPspReferenceFilter.EditModal {...props} />}\n            name=\"pspReference\"\n        />\n    );\n};\n\nTransactionPspReferenceFilter.EditModal = ({\n    editAction,\n    onChange,\n    onValueUpdated,\n    name,\n    type,\n    value,\n}: FilterEditModalRenderProps<TextFilterProps>) => {\n    const { i18n } = useCoreContext();\n    const [currentValue, setCurrentValue] = useState(value);\n\n    const firstInputElementRef = useRef<HTMLInputElement | null>(null);\n    const inputId = useMemo(uniqueId, []);\n    const labelId = useMemo(uniqueId, []);\n\n    const label = useMemo(() => i18n.get('transactions.overview.filters.types.paymentPspReference.label'), [i18n]);\n    const placeholder = useMemo(() => i18n.get('transactions.overview.filters.types.paymentPspReference.placeholder'), [i18n]);\n\n    const handleInput = (evt: h.JSX.TargetedEvent<HTMLInputElement>) => {\n        const inputElement = evt.currentTarget;\n        const selectionEnd = inputElement.selectionEnd;\n        const value = inputElement.value\n            .replace(/[^a-z\\d]/gi, '')\n            .slice(0, 16)\n            .toUpperCase();\n\n        inputElement.value = value;\n        inputElement.setSelectionRange(selectionEnd, selectionEnd);\n\n        if (value !== currentValue) {\n            setCurrentValue(value || undefined);\n            onValueUpdated(value || undefined);\n        }\n    };\n\n    useEffect(() => {\n        switch (editAction) {\n            case CommitAction.APPLY:\n                onChange(currentValue);\n                break;\n            case CommitAction.CLEAR:\n                onChange();\n                break;\n        }\n    }, [editAction, onChange, currentValue]);\n\n    useEffect(() => {\n        if (firstInputElementRef.current) {\n            firstInputElementRef.current.focus();\n        }\n    }, []);\n\n    return (\n        <div className={classes.root}>\n            <div className={classes.title}>\n                <label id={labelId} htmlFor={inputId}>\n                    <Typography el={TypographyElement.DIV} variant={TypographyVariant.BODY} strongest>\n                        {label}\n                    </Typography>\n                </label>\n            </div>\n            <div className={classes.input}>\n                <InputBase\n                    autoComplete=\"off\"\n                    uniqueId={inputId}\n                    ref={firstInputElementRef}\n                    placeholder={placeholder}\n                    data-testid={name}\n                    name={name}\n                    type={type}\n                    value={currentValue}\n                    onInput={handleInput}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default TransactionPspReferenceFilter;\n","import useFilterAnalyticsEvent from '../../../../hooks/useAnalytics/useFilterAnalyticsEvent';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport type { FilterType } from '../../../../core/Analytics/analytics/user-events';\nimport type { SelectItem } from '../../../internal/FormFields/Select/types';\n\nexport interface UseCurrencySelectionProps {\n    availableCurrencies?: readonly string[];\n    eventCategory?: string;\n    eventSubCategory?: string;\n    eventLabel?: FilterType;\n    onUpdateSelection?: (currency?: string) => void;\n    selectedCurrency?: string;\n}\n\nconst useCurrencySelection = ({\n    availableCurrencies,\n    eventCategory,\n    eventSubCategory,\n    eventLabel,\n    onUpdateSelection,\n    selectedCurrency,\n}: UseCurrencySelectionProps) => {\n    const { logEvent } = useFilterAnalyticsEvent({ category: eventCategory, subCategory: eventSubCategory, label: eventLabel });\n\n    const currencySelectionOptions = useMemo(\n        () => Object.freeze(availableCurrencies?.map((currency): SelectItem => ({ id: currency, name: currency })) ?? []),\n        [availableCurrencies]\n    );\n\n    const getCurrencyIndex = useCallback(\n        (currency?: string) => (currency ? (availableCurrencies?.findIndex(currentCurrency => currentCurrency === currency) ?? -1) : -1),\n        [availableCurrencies]\n    );\n\n    const onCurrencySelection = useCallback(\n        ({ target }: { target?: { value: string } }) => {\n            const selectedIndex = getCurrencyIndex(target?.value);\n            if (selectedIndex >= 0) setSelectedCurrencyIndex(selectedIndex);\n        },\n        [getCurrencyIndex]\n    );\n\n    const [selectedCurrencyIndex, setSelectedCurrencyIndex] = useState(() => getCurrencyIndex(selectedCurrency));\n    const activeCurrency = useMemo(() => availableCurrencies?.[selectedCurrencyIndex], [availableCurrencies, selectedCurrencyIndex]);\n\n    const cachedActiveCurrencyRef = useRef<string | undefined>();\n    const cachedAvailableCurrencies = useRef(availableCurrencies);\n    const cachedSelectedCurrency = useRef(selectedCurrency);\n\n    useEffect(() => {\n        if (cachedAvailableCurrencies.current !== availableCurrencies || cachedSelectedCurrency.current !== selectedCurrency) {\n            cachedAvailableCurrencies.current = availableCurrencies;\n            cachedSelectedCurrency.current = selectedCurrency;\n            cachedActiveCurrencyRef.current = undefined;\n            setSelectedCurrencyIndex(getCurrencyIndex(selectedCurrency));\n        }\n    }, [getCurrencyIndex, selectedCurrency]);\n\n    useEffect(() => {\n        const cachedActiveCurrency = cachedActiveCurrencyRef.current;\n\n        if (cachedActiveCurrency !== activeCurrency) {\n            // Update the cached active currency with the active one\n            cachedActiveCurrencyRef.current = activeCurrency;\n\n            if (cachedActiveCurrency && activeCurrency) {\n                // Currency selection changed\n                // Log filter modification event\n                logEvent?.('update', activeCurrency);\n            }\n\n            onUpdateSelection?.(activeCurrency);\n        }\n    }, [activeCurrency, logEvent, onUpdateSelection]);\n\n    return { activeCurrency, currencySelectionOptions, onCurrencySelection } as const;\n};\n\nexport default useCurrencySelection;\n","import {\n    TRANSACTION_DATE_RANGE_CUSTOM,\n    TRANSACTION_DATE_RANGE_DEFAULT,\n    TRANSACTION_DATE_RANGE_MAX_YEARS,\n    TRANSACTION_DATE_RANGES,\n} from '../../constants';\nimport { TransactionsDateRange } from '../../types';\nimport { EMPTY_OBJECT, unreachable } from '../../../../../utils';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { DateFilterProps, DateRangeFilterParam } from '../../../../internal/FilterBar/filters/DateFilter/types';\nimport createRangeTimestampsFactory, { RangeTimestamps } from '../../../../internal/Calendar/calendar/timerange';\nimport DateFilterCore from '../../../../internal/FilterBar/filters/DateFilter/DateFilterCore';\nimport useFilterAnalyticsEvent from '../../../../../hooks/useAnalytics/useFilterAnalyticsEvent';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { TIME_RANGE_SELECTION_PRESET_OPTION_KEYS } from '../../../../internal/DatePicker/components/TimeRangeSelector';\n\nexport interface TransactionDateFilterProps {\n    createdDate: RangeTimestamps;\n    eventCategory?: string;\n    eventSubCategory?: string;\n    setCreatedDate: (createdDate: RangeTimestamps) => void;\n    timezone?: string;\n}\n\nconst getDateRangeSelectionEventValue = (dateRangeSelection: TransactionsDateRange) => {\n    switch (dateRangeSelection) {\n        case 'common.filters.types.date.rangeSelect.options.custom':\n            return 'Custom';\n        case TIME_RANGE_SELECTION_PRESET_OPTION_KEYS.LAST_7_DAYS:\n            return 'Last 7 days';\n        case TIME_RANGE_SELECTION_PRESET_OPTION_KEYS.LAST_30_DAYS:\n            return 'Last 30 days';\n        case TIME_RANGE_SELECTION_PRESET_OPTION_KEYS.THIS_WEEK:\n            return 'This week';\n        case TIME_RANGE_SELECTION_PRESET_OPTION_KEYS.LAST_WEEK:\n            return 'Last week';\n        case TIME_RANGE_SELECTION_PRESET_OPTION_KEYS.THIS_MONTH:\n            return 'This month';\n        case TIME_RANGE_SELECTION_PRESET_OPTION_KEYS.LAST_MONTH:\n            return 'Last month';\n        case TIME_RANGE_SELECTION_PRESET_OPTION_KEYS.YEAR_TO_DATE:\n            return 'Year to date';\n        default:\n            return unreachable(dateRangeSelection);\n    }\n};\n\nconst TransactionDateFilter = ({ createdDate, eventCategory, eventSubCategory, setCreatedDate, timezone }: TransactionDateFilterProps) => {\n    const { i18n } = useCoreContext();\n\n    const filterLabel = useMemo(() => i18n.get('common.filters.types.date.label'), [i18n]);\n    const customDateRange = useMemo(() => i18n.get(TRANSACTION_DATE_RANGE_CUSTOM), [i18n]);\n    const defaultDateRange = useMemo(() => i18n.get(TRANSACTION_DATE_RANGE_DEFAULT), [i18n]);\n    const cachedCreatedDate = useRef(createdDate);\n\n    const [selectedDateRange, setSelectedDateRange] = useState(defaultDateRange);\n    const [pendingResetAction, setPendingResetAction] = useState(false);\n\n    const { from, to, since, until, now } = useMemo(() => {\n        const now = Date.now();\n        const fromDate = new Date(createdDate.from);\n        const toDate = new Date(createdDate.to);\n        const sinceDate = new Date(now);\n        const untilDate = new Date(now);\n\n        sinceDate.setFullYear(sinceDate.getFullYear() - TRANSACTION_DATE_RANGE_MAX_YEARS);\n\n        return {\n            from: fromDate.toISOString(),\n            to: toDate.toISOString(),\n            since: sinceDate.toISOString(),\n            until: untilDate.toISOString(),\n            now,\n        } as const;\n    }, [createdDate]);\n\n    const { logEvent } = useFilterAnalyticsEvent({ category: eventCategory, subCategory: eventSubCategory, label: 'Date filter' });\n\n    const onFilterChange = useCallback<DateFilterProps['onChange']>(\n        (params = EMPTY_OBJECT) => {\n            const selected = params.selectedPresetOption || defaultDateRange;\n\n            if (selected !== selectedDateRange || selected === customDateRange) {\n                let selectedDateRangeKey: TransactionsDateRange = TRANSACTION_DATE_RANGE_CUSTOM;\n                let nextCreatedDate: RangeTimestamps;\n\n                if (selected === customDateRange) {\n                    const since = params[DateRangeFilterParam.FROM];\n                    const until = params[DateRangeFilterParam.TO];\n\n                    nextCreatedDate = createRangeTimestampsFactory({\n                        from: since ? new Date(since).getTime() : createdDate.from,\n                        to: until ? new Date(until).getTime() : createdDate.to,\n                    })();\n                } else {\n                    [selectedDateRangeKey, nextCreatedDate] = (\n                        Object.entries(TRANSACTION_DATE_RANGES) as [TransactionsDateRange, RangeTimestamps][]\n                    ).find(([range]) => i18n.get(range as TransactionsDateRange) === selected)!;\n                }\n\n                const eventValue =\n                    selected === customDateRange\n                        ? String([nextCreatedDate.from, nextCreatedDate.to])\n                        : getDateRangeSelectionEventValue(selectedDateRangeKey);\n\n                setSelectedDateRange(selected);\n                setCreatedDate((cachedCreatedDate.current = nextCreatedDate));\n                logEvent?.('update', eventValue);\n            }\n        },\n        [i18n, createdDate, customDateRange, defaultDateRange, selectedDateRange, logEvent]\n    );\n\n    const onFilterResetAction = useCallback(() => setPendingResetAction(true), []);\n\n    useEffect(() => {\n        if (!pendingResetAction) return;\n        setPendingResetAction(false);\n        if (cachedCreatedDate.current !== createdDate) logEvent?.('reset');\n    }, [pendingResetAction, createdDate, logEvent]);\n\n    useEffect(() => {\n        const dateRangeKey = Object.entries(TRANSACTION_DATE_RANGES).find(([_, timestamps]) => timestamps === createdDate)?.[0];\n        setSelectedDateRange(dateRangeKey ? i18n.get(dateRangeKey as TransactionsDateRange) : customDateRange);\n    }, [createdDate, customDateRange, i18n]);\n\n    return (\n        <DateFilterCore\n            name={'createdAt'}\n            now={now}\n            label={filterLabel}\n            aria-label={filterLabel}\n            sinceDate={since}\n            untilDate={until}\n            from={from}\n            to={to}\n            onChange={onFilterChange}\n            onResetAction={onFilterResetAction}\n            selectedPresetOption={selectedDateRange}\n            timeRangePresetOptions={TRANSACTION_DATE_RANGES}\n            timezone={timezone}\n            showTimezoneInfo\n        />\n    );\n};\n\nexport default TransactionDateFilter;\n","import {\n    INITIAL_FILTERS,\n    TRANSACTION_ANALYTICS_CATEGORY,\n    TRANSACTION_ANALYTICS_SUBCATEGORY_INSIGHTS,\n    TRANSACTION_ANALYTICS_SUBCATEGORY_LIST,\n    TRANSACTION_CATEGORIES,\n} from '../../constants';\nimport { compareTransactionsFilters } from '../utils';\nimport { FilterBar } from '../../../../internal/FilterBar';\nimport { selectionOptionsFor } from '../MultiSelectionFilter';\nimport { IBalanceAccountBase } from '../../../../../types';\nimport { TransactionsFilters as Filters } from '../../types';\nimport { FilterBarState } from '../../../../internal/FilterBar/types';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport BalanceAccountSelector from '../../../../internal/FormFields/Select/BalanceAccountSelector';\nimport useBalanceAccountSelection from '../../../../../hooks/useBalanceAccountSelection';\nimport TransactionMultiSelectionFilter from './TransactionMultiSelectionFilter';\nimport TransactionPspReferenceFilter from './TransactionPspReferenceFilter';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport useCurrencySelection from '../../hooks/useCurrencySelection';\nimport TransactionDateFilter from './TransactionDateFilter';\nimport Select from '../../../../internal/FormFields/Select';\n\nconst eventCategory = TRANSACTION_ANALYTICS_CATEGORY;\n\nexport interface TransactionsFiltersProps extends Omit<FilterBarState, 'setShowingFilters'> {\n    availableCurrencies: readonly string[];\n    balanceAccounts?: IBalanceAccountBase[];\n    isTransactionsView: boolean;\n    onChange?: (filters: Readonly<Filters>) => void;\n    setInsightsCurrency?: (currency?: string) => void;\n}\n\nconst TransactionsFilters = ({\n    availableCurrencies,\n    balanceAccounts,\n    isTransactionsView,\n    onChange,\n    setInsightsCurrency,\n    ...filterBarProps\n}: TransactionsFiltersProps) => {\n    const { i18n } = useCoreContext();\n\n    const eventSubCategory = isTransactionsView ? TRANSACTION_ANALYTICS_SUBCATEGORY_LIST : TRANSACTION_ANALYTICS_SUBCATEGORY_INSIGHTS;\n    const initialFilters = useRef<Filters>({ ...INITIAL_FILTERS });\n    const isSmContainer = useResponsiveContainer(containerQueries.down.xs);\n\n    const [statuses, setStatuses] = useState(initialFilters.current.statuses);\n    const [categories, setCategories] = useState(initialFilters.current.categories);\n    const [currencies, setCurrencies] = useState(initialFilters.current.currencies);\n    const [createdDate, setCreatedDate] = useState(initialFilters.current.createdDate);\n    const [paymentPspReference, setPaymentPspReference] = useState(initialFilters.current.paymentPspReference);\n    const [balanceAccount, setBalanceAccount] = useState(initialFilters.current.balanceAccount);\n\n    const currentFilters = useMemo(\n        () => ({ balanceAccount, categories, createdDate, currencies, paymentPspReference, statuses }) as const,\n        [balanceAccount, categories, createdDate, currencies, paymentPspReference, statuses]\n    );\n\n    const canResetFilters = useMemo(() => compareTransactionsFilters(currentFilters, initialFilters.current), [currentFilters]);\n\n    const resetFilters = useCallback(() => {\n        setStatuses(initialFilters.current.statuses);\n        setCategories(initialFilters.current.categories);\n        setCurrencies(initialFilters.current.currencies);\n        setCreatedDate(initialFilters.current.createdDate);\n        setPaymentPspReference(initialFilters.current.paymentPspReference);\n        setBalanceAccount(initialFilters.current.balanceAccount);\n    }, []);\n\n    // const statusesFilterOptions = useMemo(() => selectionOptionsFor(TRANSACTION_STATUSES), []);\n    // const statusesFilterPlaceholder = useMemo(() => i18n.get('transactions.overview.filters.types.status.label'), [i18n]);\n\n    const categoriesFilterOptions = useMemo(() => selectionOptionsFor(TRANSACTION_CATEGORIES), []);\n    const categoriesFilterPlaceholder = useMemo(() => i18n.get('transactions.overview.filters.types.category.label'), [i18n]);\n\n    const currenciesFilterOptions = useMemo(() => selectionOptionsFor(availableCurrencies ?? []), [availableCurrencies]);\n    const currenciesFilterPlaceholder = useMemo(() => i18n.get('transactions.overview.filters.types.currency.label'), [i18n]);\n    const currencyFilterEventLabel = 'Currency filter';\n\n    const { resetBalanceAccountSelection, ...balanceAccountFilterProps } = useBalanceAccountSelection({\n        allowAllSelection: false,\n        onUpdateSelection: setBalanceAccount,\n        balanceAccounts,\n        eventCategory,\n        eventSubCategory,\n    });\n\n    const { activeCurrency, currencySelectionOptions, onCurrencySelection } = useCurrencySelection({\n        eventLabel: currencyFilterEventLabel,\n        onUpdateSelection: setInsightsCurrency,\n        selectedCurrency: balanceAccount?.defaultCurrencyCode,\n        availableCurrencies,\n        eventCategory,\n        eventSubCategory,\n    });\n\n    useEffect(() => setCurrencies(initialFilters.current.currencies), [availableCurrencies]);\n    useEffect(() => onChange?.(currentFilters), [onChange, currentFilters]);\n\n    useEffect(() => {\n        if (!initialFilters.current.balanceAccount && balanceAccount) {\n            // Update initial balance account selection (first selection only)\n            initialFilters.current.balanceAccount = balanceAccount;\n        }\n    }, [balanceAccount]);\n\n    return (\n        <FilterBar\n            {...filterBarProps}\n            ariaLabelKey=\"transactions.overview.filters.label\"\n            canResetFilters={canResetFilters && false} // Prevents resetting all filters at once using `&& false`\n            resetFilters={resetFilters}\n        >\n            <BalanceAccountSelector {...balanceAccountFilterProps} />\n            <TransactionDateFilter\n                createdDate={createdDate}\n                eventCategory={eventCategory}\n                eventSubCategory={eventSubCategory}\n                setCreatedDate={setCreatedDate}\n                timezone={balanceAccountFilterProps.activeBalanceAccount?.timeZone}\n            />\n            {isTransactionsView ? (\n                <>\n                    {/*<TransactionMultiSelectionFilter*/}\n                    {/*    eventLabel=\"Status filter\"*/}\n                    {/*    eventCategory={eventCategory}*/}\n                    {/*    eventSubCategory={eventSubCategory}*/}\n                    {/*    placeholder={statusesFilterPlaceholder}*/}\n                    {/*    selectionOptions={statusesFilterOptions}*/}\n                    {/*    selection={statuses}*/}\n                    {/*    onUpdateFilter={setStatuses}*/}\n                    {/*/>*/}\n                    <TransactionMultiSelectionFilter\n                        eventLabel=\"Category filter\"\n                        eventCategory={eventCategory}\n                        eventSubCategory={eventSubCategory}\n                        placeholder={categoriesFilterPlaceholder}\n                        selectionOptions={categoriesFilterOptions}\n                        selection={categories}\n                        onUpdateFilter={setCategories}\n                    />\n                    <TransactionMultiSelectionFilter\n                        eventCategory={eventCategory}\n                        eventSubCategory={eventSubCategory}\n                        eventLabel={currencyFilterEventLabel}\n                        placeholder={currenciesFilterPlaceholder}\n                        selectionOptions={currenciesFilterOptions}\n                        selection={currencies}\n                        onUpdateFilter={setCurrencies}\n                    />\n                    <TransactionPspReferenceFilter\n                        eventCategory={eventCategory}\n                        eventSubCategory={eventSubCategory}\n                        onChange={setPaymentPspReference}\n                        value={paymentPspReference}\n                    />\n                </>\n            ) : (\n                <>\n                    {currencySelectionOptions.length > 1 ? (\n                        <Select\n                            filterable={false}\n                            multiSelect={false}\n                            items={currencySelectionOptions}\n                            onChange={onCurrencySelection}\n                            selected={activeCurrency}\n                            aria-label={currenciesFilterPlaceholder}\n                            placeholder={activeCurrency || currenciesFilterPlaceholder}\n                            showOverlay={isSmContainer}\n                            withoutCollapseIndicator\n                        />\n                    ) : null}\n                </>\n            )}\n        </FilterBar>\n    );\n};\n\nexport default TransactionsFilters;\n","import { useConfigContext } from '../../../../core/ConfigContext';\nimport { useFetch } from '../../../../hooks/useFetch';\nimport { DownloadStreamEndpoint, EndpointDownloadStreamData } from '../../../../types/api/endpoints';\nimport { EMPTY_OBJECT } from '../../../../utils';\n\nconst useDownload = (\n    endpointName: DownloadStreamEndpoint,\n    queryParam?: any,\n    enabled?: boolean,\n    onSuccess?: (data: EndpointDownloadStreamData) => void\n) => {\n    const downloadEndpoint = useConfigContext().endpoints[endpointName];\n\n    return useFetch({\n        fetchOptions: { enabled: !!downloadEndpoint && enabled, keepPrevData: true, onSuccess },\n        queryFn: async () => {\n            return downloadEndpoint!(EMPTY_OBJECT as any, { ...queryParam });\n        },\n    });\n};\n\nexport default useDownload;\n","const BASE_CLASS = 'adyen-pe-toggle-switch';\n\nexport const classes = {\n    root: BASE_CLASS,\n    disabled: BASE_CLASS + '--disabled',\n    readonly: BASE_CLASS + '--readonly',\n    label: BASE_CLASS + '__label',\n    labelBefore: BASE_CLASS + '__label--before',\n    mark: BASE_CLASS + '__mark',\n    slider: BASE_CLASS + '__slider',\n    switch: BASE_CLASS + '__switch',\n};\n","import { h } from 'preact';\nimport { HTMLProps, PropsWithChildren } from 'preact/compat';\nimport { fixedForwardRef } from '../../../utils/preact';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { classes } from './constants';\nimport cx from 'classnames';\nimport Icon from '../Icon';\nimport './ToggleSwitch.scss';\n\nexport interface ToggleSwitchProps extends PropsWithChildren<Omit<HTMLProps<HTMLInputElement>, 'readonly'>> {\n    labelBeforeSwitch?: boolean;\n}\n\nconst ToggleSwitch = fixedForwardRef<ToggleSwitchProps, HTMLInputElement>(\n    ({ className, children, labelBeforeSwitch, onClick, readOnly, ...props }, ref) => {\n        const handleClick = useCallback(\n            (evt: h.JSX.TargetedMouseEvent<HTMLInputElement>) => {\n                readOnly ? evt.preventDefault() : onClick?.(evt);\n            },\n            [readOnly, onClick]\n        );\n\n        const renderLabel = useMemo(\n            () => <div className={cx(classes.label, { [classes.labelBefore]: labelBeforeSwitch })}>{children}</div>,\n            [children, labelBeforeSwitch]\n        );\n\n        return (\n            <label\n                data-testid=\"toggle-switch\"\n                className={cx(className, classes.root, { [classes.disabled]: props.disabled, [classes.readonly]: readOnly })}\n            >\n                {labelBeforeSwitch && <>{renderLabel}</>}\n                <div data-testid=\"toggle-switch-control\" className={classes.switch}>\n                    <input {...props} ref={ref} type=\"checkbox\" className=\"adyen-pe-visually-hidden\" aria-readonly={readOnly} onClick={handleClick} />\n                    <span className={classes.slider}>\n                        <Icon className={classes.mark} name=\"checkmark\" />\n                    </span>\n                </div>\n                {!labelBeforeSwitch && <>{renderLabel}</>}\n            </label>\n        );\n    }\n);\n\nexport default ToggleSwitch;\n","const BASE_CLASS = 'adyen-pe-transactions-export';\nconst POPOVER_CLASS = BASE_CLASS + '__popover';\n\nexport const classes = {\n    root: BASE_CLASS,\n    popover: POPOVER_CLASS,\n    button: BASE_CLASS + '__button',\n    popoverActions: POPOVER_CLASS + '-actions',\n    popoverActionsAlert: POPOVER_CLASS + '-actions-alert',\n    popoverSections: POPOVER_CLASS + '-sections',\n    popoverSection: POPOVER_CLASS + '-section',\n    columnsSection: POPOVER_CLASS + '-section--columns',\n    filtersSection: POPOVER_CLASS + '-section--filters',\n    popoverSectionTitle: POPOVER_CLASS + '-section-title',\n    popoverSectionContent: POPOVER_CLASS + '-section-content',\n    popoverColumnAll: POPOVER_CLASS + '-column--all',\n    popoverColumn: POPOVER_CLASS + '-column',\n} as const;\n","import { h } from 'preact';\nimport cx from 'classnames';\nimport Icon from '../../../../internal/Icon';\nimport Spinner from '../../../../internal/Spinner';\nimport Popover from '../../../../internal/Popover/Popover';\nimport Typography from '../../../../internal/Typography/Typography';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport useDownload from '../../../../internal/Button/DownloadButton/useDownload';\nimport useAnalyticsContext from '../../../../../core/Context/analytics/useAnalyticsContext';\nimport ToggleSwitch, { ToggleSwitchProps } from '../../../../internal/ToggleSwitch/ToggleSwitch';\nimport ButtonActions from '../../../../internal/Button/ButtonActions/ButtonActions';\nimport FilterButton from '../../../../internal/FilterBar/components/FilterButton/FilterButton';\nimport { ButtonActionObject, ButtonActionsLayoutBasic } from '../../../../internal/Button/ButtonActions/types';\nimport { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport { PopoverContainerPosition, PopoverContainerVariant } from '../../../../internal/Popover/types';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport { downloadBlob, EMPTY_ARRAY, isFunction, uniqueId } from '../../../../../utils';\nimport { DEFAULT_EXPORT_COLUMNS, EXPORT_COLUMNS, TRANSACTION_ANALYTICS_CATEGORY, TRANSACTION_ANALYTICS_SUBCATEGORY_LIST } from '../../constants';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport { fixedForwardRef } from '../../../../../utils/preact';\nimport { getTransactionsFilterQueryParams } from '../utils';\nimport { TranslationKey } from '../../../../../translations';\nimport { TransactionsFilters } from '../../types';\nimport { PropsWithChildren } from 'preact/compat';\nimport { classes } from './constants';\nimport './TransactionsExport.scss';\nimport { EndpointDownloadStreamData } from '../../../../../types/api/endpoints';\nimport Alert from '../../../../internal/Alert/Alert';\nimport { AlertTypeOption } from '../../../../internal/Alert/types';\nimport { Tag } from '../../../../internal/Tag/Tag';\n\nconst sharedAnalyticsEventProperties = {\n    category: TRANSACTION_ANALYTICS_CATEGORY,\n    subCategory: TRANSACTION_ANALYTICS_SUBCATEGORY_LIST,\n} as const;\n\n/* HELPER COMPONENTS */\nconst Text = ({\n    children,\n    el = TypographyElement.DIV,\n    variant = TypographyVariant.BODY,\n    ...typographyProps\n}: PropsWithChildren<{\n    el?: TypographyElement;\n    variant?: TypographyVariant;\n    stronger?: boolean;\n    className?: string;\n    id?: string;\n}>) => (\n    <Typography {...typographyProps} el={el} variant={variant}>\n        {children}\n    </Typography>\n);\n\nconst ExportColumn = fixedForwardRef<PropsWithChildren<{ className?: string } & ToggleSwitchProps>, HTMLInputElement>(\n    ({ children, className, ...toggleSwitchProps }, ref) => (\n        <ToggleSwitch ref={ref} className={cx([classes.popoverColumn, className])} {...toggleSwitchProps} name=\"columns\">\n            <Text el={TypographyElement.SPAN}>{children}</Text>\n        </ToggleSwitch>\n    )\n);\n\nconst SectionTitle = ({ children, ...textProps }: PropsWithChildren<{ id?: string }>) => (\n    <Text {...textProps} className={classes.popoverSectionTitle} stronger>\n        {children}\n    </Text>\n);\n\nconst TransactionsExport = ({ disabled, filters }: { disabled?: boolean; filters: Readonly<TransactionsFilters> }) => {\n    const { i18n } = useCoreContext();\n    const userEvents = useAnalyticsContext();\n    const isSmContainer = useResponsiveContainer(containerQueries.down.xs);\n\n    const [popoverOpen, setPopoverOpen] = useState(false);\n    const [exportStarted, setExportStarted] = useState(false);\n    const [exportColumns, setExportColumns] = useState([] as readonly (typeof EXPORT_COLUMNS)[number][]);\n\n    const popoverOpenRef = useRef(popoverOpen);\n\n    const [activeFilters, exportParams] = useMemo(() => {\n        const { balanceAccount, paymentPspReference, createdDate, categories, currencies /*, statuses*/ } = filters;\n\n        const activeFilters: readonly TranslationKey[] = [\n            ...(balanceAccount?.id ? (['transactions.overview.export.filters.types.account'] as const) : EMPTY_ARRAY),\n            ...(createdDate ? (['transactions.overview.export.filters.types.date'] as const) : EMPTY_ARRAY),\n            // ...(statuses.length ? (['transactions.overview.export.filters.types.status'] as const) : EMPTY_ARRAY),\n            ...(categories.length ? (['transactions.overview.export.filters.types.category'] as const) : EMPTY_ARRAY),\n            ...(currencies.length ? (['transactions.overview.export.filters.types.currency'] as const) : EMPTY_ARRAY),\n            ...(paymentPspReference ? (['transactions.overview.export.filters.types.paymentPspReference'] as const) : EMPTY_ARRAY),\n        ] as const;\n\n        const exportParams = {\n            ...getTransactionsFilterQueryParams(filters),\n            sortDirection: 'desc' as const,\n        };\n\n        return [activeFilters, exportParams];\n    }, [filters]);\n\n    const { downloadTransactions } = useConfigContext().endpoints;\n    const canDownloadTransactions = isFunction(downloadTransactions);\n    const canExportTransactions = canDownloadTransactions && popoverOpen && exportStarted && !!exportColumns.length;\n\n    const dismissPopover = useCallback(\n        (exportCancelled = true) => {\n            setPopoverOpen(false);\n            if (!exportCancelled) return;\n            userEvents.addEvent?.('Cancelled export', sharedAnalyticsEventProperties);\n        },\n        [userEvents]\n    );\n\n    const onExportSuccess = useCallback(\n        (data: EndpointDownloadStreamData) => {\n            downloadBlob(data);\n            dismissPopover(false);\n        },\n        [dismissPopover]\n    );\n\n    const { error, isFetching } = useDownload(\n        'downloadTransactions',\n        { query: { ...exportParams, columns: exportColumns } },\n        canExportTransactions,\n        onExportSuccess\n    );\n\n    const exportButtonRef = useRef<HTMLButtonElement | null>(null);\n    const exportButtonLabel = useMemo(() => i18n.get('transactions.overview.export.button.label'), [i18n]);\n    const exportingButtonLabel = useMemo(() => i18n.get('transactions.overview.export.button.inProgress'), [i18n]);\n    const cancelButtonLabel = useMemo(() => i18n.get('transactions.overview.export.actions.cancel'), [i18n]);\n    const downloadButtonLabel = useMemo(() => i18n.get('transactions.overview.export.actions.download'), [i18n]);\n    const activeFiltersTitle = useMemo(() => i18n.get('transactions.overview.export.filters.title'), [i18n]);\n    const exportColumnsTitle = useMemo(() => i18n.get('transactions.overview.export.columns.title'), [i18n]);\n    const exportColumnsTitleId = useMemo(uniqueId, []);\n\n    const columnSwitches = useMemo(\n        () =>\n            EXPORT_COLUMNS.map(column => ({\n                label: i18n.get(`transactions.overview.export.columns.types.${column}`),\n                id: uniqueId(),\n                value: column,\n            })),\n        [i18n]\n    );\n\n    const masterSwitchLabel = useMemo(() => {\n        return i18n.get('transactions.overview.export.columns.types.all', {\n            values: { count: EXPORT_COLUMNS.length },\n        });\n    }, [i18n]);\n\n    const masterSwitchId = useMemo(uniqueId, []);\n    const masterSwitchRef = useRef<HTMLInputElement | null>(null);\n    const masterSwitchAriaControls = useMemo(() => columnSwitches.map(({ id }) => id).join(' '), [columnSwitches]);\n    const masterSwitchChecked = exportColumns.length === EXPORT_COLUMNS.length;\n\n    const onExportColumnChange = useCallback(\n        (evt: h.JSX.TargetedEvent<HTMLInputElement>) => {\n            const checkbox = evt.currentTarget;\n            const checkedColumn = checkbox.value as (typeof EXPORT_COLUMNS)[number];\n            const checked = checkbox.checked;\n\n            const isMasterSwitch = checkbox.id === masterSwitchId;\n\n            setExportColumns(exportColumns => {\n                if (isMasterSwitch) return checked ? EXPORT_COLUMNS : EMPTY_ARRAY;\n                if (EXPORT_COLUMNS.includes(checkedColumn)) {\n                    const columnIndex = exportColumns.indexOf(checkedColumn);\n                    if (checked) {\n                        // Include checked column\n                        if (columnIndex < 0) return [...exportColumns, checkedColumn];\n                    } else if (columnIndex >= 0) {\n                        // Exclude unchecked column\n                        return [...exportColumns.slice(0, columnIndex), ...exportColumns.slice(columnIndex + 1)];\n                    }\n                }\n                return exportColumns;\n            });\n        },\n        [masterSwitchId]\n    );\n\n    const openPopover = useCallback(() => {\n        if (popoverOpenRef.current) return;\n        setPopoverOpen(true);\n        userEvents.addEvent?.('Clicked button', { ...sharedAnalyticsEventProperties, label: 'Export' });\n    }, [userEvents]);\n\n    const cancelAction = useMemo<ButtonActionObject>(\n        () => ({\n            event: () => dismissPopover(),\n            variant: ButtonVariant.SECONDARY,\n            title: cancelButtonLabel,\n        }),\n        [cancelButtonLabel, dismissPopover]\n    );\n\n    const downloadAction = useMemo<ButtonActionObject>(\n        () => ({\n            disabled: !exportColumns.length,\n            event: () => setExportStarted(true),\n            variant: ButtonVariant.PRIMARY,\n            title: downloadButtonLabel,\n            state: isFetching ? 'loading' : 'default',\n        }),\n        [downloadButtonLabel, exportColumns.length, isFetching]\n    );\n\n    useEffect(() => {\n        if (!(popoverOpenRef.current = popoverOpen)) {\n            setExportColumns(DEFAULT_EXPORT_COLUMNS);\n        }\n    }, [popoverOpen, userEvents]);\n\n    useEffect(() => {\n        if (exportStarted) {\n            setExportStarted(false);\n\n            if (isFetching) {\n                let exportedFields: 'All' | 'Custom' | 'Default' = 'Custom';\n                let exportingDefaultColumns = true;\n                let exportingAllColumns = true;\n\n                EXPORT_COLUMNS.forEach(column => {\n                    const isExportedColumn = exportColumns.includes(column);\n                    const isDefaultColumn = DEFAULT_EXPORT_COLUMNS.includes(column);\n                    exportingDefaultColumns &&= isExportedColumn ? isDefaultColumn : !isDefaultColumn;\n                    exportingAllColumns &&= isExportedColumn;\n                });\n\n                if (exportingAllColumns) {\n                    exportedFields = 'All';\n                } else if (exportingDefaultColumns) {\n                    exportedFields = 'Default';\n                }\n\n                userEvents.addEvent?.('Completed export', {\n                    ...sharedAnalyticsEventProperties,\n                    exportedFields,\n                });\n            }\n        }\n    }, [exportColumns, exportStarted, dismissPopover, isFetching, userEvents]);\n\n    useEffect(() => {\n        (function attemptFocusCapture() {\n            if (masterSwitchRef.current) {\n                masterSwitchRef.current.focus();\n            } else requestAnimationFrame(attemptFocusCapture);\n        })();\n    }, []);\n\n    const renderAlertError = useCallback(\n        () => (\n            <Alert className={classes.popoverActionsAlert} type={AlertTypeOption.CRITICAL}>\n                <Typography variant={TypographyVariant.BODY}>{i18n.get('transactions.overview.export.actions.error')}</Typography>\n            </Alert>\n        ),\n        [i18n]\n    );\n\n    return canDownloadTransactions ? (\n        <div className={classes.root}>\n            <FilterButton\n                aria-label={exportButtonLabel}\n                ref={exportButtonRef}\n                className={classes.button}\n                classNameModifiers={popoverOpen ? ['active'] : undefined}\n                disabled={disabled || isFetching}\n                onClick={openPopover}\n                tabIndex={0}\n            >\n                <div className=\"adyen-pe-filter-button__default-container\">\n                    <Text className=\"adyen-pe-filter-button__label\">\n                        {isFetching ? <Spinner size=\"x-small\" /> : <Icon name=\"download\" />}\n                        {!isSmContainer && <span>{isFetching ? exportingButtonLabel : exportButtonLabel}</span>}\n                    </Text>\n                </div>\n            </FilterButton>\n\n            {popoverOpen && (\n                <Popover\n                    disableFocusTrap={false}\n                    dismissible={false}\n                    dismiss={dismissPopover}\n                    open={popoverOpen}\n                    position={isSmContainer ? PopoverContainerPosition.BOTTOM : PopoverContainerPosition.BOTTOM_RIGHT}\n                    variant={PopoverContainerVariant.POPOVER}\n                    showOverlay={isSmContainer}\n                    targetElement={exportButtonRef}\n                    title={exportButtonLabel}\n                >\n                    <div className={classes.popover}>\n                        <div className={classes.popoverSections}>\n                            <div className={cx(classes.popoverSection, classes.filtersSection)}>\n                                <SectionTitle>{`${activeFiltersTitle}:`}</SectionTitle>\n                                {activeFilters.map(filter => (\n                                    <Tag label={i18n.get(filter)} key={filter} />\n                                ))}\n                            </div>\n\n                            <div className={cx(classes.popoverSection, classes.columnsSection)}>\n                                <div role=\"group\" aria-labelledby={exportColumnsTitleId}>\n                                    <SectionTitle id={exportColumnsTitleId}>{exportColumnsTitle}</SectionTitle>\n                                    <div className={classes.popoverSectionContent}>\n                                        <ExportColumn\n                                            ref={masterSwitchRef}\n                                            className={classes.popoverColumnAll}\n                                            aria-controls={masterSwitchAriaControls}\n                                            checked={masterSwitchChecked}\n                                            onChange={onExportColumnChange}\n                                            id={masterSwitchId}\n                                            disabled={isFetching}\n                                        >\n                                            {masterSwitchLabel}\n                                        </ExportColumn>\n\n                                        {columnSwitches.map(({ id, label, value }) => (\n                                            <ExportColumn\n                                                checked={exportColumns.includes(value)}\n                                                onChange={onExportColumnChange}\n                                                value={value}\n                                                key={value}\n                                                id={id}\n                                                disabled={isFetching}\n                                            >\n                                                {label}\n                                            </ExportColumn>\n                                        ))}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className={classes.popoverActions}>\n                            <Alert\n                                type={AlertTypeOption.HIGHLIGHT}\n                                className={classes.popoverActionsAlert}\n                                title={i18n.get('transactions.overview.export.actions.download.info')}\n                            />\n                            {error && renderAlertError()}\n                            <ButtonActions actions={[downloadAction, cancelAction]} layout={ButtonActionsLayoutBasic.BUTTONS_END} />\n                        </div>\n                    </div>\n                </Popover>\n            )}\n        </div>\n    ) : null;\n};\n\nexport default TransactionsExport;\n","import { SegmentedControlProps } from './types';\nimport { AriaAttributes } from 'preact/compat';\nimport { TypographyElement, TypographyVariant } from '../Typography/types';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport useTabbedControl from '../../../hooks/useTabbedControl';\nimport Typography from '../Typography/Typography';\nimport './SegmentedControl.scss';\n\nfunction SegmentedControl<ItemId extends string>({\n    ['aria-label']: ariaLabel,\n    activeItem,\n    items,\n    onChange,\n}: SegmentedControlProps<ItemId> & Pick<AriaAttributes, 'aria-label'>) {\n    const { activeIndex, onClick, onKeyDown, refs, uniqueId } = useTabbedControl({ onChange, options: items, activeOption: activeItem });\n    const { i18n } = useCoreContext();\n    return (\n        <div>\n            <div role=\"radiogroup\" className=\"adyen-pe-segmented-control\" aria-label={ariaLabel}>\n                {items.map((item, index) => {\n                    const isActive = activeIndex === index;\n                    return (\n                        <button\n                            role=\"radio\"\n                            name={item.id}\n                            ref={refs[index]}\n                            key={`item:${uniqueId}-${item.id}`}\n                            id={`item:${uniqueId}-${item.id}`}\n                            className=\"adyen-pe-segmented-control__item\"\n                            aria-checked={isActive}\n                            aria-controls={`segment:${uniqueId}-${item.id}`}\n                            onClick={isActive ? undefined : onClick}\n                            onKeyDown={onKeyDown}\n                            disabled={item.disabled}\n                            tabIndex={isActive ? 0 : -1}\n                        >\n                            <Typography\n                                el={TypographyElement.SPAN}\n                                variant={TypographyVariant.BODY}\n                                className=\"adyen-pe-segmented-control__item-label\"\n                                stronger\n                            >\n                                {i18n.get(item.label)}\n                            </Typography>\n                        </button>\n                    );\n                })}\n            </div>\n            <div className=\"adyen-pe-segmented-content-container\">\n                {items.map((item, index) => (\n                    <div\n                        key={`segment:${uniqueId}-${item.id}`}\n                        id={`segment:${uniqueId}-${item.id}`}\n                        className=\"adyen-pe-segmented-content\"\n                        aria-labelledby={`item:${uniqueId}-${item.id}`}\n                        hidden={activeIndex !== index}\n                    >\n                        {item.content}\n                    </div>\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default SegmentedControl;\n","import cx from 'classnames';\nimport useTransactionsList from '../../hooks/useTransactionsList';\nimport useTransactionsTotals from '../../hooks/useTransactionsTotals';\nimport useAccountBalances from '../../../../../hooks/useAccountBalances';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport TransactionsOverviewList from './TransactionsOverviewList';\nimport TransactionsOverviewInsights from './TransactionsOverviewInsights';\nimport TransactionsFilters from '../TransactionFilters/TransactionFilters';\nimport TransactionsExport from '../TransactionsExport/TransactionsExport';\nimport SegmentedControl from '../../../../internal/SegmentedControl/SegmentedControl';\nimport { FilterBarMobileSwitch, useFilterBarState } from '../../../../internal/FilterBar';\nimport { classes, INITIAL_FILTERS, TRANSACTIONS_VIEW_TABS } from '../../constants';\nimport { SegmentedControlItem } from '../../../../internal/SegmentedControl/types';\nimport { TransactionOverviewProps, TransactionsView } from '../../types';\nimport { useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { compareTransactionsFilters } from '../utils';\nimport { Header } from '../../../../internal/Header';\nimport './TransactionsOverview.scss';\n\nexport const TransactionsOverview = ({\n    onFiltersChanged,\n    balanceAccounts,\n    allowLimitSelection,\n    preferredLimit,\n    onRecordSelection,\n    showDetails,\n    isLoadingBalanceAccount,\n    onContactSupport,\n    hideTitle,\n    dataCustomization,\n}: TransactionOverviewProps) => {\n    const cachedFilters = useRef(INITIAL_FILTERS);\n    const filterBarState = useFilterBarState();\n\n    const [filters, setFilters] = useState(cachedFilters.current);\n    const [activeView, setActiveView] = useState(TransactionsView.TRANSACTIONS);\n    const [insightsCurrency, setInsightsCurrency] = useState<string>();\n\n    const { balanceAccount } = filters;\n    const { isMobileContainer } = filterBarState;\n    const { i18n } = useCoreContext();\n\n    const isTransactionsView = activeView !== TransactionsView.INSIGHTS;\n\n    const canFetchTransactions = useMemo(\n        () => isTransactionsView && !!balanceAccount?.id && compareTransactionsFilters(filters, cachedFilters.current),\n        [isTransactionsView, balanceAccount, filters]\n    );\n\n    const accountBalancesResult = useAccountBalances({ balanceAccount });\n\n    const transactionsListResult = useTransactionsList({\n        fetchEnabled: canFetchTransactions,\n        allowLimitSelection,\n        dataCustomization,\n        filters,\n        onFiltersChanged,\n        preferredLimit,\n    });\n\n    const transactionsTotalsResult = useTransactionsTotals({\n        currencies: accountBalancesResult.currencies,\n        fetchEnabled: !!balanceAccount?.id,\n        loadingBalances: accountBalancesResult.isWaiting,\n        filters,\n    });\n\n    const exportButton = useMemo(\n        () =>\n            isTransactionsView ? (\n                <TransactionsExport disabled={transactionsListResult.records.length < 1 || transactionsListResult.fetching} filters={filters} />\n            ) : null,\n        [filters, isTransactionsView, transactionsListResult.fetching, transactionsListResult.records]\n    );\n\n    const viewSwitcher = useMemo(\n        () =>\n            TRANSACTIONS_VIEW_TABS.length > 1 ? (\n                <SegmentedControl\n                    aria-label={i18n.get('transactions.overview.viewSelect.a11y.label')}\n                    activeItem={activeView}\n                    items={TRANSACTIONS_VIEW_TABS}\n                    onChange={({ id }: SegmentedControlItem<TransactionsView>) => setActiveView(id)}\n                />\n            ) : null,\n        [activeView, i18n]\n    );\n\n    useEffect(() => {\n        if (canFetchTransactions) {\n            cachedFilters.current = filters;\n        }\n    }, [canFetchTransactions, filters]);\n\n    return (\n        <div className={cx(classes.root, { [classes.rootSmall]: isMobileContainer })}>\n            <Header hideTitle={hideTitle} titleKey=\"transactions.overview.title\">\n                <div className={cx({ [classes.filterBarSmall]: isMobileContainer })}>\n                    {isMobileContainer && exportButton}\n                    <FilterBarMobileSwitch {...filterBarState} />\n                    {!isMobileContainer && <>{viewSwitcher}</>}\n                </div>\n            </Header>\n\n            {isMobileContainer && <>{viewSwitcher}</>}\n\n            <div role=\"toolbar\" className={classes.toolbar}>\n                <TransactionsFilters\n                    {...filterBarState}\n                    availableCurrencies={accountBalancesResult.currencies}\n                    balanceAccounts={balanceAccounts}\n                    isTransactionsView={isTransactionsView}\n                    setInsightsCurrency={setInsightsCurrency}\n                    onChange={setFilters}\n                />\n                {!isMobileContainer && <>{exportButton}</>}\n            </div>\n\n            {isTransactionsView ? (\n                <TransactionsOverviewList\n                    accountBalancesResult={accountBalancesResult}\n                    balanceAccount={balanceAccount}\n                    balanceAccounts={balanceAccounts}\n                    dataCustomization={dataCustomization}\n                    isLoadingBalanceAccount={isLoadingBalanceAccount}\n                    onContactSupport={onContactSupport}\n                    onRecordSelection={onRecordSelection}\n                    showDetails={showDetails}\n                    transactionsListResult={transactionsListResult}\n                    transactionsTotalsResult={transactionsTotalsResult}\n                />\n            ) : (\n                <TransactionsOverviewInsights currency={insightsCurrency} transactionsTotalsResult={transactionsTotalsResult} />\n            )}\n        </div>\n    );\n};\n","export const BASE_CLASS = 'adyen-pe-transactions-overview-container';\n","import useBalanceAccounts from '../../../../../hooks/useBalanceAccounts';\nimport DataOverviewContainer from '../../../../internal/DataOverviewContainer/DataOverviewContainer';\nimport type { TransactionOverviewComponentProps, ExternalUIComponentProps } from '../../../../types';\nimport { TransactionsOverview } from '../TransactionsOverview/TransactionsOverview';\nimport { BASE_CLASS } from './constants';\n\nfunction TransactionsOverviewContainer({ ...props }: ExternalUIComponentProps<TransactionOverviewComponentProps>) {\n    const { balanceAccounts, isBalanceAccountIdWrong, isFetching, error } = useBalanceAccounts(props.balanceAccountId);\n\n    return (\n        <DataOverviewContainer\n            balanceAccountsError={error}\n            className={BASE_CLASS}\n            errorMessage={'transactions.overview.errors.unavailable'}\n            isBalanceAccountIdWrong={isBalanceAccountIdWrong}\n            onContactSupport={props.onContactSupport}\n        >\n            <TransactionsOverview {...props} balanceAccounts={balanceAccounts} isLoadingBalanceAccount={isFetching} />\n        </DataOverviewContainer>\n    );\n}\n\nexport default TransactionsOverviewContainer;\n","import { _UIComponentProps, ExternalComponentType, TransactionOverviewComponentProps } from '../../types';\nimport Transactions from './components/TransactionsOverviewContainer/TransactionsOverviewContainer';\nimport UIElement from '../UIElement/UIElement';\n\nexport class TransactionsElement extends UIElement<TransactionOverviewComponentProps> {\n    public static type: ExternalComponentType = 'transactions';\n\n    constructor(props: _UIComponentProps<TransactionOverviewComponentProps>) {\n        super(props);\n        this.componentToRender = this.componentToRender.bind(this);\n    }\n\n    public componentToRender = () => {\n        return <Transactions {...this.props} />;\n    };\n}\n\nexport default TransactionsElement;\n","export const enum SupportedLocation {\n    'AU' = 'AU',\n    'EU' = 'EU',\n    'GB' = 'GB',\n    'US' = 'US',\n    'CA' = 'CA',\n}\n\nexport const supportedCountries: string[] = ['AU', 'GB', 'US', 'CA'];\n\nexport const supportedRegions: string[] = ['EU'];\n","import { TranslationKey } from '../../../translations';\nimport { ILegalEntity } from '../../../types';\nimport { supportedCountries, SupportedLocation, supportedRegions } from './constants';\n\nconst getCapitalRegion = (legalEntity?: ILegalEntity) => {\n    const capitalRegion = legalEntity?.regions?.find(region => region.type === 'capital');\n    return capitalRegion?.value ?? '';\n};\n\nconst getSubtitleByRegion = (region?: string) => {\n    switch (region) {\n        case SupportedLocation.EU:\n            return 'capital.common.loanProviderInfo.EU' satisfies TranslationKey;\n        default:\n            return null;\n    }\n};\n\nconst getSubtitleByCountry = (countryCode?: string) => {\n    switch (countryCode) {\n        case SupportedLocation.AU:\n            return 'capital.common.loanProviderInfo.AU' satisfies TranslationKey;\n        case SupportedLocation.GB:\n            return 'capital.common.loanProviderInfo.GB' satisfies TranslationKey;\n        case SupportedLocation.US:\n            return 'capital.common.loanProviderInfo.US' satisfies TranslationKey;\n        case SupportedLocation.CA:\n            return 'capital.common.loanProviderInfo.CA' satisfies TranslationKey;\n        default:\n            return null;\n    }\n};\n\nexport const getCapitalHeaderSubtitleByLegalEntity = (legalEntity?: ILegalEntity): TranslationKey | null => {\n    const region = getCapitalRegion(legalEntity);\n    const countryCode = legalEntity?.countryCode;\n\n    // Check the country first because it is more specific and first handle the one with a narrow scope\n    return getSubtitleByCountry(countryCode) ?? getSubtitleByRegion(region);\n};\n\nexport const isCapitalRegionSupported = (legalEntity?: ILegalEntity) => {\n    const region = getCapitalRegion(legalEntity);\n    const countryCode = legalEntity?.countryCode ?? '';\n\n    return supportedCountries.includes(countryCode) || supportedRegions.includes(region);\n};\n","import AdyenPlatformExperienceError from '../../../core/Errors/AdyenPlatformExperienceError';\nimport { ErrorMessage, getCommonErrorMessage } from '../getCommonErrorCode';\nimport CopyText from '../../internal/CopyText/CopyText';\n\nexport const COMMON_CAPITAL_ERROR_MESSAGE = {\n    contactSupportForHelp: 'common.errors.contactSupport',\n    couldNotLoadOffers: 'capital.offer.common.errors.unavailable',\n    tryRefreshingThePage: 'common.errors.retry',\n    somethingWentWrong: 'common.errors.somethingWentWrong',\n} as const;\n\nconst UNKNOWN_ERROR = {\n    title: COMMON_CAPITAL_ERROR_MESSAGE.somethingWentWrong,\n    message: [COMMON_CAPITAL_ERROR_MESSAGE.couldNotLoadOffers, COMMON_CAPITAL_ERROR_MESSAGE.tryRefreshingThePage],\n    refreshComponent: true,\n};\n\nexport const getCapitalErrorMessage = (error: AdyenPlatformExperienceError | undefined, onContactSupport?: () => void): ErrorMessage => {\n    if (!error) return UNKNOWN_ERROR;\n\n    const commonError = getCommonErrorMessage(error, onContactSupport);\n    if (commonError) return commonError;\n\n    const errorCodeMessage = onContactSupport ? 'common.errors.errorCode' : 'common.errors.errorCodeSupport';\n\n    switch (error.errorCode) {\n        case undefined:\n            return { ...UNKNOWN_ERROR, ...(onContactSupport ? { onContactSupport } : {}) };\n        case '30_016': {\n            return {\n                title: COMMON_CAPITAL_ERROR_MESSAGE.somethingWentWrong,\n                message: [COMMON_CAPITAL_ERROR_MESSAGE.couldNotLoadOffers, errorCodeMessage],\n                translationValues: {\n                    [errorCodeMessage]: error.requestId ? (\n                        <CopyText isUnderlineVisible copyButtonAriaLabelKey=\"common.actions.copy.labels.errorCode\" textToCopy={error.requestId} />\n                    ) : null,\n                },\n                onContactSupport,\n            };\n        }\n        case '30_011': {\n            return {\n                title: 'capital.offer.common.errors.accountInactive',\n                message: [COMMON_CAPITAL_ERROR_MESSAGE.couldNotLoadOffers, errorCodeMessage],\n                translationValues: {\n                    [errorCodeMessage]: error.requestId ? (\n                        <CopyText isUnderlineVisible copyButtonAriaLabelKey=\"common.actions.copy.labels.errorCode\" textToCopy={error.requestId} />\n                    ) : null,\n                },\n                onContactSupport,\n            };\n        }\n        case '30_600': {\n            return {\n                title: COMMON_CAPITAL_ERROR_MESSAGE.somethingWentWrong,\n                message: ['capital.offer.common.errors.cannotContinue', errorCodeMessage],\n                translationValues: {\n                    [errorCodeMessage]: error.requestId ? (\n                        <CopyText isUnderlineVisible copyButtonAriaLabelKey=\"common.actions.copy.labels.errorCode\" textToCopy={error.requestId} />\n                    ) : null,\n                },\n                onContactSupport,\n            };\n        }\n        case 'EMPTY_CONFIG': {\n            return {\n                title: COMMON_CAPITAL_ERROR_MESSAGE.somethingWentWrong,\n                message: ['capital.offer.common.errors.cannotContinue', COMMON_CAPITAL_ERROR_MESSAGE.contactSupportForHelp],\n            };\n        }\n        case 'UNSUPPORTED_REGION': {\n            return {\n                title: 'capital.common.errors.unsupportedRegion.title',\n                message: 'capital.common.errors.unsupportedRegion',\n            };\n        }\n        default:\n            return { ...UNKNOWN_ERROR, refreshComponent: true };\n    }\n};\n","import { getCapitalErrorMessage } from '../../../../utils/capital/getCapitalErrorMessage';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport { ErrorMessageDisplay } from '../../../../internal/ErrorMessageDisplay/ErrorMessageDisplay';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport Button from '../../../../internal/Button/Button';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { AdyenErrorResponse } from '../../../../../core/Http/types';\nimport { ErrorTypes } from '../../../../../core/Http/utils';\n\nexport const CapitalErrorMessageDisplay = ({\n    emptyGrantOffer,\n    error,\n    onContactSupport,\n    onBack,\n    unsupportedRegion,\n}: {\n    emptyGrantOffer?: boolean;\n    error?: Error | AdyenErrorResponse;\n    onBack?: () => void;\n    onContactSupport?: () => void;\n    unsupportedRegion?: boolean;\n}) => {\n    const { i18n } = useCoreContext();\n\n    const renderSecondaryButton = useCallback(\n        () => (\n            <>\n                {onBack && (\n                    <Button variant={ButtonVariant.SECONDARY} onClick={onBack}>\n                        {i18n.get('capital.common.actions.goBack')}\n                    </Button>\n                )}\n            </>\n        ),\n        [i18n, onBack]\n    );\n\n    const capitalError = useMemo(() => {\n        if (unsupportedRegion) {\n            return new AdyenPlatformExperienceError(ErrorTypes.ERROR, 'UnsupportedRegion', 'Unsupported Region Configuration', 'UNSUPPORTED_REGION');\n        }\n        if (emptyGrantOffer) {\n            return new AdyenPlatformExperienceError(ErrorTypes.ERROR, 'EmptyConfig', 'Empty Configuration', 'EMPTY_CONFIG');\n        }\n        return error;\n    }, [emptyGrantOffer, unsupportedRegion, error]);\n    return (\n        <ErrorMessageDisplay\n            absolutePosition={false}\n            withImage\n            onContactSupport={onContactSupport}\n            renderSecondaryButton={renderSecondaryButton}\n            outlined={false}\n            {...getCapitalErrorMessage(capitalError as AdyenPlatformExperienceError, onContactSupport)}\n        />\n    );\n};\n","import { BaseEventProperties } from '../../../../../core/Analytics/analytics/user-events';\n\nexport const CAPITAL_OFFER_CLASS_NAMES = {\n    base: 'adyen-pe-capital-offer',\n    errorContainer: 'adyen-pe-capital-offer__error-container',\n};\n\nexport const sharedCapitalOfferAnalyticsEventProperties = {\n    componentName: 'capitalOffer' satisfies BaseEventProperties['componentName'],\n    category: 'Capital offer component',\n} as const;\n","import { FunctionalComponent } from 'preact';\nimport { useMemo } from 'preact/hooks';\nimport { useConfigContext } from '../../../core/ConfigContext';\nimport { Header, HeaderProps } from '../Header';\nimport { TypographyVariant } from '../Typography/types';\nimport './CapitalHeader.scss';\nimport { getCapitalHeaderSubtitleByLegalEntity } from './helpers';\n\nexport type CapitalHeaderProps = Omit<HeaderProps, 'subtitleKey'>;\n\nexport const CapitalHeader: FunctionalComponent<CapitalHeaderProps> = props => {\n    const legalEntity = useConfigContext().extraConfig?.legalEntity;\n    const subtitle = useMemo(() => {\n        const subtitleKey = getCapitalHeaderSubtitleByLegalEntity(legalEntity);\n        return subtitleKey ? { subtitleKey } : {};\n    }, [legalEntity]);\n\n    return (\n        <Header {...props} {...subtitle} subtitleConfig={{ variant: TypographyVariant.CAPTION, classNames: 'adyen-pe-capital-header__subtitle' }} />\n    );\n};\n","import cx from 'classnames';\nimport './InfoBox.scss';\nimport { ComponentChildren, JSX } from 'preact';\n\ninterface InfoBoxProps {\n    /**\n     * Optional custom class name to apply additional styles to the InfoBox component.\n     */\n    className?: string;\n    /**\n     * The HTML tag to be used for rendering the InfoBox.\n     *\n     * @default 'div'\n     */\n    el?: JSX.ElementType;\n    /**\n     * Children elements to be rendered inside the InfoBox.\n     */\n    children?: ComponentChildren;\n}\n\nconst InfoBox = ({ className, el: InfoBoxTag = 'div', children }: InfoBoxProps) => (\n    <InfoBoxTag className={cx('adyen-pe-info-box', className)}>{children}</InfoBoxTag>\n);\n\nexport default InfoBox;\n","import { DAY_MS } from '../../../../internal/Calendar/calendar/constants';\nimport { parseDate } from '../../../../../utils';\n\nconst dateStartUTCTimestampOffset = (date: Date | number | string, numberOfDays = 0) => {\n    return new Date(new Date(date).setUTCHours(0, 0, 0, 0) + Math.floor(numberOfDays) * DAY_MS);\n};\n\nexport const getExpectedRepaymentDate = (expectedRepaymentPeriodDays: number) => {\n    return parseDate(dateStartUTCTimestampOffset(new Date(), expectedRepaymentPeriodDays));\n};\n\nexport const calculateMaximumRepaymentPeriodInMonths = (days?: number) => (days ? Math.ceil(days / 30) : null);\n\nexport const getPercentage = (rate: number) => {\n    return rate / 100;\n};\n","import { clamp } from '../../../utils';\n\n/**\n * Calculates the progress percentage of a slider based on the current value, min/max range, and step size.\n * This method ensures the value snaps to the nearest step,\n * handles invalid ranges, and clamps the progress between 0% and 100%.\n *\n * @param currentValue - The current value of the slider.\n * @param min - The minimum allowed value of the slider.\n * @param max - The maximum allowed value of the slider.\n * @param step - The step size that defines the increment/decrement of the slider value.\n * @returns The progress percentage (from 0% to 100%) based on the snapped value.\n */\n\nexport function calculateProgress(currentValue: number, min: number, max: number, step: number): number {\n    // If the min is greater than max, return 0% progress as it's an invalid range.\n    if (min >= max) return 0;\n\n    // Handle zero step size\n    const effectiveStep = step > 0 ? step : 1;\n\n    // Check for cases where step cannot be accommodated in the range\n    if (effectiveStep > max - min) return 0;\n\n    // Snap the current value to the nearest step\n    const snappedValue = Math.round((currentValue - min) / effectiveStep) * effectiveStep + min;\n\n    // Calculate the raw progress percentage by checking how far the snapped value is between min and max.\n    const percentage = ((snappedValue - min) * 100) / (max - min);\n\n    // Clamp the percentage between 0% and 100% to handle out-of-bounds values.\n    return Number(clamp(0, percentage, 100).toFixed(2));\n}\n","import { useMemo } from 'preact/hooks';\nimport './Slider.scss';\nimport { JSX } from 'preact';\nimport { calculateProgress } from './calculateProgress';\nimport cx from 'classnames';\n\nexport function calculateSliderAdjustedMidValue(minValue: number, maxValue: number, step: number) {\n    const mid = maxValue / 2;\n    let adjustedMid = Math.round(mid / step) * step;\n\n    if (adjustedMid < minValue) {\n        adjustedMid = minValue;\n    } else if (adjustedMid > maxValue) {\n        adjustedMid = maxValue;\n    }\n\n    return adjustedMid;\n}\n\n/**\n * Props for the Slider component.\n */\ninterface SliderProps {\n    /**\n     * Minimum value of the slider.\n     * @default 0\n     */\n    min?: number;\n\n    /**\n     * Maximum value of the slider.\n     * @default 100\n     */\n    max?: number;\n\n    /**\n     * Step value for the slider.\n     * Defines the increment/decrement amount when the slider is moved.\n     * @default 1\n     */\n    step?: number;\n\n    /**\n     * The current value of the slider.\n     * @default min\n     */\n    value?: number;\n\n    /**\n     * Callback function that is called when the slider value changes.\n     * @param value - The new value of the slider.\n     */\n    onChange?: (event: JSX.TargetedEvent<HTMLInputElement, Event>) => void;\n\n    /**\n     * Optional class name(s) for styling the Slider.\n     */\n    className?: string;\n\n    /**\n     * Any additional attributes or properties that can be passed to the Slider element\n     */\n    [key: string]: any;\n}\n\nconst Slider = ({ min = 0, max = 100, step = 1, value = min, onChange, className, ...restOfProps }: SliderProps) => {\n    const progress = useMemo(() => {\n        return calculateProgress(value, min, max, step);\n    }, [value, min, max, step]);\n\n    return (\n        <input\n            type=\"range\"\n            className={cx('adyen-pe-slider', className)}\n            min={min}\n            max={max}\n            step={step}\n            value={value}\n            onChange={onChange}\n            style={{ backgroundSize: `${progress}% 100%` }}\n            {...restOfProps}\n        />\n    );\n};\n\nexport default Slider;\n","import './CapitalSlider.scss';\nimport Slider from '../Slider';\nimport { JSX } from 'preact';\nimport { useMemo } from 'preact/hooks';\nimport uniqueId from '../../../utils/random/uniqueId';\nimport Typography from '../Typography/Typography';\nimport { TypographyVariant } from '../Typography/types';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport { IDynamicOffersConfig } from '../../../types';\nimport cx from 'classnames';\n\n/**\n * Props for the CapitalSlider component.\n */\ninterface CapitalSliderProps {\n    /**\n     * The dynamic Capital offer\n     */\n    dynamicOffersConfig: IDynamicOffersConfig;\n\n    /**\n     * The current value of the CapitalSlider.\n     * @default dynamicCapitalOffer.minAmount.value\n     */\n    value?: number;\n\n    /**\n     * Callback function that is called when the slider value changes.\n     * @param value - The new value of the slider.\n     */\n    onValueChange?: (value: number) => void;\n\n    /**\n     * Called when the user releases the slider after changing its value.\n     * @param value - The final value of the slider when released.\n     */\n    onRelease?: (value: number) => void;\n\n    /**\n     * Optional class name(s) for styling the Slider.\n     */\n    className?: string;\n}\n\nconst CapitalSlider = ({\n    dynamicOffersConfig,\n    value = dynamicOffersConfig.minAmount.value,\n    onValueChange,\n    onRelease,\n    className,\n}: CapitalSliderProps) => {\n    const labelId = useMemo(() => uniqueId('elem'), []);\n    const sliderId = useMemo(() => uniqueId('elem'), []);\n    const { i18n } = useCoreContext();\n\n    const dynamicOfferAmount = useMemo(\n        () => i18n.amount(value, dynamicOffersConfig.minAmount.currency, { maximumFractionDigits: 0 }),\n        [i18n, value, dynamicOffersConfig.minAmount.currency]\n    );\n\n    const handleValueChange = (event: JSX.TargetedEvent<HTMLInputElement, Event>) => {\n        const value = Number((event.target as HTMLInputElement).value);\n        onValueChange?.(value);\n    };\n\n    const handleRelease = (event: JSX.TargetedKeyboardEvent<HTMLInputElement>) => {\n        const value = Number((event.target as HTMLInputElement).value);\n        onRelease?.(value);\n    };\n\n    return (\n        <div className={cx('adyen-pe-capital-slider', className)}>\n            <label id={labelId} htmlFor={sliderId} className=\"adyen-pe-capital-slider__label\" role=\"presentation\">\n                <Typography variant={TypographyVariant.BODY} stronger>\n                    {i18n.get('capital.offer.selection.slider.a11y.label')}\n                </Typography>\n            </label>\n            <div>\n                <output aria-labelledby={labelId} htmlFor={sliderId} className=\"adyen-pe-capital-slider__value\" aria-live=\"polite\">\n                    <Typography variant={TypographyVariant.TITLE} strongest>\n                        {dynamicOfferAmount}\n                    </Typography>\n                </output>\n                <Slider\n                    id={sliderId}\n                    value={value}\n                    min={dynamicOffersConfig.minAmount.value}\n                    max={dynamicOffersConfig.maxAmount.value}\n                    step={dynamicOffersConfig.step}\n                    onChange={handleValueChange}\n                    onMouseUp={handleRelease}\n                    onTouchEnd={handleRelease}\n                    onKeyUp={handleRelease}\n                    className=\"adyen-pe-capital-slider__input\"\n                    aria-valuetext={dynamicOfferAmount}\n                />\n            </div>\n            <div className=\"adyen-pe-capital-slider__labels\" aria-hidden=\"true\">\n                <div>\n                    <Typography variant={TypographyVariant.CAPTION}>{i18n.get('capital.offer.selection.slider.markers.min')}</Typography>\n                    <Typography variant={TypographyVariant.BODY}>\n                        {i18n.amount(dynamicOffersConfig.minAmount.value, dynamicOffersConfig.minAmount.currency, { maximumFractionDigits: 0 })}\n                    </Typography>\n                </div>\n                <div>\n                    <Typography variant={TypographyVariant.CAPTION}>{i18n.get('capital.offer.selection.slider.markers.max')}</Typography>\n                    <Typography variant={TypographyVariant.BODY}>\n                        {i18n.amount(dynamicOffersConfig.maxAmount.value, dynamicOffersConfig.maxAmount.currency, { maximumFractionDigits: 0 })}\n                    </Typography>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CapitalSlider;\n","export const CAPITAL_REPAYMENT_FREQUENCY = 30;\nexport const BACKEND_REDACTED_DATA_MARKER = '***REDACTED***';\nexport const FRONTEND_REDACTED_DATA_MARKER = '********';\n","import { UIElementStatus } from '../types';\n\nconst ALLOWED_PROPERTIES = ['action', 'resultCode', 'sessionData', 'order'];\n\nexport function getSanitizedResponse(response: Record<string, any>) {\n    const removedProperties: string[] = [];\n\n    const sanitizedObject = Object.keys(response).reduce(\n        (acc, cur) => {\n            if (!ALLOWED_PROPERTIES.includes(cur)) {\n                removedProperties.push(cur);\n            } else {\n                acc[cur] = response[cur];\n            }\n            return acc;\n        },\n        {} as Record<string, any>\n    );\n\n    if (removedProperties.length) console.warn(`The following properties should not be passed to the client: ${removedProperties.join(', ')}`);\n\n    return sanitizedObject;\n}\n\nexport function resolveFinalResult(result: { resultCode: string } & { [key: string]: any }): [status: UIElementStatus, statusProps?: any] {\n    switch (result.resultCode) {\n        case 'Authorised':\n        case 'Received':\n            return ['success'];\n        case 'Pending':\n            return ['success'];\n        case 'Cancelled':\n        case 'Error':\n        case 'Refused':\n            return ['error'];\n        default:\n            return ['error'];\n    }\n}\n\ninterface DebouncedFunction<T extends (...args: any[]) => any> {\n    (...args: Parameters<T>): void;\n    cancel: () => void;\n}\n\nexport const debounce = <T extends (...args: any[]) => any>(func: T, delay: number): DebouncedFunction<T> => {\n    let timeoutId: ReturnType<typeof setTimeout> | undefined;\n    let lastArgs: Parameters<T> | undefined;\n\n    function debounced(...args: Parameters<T>): void {\n        clearTimeout(timeoutId);\n        lastArgs = args;\n\n        timeoutId = setTimeout(() => {\n            if (lastArgs) {\n                func(...lastArgs);\n            }\n            lastArgs = undefined;\n        }, delay);\n    }\n\n    debounced.cancel = () => {\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n            timeoutId = undefined;\n            lastArgs = undefined;\n        }\n    };\n\n    return debounced;\n};\n","import InfoBox from '../../../../internal/InfoBox';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport StructuredList from '../../../../internal/StructuredList';\nimport Button from '../../../../internal/Button/Button';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport useAnalyticsContext from '../../../../../core/Context/analytics/useAnalyticsContext';\nimport { useDurationEvent } from '../../../../../hooks/useAnalytics/useDurationEvent';\nimport { useCallback, useEffect, useMemo, useState } from 'preact/hooks';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport useMutation from '../../../../../hooks/useMutation/useMutation';\nimport { IDynamicOffersConfig, IGrantOfferResponseDTO } from '../../../../../types';\nimport './CapitalOfferSelection.scss';\nimport { sharedCapitalOfferAnalyticsEventProperties } from '../CapitalOffer/constants';\nimport { getExpectedRepaymentDate, getPercentage } from '../utils/utils';\nimport CapitalSlider from '../../../../internal/CapitalSlider';\nimport { CapitalErrorMessageDisplay } from '../utils/CapitalErrorMessageDisplay';\nimport { calculateSliderAdjustedMidValue } from '../../../../internal/Slider/Slider';\nimport { CAPITAL_REPAYMENT_FREQUENCY } from '../../../../constants';\nimport { debounce } from '../../../../utils/utils';\n\ntype CapitalOfferSelectionProps = {\n    dynamicOffersConfig: IDynamicOffersConfig | undefined;\n    dynamicOffersConfigError?: Error;\n    emptyGrantOffer: boolean;\n    onContactSupport?: () => void;\n    onOfferDismiss?: () => void;\n    onOfferSelect: (data: IGrantOfferResponseDTO) => void;\n    requestedAmount: number | undefined;\n};\n\nconst sharedAnalyticsEventProperties = {\n    ...sharedCapitalOfferAnalyticsEventProperties,\n    subCategory: 'Business financing offer',\n} as const;\n\nconst LoadingSkeleton = () => (\n    <div className=\"adyen-pe-capital-offer-selection__loading-container\">\n        {[...Array(4)].map((_, index) => (\n            <div key={index} className=\"adyen-pe-capital-offer-selection__loading-skeleton\"></div>\n        ))}\n    </div>\n);\n\nconst InformationDisplay = ({ data }: { data: IGrantOfferResponseDTO }) => {\n    const { i18n } = useCoreContext();\n    const expectedRepaymentDate = useMemo(() => {\n        const date = data.expectedRepaymentPeriodDays && getExpectedRepaymentDate(data.expectedRepaymentPeriodDays);\n        if (date) return i18n.date(date, { month: 'long' });\n        return null;\n    }, [data, i18n]);\n    return (\n        <div className=\"adyen-pe-capital-offer-selection__information\">\n            <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} wide={true}>\n                {expectedRepaymentDate &&\n                    i18n.get('capital.offer.common.repaymentInfo', {\n                        values: {\n                            amount: i18n.amount(data.thresholdAmount.value, data.thresholdAmount.currency),\n                            days: CAPITAL_REPAYMENT_FREQUENCY,\n                            date: expectedRepaymentDate,\n                        },\n                    })}\n            </Typography>\n            <StructuredList\n                renderValue={val => (\n                    <Typography el={TypographyElement.SPAN} stronger variant={TypographyVariant.CAPTION}>\n                        {val}\n                    </Typography>\n                )}\n                renderLabel={val => (\n                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION}>\n                        {val}\n                    </Typography>\n                )}\n                items={[\n                    { key: 'capital.common.fields.fees', value: i18n.amount(data.feesAmount.value, data.feesAmount.currency) },\n                    {\n                        key: 'capital.common.fields.dailyRepaymentRate',\n                        value: `${i18n.get('capital.common.values.percentage', {\n                            values: { percentage: getPercentage(data.repaymentRate) },\n                        })}`,\n                    },\n                    {\n                        key: 'capital.common.fields.expectedRepaymentPeriod',\n                        value: i18n.get('capital.common.values.numberOfDays', { values: { days: data.expectedRepaymentPeriodDays } }),\n                    },\n                ]}\n            />\n        </div>\n    );\n};\n\nexport const CapitalOfferSelection = ({\n    dynamicOffersConfig,\n    dynamicOffersConfigError,\n    emptyGrantOffer,\n    onContactSupport,\n    onOfferDismiss,\n    onOfferSelect,\n    requestedAmount,\n}: CapitalOfferSelectionProps) => {\n    const { i18n } = useCoreContext();\n    const userEvents = useAnalyticsContext();\n\n    const initialValue = useMemo(() => {\n        if (dynamicOffersConfig)\n            return calculateSliderAdjustedMidValue(\n                dynamicOffersConfig.minAmount.value,\n                dynamicOffersConfig.maxAmount.value,\n                dynamicOffersConfig.step\n            );\n        return undefined;\n    }, [dynamicOffersConfig]);\n\n    const [requestedValue, setRequestedValue] = useState<number | undefined>(undefined);\n\n    const currency = useMemo(() => dynamicOffersConfig?.minAmount.currency, [dynamicOffersConfig?.minAmount.currency]);\n\n    const { createGrantOffer, getDynamicGrantOffer } = useConfigContext().endpoints;\n    const getDynamicGrantOfferMutation = useMutation({\n        queryFn: getDynamicGrantOffer,\n        options: {\n            retry: 1,\n            shouldRetry: useCallback((error: any) => {\n                return error.status === 500;\n            }, []),\n            onSettled: useCallback(() => {\n                setIsLoading(false);\n            }, []),\n        },\n    });\n\n    const reviewOfferMutation = useMutation({\n        queryFn: createGrantOffer,\n        options: {\n            onSuccess: data => onOfferSelect(data),\n        },\n    });\n\n    const onReview = useCallback(() => {\n        try {\n            void reviewOfferMutation.mutate({\n                body: {\n                    amount: getDynamicGrantOfferMutation.data?.grantAmount.value || requestedValue!,\n                    currency: getDynamicGrantOfferMutation.data?.grantAmount.currency || currency!,\n                },\n                contentType: 'application/json',\n            });\n        } finally {\n            userEvents.addEvent?.('Clicked button', { ...sharedAnalyticsEventProperties, label: 'Review offer' });\n        }\n    }, [currency, getDynamicGrantOfferMutation.data, requestedValue, reviewOfferMutation, userEvents]);\n\n    const getOffer = useCallback(\n        (amount: number) => getDynamicGrantOfferMutation.mutate({}, { query: { amount, currency: currency! } }),\n        [currency, getDynamicGrantOfferMutation]\n    );\n\n    const [isLoading, setIsLoading] = useState(false);\n\n    const debouncedGetOfferCall = useMemo(() => debounce(getOffer, 300), [getOffer]);\n\n    const onChangeHandler = useCallback(\n        (val: number) => {\n            debouncedGetOfferCall.cancel();\n            setIsLoading(true);\n            setRequestedValue(val);\n        },\n        [debouncedGetOfferCall]\n    );\n\n    const handleSliderRelease = useCallback(\n        (val: number) => {\n            try {\n                return debouncedGetOfferCall(val);\n            } finally {\n                userEvents.addEvent?.('Changed capital offer slider', {\n                    ...sharedAnalyticsEventProperties,\n                    label: 'Slider changed',\n                    currency: currency!,\n                    value: val,\n                });\n            }\n        },\n        [debouncedGetOfferCall, userEvents]\n    );\n\n    useEffect(() => {\n        if (dynamicOffersConfig && !getDynamicGrantOfferMutation.data && !requestedValue) {\n            setRequestedValue(prev =>\n                !prev ? (requestedAmount ? Number(requestedAmount) : initialValue || dynamicOffersConfig.minAmount.value) : prev\n            );\n            void getOffer(requestedValue || initialValue || dynamicOffersConfig.minAmount.value);\n        }\n    }, [dynamicOffersConfig, getDynamicGrantOfferMutation.data, getOffer, initialValue, requestedAmount, requestedValue]);\n\n    const loadingButtonState = useMemo(\n        () => reviewOfferMutation.isLoading || getDynamicGrantOfferMutation.isLoading || isLoading,\n        [getDynamicGrantOfferMutation.isLoading, isLoading, reviewOfferMutation.isLoading]\n    );\n\n    useDurationEvent(sharedAnalyticsEventProperties);\n\n    return (\n        <div className=\"adyen-pe-capital-offer-selection\">\n            {reviewOfferMutation.error || getDynamicGrantOfferMutation.error || emptyGrantOffer || dynamicOffersConfigError ? (\n                <CapitalErrorMessageDisplay\n                    error={reviewOfferMutation.error || getDynamicGrantOfferMutation.error || dynamicOffersConfigError}\n                    onBack={onOfferDismiss}\n                    onContactSupport={onContactSupport}\n                    emptyGrantOffer={emptyGrantOffer}\n                />\n            ) : (\n                <>\n                    {dynamicOffersConfig && (\n                        <CapitalSlider\n                            value={requestedValue}\n                            dynamicOffersConfig={dynamicOffersConfig}\n                            onValueChange={onChangeHandler}\n                            onRelease={handleSliderRelease}\n                        />\n                    )}\n                    <InfoBox className=\"adyen-pe-capital-offer-selection__details\">\n                        {!getDynamicGrantOfferMutation.data || getDynamicGrantOfferMutation.isLoading || isLoading ? (\n                            <LoadingSkeleton />\n                        ) : getDynamicGrantOfferMutation.data ? (\n                            <InformationDisplay data={getDynamicGrantOfferMutation.data} />\n                        ) : null}\n                    </InfoBox>\n                    <div className=\"adyen-pe-capital-offer-selection__buttons\">\n                        {onOfferDismiss && (\n                            <Button variant={ButtonVariant.SECONDARY} onClick={onOfferDismiss}>\n                                {i18n.get('capital.common.actions.goBack')}\n                            </Button>\n                        )}\n                        <Button\n                            variant={ButtonVariant.PRIMARY}\n                            state={loadingButtonState ? 'loading' : undefined}\n                            onClick={onReview}\n                            disabled={reviewOfferMutation.isLoading || !dynamicOffersConfig?.minAmount}\n                            aria-label={i18n.get('capital.offer.selection.actions.reviewOffer')}\n                        >\n                            {i18n.get(\n                                loadingButtonState\n                                    ? 'capital.offer.selection.actions.reviewOffer.states.loading'\n                                    : 'capital.offer.selection.actions.reviewOffer'\n                            )}\n                        </Button>\n                    </div>\n                </>\n            )}\n        </div>\n    );\n};\n","import { Ref } from 'preact';\nimport useButton from '../Button/hooks/useButton';\nimport { DEFAULT_BUTTON_CLASSNAME, BUTTON_ANCHOR_CLASSNAME } from '../Button/constants';\nimport { AnchorButtonProps, BaseButtonProps, ButtonVariant } from '../Button/types';\nimport { useMemo } from 'preact/hooks';\nimport { fixedForwardRef, parseBooleanProp, parseClassName } from '../../../utils/preact';\n\nconst AnchorButton = (props: AnchorButtonProps & BaseButtonProps, ref: Ref<HTMLAnchorElement>) => {\n    const { variant = ButtonVariant.PRIMARY, disabled = false, onClick, classNameModifiers = [], className } = props;\n    const classNameValue = useMemo(() => parseClassName('', className) || '', [className]);\n    const disabledValue = useMemo(() => parseBooleanProp(disabled), [disabled]);\n\n    const { click, allChildren, allProps } = useButton(\n        classNameValue,\n        [...classNameModifiers, variant],\n        `${DEFAULT_BUTTON_CLASSNAME} ${BUTTON_ANCHOR_CLASSNAME}`,\n        disabledValue,\n        props,\n        'button',\n        onClick\n    );\n\n    const restProps = useMemo(() => ({ ...allProps, ...(props.onClick && click ? { onClick: click } : {}) }), [click, allProps, props.onClick]);\n\n    return (\n        <a {...restProps} href={props.href} ref={ref as Ref<HTMLAnchorElement>}>\n            {allChildren}\n        </a>\n    );\n};\n\nexport default fixedForwardRef(AnchorButton);\n","export const SUMMARY_TEXT_EMAIL = 'capital-support@adyen.com';\n","import { useConfigContext } from '../../../../../core/ConfigContext';\nimport AnchorButton from '../../../../internal/AnchorButton/AnchorButton';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport { SupportedLocation } from '../../../../internal/CapitalHeader/constants';\nimport Card from '../../../../internal/Card/Card';\nimport { Translation } from '../../../../internal/Translation';\nimport { TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { SUMMARY_TEXT_EMAIL } from '../CapitalOfferSummary/constants';\nimport './CapitalOfferLegalNotice.scss';\n\nexport const CapitalOfferLegalNotice = () => {\n    const countryCode = useConfigContext()?.extraConfig?.legalEntity?.countryCode;\n\n    return countryCode === SupportedLocation.US ? (\n        <Card filled noOutline>\n            <Typography variant={TypographyVariant.CAPTION} className={'adyen-pe-capital-offer-legal-notice--title'}>\n                <Translation translationKey={'capital.offer.summary.legalNotice.US.title'} fills={{ break: <br /> }} />\n            </Typography>\n            <br />\n            <Typography variant={TypographyVariant.CAPTION} className={'adyen-pe-capital-offer-legal-notice--description'}>\n                {\n                    <Translation\n                        translationKey={'capital.offer.summary.legalNotice.US.note'}\n                        fills={{\n                            email: (\n                                <AnchorButton\n                                    href={`mailto:${SUMMARY_TEXT_EMAIL}`}\n                                    variant={ButtonVariant.TERTIARY}\n                                    className={'adyen-pe-capital-offer-summary__info--email'}\n                                >\n                                    {SUMMARY_TEXT_EMAIL}\n                                </AnchorButton>\n                            ),\n                            break: (\n                                <>\n                                    <br />\n                                    <br />\n                                </>\n                            ),\n                        }}\n                    />\n                }\n            </Typography>\n        </Card>\n    ) : null;\n};\n","import InfoBox from '../../../../internal/InfoBox';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { IGrant, IGrantOfferResponseDTO } from '../../../../../types';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { calculateMaximumRepaymentPeriodInMonths, getExpectedRepaymentDate, getPercentage } from '../utils/utils';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport StructuredList from '../../../../internal/StructuredList';\nimport './CapitalOfferSummary.scss';\nimport Button from '../../../../internal/Button/Button';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport useMutation from '../../../../../hooks/useMutation/useMutation';\nimport useAnalyticsContext from '../../../../../core/Context/analytics/useAnalyticsContext';\nimport { useDurationEvent } from '../../../../../hooks/useAnalytics/useDurationEvent';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport { Tooltip } from '../../../../internal/Tooltip/Tooltip';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport { AdyenErrorResponse } from '../../../../../core/Http/types';\nimport { AlertTypeOption } from '../../../../internal/Alert/types';\nimport Alert from '../../../../internal/Alert/Alert';\nimport Icon from '../../../../internal/Icon';\nimport { CapitalErrorMessageDisplay } from '../utils/CapitalErrorMessageDisplay';\nimport cx from 'classnames';\nimport { sharedCapitalOfferAnalyticsEventProperties } from '../CapitalOffer/constants';\nimport { StructuredListItem } from '../../../../internal/StructuredList/types';\nimport { CAPITAL_REPAYMENT_FREQUENCY } from '../../../../constants';\nimport { CapitalOfferLegalNotice } from '../CapitalOfferLegalNotice/CapitalOfferLegalNotice';\nimport { Translation } from '../../../../internal/Translation';\n\nconst errorMessageWithAlert = ['30_013'];\n\nconst sharedAnalyticsEventProperties = {\n    ...sharedCapitalOfferAnalyticsEventProperties,\n    subCategory: 'Business financing summary',\n} as const;\n\nexport const CapitalOfferSummary = ({\n    grantOffer,\n    onBack,\n    onFundsRequest,\n    onContactSupport,\n}: {\n    grantOffer: IGrantOfferResponseDTO;\n    onBack: () => void;\n    onFundsRequest?: (data: IGrant) => void;\n    onContactSupport?: () => void;\n}) => {\n    const { i18n } = useCoreContext();\n    const userEvents = useAnalyticsContext();\n\n    const expectedRepaymentDate = useMemo(() => {\n        const date = getExpectedRepaymentDate(grantOffer.expectedRepaymentPeriodDays);\n        return date ? i18n.date(date, { month: 'long' }) : null;\n    }, [grantOffer, i18n]);\n\n    const { requestFunds } = useConfigContext().endpoints;\n\n    const requestFundsMutation = useMutation({\n        queryFn: requestFunds,\n        options: {\n            onSuccess: data => onFundsRequest?.(data),\n        },\n    });\n\n    const requestFundsCallback = useCallback(\n        (id: string) => {\n            void requestFundsMutation.mutate(EMPTY_OBJECT, { path: { grantOfferId: id } });\n        },\n        [requestFundsMutation]\n    );\n\n    const onRequestFundsHandler = useCallback(() => {\n        try {\n            grantOffer.id && requestFundsCallback(grantOffer.id);\n        } finally {\n            userEvents.addEvent?.('Clicked button', { ...sharedAnalyticsEventProperties, label: 'Request funds' });\n        }\n    }, [grantOffer.id, requestFundsCallback, userEvents]);\n\n    const onBackWithTracking = useCallback<typeof onBack>(() => {\n        try {\n            return onBack();\n        } finally {\n            userEvents.addEvent?.('Clicked button', { ...sharedAnalyticsEventProperties, label: 'Back to slider view' });\n        }\n    }, [onBack, userEvents]);\n\n    const maximumRepaymentPeriod = useMemo(\n        () => calculateMaximumRepaymentPeriodInMonths(grantOffer.maximumRepaymentPeriodDays),\n        [grantOffer.maximumRepaymentPeriodDays]\n    );\n\n    const requestErrorAlert = useMemo<{ title: string; message: string; errorCode?: string } | null>(() => {\n        const err = requestFundsMutation.error ? (requestFundsMutation.error as AdyenErrorResponse) : null;\n\n        if (err && errorMessageWithAlert.includes(err.errorCode)) {\n            switch (err.errorCode) {\n                case '30_013':\n                    return {\n                        title: i18n.get('capital.offer.common.errors.noPrimaryAccount'),\n                        message: i18n.get('capital.offer.common.errors.cannotContinueSupport'),\n                        errorCode: '30_013',\n                    };\n                default:\n                    return {\n                        title: i18n.get('common.errors.somethingWentWrong'),\n                        message: i18n.get('capital.offer.common.errors.unavailable'),\n                    };\n            }\n        }\n\n        return null;\n    }, [i18n, requestFundsMutation.error]);\n\n    const structuredListItems = useMemo(() => {\n        const summaryItems: StructuredListItem[] = [\n            {\n                key: 'capital.common.fields.fees',\n                value: i18n.amount(grantOffer.feesAmount.value, grantOffer.feesAmount.currency),\n            },\n            {\n                key: 'capital.common.fields.totalRepaymentAmount',\n                value: i18n.amount(grantOffer.totalAmount.value, grantOffer.totalAmount.currency),\n            },\n            {\n                key: 'capital.common.fields.repaymentThreshold',\n                value: i18n.amount(grantOffer.thresholdAmount.value, grantOffer.thresholdAmount.currency),\n            },\n            {\n                key: 'capital.common.fields.dailyRepaymentRate',\n                value: i18n.get('capital.common.values.percentage', { values: { percentage: getPercentage(grantOffer.repaymentRate) } }),\n            },\n            {\n                key: 'capital.common.fields.expectedRepaymentPeriod',\n                value: i18n.get('capital.common.values.numberOfDays', { values: { days: grantOffer.expectedRepaymentPeriodDays } }),\n            },\n            { key: 'capital.common.fields.account', value: i18n.get('capital.common.values.primaryAccount') },\n        ];\n\n        if (maximumRepaymentPeriod) {\n            summaryItems.splice(4, 0, {\n                key: 'capital.common.fields.maximumRepaymentPeriod',\n                value:\n                    maximumRepaymentPeriod === 1\n                        ? i18n.get('capital.common.values.oneMonth')\n                        : i18n.get('capital.common.values.numberOfMonths', { values: { months: maximumRepaymentPeriod } }),\n            });\n        }\n\n        if (grantOffer.aprBasisPoints) {\n            summaryItems.splice(1, 0, {\n                key: 'capital.common.fields.annualPercentageRate',\n                value: i18n.get('capital.common.values.percentage', { values: { percentage: getPercentage(grantOffer.aprBasisPoints) } }),\n            });\n        }\n\n        return summaryItems;\n    }, [grantOffer, i18n, maximumRepaymentPeriod]);\n\n    useDurationEvent(sharedAnalyticsEventProperties);\n\n    return !requestErrorAlert && requestFundsMutation.error ? (\n        <CapitalErrorMessageDisplay error={requestFundsMutation.error} onBack={onBackWithTracking} onContactSupport={onContactSupport} />\n    ) : (\n        <div className=\"adyen-pe-capital-offer-summary\">\n            <InfoBox className=\"adyen-pe-capital-offer-summary__grant-summary\">\n                <Typography el={TypographyElement.PARAGRAPH} variant={TypographyVariant.BODY}>\n                    <Translation\n                        translationKey=\"capital.offer.common.fundingRequestInfo\"\n                        fills={{\n                            amount: (\n                                <strong>{`${i18n.amount(grantOffer.grantAmount.value, grantOffer.grantAmount.currency, { minimumFractionDigits: 0 })}`}</strong>\n                            ),\n                        }}\n                    />\n                </Typography>\n                <Typography el={TypographyElement.PARAGRAPH} variant={TypographyVariant.CAPTION}>\n                    {i18n.get('capital.offer.common.repaymentInfo', {\n                        values: {\n                            amount: i18n.amount(grantOffer.thresholdAmount.value, grantOffer.thresholdAmount.currency),\n                            days: CAPITAL_REPAYMENT_FREQUENCY,\n                            date: expectedRepaymentDate ?? '',\n                        },\n                    })}\n                </Typography>\n            </InfoBox>\n            <StructuredList\n                classNames=\"adyen-pe-capital-offer-summary__details\"\n                renderLabel={(val, key) => {\n                    if (key === 'capital.common.fields.repaymentThreshold') {\n                        return (\n                            <Tooltip\n                                isUnderlineVisible\n                                content={i18n.get('capital.common.fields.repaymentThreshold.description', {\n                                    values: { days: CAPITAL_REPAYMENT_FREQUENCY },\n                                })}\n                            >\n                                <span>\n                                    <Typography\n                                        className={'adyen-pe-capital-offer-summary__list-label'}\n                                        el={TypographyElement.SPAN}\n                                        variant={TypographyVariant.CAPTION}\n                                    >\n                                        {val}\n                                    </Typography>\n                                </span>\n                            </Tooltip>\n                        );\n                    }\n\n                    if (key === 'capital.common.fields.annualPercentageRate') {\n                        return (\n                            <Tooltip isUnderlineVisible content={i18n.get('capital.common.fields.annualPercentageRate.description')}>\n                                <span>\n                                    <Typography\n                                        className={'adyen-pe-capital-offer-summary__list-label'}\n                                        el={TypographyElement.SPAN}\n                                        variant={TypographyVariant.CAPTION}\n                                    >\n                                        {val}\n                                    </Typography>\n                                </span>\n                            </Tooltip>\n                        );\n                    }\n\n                    return (\n                        <Typography\n                            className={'adyen-pe-capital-offer-summary__list-label'}\n                            el={TypographyElement.SPAN}\n                            variant={TypographyVariant.CAPTION}\n                        >\n                            {val}\n                        </Typography>\n                    );\n                }}\n                renderValue={(val, key) => {\n                    const showWarningIcon =\n                        key === 'capital.common.fields.account' &&\n                        requestFundsMutation.error &&\n                        requestErrorAlert &&\n                        requestErrorAlert.errorCode === '30_013';\n\n                    return (\n                        <Typography\n                            className={cx({\n                                ['adyen-pe-capital-offer-summary__details--error']: showWarningIcon,\n                            })}\n                            el={TypographyElement.SPAN}\n                            variant={TypographyVariant.CAPTION}\n                            stronger\n                        >\n                            {showWarningIcon ? <Icon name={'warning-filled'} data-testid={'primary-account-warning-icon'} /> : null}\n                            {val}\n                        </Typography>\n                    );\n                }}\n                items={structuredListItems}\n            />\n            {requestErrorAlert && (\n                <Alert\n                    className={'adyen-pe-capital-offer-summary__error-alert'}\n                    type={AlertTypeOption.WARNING}\n                    title={requestErrorAlert.title}\n                    description={requestErrorAlert.message}\n                >\n                    {onContactSupport ? (\n                        <Button className={'adyen-pe-capital-offer-summary__error-alert-button'} onClick={onContactSupport}>\n                            {i18n.get('capital.common.actions.contactSupport')}\n                        </Button>\n                    ) : null}\n                </Alert>\n            )}\n            <CapitalOfferLegalNotice />\n            <div className=\"adyen-pe-capital-offer-summary__buttons\">\n                {requestFundsMutation.error && !requestErrorAlert ? null : (\n                    <Button variant={ButtonVariant.SECONDARY} onClick={onBackWithTracking}>\n                        {i18n.get('capital.common.actions.goBack')}\n                    </Button>\n                )}\n                <Button\n                    variant={ButtonVariant.PRIMARY}\n                    state={requestFundsMutation.isLoading ? 'loading' : undefined}\n                    onClick={onRequestFundsHandler}\n                    disabled={requestFundsMutation.isLoading || !!requestFundsMutation.error || !!requestFundsMutation.data}\n                    aria-label={i18n.get('capital.offer.summary.actions.requestFunds')}\n                >\n                    {i18n.get(\n                        requestFundsMutation.isLoading\n                            ? 'capital.offer.summary.actions.requestFunds.states.loading'\n                            : 'capital.offer.summary.actions.requestFunds'\n                    )}\n                </Button>\n            </div>\n        </div>\n    );\n};\n","import { FunctionalComponent } from 'preact';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport { isCapitalRegionSupported } from '../../../../internal/CapitalHeader/helpers';\nimport { ExternalUIComponentProps } from '../../../../types';\nimport { CapitalOfferProps } from '../../types';\nimport { CapitalErrorMessageDisplay } from '../utils/CapitalErrorMessageDisplay';\nimport { CAPITAL_OFFER_CLASS_NAMES, sharedCapitalOfferAnalyticsEventProperties } from './constants';\nimport { CapitalHeader } from '../../../../internal/CapitalHeader';\nimport { CapitalOfferSelection } from '../CapitalOfferSelection/CapitalOfferSelection';\nimport { IDynamicOffersConfig, IGrantOfferResponseDTO } from '../../../../../types';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport { CapitalOfferSummary } from '../CapitalOfferSummary/CapitalOfferSummary';\nimport { useDurationEvent } from '../../../../../hooks/useAnalytics/useDurationEvent';\nimport { useLandedPageEvent } from '../../../../../hooks/useAnalytics/useLandedPageEvent';\nimport './CapitalOffer.scss';\n\ntype CapitalOfferState = 'OfferSelection' | 'OfferSummary';\n\nconst sharedAnalyticsEventProperties = {\n    ...sharedCapitalOfferAnalyticsEventProperties,\n    subCategory: 'Capital offer',\n} as const;\n\nconst DynamicCapitalOffer: FunctionalComponent<ExternalUIComponentProps<CapitalOfferProps>> = ({\n    externalDynamicOffersConfig,\n    hideTitle,\n    onContactSupport,\n    onFundsRequest,\n    onOfferDismiss,\n    onOfferSelect,\n}) => {\n    const [emptyGrantOffer, setEmptyGrantOffer] = useState(false);\n    const [requestedAmount, setRequestedAmount] = useState<number>();\n    const [selectedOffer, setSelectedOffer] = useState<IGrantOfferResponseDTO>();\n\n    const { getDynamicGrantOffersConfiguration } = useConfigContext().endpoints;\n\n    const onSuccess = useCallback((data: IDynamicOffersConfig | undefined) => {\n        if (data) {\n            setEmptyGrantOffer(false);\n        } else setEmptyGrantOffer(true);\n    }, []);\n\n    const { data: internalDynamicOffersConfig, error: dynamicOffersConfigError } = useFetch({\n        fetchOptions: {\n            enabled: !externalDynamicOffersConfig && !!getDynamicGrantOffersConfiguration,\n            onSuccess: onSuccess,\n        },\n        queryFn: useCallback(async () => {\n            return getDynamicGrantOffersConfiguration?.(EMPTY_OBJECT);\n        }, [getDynamicGrantOffersConfiguration]),\n    });\n\n    const config = externalDynamicOffersConfig || internalDynamicOffersConfig;\n\n    const onOfferSelectHandler = useCallback(\n        (data: IGrantOfferResponseDTO) => {\n            if (onOfferSelect) {\n                onOfferSelect(data);\n            } else {\n                setRequestedAmount(data?.grantAmount.value);\n                setSelectedOffer(data);\n            }\n        },\n        [onOfferSelect]\n    );\n\n    const capitalOfferState = useMemo<CapitalOfferState>(() => {\n        return selectedOffer ? 'OfferSummary' : 'OfferSelection';\n    }, [selectedOffer]);\n\n    useLandedPageEvent({ ...sharedAnalyticsEventProperties, label: 'Capital offer' });\n    useDurationEvent(sharedAnalyticsEventProperties);\n\n    return (\n        <div className={CAPITAL_OFFER_CLASS_NAMES.base}>\n            <CapitalHeader\n                hasDivider\n                hideTitle={hideTitle}\n                titleKey={capitalOfferState === 'OfferSummary' ? 'capital.offer.summary.title' : 'capital.offer.selection.title'}\n            />\n            {capitalOfferState === 'OfferSelection' && (\n                <CapitalOfferSelection\n                    requestedAmount={requestedAmount}\n                    dynamicOffersConfig={config}\n                    dynamicOffersConfigError={dynamicOffersConfigError}\n                    onOfferDismiss={onOfferDismiss}\n                    onOfferSelect={onOfferSelectHandler}\n                    emptyGrantOffer={emptyGrantOffer}\n                    onContactSupport={onContactSupport}\n                />\n            )}\n            {capitalOfferState === 'OfferSummary' && (\n                <CapitalOfferSummary\n                    grantOffer={selectedOffer!}\n                    onBack={() => setSelectedOffer(undefined)}\n                    onFundsRequest={onFundsRequest}\n                    onContactSupport={onContactSupport}\n                />\n            )}\n        </div>\n    );\n};\n\nexport const CapitalOffer: FunctionalComponent<ExternalUIComponentProps<CapitalOfferProps>> = props => {\n    const legalEntity = useConfigContext()?.extraConfig?.legalEntity;\n    const isRegionSupported = useMemo(() => isCapitalRegionSupported(legalEntity), [legalEntity]);\n\n    if (!isRegionSupported) {\n        return (\n            <div className={CAPITAL_OFFER_CLASS_NAMES.errorContainer}>\n                <CapitalHeader hideTitle={props.hideTitle} titleKey={'capital.common.title'} />\n                <CapitalErrorMessageDisplay unsupportedRegion />\n            </div>\n        );\n    }\n\n    return <DynamicCapitalOffer {...props} />;\n};\n","import { _UIComponentProps, ExternalComponentType } from '../../types';\nimport UIElement from '../UIElement/UIElement';\nimport { CapitalOfferElementProps } from './types';\nimport { CapitalOffer } from './components/CapitalOffer/CapitalOffer';\n\nexport class CapitalOfferElement extends UIElement<CapitalOfferElementProps> {\n    public static type: ExternalComponentType = 'capitalOffer';\n\n    constructor(props: _UIComponentProps<CapitalOfferElementProps>) {\n        super(props);\n        this.componentToRender = this.componentToRender.bind(this);\n        this.customClassNames = 'adyen-pe-capital-offer-component';\n    }\n\n    public componentToRender = () => {\n        return <CapitalOffer {...this.props} />;\n    };\n}\n\nexport default CapitalOfferElement;\n","import { useCallback, useEffect, useRef, useState } from 'preact/hooks';\n\nexport const useFreezePeriod = (timeout = 1000, initialState = false) => {\n    const [frozen, setFrozen] = useState(initialState);\n    const rafId = useRef<ReturnType<typeof requestAnimationFrame>>();\n    const timeoutId = useRef<ReturnType<typeof setTimeout>>();\n\n    const freeze = useCallback(() => {\n        if (frozen) return;\n\n        timeoutId.current = setTimeout(() => {\n            rafId.current = requestAnimationFrame(() => setFrozen(false));\n        }, timeout);\n\n        setFrozen(true);\n    }, [frozen, timeout]);\n\n    useEffect(() => {\n        return () => {\n            cancelAnimationFrame(rafId.current!);\n            clearTimeout(timeoutId.current!);\n            rafId.current = timeoutId.current = null!;\n        };\n    }, [timeout]);\n\n    return { freeze, frozen } as const;\n};\n\nexport default useFreezePeriod;\n","import classNames from 'classnames';\nimport { VNode } from 'preact';\nimport { AriaAttributes } from 'preact/compat';\nimport { useEffect, useMemo, useState } from 'preact/hooks';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport AdyenPlatformExperienceError from '../../../../core/Errors/AdyenPlatformExperienceError';\nimport { DownloadStreamEndpoint } from '../../../../types/api/endpoints';\nimport { containerQueries, useResponsiveContainer } from '../../../../hooks/useResponsiveContainer';\nimport { downloadBlob } from '../../../../utils';\nimport Spinner from '../../Spinner';\nimport Icon from '../../Icon';\nimport Button from '../Button';\nimport { ButtonVariant } from '../types';\nimport useDownload from './useDownload';\nimport './DownloadButton.scss';\n\ninterface DownloadButtonProps {\n    requestParams: any;\n    iconButton?: boolean;\n    endpointName: DownloadStreamEndpoint;\n    className?: string;\n    disabled?: boolean;\n    onDownloadRequested?: () => void;\n    setError?: (error?: AdyenPlatformExperienceError) => any;\n    errorDisplay?: VNode<any>;\n    errorMessage?: (error: any) => VNode<any>;\n}\n\nfunction DownloadButton({\n    className,\n    disabled,\n    endpointName,\n    requestParams,\n    setError,\n    errorDisplay,\n    onDownloadRequested,\n    iconButton = false,\n    errorMessage,\n    ...ariaAttributeProps\n}: DownloadButtonProps & Pick<AriaAttributes, 'aria-describedby' | 'aria-label' | 'aria-labelledby'>) {\n    const { i18n } = useCoreContext();\n    const [fetchData, setFetchData] = useState(false);\n    const isSmContainer = useResponsiveContainer(containerQueries.down.xs);\n    const { data, error, isFetching } = useDownload(endpointName, requestParams, fetchData);\n\n    useEffect(() => {\n        if (fetchData) setFetchData(false);\n    }, [fetchData]);\n\n    useEffect(() => {\n        if (data) downloadBlob(data);\n    }, [data]);\n\n    useEffect(() => {\n        if (setError && error) setError(error as AdyenPlatformExperienceError);\n    }, [error, setError]);\n\n    const onClick = () => {\n        setFetchData(true);\n        onDownloadRequested?.();\n    };\n\n    const buttonIcon = useMemo(() => (isFetching ? <Spinner size={'small'} /> : <Icon name=\"download\" />), [isFetching]);\n\n    const buttonLabel = useMemo(() => {\n        if (iconButton) {\n            return buttonIcon;\n        } else {\n            return isFetching ? `${i18n.get('common.actions.download.labels.inProgress')}..` : i18n.get('common.actions.download.labels.default');\n        }\n    }, [buttonIcon, i18n, isFetching, iconButton]);\n\n    return (\n        <>\n            <div\n                className={classNames('adyen-pe-download', {\n                    'adyen-pe-download-icon-button-container': iconButton,\n                })}\n            >\n                {isSmContainer ? (\n                    <Button iconButton={true} variant={ButtonVariant.TERTIARY} onClick={onClick} {...ariaAttributeProps}>\n                        {buttonIcon}\n                    </Button>\n                ) : (\n                    <Button\n                        className={classNames(\n                            'adyen-pe-download__button',\n                            { 'adyen-pe-download__button--loading': isFetching, 'adyen-pe-download__button--icon': iconButton },\n                            className\n                        )}\n                        disabled={disabled || isFetching}\n                        variant={iconButton ? ButtonVariant.TERTIARY : ButtonVariant.SECONDARY}\n                        onClick={onClick}\n                        {...(!iconButton && { iconLeft: buttonIcon })}\n                        {...ariaAttributeProps}\n                    >\n                        {buttonLabel}\n                    </Button>\n                )}\n                {error && errorDisplay && <div className={'adyen-pe-download__error'}>{errorDisplay}</div>}\n            </div>\n            {/* [TODO]: Remove errorMessage prop and rely on errorDisplay for rendering error  */}\n            {error && errorMessage && errorMessage(error)}\n        </>\n    );\n}\n\nexport default DownloadButton;\n","export const DISABLED_BUTTONS_TIMEOUT = 1000; // 1 second\n\nexport const BASE_CLASS = 'adyen-pe-reports-table';\nexport const DATE_TYPE_CLASS = `${BASE_CLASS}-date-report-type`;\nexport const DATE_TYPE_DATE_SECTION_CLASS = `${DATE_TYPE_CLASS}--date`;\n","import { FC } from 'preact/compat';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport { TranslationKey } from '../../../../../translations';\nimport { IReport } from '../../../../../types';\nimport useFreezePeriod from '../../../../../hooks/useFreezePeriod';\nimport useTimezoneAwareDateFormatting from '../../../../../hooks/useTimezoneAwareDateFormatting';\nimport Alert from '../../../../internal/Alert/Alert';\nimport Icon from '../../../../internal/Icon';\nimport { AlertTypeOption } from '../../../../internal/Alert/types';\nimport DownloadButton from '../../../../internal/Button/DownloadButton/DownloadButton';\nimport DataGrid from '../../../../internal/DataGrid';\nimport { DATE_FORMAT_REPORTS } from '../../../../../constants';\nimport DataOverviewError from '../../../../internal/DataOverviewError/DataOverviewError';\nimport Pagination from '../../../../internal/Pagination';\nimport { PaginationProps, WithPaginationLimitSelection } from '../../../../internal/Pagination/types';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport { BASE_CLASS, DATE_TYPE_CLASS, DATE_TYPE_DATE_SECTION_CLASS, DISABLED_BUTTONS_TIMEOUT } from './constants';\nimport './ReportsTable.scss';\nimport { CustomColumn } from '../../../../types';\nimport { StringWithAutocompleteOptions } from '../../../../../utils/types';\nimport { useTableColumns } from '../../../../../hooks/useTableColumns';\nimport { getReportType } from '../../../../utils/translation/getters';\n\nexport const FIELDS = ['createdAt', 'dateAndReportType', 'reportType', 'reportFile'] as const;\nexport type ReportsTableFields = (typeof FIELDS)[number];\n\nconst FIELDS_KEYS = {\n    createdAt: 'reports.overview.list.fields.createdAt',\n    reportFile: 'reports.overview.list.fields.reportFile',\n    reportType: 'reports.overview.list.fields.reportType',\n} as const satisfies Partial<Record<ReportsTableFields, TranslationKey>>;\n\nexport interface ReportsTableProps extends WithPaginationLimitSelection<PaginationProps> {\n    balanceAccountId: string | undefined;\n    loading: boolean;\n    error?: AdyenPlatformExperienceError;\n    onContactSupport?: () => void;\n    showPagination: boolean;\n    data: IReport[] | undefined;\n    customColumns?: CustomColumn<StringWithAutocompleteOptions<ReportsTableFields>>[];\n}\n\nexport const ReportsTable: FC<ReportsTableProps> = ({\n    error,\n    loading,\n    balanceAccountId,\n    onContactSupport,\n    showPagination,\n    data,\n    customColumns,\n    ...paginationProps\n}) => {\n    const { i18n } = useCoreContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting('UTC');\n    const { freeze, frozen } = useFreezePeriod(DISABLED_BUTTONS_TIMEOUT);\n    const [alert, setAlert] = useState<null | { title: string; description: string }>(null);\n    const { refreshing } = useConfigContext();\n    const isLoading = useMemo(() => loading || refreshing, [loading, refreshing]);\n    const isSmAndUpContainer = useResponsiveContainer(containerQueries.up.sm);\n    const isXsAndDownContainer = useResponsiveContainer(containerQueries.down.xs);\n\n    const columns = useTableColumns({\n        customColumns,\n        fields: FIELDS,\n        fieldsKeys: FIELDS_KEYS,\n        columnConfig: useMemo(\n            () => ({\n                dateAndReportType: { visible: isXsAndDownContainer },\n                createdAt: { visible: isSmAndUpContainer },\n                reportType: { visible: isSmAndUpContainer },\n                reportFile: { visible: true, position: isXsAndDownContainer ? 'right' : undefined },\n            }),\n            [isSmAndUpContainer, isXsAndDownContainer]\n        ),\n    });\n\n    const removeAlert = useCallback(() => {\n        setAlert(null);\n    }, []);\n\n    const EMPTY_TABLE_MESSAGE = {\n        title: 'reports.overview.errors.listEmpty',\n        message: ['common.errors.updateFilters'],\n    } satisfies { title: TranslationKey; message: TranslationKey | TranslationKey[] };\n\n    const errorDisplay = useMemo(\n        () => () => <DataOverviewError error={error} errorMessage={'reports.overview.errors.listUnavailable'} onContactSupport={onContactSupport} />,\n        [error, onContactSupport]\n    );\n\n    const errorIcon = useMemo(() => <Icon name=\"warning\" />, []);\n\n    const onDownloadErrorAlert = useMemo(\n        () => (error?: AdyenPlatformExperienceError) => {\n            const alertDetails: Partial<{ key: number; description: string; title: string }> = {};\n            switch (error?.errorCode) {\n                case '999_429_001':\n                    alertDetails.title = i18n.get('reports.overview.errors.download');\n                    alertDetails.description = i18n.get('reports.overview.errors.tooManyDownloads');\n                    break;\n                case '00_500':\n                default:\n                    alertDetails.title = i18n.get('reports.overview.errors.download');\n                    alertDetails.description = i18n.get('reports.overview.errors.retryDownload');\n                    break;\n            }\n            setAlert(alertDetails as { title: string; description: string });\n        },\n        [i18n]\n    );\n\n    if (loading) setAlert(null);\n\n    return (\n        <div className={BASE_CLASS}>\n            {alert && <Alert onClose={removeAlert} type={AlertTypeOption.WARNING} className={'adyen-pe-reports-table-alert'} {...alert} />}\n            <DataGrid\n                errorDisplay={errorDisplay}\n                error={error}\n                columns={columns}\n                data={data}\n                loading={isLoading}\n                outline={false}\n                emptyTableMessage={EMPTY_TABLE_MESSAGE}\n                customCells={{\n                    createdAt: ({ value }) => {\n                        if (!value) return null;\n                        return (\n                            value && (\n                                <time dateTime={value}>\n                                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                                        {dateFormat(value, DATE_FORMAT_REPORTS)}\n                                    </Typography>\n                                </time>\n                            )\n                        );\n                    },\n                    dateAndReportType: ({ item }) => {\n                        return (\n                            <div className={DATE_TYPE_CLASS}>\n                                {item?.type && (\n                                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} stronger>\n                                        {getReportType(i18n, item.type)}\n                                    </Typography>\n                                )}\n                                <time dateTime={item.createdAt}>\n                                    <Typography className={DATE_TYPE_DATE_SECTION_CLASS} el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                                        {dateFormat(item.createdAt, DATE_FORMAT_REPORTS)}\n                                    </Typography>\n                                </time>\n                            </div>\n                        );\n                    },\n                    reportType: ({ item }) => {\n                        return (\n                            item?.type && (\n                                <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                                    {getReportType(i18n, item.type)}\n                                </Typography>\n                            )\n                        );\n                    },\n                    reportFile: ({ item }) => {\n                        const queryParam = {\n                            query: { balanceAccountId: balanceAccountId, createdAt: item.createdAt, type: item.type },\n                        };\n                        return (\n                            <DownloadButton\n                                className={'adyen-pe-reports-table--download'}\n                                endpointName={'downloadReport'}\n                                disabled={frozen}\n                                requestParams={queryParam}\n                                onDownloadRequested={freeze}\n                                setError={onDownloadErrorAlert}\n                                errorDisplay={errorIcon}\n                                aria-label={i18n.get('reports.overview.list.controls.downloadReport.label')}\n                            />\n                        );\n                    },\n                }}\n            >\n                {showPagination && (\n                    <DataGrid.Footer>\n                        <Pagination\n                            {...paginationProps}\n                            ariaLabelKey=\"reports.overview.pagination.label\"\n                            limitSelectAriaLabelKey=\"reports.overview.pagination.controls.limitSelect.label\"\n                        />\n                    </DataGrid.Footer>\n                )}\n            </DataGrid>\n        </div>\n    );\n};\n","export const BASE_CLASS = 'adyen-pe-reports-overview';\nexport const EARLIEST_PAYOUT_SINCE_DATE = new Date('2024-04-16T00:00:00.000Z').toString();\n","import { useCallback, useEffect, useMemo } from 'preact/hooks';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport { IBalanceAccountBase, IReport } from '../../../../../types';\nimport { isFunction } from '../../../../../utils';\nimport useBalanceAccountSelection from '../../../../../hooks/useBalanceAccountSelection';\nimport useDefaultOverviewFilterParams from '../../../../../hooks/useDefaultOverviewFilterParams';\nimport FilterBar, { FilterBarMobileSwitch, useFilterBarState } from '../../../../internal/FilterBar';\nimport DateFilter from '../../../../internal/FilterBar/filters/DateFilter/DateFilter';\nimport BalanceAccountSelector from '../../../../internal/FormFields/Select/BalanceAccountSelector';\nimport { DEFAULT_PAGE_LIMIT, LIMIT_OPTIONS } from '../../../../internal/Pagination/constants';\nimport { useCursorPaginatedRecords } from '../../../../internal/Pagination/hooks';\nimport { Header } from '../../../../internal/Header';\nimport { CustomDataRetrieved, ExternalUIComponentProps, FilterParam, ReportsOverviewComponentProps } from '../../../../types';\nimport { FIELDS, ReportsTable } from '../ReportsTable/ReportsTable';\nimport { BASE_CLASS, EARLIEST_PAYOUT_SINCE_DATE } from './constants';\nimport './ReportsOverview.scss';\nimport { useCustomColumnsData } from '../../../../../hooks/useCustomColumnsData';\nimport hasCustomField from '../../../../utils/customData/hasCustomField';\nimport mergeRecords from '../../../../utils/customData/mergeRecords';\n\nexport const ReportsOverview = ({\n    onFiltersChanged,\n    balanceAccounts,\n    allowLimitSelection = true,\n    preferredLimit = DEFAULT_PAGE_LIMIT,\n    isLoadingBalanceAccount,\n    onContactSupport,\n    hideTitle,\n    dataCustomization,\n}: ExternalUIComponentProps<\n    ReportsOverviewComponentProps & { balanceAccounts: IBalanceAccountBase[] | undefined; isLoadingBalanceAccount: boolean }\n>) => {\n    const { getReports: reportsEndpointCall } = useConfigContext().endpoints;\n    const { activeBalanceAccount, balanceAccountSelectionOptions, onBalanceAccountSelection } = useBalanceAccountSelection({ balanceAccounts });\n    const { defaultParams, nowTimestamp, refreshNowTimestamp } = useDefaultOverviewFilterParams('reports', activeBalanceAccount);\n\n    const getReports = useCallback(\n        async (pageRequestParams: Record<FilterParam | 'cursor', string>, signal?: AbortSignal) => {\n            const requestOptions = { signal, errorLevel: 'error' } as const;\n\n            return reportsEndpointCall!(requestOptions, {\n                query: {\n                    ...pageRequestParams,\n                    type: 'payout',\n                    createdSince:\n                        pageRequestParams[FilterParam.CREATED_SINCE] ?? defaultParams.current.defaultFilterParams[FilterParam.CREATED_SINCE],\n                    createdUntil:\n                        pageRequestParams[FilterParam.CREATED_UNTIL] ?? defaultParams.current.defaultFilterParams[FilterParam.CREATED_UNTIL],\n                    balanceAccountId: activeBalanceAccount?.id ?? '',\n                },\n            });\n        },\n        [activeBalanceAccount?.id, defaultParams, reportsEndpointCall]\n    );\n\n    // FILTERS\n    const filterBarState = useFilterBarState();\n    const _onFiltersChanged = useMemo(() => (isFunction(onFiltersChanged) ? onFiltersChanged : void 0), [onFiltersChanged]);\n    const preferredLimitOptions = useMemo(() => (allowLimitSelection ? LIMIT_OPTIONS : undefined), [allowLimitSelection]);\n\n    const { canResetFilters, error, fetching, filters, limit, limitOptions, records, resetFilters, updateFilters, updateLimit, ...paginationProps } =\n        useCursorPaginatedRecords<IReport, 'data', string, FilterParam>({\n            fetchRecords: getReports,\n            dataField: 'data',\n            filterParams: defaultParams.current.defaultFilterParams,\n            initialFiltersSameAsDefault: true,\n            onFiltersChanged: _onFiltersChanged,\n            preferredLimit,\n            preferredLimitOptions,\n            enabled: !!activeBalanceAccount?.id && !!reportsEndpointCall,\n        });\n\n    const mergeCustomData = useCallback(\n        ({ records, retrievedData }: { records: IReport[]; retrievedData: CustomDataRetrieved[] }) =>\n            mergeRecords(records, retrievedData, (modifiedRecord, record) => modifiedRecord.createdAt === record.createdAt),\n        []\n    );\n\n    const hasCustomColumn = useMemo(() => hasCustomField(dataCustomization?.list?.fields, FIELDS), [dataCustomization?.list?.fields]);\n    const { customRecords: reports, loadingCustomRecords } = useCustomColumnsData<IReport>({\n        records,\n        hasCustomColumn,\n        onDataRetrieve: dataCustomization?.list?.onDataRetrieve,\n        mergeCustomData,\n    });\n\n    useEffect(() => {\n        refreshNowTimestamp();\n    }, [filters, refreshNowTimestamp]);\n\n    return (\n        <div className={BASE_CLASS}>\n            <Header hideTitle={hideTitle} titleKey=\"reports.overview.title\" subtitleKey=\"reports.overview.generateInfo\">\n                <FilterBarMobileSwitch {...filterBarState} />\n            </Header>\n            <FilterBar {...filterBarState} ariaLabelKey=\"reports.overview.filters.label\">\n                <BalanceAccountSelector\n                    activeBalanceAccount={activeBalanceAccount}\n                    balanceAccountSelectionOptions={balanceAccountSelectionOptions}\n                    onBalanceAccountSelection={onBalanceAccountSelection}\n                />\n                <DateFilter\n                    canResetFilters={canResetFilters}\n                    defaultParams={defaultParams}\n                    filters={filters}\n                    nowTimestamp={nowTimestamp}\n                    refreshNowTimestamp={refreshNowTimestamp}\n                    sinceDate={EARLIEST_PAYOUT_SINCE_DATE}\n                    timezone={'UTC'}\n                    updateFilters={updateFilters}\n                />\n            </FilterBar>\n            <ReportsTable\n                balanceAccountId={activeBalanceAccount?.id}\n                loading={fetching || isLoadingBalanceAccount || !balanceAccounts || !activeBalanceAccount || loadingCustomRecords}\n                data={dataCustomization?.list?.onDataRetrieve ? reports : records}\n                showPagination={true}\n                limit={limit}\n                limitOptions={limitOptions}\n                onContactSupport={onContactSupport}\n                onLimitSelection={updateLimit}\n                error={error as AdyenPlatformExperienceError}\n                customColumns={dataCustomization?.list?.fields}\n                {...paginationProps}\n            />\n        </div>\n    );\n};\n","export const BASE_CLASS = 'adyen-pe-reports-overview-container';\n","import useBalanceAccounts from '../../../../../hooks/useBalanceAccounts';\nimport DataOverviewContainer from '../../../../internal/DataOverviewContainer/DataOverviewContainer';\nimport type { ExternalUIComponentProps, ReportsOverviewComponentProps } from '../../../../types';\nimport { ReportsOverview } from '../ReportsOverview/ReportsOverview';\nimport { BASE_CLASS } from './constants';\n\nfunction ReportsOverviewContainer({ ...props }: ExternalUIComponentProps<ReportsOverviewComponentProps>) {\n    const { balanceAccounts, isBalanceAccountIdWrong, isFetching, error } = useBalanceAccounts(props.balanceAccountId);\n\n    return (\n        <DataOverviewContainer\n            balanceAccountsError={error}\n            className={BASE_CLASS}\n            errorMessage={'reports.overview.errors.unavailable'}\n            isBalanceAccountIdWrong={isBalanceAccountIdWrong}\n            onContactSupport={props.onContactSupport}\n        >\n            <ReportsOverview {...props} balanceAccounts={balanceAccounts} isLoadingBalanceAccount={isFetching} />\n        </DataOverviewContainer>\n    );\n}\nexport default ReportsOverviewContainer;\n","import { _UIComponentProps, ExternalComponentType, ReportsOverviewComponentProps } from '../../types';\nimport Reports from './components/ReportsOverviewContainer/ReportsOverviewContainer';\nimport UIElement from '../UIElement/UIElement';\n\nexport class ReportsElement extends UIElement<ReportsOverviewComponentProps> {\n    public static type: ExternalComponentType = 'reports';\n\n    constructor(props: _UIComponentProps<ReportsOverviewComponentProps>) {\n        super(props);\n        this.componentToRender = this.componentToRender.bind(this);\n    }\n\n    public componentToRender = () => {\n        return <Reports {...this.props} />;\n    };\n}\n\nexport default ReportsElement;\n","import { BaseEventProperties } from '../../../core/Analytics/analytics/user-events';\n\nexport const CAPITAL_OVERVIEW_CLASS_NAMES = {\n    base: 'adyen-pe-capital-overview',\n    title: 'adyen-pe-capital-overview__title',\n    skeleton: 'adyen-pe-capital-overview__skeleton',\n    headerSkeleton: 'adyen-pe-capital-overview__header-skeleton',\n    skeletonContainer: 'adyen-pe-capital-overview__header-skeleton-container',\n    preQualifiedGrant: 'adyen-pe-capital-overview__pre-qualified-grant',\n    preQualifiedGrantButton: 'adyen-pe-capital-overview__pre-qualified-grant-review-button',\n    errorContainer: 'adyen-pe-capital-overview__error-container',\n};\n\nexport const sharedCapitalOverviewAnalyticsEventProperties = {\n    componentName: 'capitalOverview' satisfies BaseEventProperties['componentName'],\n    category: 'Capital overview component',\n} as const;\n","import useCoreContext from '../../../../core/Context/useCoreContext';\nimport Typography from '../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../internal/Typography/types';\nimport { CapitalHeader } from '../../../internal/CapitalHeader';\n\nconst Unqualified = ({ hideTitle }: { hideTitle?: boolean }) => {\n    const { i18n, getImageAsset } = useCoreContext();\n\n    return (\n        <>\n            <CapitalHeader hideTitle={hideTitle} titleKey={'capital.overview.common.titles.qualificationIntro'} />\n            <div className={'adyen-pe-capital-overview__unqualified-state'}>\n                <div className=\"adyen-pe-capital-overview__unqualified-state-img\">\n                    <img srcSet={getImageAsset?.({ name: 'generic-use-first-touch' })} alt=\"\" />\n                </div>\n                <Typography el={TypographyElement.PARAGRAPH} variant={TypographyVariant.BODY} large>\n                    {i18n.get('capital.overview.unqualified.soonQualifyInfo')}\n                </Typography>\n            </div>\n        </>\n    );\n};\n\nexport default Unqualified;\n","import { useCallback } from 'preact/hooks';\nimport { CAPITAL_OVERVIEW_CLASS_NAMES, sharedCapitalOverviewAnalyticsEventProperties } from '../constants';\nimport { useLandedPageEvent } from '../../../../hooks/useAnalytics/useLandedPageEvent';\nimport InfoBox from '../../../internal/InfoBox';\nimport Button from '../../../internal/Button/Button';\nimport useAnalyticsContext from '../../../../core/Context/analytics/useAnalyticsContext';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport { IDynamicOffersConfig } from '../../../../types';\nimport { CapitalHeader } from '../../../internal/CapitalHeader';\nimport Typography from '../../../internal/Typography/Typography';\nimport { TypographyVariant } from '../../../internal/Typography/types';\n\nconst sharedAnalyticsEventProperties = {\n    ...sharedCapitalOverviewAnalyticsEventProperties,\n    subCategory: 'Prequalified',\n} as const;\n\nconst PreQualifiedIntro = ({\n    dynamicOfferConfig,\n    hideTitle,\n    onOfferOptionsRequest,\n}: {\n    dynamicOfferConfig: Required<IDynamicOffersConfig>;\n    hideTitle?: boolean;\n    onOfferOptionsRequest: () => void;\n}) => {\n    const { i18n } = useCoreContext();\n    const userEvents = useAnalyticsContext();\n\n    const onOfferOptionsRequestWithTracking = useCallback<typeof onOfferOptionsRequest>(() => {\n        try {\n            return onOfferOptionsRequest();\n        } finally {\n            userEvents.addEvent?.('Clicked button', { ...sharedAnalyticsEventProperties, label: 'See options' });\n        }\n    }, [onOfferOptionsRequest, userEvents]);\n\n    useLandedPageEvent({ ...sharedAnalyticsEventProperties, label: 'Capital overview' });\n\n    return (\n        <>\n            <CapitalHeader hideTitle={hideTitle} titleKey={'capital.overview.common.titles.qualificationIntro'} />\n            <div className={CAPITAL_OVERVIEW_CLASS_NAMES.preQualifiedGrant}>\n                <InfoBox>\n                    <Typography variant={TypographyVariant.BODY}>\n                        {i18n.get('capital.overview.prequalified.alreadyQualifyInfo.part1')}\n                        <strong>\n                            {i18n.get('capital.overview.prequalified.alreadyQualifyInfo.part2', {\n                                values: {\n                                    amount: i18n.amount(dynamicOfferConfig.maxAmount.value, dynamicOfferConfig.maxAmount.currency, {\n                                        minimumFractionDigits: 0,\n                                    }),\n                                },\n                            })}\n                        </strong>\n                    </Typography>\n                </InfoBox>\n                <Button className={CAPITAL_OVERVIEW_CLASS_NAMES.preQualifiedGrantButton} onClick={onOfferOptionsRequestWithTracking}>\n                    {i18n.get('capital.overview.prequalified.actions.seeOptions')}\n                </Button>\n            </div>\n        </>\n    );\n};\n\nexport default PreQualifiedIntro;\n","import { IDynamicOffersConfig, IGrant } from '../../../../../types';\nimport PreQualifiedIntro from '../PreQualifiedIntro';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport { CapitalOffer } from '../../../CapitalOffer/components/CapitalOffer/CapitalOffer';\n\ntype PreQualifiedProps = {\n    dynamicOffer: Required<IDynamicOffersConfig>;\n    hideTitle: boolean | undefined;\n    onFundsRequest: (data: IGrant) => void;\n    onOfferDismiss?: () => void;\n    onOfferOptionsRequest?: () => void;\n    skipPreQualifiedIntro?: boolean;\n};\n\nexport const PreQualified = ({\n    hideTitle,\n    dynamicOffer,\n    skipPreQualifiedIntro,\n    onOfferOptionsRequest,\n    onFundsRequest,\n    onOfferDismiss,\n}: PreQualifiedProps) => {\n    const [state, setState] = useState<'intro' | 'capitalOffer'>(skipPreQualifiedIntro ? 'capitalOffer' : 'intro');\n\n    const handleOfferOptionsRequest = useCallback(() => {\n        onOfferOptionsRequest ? onOfferOptionsRequest() : setState('capitalOffer');\n    }, [onOfferOptionsRequest]);\n\n    const isOfferDismissButtonVisible = useMemo(() => !skipPreQualifiedIntro || !!onOfferDismiss, [onOfferDismiss, skipPreQualifiedIntro]);\n    const handleOfferDismiss = useCallback(() => {\n        onOfferDismiss ? onOfferDismiss() : setState('intro');\n    }, [onOfferDismiss]);\n\n    return (\n        <>\n            {state === 'intro' ? (\n                <PreQualifiedIntro hideTitle={hideTitle} dynamicOfferConfig={dynamicOffer} onOfferOptionsRequest={handleOfferOptionsRequest} />\n            ) : (\n                <CapitalOffer\n                    onFundsRequest={onFundsRequest}\n                    onOfferDismiss={isOfferDismissButtonVisible ? handleOfferDismiss : undefined}\n                    externalDynamicOffersConfig={dynamicOffer}\n                />\n            )}\n        </>\n    );\n};\n","export const BASE_CLASS = 'adyen-pe-base-list';\n","import './BaseList.scss';\nimport { BASE_CLASS } from './constants';\nimport { FC } from 'preact/compat';\nimport { BaseListProps } from './types';\nimport cx from 'classnames';\n\nexport const BaseList: FC<BaseListProps> = ({ children, classNames }) => {\n    return <ul className={cx(BASE_CLASS, [classNames])}>{children}</ul>;\n};\n","import { useMemo } from 'preact/hooks';\nimport cx from 'classnames';\nimport './ProgressBar.scss';\nimport Typography from '../Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../Typography/types';\nimport { clamp } from '../../../utils';\nimport { Tooltip } from '../Tooltip/Tooltip';\n\ninterface ProgressBarProps {\n    /**\n     * Maximum value for the progress bar.\n     *\n     * @default 1\n     */\n    max?: number;\n\n    /**\n     * Current value of the progress bar.\n     */\n    value: number;\n\n    /**\n     * Labels for the progress bar\n     */\n    labels?: {\n        /**\n         * The label that describes the current value of the progress bar.\n         */\n        current?: string;\n\n        /**\n         * The label that describes the maximum value of the progress bar.\n         */\n        max?: string;\n\n        /**\n         * Accessible label for the progress bar (optional).\n         */\n        ariaLabel?: string;\n    };\n\n    /**\n     * Tooltips for the progress bar segments.\n     */\n    tooltips?: {\n        /**\n         * Tooltip content to describe the filled portion of the progress bar (progress).\n         */\n        progress?: string;\n\n        /**\n         * Tooltip content to describe the remaining portion of the progress bar.\n         */\n        remaining?: string;\n    };\n\n    /**\n     * Optional custom class name to apply additional styles to the progress bar component.\n     */\n    className?: string;\n}\n\n/**\n * Accessible custom ProgressBar component\n * @param props - ProgressBarProps\n */\nconst ProgressBar = ({ max = 1, value, labels, tooltips, className }: ProgressBarProps) => {\n    const percentage = useMemo(() => clamp(0, (value * 100) / max, 100), [value, max]);\n    const shouldDisplayLegend = !!(labels?.current || labels?.max);\n    const ariaLabel = labels?.ariaLabel ?? (labels?.current ? `${labels.current}: ${value}` : `${value}/${max}`);\n\n    return (\n        <div\n            role=\"progressbar\"\n            aria-valuenow={value}\n            aria-valuemin={0}\n            aria-valuemax={max}\n            aria-valuetext={`${percentage}%`}\n            aria-label={ariaLabel}\n            className={cx('adyen-pe-progress-bar', className)}\n        >\n            <div className=\"adyen-pe-progress-bar__track\" role=\"presentation\">\n                <div className=\"adyen-pe-progress-bar__track-background\"></div>\n                <ProgressBarSegment\n                    tooltipContent={tooltips?.progress}\n                    title={labels?.current}\n                    percentage={percentage}\n                    className=\"adyen-pe-progress-bar__track-fill\"\n                />\n                <ProgressBarSegment\n                    tooltipContent={tooltips?.remaining}\n                    title={labels?.max}\n                    percentage={100 - percentage}\n                    className=\"adyen-pe-progress-bar__track-remaining\"\n                />\n            </div>\n\n            {shouldDisplayLegend && (\n                <div className=\"adyen-pe-progress-bar__legend\" aria-hidden=\"true\">\n                    {labels.current && (\n                        <Typography el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION} className=\"adyen-pe-progress-bar__legend-label\">\n                            {labels.current}\n                        </Typography>\n                    )}\n                    {labels.max && (\n                        <Typography el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION} className=\"adyen-pe-progress-bar__legend-label\">\n                            {labels.max}\n                        </Typography>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n};\ninterface ProgressBarSegmentProps {\n    tooltipContent?: string;\n    title?: string;\n    percentage: number;\n    className: string;\n}\nconst ProgressBarSegment = ({ tooltipContent, title, percentage, className }: ProgressBarSegmentProps) => {\n    const getContent = (title?: string) => <div className={className} aria-label={title} style={{ width: `${percentage}%` }} />;\n    return tooltipContent ? <Tooltip content={tooltipContent}>{getContent(title)}</Tooltip> : getContent(title);\n};\n\nexport default ProgressBar;\n","export const GRANT_ITEM_CLASS_NAMES = {\n    base: 'adyen-pe-grant-item',\n    actionsBar: 'adyen-pe-grant-item__actions-bar',\n    alert: 'adyen-pe-grant-item__alert',\n    cardContent: 'adyen-pe-grant-item__card-content',\n    grantID: 'adyen-pe-grant-item__grant-id',\n    mainActionBtn: 'adyen-pe-grant-item__main-action-button',\n    progressBar: 'adyen-pe-grant-item__progress-bar',\n    statusContainer: 'adyen-pe-grant-item__status-container',\n    textSecondary: 'adyen-pe-grant-item__text--secondary',\n};\n","import { IGrant, IGrantStatus } from '../../../../../types';\nimport { TranslationKey } from '../../../../../translations';\nimport { TagVariant } from '../../../../internal/Tag/types';\nimport { GrantConfig } from './types';\n\nconst getHasDetails = (status: IGrantStatus) => status === 'Active';\n\nconst getIsBackgroundFilled = (status: IGrantStatus) => status === 'Repaid';\n\nconst getAmountLabelKey = (status: IGrantStatus): TranslationKey =>\n    status === 'Active' ? 'capital.overview.grants.item.amounts.remaining' : 'capital.overview.grants.item.amounts.requestedFunds';\n\nconst getAmount = (grant: IGrant) => (grant.status === 'Active' ? grant.remainingTotalAmount : grant.grantAmount);\n\nconst getStatusKey = ({ status, missingActions }: IGrant): TranslationKey | undefined => {\n    switch (status) {\n        case 'Active':\n            return undefined;\n        case 'Failed':\n            return 'capital.overview.grants.common.statuses.failed';\n        case 'Pending':\n            return missingActions && missingActions.length\n                ? 'capital.overview.grants.common.statuses.actionNeeded'\n                : 'capital.overview.grants.common.statuses.pending';\n        case 'Repaid':\n            return 'capital.overview.grants.common.statuses.fullyRepaid';\n        case 'Revoked':\n            return 'capital.overview.grants.common.statuses.revoked';\n        case 'WrittenOff':\n            return 'capital.overview.grants.common.statuses.writtenOff';\n    }\n};\n\nconst getStatusTagVariant = ({ status, missingActions }: IGrant): TagVariant => {\n    switch (status) {\n        case 'Failed':\n            return TagVariant.ERROR;\n        case 'Pending':\n            return missingActions?.length ? TagVariant.WARNING : TagVariant.DEFAULT;\n        case 'Repaid':\n            return TagVariant.LIGHT;\n        case 'Revoked':\n        case 'WrittenOff':\n            return TagVariant.WARNING;\n        default:\n            return TagVariant.DEFAULT;\n    }\n};\n\nconst getRepaymentPeriodEndDate = (repaymentPeriodLeft: number) => {\n    const today = new Date();\n    const endDate = new Date();\n    endDate.setDate(today.getDate() + repaymentPeriodLeft);\n    return endDate;\n};\n\nexport const getStatusTooltipKey = (grant: IGrant): TranslationKey | undefined => {\n    const pendingToS = grant.missingActions?.some(action => action.type === 'signToS') || false;\n\n    switch (grant.status) {\n        case 'Pending':\n            return grant.missingActions?.length\n                ? pendingToS\n                    ? 'capital.overview.grants.common.statuses.pending.description.signTerms'\n                    : undefined\n                : 'capital.overview.grants.common.statuses.pending.description.awaitingFunds';\n        case 'Failed':\n            return 'capital.overview.grants.common.statuses.failed.description';\n        case 'WrittenOff':\n            return 'capital.overview.grants.common.statuses.writtenOff.description';\n        case 'Revoked':\n            return 'capital.overview.grants.common.statuses.revoked.description';\n        default:\n            return undefined;\n    }\n};\n\nexport const getGrantConfig = (grant: IGrant): GrantConfig => {\n    const isGrantActive = grant.status === 'Active';\n    const isGrantPending = grant.status === 'Pending';\n\n    return {\n        amount: getAmount(grant),\n        amountLabelKey: getAmountLabelKey(grant.status),\n        hasAlerts: isGrantPending,\n        hasDetails: getHasDetails(grant.status),\n        hasUnscheduledRepaymentDetails: isGrantActive && !!grant.unscheduledRepaymentAccounts?.length,\n        // The grant revocation account details is currently not ready to be rendered.\n        // A future iteration of this component might include revocation account details.\n        // Only then should the following line be uncommented.\n        //\n        // hasRevocationDetails: isGrantActive && grant.revocationAccount !== undefined,\n        isAmountColorSecondary: !isGrantActive,\n        isBackgroundFilled: getIsBackgroundFilled(grant.status),\n        isGrantIdVisible: !isGrantActive,\n        isLabelColorSecondary: isGrantActive,\n        isProgressBarVisible: isGrantActive,\n        repaymentPeriodEndDate: getRepaymentPeriodEndDate(grant.repaymentPeriodLeft),\n        statusKey: getStatusKey(grant),\n        statusTagVariant: getStatusTagVariant(grant),\n        statusTooltipKey: getStatusTooltipKey(grant),\n    };\n};\n","export const GRANT_DETAILS_CLASS_NAMES = {\n    base: 'adyen-pe-grant-details',\n    content: 'adyen-pe-grant-details__content',\n    header: 'adyen-pe-grant-details__header',\n    label: 'adyen-pe-grant-details__label',\n};\n","import { FunctionalComponent } from 'preact';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport { GRANT_DETAILS_CLASS_NAMES } from './constants';\nimport { GrantDetailsProps } from './types';\nimport './GrantDetails.scss';\nimport StructuredList from '../../../../internal/StructuredList';\nimport { StructuredListItem } from '../../../../internal/StructuredList/types';\nimport { getPercentage } from '../../../CapitalOffer/components/utils/utils';\nimport { Translation } from '../../../../internal/Translation';\nimport { Tooltip } from '../../../../internal/Tooltip/Tooltip';\nimport { CAPITAL_REPAYMENT_FREQUENCY } from '../../../../constants';\n\nexport const GrantDetails: FunctionalComponent<GrantDetailsProps> = ({ grant }) => {\n    const { i18n } = useCoreContext();\n    const formatAmount = useCallback((amount: { value: number; currency: string }) => i18n.amount(amount.value, amount.currency), [i18n]);\n    const structuredListItems = useMemo<StructuredListItem[]>(() => {\n        const maximumRepaymentPeriodMonths = grant.maximumRepaymentPeriodDays ? Math.ceil(grant.maximumRepaymentPeriodDays / 30) : null;\n        const items: StructuredListItem[] = [\n            {\n                key: 'capital.common.fields.remainingAmount',\n                value: i18n.amount(grant.remainingGrantAmount.value, grant.remainingGrantAmount.currency),\n            },\n            { key: 'capital.common.fields.remainingFees', value: formatAmount(grant.remainingFeesAmount) },\n            { key: 'capital.common.fields.repaidAmount', value: formatAmount(grant.repaidGrantAmount) },\n            { key: 'capital.common.fields.repaidFees', value: formatAmount(grant.repaidFeesAmount) },\n            {\n                key: 'capital.common.fields.dailyRepaymentRate',\n                value: `${i18n.get('capital.common.values.percentage', {\n                    values: { percentage: getPercentage(grant.repaymentRate) },\n                })}`,\n            },\n            {\n                key: 'capital.common.fields.expectedRepaymentPeriod',\n                value: i18n.get('capital.common.values.daysWithDaysLeft', {\n                    values: {\n                        days: grant.expectedRepaymentPeriodDays,\n                        daysLeft: grant.repaymentPeriodLeft,\n                    },\n                }),\n            },\n            { key: 'capital.common.fields.totalFees', value: formatAmount(grant.feesAmount) },\n            { key: 'capital.common.fields.totalRepaymentAmount', value: formatAmount(grant.totalAmount) },\n            { key: 'capital.common.fields.repaymentThreshold', value: formatAmount(grant.thresholdAmount) },\n            { key: 'capital.common.fields.grantID', value: grant.id },\n            { key: 'capital.common.fields.accountDescription', value: grant.balanceAccountDescription },\n            { key: 'capital.common.fields.accountID', value: grant.balanceAccountCode },\n        ];\n\n        if (maximumRepaymentPeriodMonths) {\n            items.splice(5, 0, {\n                key: 'capital.common.fields.maximumRepaymentPeriod',\n                value: i18n.get('capital.common.values.numberOfMonths', { values: { months: maximumRepaymentPeriodMonths } }),\n            });\n        }\n\n        return items;\n    }, [grant, formatAmount, i18n]);\n\n    return (\n        <div className={GRANT_DETAILS_CLASS_NAMES.base}>\n            <div className={GRANT_DETAILS_CLASS_NAMES.content}>\n                <div className={GRANT_DETAILS_CLASS_NAMES.header}>\n                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                        <Typography el={TypographyElement.PARAGRAPH} variant={TypographyVariant.BODY}>\n                            <Translation\n                                translationKey=\"capital.overview.grants.item.details.requestedFunds\"\n                                fills={{\n                                    amount: (\n                                        <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} strongest>\n                                            {i18n.amount(grant.grantAmount.value, grant.grantAmount.currency)}\n                                        </Typography>\n                                    ),\n                                }}\n                            />\n                        </Typography>\n                    </Typography>\n                </div>\n                <StructuredList\n                    renderLabel={(val, key) =>\n                        key === 'capital.common.fields.repaymentThreshold' ? (\n                            <Tooltip\n                                isUnderlineVisible\n                                content={i18n.get('capital.common.fields.repaymentThreshold.description', {\n                                    values: { days: CAPITAL_REPAYMENT_FREQUENCY },\n                                })}\n                            >\n                                <span>\n                                    <Typography\n                                        className={GRANT_DETAILS_CLASS_NAMES.label}\n                                        el={TypographyElement.SPAN}\n                                        variant={TypographyVariant.CAPTION}\n                                    >\n                                        {val}\n                                    </Typography>\n                                </span>\n                            </Tooltip>\n                        ) : (\n                            <Typography className={GRANT_DETAILS_CLASS_NAMES.label} el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION}>\n                                {val}\n                            </Typography>\n                        )\n                    }\n                    renderValue={val => (\n                        <Typography el={TypographyElement.SPAN} stronger variant={TypographyVariant.CAPTION}>\n                            {val}\n                        </Typography>\n                    )}\n                    items={structuredListItems}\n                />\n            </div>\n        </div>\n    );\n};\n","export const GRANT_ACTION_CLASS_NAMES = {\n    button: 'adyen-pe-grant-action__button',\n    buttonLabel: 'adyen-pe-grant-action__button-label',\n    actionsContainer: 'adyen-pe-grant-action__actions-container',\n    actionsInformation: 'adyen-pe-grant-action__actions-information',\n};\n","/**\n * Gets the href from the topmost window (useful when we're inside an iframe).\n *\n * @returns The href from the topmost window\n */\nexport const getTopWindowHref = () => {\n    // To get the top level href\n    return window.top?.location.href || window.location.href;\n};\n\n/**\n * Sets the href of the topmost window (useful when we're inside an iframe)\n *\n * @param href - The href value to be set\n */\nexport const setTopWindowHref = (href: string) => {\n    if (window.top) {\n        // To set the top level href (useful when component is rendered inside an iframe)\n        window.top.location.href = href;\n    } else {\n        window.location.href = href;\n    }\n};\n","import { FunctionalComponent } from 'preact';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport useAnalyticsContext from '../../../../../core/Context/analytics/useAnalyticsContext';\nimport useTimezoneAwareDateFormatting from '../../../../../hooks/useTimezoneAwareDateFormatting';\nimport { DATE_FORMAT_MISSING_ACTION } from '../../../../../constants';\nimport { GRANT_ACTION_CLASS_NAMES } from './constants';\nimport './GrantActions.scss';\nimport Alert from '../../../../internal/Alert/Alert';\nimport { AlertTypeOption } from '../../../../internal/Alert/types';\nimport Button from '../../../../internal/Button';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport { getTopWindowHref, setTopWindowHref } from './utils';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport { IGrant } from '../../../../../types';\nimport useMutation from '../../../../../hooks/useMutation/useMutation';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport { sharedCapitalOverviewAnalyticsEventProperties } from '../../constants';\n\ntype ActionType = NonNullable<IGrant['missingActions']>[number]['type'];\n\nexport const GrantActions: FunctionalComponent<{ missingActions: IGrant['missingActions']; offerExpiresAt?: string; className?: string }> = ({\n    missingActions = [],\n    offerExpiresAt,\n    className,\n}) => {\n    const { i18n, updateCore } = useCoreContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting();\n    const { endpoints } = useConfigContext();\n\n    const userEvents = useAnalyticsContext();\n\n    const ACTION_CONFIG = useMemo(\n        () =>\n            ({\n                signToS: {\n                    getTitle: (formattedDate: string | undefined) =>\n                        formattedDate\n                            ? i18n.get('capital.overview.grants.item.alerts.signTermsAndConditionsBy', {\n                                  values: { date: formattedDate },\n                              })\n                            : i18n.get('capital.overview.grants.item.alerts.signTermsAndConditions'),\n                    buttonLabelKey: 'capital.overview.grants.item.actions.viewTermsAndConditions',\n                    eventLabel: 'Go to terms & conditions button clicked',\n                },\n                AnaCredit: {\n                    getTitle: (formattedDate: string | undefined) =>\n                        formattedDate\n                            ? i18n.get('capital.overview.grants.item.alerts.actionNeededBy', {\n                                  values: { date: formattedDate },\n                              })\n                            : i18n.get('capital.overview.grants.item.alerts.actionNeeded'),\n                    buttonLabelKey: 'capital.overview.grants.item.actions.submitInformation',\n                    eventLabel: 'Submit information for AnaCredit button',\n                },\n            }) as const,\n        [i18n]\n    );\n\n    // Use local state to track which action is loading\n    const [loadingAction, setLoadingAction] = useState<ActionType | null>(null);\n\n    const onRedirect = useCallback((data: { url: string } | undefined) => {\n        if (data?.url) {\n            setTopWindowHref(data.url);\n        } else {\n            // If the request was successful but no URL was returned, reset loading state.\n            setLoadingAction(null);\n        }\n    }, []);\n\n    const actionMutation = useMutation({\n        queryFn: (actionType: ActionType) => {\n            let endpointByAction = null;\n\n            switch (actionType) {\n                case 'signToS':\n                    endpointByAction = endpoints.signToSActionDetails;\n                    break;\n                case 'AnaCredit':\n                    endpointByAction = endpoints.anaCreditActionDetails;\n                    break;\n                default:\n                    break;\n            }\n\n            const endpoint = endpointByAction;\n\n            const callbackQuery = {\n                query: { redirectUrl: getTopWindowHref(), locale: i18n.locale },\n            };\n\n            return endpoint?.(EMPTY_OBJECT, callbackQuery);\n        },\n        options: {\n            onSuccess: onRedirect,\n            // Reset the loading state when the mutation finishes (success or error)\n            onError: () => {\n                setLoadingAction(null);\n            },\n        },\n    });\n\n    const formattedExpiryDate = useMemo(\n        () => (offerExpiresAt ? dateFormat(offerExpiresAt, DATE_FORMAT_MISSING_ACTION) : undefined),\n        [dateFormat, offerExpiresAt]\n    );\n\n    const logMissingActionEvent = useCallback(\n        (label: string) => {\n            userEvents.addEvent?.('Clicked link', {\n                ...sharedCapitalOverviewAnalyticsEventProperties,\n                subCategory: 'Missing action',\n                label,\n            });\n        },\n        [userEvents]\n    );\n\n    if (actionMutation.error) {\n        return (\n            <Alert\n                className={className}\n                type={AlertTypeOption.CRITICAL}\n                title={i18n.get('capital.overview.grants.item.alerts.somethingWentWrong')}\n                description={\n                    <Button className={GRANT_ACTION_CLASS_NAMES.button} onClick={updateCore}>\n                        {i18n.get('common.actions.refresh.labels.default')}\n                    </Button>\n                }\n            />\n        );\n    }\n\n    if (!missingActions.length) {\n        return null;\n    }\n\n    if (missingActions.length > 1) {\n        return (\n            <Alert\n                className={className}\n                type={AlertTypeOption.WARNING}\n                title={i18n.get('capital.overview.grants.item.alerts.actionNeededMany')}\n                description={\n                    <div className={GRANT_ACTION_CLASS_NAMES.actionsInformation}>\n                        <ol className={GRANT_ACTION_CLASS_NAMES.actionsContainer}>\n                            {missingActions.map(action => {\n                                const config = ACTION_CONFIG[action.type];\n                                const isLoading = loadingAction === action.type;\n                                return (\n                                    <li key={action.type}>\n                                        <Button\n                                            className={GRANT_ACTION_CLASS_NAMES.button}\n                                            // Set the loading action before mutating\n                                            onClick={() => {\n                                                try {\n                                                    setLoadingAction(action.type);\n                                                    void actionMutation.mutate(action.type);\n                                                } finally {\n                                                    logMissingActionEvent(config.eventLabel);\n                                                }\n                                            }}\n                                            // Disable all if any is loading\n                                            disabled={isLoading || actionMutation.isLoading}\n                                            state={isLoading ? 'loading' : undefined}\n                                            variant={ButtonVariant.TERTIARY}\n                                            aria-label={i18n.get(config.buttonLabelKey)}\n                                        >\n                                            <span className={GRANT_ACTION_CLASS_NAMES.buttonLabel}>{i18n.get(config.buttonLabelKey)}</span>\n                                        </Button>\n                                    </li>\n                                );\n                            })}\n                        </ol>\n                        {formattedExpiryDate ? (\n                            <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} strongest>\n                                {i18n.get('capital.overview.grants.item.alerts.offerExpiration', { values: { date: formattedExpiryDate } })}\n                            </Typography>\n                        ) : null}\n                    </div>\n                }\n            />\n        );\n    }\n\n    const singleAction = missingActions[0]!;\n    const config = ACTION_CONFIG[singleAction.type];\n\n    return (\n        <Alert\n            className={className}\n            type={AlertTypeOption.WARNING}\n            title={config.getTitle(formattedExpiryDate)}\n            description={\n                <Button\n                    className={GRANT_ACTION_CLASS_NAMES.button}\n                    onClick={() => {\n                        try {\n                            setLoadingAction(singleAction.type);\n                            void actionMutation.mutate(singleAction.type);\n                        } finally {\n                            logMissingActionEvent(config.eventLabel);\n                        }\n                    }}\n                    disabled={!!loadingAction}\n                    state={loadingAction ? 'loading' : undefined}\n                    variant={ButtonVariant.TERTIARY}\n                    aria-label={i18n.get(config.buttonLabelKey)}\n                >\n                    <span className={GRANT_ACTION_CLASS_NAMES.buttonLabel}>{i18n.get(config.buttonLabelKey)}</span>\n                </Button>\n            }\n        />\n    );\n};\n","import { FunctionalComponent } from 'preact';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport cx from 'classnames';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport useAnalyticsContext from '../../../../../core/Context/analytics/useAnalyticsContext';\nimport useTimezoneAwareDateFormatting from '../../../../../hooks/useTimezoneAwareDateFormatting';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport { Tag } from '../../../../internal/Tag/Tag';\nimport ProgressBar from '../../../../internal/ProgressBar';\nimport { DATE_FORMAT_CAPITAL_OVERVIEW } from '../../../../../constants';\nimport { GRANT_ITEM_CLASS_NAMES } from './constants';\nimport { getGrantConfig } from './utils';\nimport { GrantItemProps } from './types';\nimport './GrantItem.scss';\nimport { GrantDetails } from '../GrantDetails/GrantDetails';\nimport CopyText from '../../../../internal/CopyText/CopyText';\nimport { Tooltip } from '../../../../internal/Tooltip/Tooltip';\nimport Alert from '../../../../internal/Alert/Alert';\nimport Button from '../../../../internal/Button';\nimport { AlertTypeOption } from '../../../../internal/Alert/types';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport ExpandableCard from '../../../../internal/ExpandableCard/ExpandableCard';\nimport { GrantActions } from '../GrantActions/GrantActions';\nimport { sharedCapitalOverviewAnalyticsEventProperties } from '../../constants';\nimport { uniqueId } from '../../../../../utils';\nimport { Translation } from '../../../../internal/Translation';\n\nexport const GrantItem: FunctionalComponent<GrantItemProps> = ({ grant, showDetails }) => {\n    const { i18n } = useCoreContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting();\n    const userEvents = useAnalyticsContext();\n\n    const grantConfig = useMemo(() => getGrantConfig(grant), [grant]);\n\n    const showUnscheduledRepaymentAccounts = useCallback(() => {\n        try {\n            return showDetails?.('unscheduledRepayment');\n        } finally {\n            userEvents.addEvent?.('Clicked button', {\n                ...sharedCapitalOverviewAnalyticsEventProperties,\n                subCategory: 'Grant active',\n                label: 'Send repayment',\n            });\n        }\n    }, [showDetails, userEvents]);\n\n    const elementIds = useMemo(\n        () =>\n            ({\n                grantAmount: uniqueId('elem'),\n                grantAmountLabel: uniqueId('elem'),\n                grantStatus: uniqueId('elem'),\n                termEnds: uniqueId('elem'),\n            }) as const,\n        []\n    );\n\n    const grantOverview = useMemo(\n        () => (\n            <div className={GRANT_ITEM_CLASS_NAMES.cardContent}>\n                <div className={GRANT_ITEM_CLASS_NAMES.statusContainer}>\n                    <Typography\n                        id={elementIds.grantAmountLabel}\n                        variant={TypographyVariant.CAPTION}\n                        className={cx({ [GRANT_ITEM_CLASS_NAMES.textSecondary]: grantConfig.isLabelColorSecondary })}\n                        testId={'grant-amount-label'}\n                    >\n                        {i18n.get(grantConfig.amountLabelKey)}\n                    </Typography>\n                    <div id={elementIds.grantStatus}>\n                        {grant.status === 'Active' ? (\n                            <>\n                                <Typography id={elementIds.termEnds} variant={TypographyVariant.CAPTION} el={TypographyElement.SPAN}>\n                                    <Translation\n                                        translationKey=\"capital.overview.grants.item.termEnds\"\n                                        fills={{\n                                            date: (\n                                                <time\n                                                    aria-labelledBy={elementIds.termEnds}\n                                                    dateTime={grantConfig.repaymentPeriodEndDate.toISOString()}\n                                                >\n                                                    <Typography variant={TypographyVariant.CAPTION} stronger el={TypographyElement.SPAN}>\n                                                        {dateFormat(grantConfig.repaymentPeriodEndDate, DATE_FORMAT_CAPITAL_OVERVIEW)}\n                                                    </Typography>\n                                                </time>\n                                            ),\n                                        }}\n                                    />\n                                </Typography>\n                            </>\n                        ) : grantConfig.statusKey ? (\n                            grantConfig.statusTooltipKey ? (\n                                <Tooltip content={i18n.get(grantConfig.statusTooltipKey)}>\n                                    <div>\n                                        <Tag label={i18n.get(grantConfig.statusKey)} variant={grantConfig.statusTagVariant} />\n                                    </div>\n                                </Tooltip>\n                            ) : (\n                                <Tag label={i18n.get(grantConfig.statusKey)} variant={grantConfig.statusTagVariant} />\n                            )\n                        ) : null}\n                    </div>\n                </div>\n                <Typography\n                    id={elementIds.grantAmount}\n                    variant={TypographyVariant.TITLE}\n                    medium\n                    className={cx({\n                        [GRANT_ITEM_CLASS_NAMES.textSecondary]: grantConfig.isAmountColorSecondary,\n                    })}\n                >\n                    {i18n.amount(grantConfig.amount.value, grantConfig.amount.currency)}\n                </Typography>\n                {grantConfig.isProgressBarVisible && (\n                    <ProgressBar\n                        className={GRANT_ITEM_CLASS_NAMES.progressBar}\n                        value={grant.repaidTotalAmount.value}\n                        max={grant.totalAmount.value}\n                        labels={{\n                            ariaLabel: i18n.get('capital.overview.grants.item.progressBar.a11y.label'),\n                            current: i18n.get('capital.overview.grants.item.amounts.repaid'),\n                            max: i18n.get('capital.overview.grants.item.amounts.remaining'),\n                        }}\n                        tooltips={{\n                            remaining: `${i18n.amount(grant.remainingTotalAmount.value, grant.remainingTotalAmount.currency)} ${i18n\n                                .get('capital.overview.grants.item.amounts.remaining')\n                                ?.toLowerCase()}`,\n                            progress: `${i18n.amount(grant.repaidTotalAmount.value, grant.repaidTotalAmount.currency)} ${i18n\n                                .get('capital.overview.grants.item.amounts.repaid')\n                                ?.toLowerCase()}`,\n                        }}\n                    />\n                )}\n                {grantConfig.isGrantIdVisible ? (\n                    <div className={GRANT_ITEM_CLASS_NAMES.grantID}>\n                        <CopyText\n                            textToCopy={grant.id}\n                            visibleText={i18n.get('capital.common.fields.grantID')}\n                            copyButtonAriaLabelKey=\"capital.overview.grants.item.actions.copyGrantID\"\n                            isUnderlineVisible\n                            type={'Text' as const}\n                            data-testid=\"grant-id-copy-text\"\n                        />\n                    </div>\n                ) : null}\n                {grantConfig.hasAlerts ? (\n                    <>\n                        {grant.missingActions && grant.missingActions.length ? (\n                            <GrantActions\n                                missingActions={grant.missingActions}\n                                className={GRANT_ITEM_CLASS_NAMES.alert}\n                                offerExpiresAt={grant.offerExpiresAt}\n                            />\n                        ) : (\n                            <Alert\n                                className={GRANT_ITEM_CLASS_NAMES.alert}\n                                type={AlertTypeOption.HIGHLIGHT}\n                                title={i18n.get('capital.overview.grants.item.alerts.processingRequest')}\n                            />\n                        )}\n                    </>\n                ) : (\n                    grantConfig.hasUnscheduledRepaymentDetails && (\n                        <div className={GRANT_ITEM_CLASS_NAMES.actionsBar}>\n                            <Button\n                                onClick={showUnscheduledRepaymentAccounts}\n                                className={GRANT_ITEM_CLASS_NAMES.mainActionBtn}\n                                variant={ButtonVariant.SECONDARY}\n                                fullWidth\n                            >\n                                {i18n.get('capital.overview.grants.item.actions.sendRepayment')}\n                            </Button>\n                        </div>\n                    )\n                )}\n            </div>\n        ),\n        [i18n, dateFormat, grant, grantConfig, showUnscheduledRepaymentAccounts]\n    );\n\n    return (\n        <div className={GRANT_ITEM_CLASS_NAMES.base}>\n            <ExpandableCard\n                aria-describedby={`${elementIds.grantAmountLabel} ${elementIds.grantAmount} ${elementIds.grantStatus}`}\n                aria-label={i18n.get('capital.overview.grants.item.details.a11y.label')}\n                filled={grantConfig.isBackgroundFilled}\n                renderContent={grantOverview}\n                inFlow\n            >\n                {grantConfig.hasDetails && <GrantDetails grant={grant} />}\n            </ExpandableCard>\n        </div>\n    );\n};\n","export const GRANT_ADJUSTMENT_DETAILS = {\n    revocation: 'revocation',\n    unscheduledRepayment: 'unscheduledRepayment',\n} as const;\n","import { FunctionalComponent, h } from 'preact';\nimport CopyText from '../../../../internal/CopyText/CopyText';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport { TranslationKey } from '../../../../../translations';\nimport cx from 'classnames';\n\ntype _ClassNameProp = h.JSX.HTMLAttributes['className'];\n\nexport type AccountDetailProps = {\n    className?: _ClassNameProp;\n    content: string;\n    contentClassName?: _ClassNameProp;\n    copyButtonLabel?: TranslationKey;\n    isPrimary?: boolean;\n    textToCopy?: string;\n    label: TranslationKey;\n    labelClassName?: _ClassNameProp;\n};\n\nexport const AccountDetail: FunctionalComponent<AccountDetailProps> = ({\n    className,\n    content,\n    contentClassName,\n    copyButtonLabel,\n    isPrimary,\n    textToCopy,\n    label,\n    labelClassName,\n}) => {\n    const { i18n } = useCoreContext();\n    return (\n        <div className={className}>\n            <dt className={labelClassName}>\n                <Typography el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION}>\n                    {i18n.get(label)}\n                </Typography>\n            </dt>\n            <dd className={cx(contentClassName, { 'adyen-pe-capital-account-details__detail-content--primary': isPrimary })}>\n                {textToCopy ? (\n                    <CopyText\n                        copyButtonAriaLabelKey={copyButtonLabel}\n                        visibleText={content}\n                        textToCopy={textToCopy}\n                        showCopyTextTooltip={false}\n                        type={'Text' as const}\n                    />\n                ) : (\n                    <Typography\n                        el={TypographyElement.SPAN}\n                        variant={isPrimary ? TypographyVariant.SUBTITLE : TypographyVariant.BODY}\n                        stronger={isPrimary}\n                    >\n                        {content}\n                    </Typography>\n                )}\n            </dd>\n        </div>\n    );\n};\n","import { TranslationKey } from '../../../../../translations';\n\nconst getHumanReadableIban = (iban: string, useNonBreakingSpaces = true) => {\n    const spaceSeparator = useNonBreakingSpaces ? '' : ' ';\n    const ibanWithoutSpaces = iban.replace(/\\s+/g, '');\n    return ibanWithoutSpaces.replace(/([A-Z\\d]{4}(?!$))/gi, `$1${spaceSeparator}`);\n};\n\nconst isCopyableAccountField = (field: string): boolean => {\n    switch (field) {\n        // Explicit list of copyable account fields\n        case 'accountNumber':\n        case 'beneficiaryName':\n        case 'iban':\n        case 'routingNumber':\n        case 'sortCode':\n            return true;\n\n        // Explicit list of non-copyable account fields\n        // Items can be moved from this list to the list of copyable fields if necessary\n        // The `region` field and other unknown fields (default case) are also considered non-copyable\n        case 'region':\n        default:\n            return false;\n    }\n};\n\nexport const getAccountFieldTextToCopy = (field: string, value?: string): string | undefined => {\n    return isCopyableAccountField(field) ? value : undefined;\n};\n\nexport const getAccountFieldFormattedValue = (field: string, value?: string) => {\n    switch (field) {\n        case 'iban':\n            return value && getHumanReadableIban(value);\n        default:\n            return value;\n    }\n};\n\nexport const getAccountFieldCopyButtonLabelKey = (field: string): TranslationKey | undefined => {\n    switch (field) {\n        // Explicit list of copyable account fields\n        case 'accountNumber':\n            return 'capital.overview.repayment.actions.copyAccountNumber';\n        case 'beneficiaryName':\n            return 'capital.overview.repayment.actions.copyBeneficiaryName';\n        case 'iban':\n            return 'capital.overview.repayment.actions.copyIban';\n        case 'routingNumber':\n            return 'capital.overview.repayment.actions.copyRoutingNumber';\n        case 'sortCode':\n            return 'capital.overview.repayment.actions.copySortCode';\n    }\n};\n\nexport const getAccountFieldTranslationKey = (field: string): TranslationKey => {\n    switch (field) {\n        case 'accountNumber':\n            return 'capital.overview.repayment.accountDetails.fields.accountNumber';\n        case 'beneficiaryName':\n            return 'capital.overview.repayment.accountDetails.fields.beneficiaryName';\n        case 'iban':\n            return 'capital.overview.repayment.accountDetails.fields.iban';\n        case 'region':\n            return 'capital.overview.repayment.accountDetails.fields.countryOrRegion';\n        case 'routingNumber':\n            return 'capital.overview.repayment.accountDetails.fields.routingNumber';\n        case 'sortCode':\n            return 'capital.overview.repayment.accountDetails.fields.sortCode';\n        default:\n            return field as TranslationKey;\n    }\n};\n\nexport const isAccountFieldPrimary = (field: string): boolean => {\n    switch (field) {\n        case 'accountNumber':\n        case 'iban':\n        case 'routingNumber':\n        case 'sortCode':\n            return true;\n\n        case 'beneficiaryName':\n        case 'region':\n        default:\n            return false;\n    }\n};\n","import cx from 'classnames';\nimport { Fragment } from 'preact';\nimport { useMemo } from 'preact/hooks';\nimport { AccountDetail } from './AccountDetail';\nimport { AccountDetailsProps, BankAccountField } from './types';\nimport {\n    getAccountFieldCopyButtonLabelKey,\n    getAccountFieldFormattedValue,\n    getAccountFieldTextToCopy,\n    getAccountFieldTranslationKey,\n    isAccountFieldPrimary,\n} from './utils';\nimport './AccountDetails.scss';\n\nconst BASE_CLASS = 'adyen-pe-capital-account-details';\n\nconst CLASS_NAMES = {\n    detail: `${BASE_CLASS}__detail`,\n    detailContent: `${BASE_CLASS}__detail-content`,\n    detailLabel: `${BASE_CLASS}__detail-label`,\n};\n\nexport const AccountDetails = ({ bankAccount, className, ...ariaAttributes }: AccountDetailsProps) => {\n    const orderedBankAccountFields = useMemo(() => {\n        const { accountNumber, iban, order, region, ...accountDetails } = bankAccount;\n        const accountFields = Object.keys({ iban, accountNumber, ...accountDetails, region });\n        const orderedFields = Array.isArray(order) ? order.filter(field => accountFields.includes(field)) : accountFields;\n        return [...new Set(orderedFields)];\n    }, [bankAccount]);\n\n    return (\n        <dl className={cx(BASE_CLASS, className)} {...ariaAttributes}>\n            {orderedBankAccountFields.map(field => {\n                const fieldValue = bankAccount[field as BankAccountField];\n                return fieldValue ? (\n                    <Fragment key={field}>\n                        <AccountDetail\n                            className={CLASS_NAMES.detail}\n                            contentClassName={CLASS_NAMES.detailContent}\n                            isPrimary={isAccountFieldPrimary(field)}\n                            labelClassName={CLASS_NAMES.detailLabel}\n                            label={getAccountFieldTranslationKey(field)}\n                            copyButtonLabel={getAccountFieldCopyButtonLabelKey(field)}\n                            content={getAccountFieldFormattedValue(field, fieldValue)!}\n                            textToCopy={getAccountFieldTextToCopy(field, fieldValue)}\n                        />\n                    </Fragment>\n                ) : null;\n            })}\n        </dl>\n    );\n};\n","import cx from 'classnames';\nimport { FunctionalComponent, h } from 'preact';\nimport type { TranslationKey } from '../../../../../translations';\nimport type { GrantAdjustmentDetailsProps } from './types';\nimport './GrantAdjustmentDetails.scss';\nimport { Header } from '../../../../internal/Header';\nimport Button from '../../../../internal/Button/Button';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport Icon from '../../../../internal/Icon';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\n\nexport interface GrantAdjustmentDetailsComponentProps\n    extends Pick<GrantAdjustmentDetailsProps, 'onDetailsClose'>,\n        Pick<h.JSX.HTMLAttributes, 'className'> {\n    headerTitleKey?: TranslationKey;\n    headerSubtitleKey?: TranslationKey;\n}\n\nexport const GrantAdjustmentDetails: FunctionalComponent<GrantAdjustmentDetailsComponentProps> = ({\n    children,\n    className,\n    headerTitleKey,\n    headerSubtitleKey,\n    onDetailsClose,\n}) => {\n    const { i18n } = useCoreContext();\n\n    return (\n        <div className={cx('adyen-pe-grant-adjustment-details', className)}>\n            <Header titleKey={headerTitleKey} subtitleKey={headerSubtitleKey}>\n                <Button\n                    onClick={onDetailsClose}\n                    variant={ButtonVariant.TERTIARY}\n                    iconButton\n                    classNameModifiers={['circle']}\n                    aria-label={i18n.get('common.actions.dismiss.labels.dismiss')}\n                >\n                    <Icon name=\"cross\" />\n                </Button>\n            </Header>\n            {children}\n        </div>\n    );\n};\n","import { FunctionalComponent } from 'preact';\nimport { useMemo } from 'preact/hooks';\nimport useUniqueId from '../../../../../hooks/useUniqueId';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport type { GrantAdjustmentDetailsProps } from '../GrantAdjustmentDetails/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport { AccountDetails } from '../AccountDetails/AccountDetails';\nimport { GrantAdjustmentDetails } from '../GrantAdjustmentDetails/GrantAdjustmentDetails';\nimport './GrantRepaymentDetails.scss';\nimport { Divider } from '../../../../internal/Divider/Divider';\nimport { Translation } from '../../../../internal/Translation';\n\nconst BASE_CLASS = 'adyen-pe-grant-repayment-details';\n\nconst CLASS_NAMES = {\n    instructionList: `${BASE_CLASS}__instruction-list`,\n    notice: `${BASE_CLASS}__notice`,\n    repaymentAccount: `${BASE_CLASS}__repayment-account`,\n    transferInstrumentItem: `${BASE_CLASS}__transfer-instrument-item`,\n    transferInstrumentList: `${BASE_CLASS}__transfer-instrument-list`,\n    verifiedBankAccountDetails: `${BASE_CLASS}__verified-bank-account-details`,\n};\n\nexport const GrantRepaymentDetails: FunctionalComponent<GrantAdjustmentDetailsProps> = ({ grant, onDetailsClose }) => {\n    const { i18n } = useCoreContext();\n\n    const repaymentAccountDetailsLabelElemId = `list-${useUniqueId()}`;\n    const repaymentInstructionsLabelElemId = `list-${useUniqueId()}`;\n    const transferInstrumentsLabelElemId = `list-${useUniqueId()}`;\n\n    const bankAccount = useMemo(() => {\n        // There can be more than one unscheduled repayment account, however, we are only showing the first one.\n        // If there be any need to show the rest of them in the future, some updates will be required.\n        return grant.unscheduledRepaymentAccounts?.[0];\n    }, [grant.unscheduledRepaymentAccounts]);\n\n    return bankAccount ? (\n        <GrantAdjustmentDetails\n            className={BASE_CLASS}\n            onDetailsClose={onDetailsClose}\n            headerTitleKey=\"capital.overview.repayment.title\"\n            headerSubtitleKey=\"capital.overview.repayment.subtitle\"\n        >\n            <div className={CLASS_NAMES.repaymentAccount}>\n                <Typography id={repaymentAccountDetailsLabelElemId} el={TypographyElement.SPAN} variant={TypographyVariant.BODY} stronger>\n                    {i18n.get('capital.overview.repayment.accountDetails.title')}\n                </Typography>\n                <AccountDetails bankAccount={bankAccount} aria-labelledby={repaymentAccountDetailsLabelElemId} />\n            </div>\n            <div className={CLASS_NAMES.notice}>\n                {!!grant.transferInstruments?.length && (\n                    <>\n                        <div>\n                            <Typography id={transferInstrumentsLabelElemId} el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION} stronger>\n                                {i18n.get('capital.overview.repayment.transferInstruments')}\n                            </Typography>\n\n                            <ul className={CLASS_NAMES.transferInstrumentList} aria-labelledby={transferInstrumentsLabelElemId}>\n                                {grant.transferInstruments?.map(({ accountIdentifier }) => (\n                                    <li key={accountIdentifier} className={CLASS_NAMES.transferInstrumentItem}>\n                                        <Typography el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION}>\n                                            {accountIdentifier}\n                                        </Typography>\n                                    </li>\n                                ))}\n                            </ul>\n                        </div>\n                        <Divider />\n                    </>\n                )}\n                <div>\n                    <Typography id={repaymentInstructionsLabelElemId} el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION} stronger>\n                        {i18n.get('capital.overview.repayment.instructions.title')}\n                    </Typography>\n                    <ol className={CLASS_NAMES.instructionList} aria-labelledby={repaymentInstructionsLabelElemId}>\n                        <li>\n                            <Typography el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION}>\n                                <Translation\n                                    translationKey={'capital.overview.repayment.instructions.addingBeneficiary'}\n                                    fills={{\n                                        beneficiaryName: (\n                                            <Typography el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION} stronger>\n                                                {bankAccount.beneficiaryName}\n                                            </Typography>\n                                        ),\n                                    }}\n                                />\n                            </Typography>\n                        </li>\n                        <li>\n                            <Typography el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION}>\n                                {i18n.get('capital.overview.repayment.instructions.sendingPayment')}\n                            </Typography>\n                        </li>\n                        <li>\n                            <Typography el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION}>\n                                {i18n.get('capital.overview.repayment.instructions.waiting')}\n                            </Typography>\n                        </li>\n                    </ol>\n                </div>\n                <Typography className={CLASS_NAMES.verifiedBankAccountDetails} el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION}>\n                    {i18n.get('capital.overview.repayment.instructions.verifiedAccount')}\n                </Typography>\n            </div>\n        </GrantAdjustmentDetails>\n    ) : null;\n};\n","import { IGrant } from '../../../../../types';\nimport { BaseList } from '../../../../internal/BaseList/BaseList';\nimport { GrantItem } from '../GrantItem/GrantItem';\nimport { getGrantConfig } from '../GrantItem/utils';\nimport { FunctionalComponent } from 'preact';\nimport { GrantsProps } from './types';\nimport { GRANT_ADJUSTMENT_DETAILS } from '../GrantAdjustmentDetails/constants';\nimport { GrantAdjustmentDetail, GrantAdjustmentDetailCallback } from '../GrantAdjustmentDetails/types';\nimport { GrantRepaymentDetails } from '../GrantRepaymentDetails/GrantRepaymentDetails';\nimport { sharedCapitalOverviewAnalyticsEventProperties } from '../../constants';\nimport { useLandedPageEvent } from '../../../../../hooks/useAnalytics/useLandedPageEvent';\nimport SegmentedControl from '../../../../internal/SegmentedControl/SegmentedControl';\nimport useAnalyticsContext from '../../../../../core/Context/analytics/useAnalyticsContext';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport { CapitalHeader } from '../../../../internal/CapitalHeader';\nimport Button from '../../../../internal/Button/Button';\nimport { ButtonVariant } from '../../../../internal/Button/types';\n\nconst sharedAnalyticsEventProperties = {\n    ...sharedCapitalOverviewAnalyticsEventProperties,\n    subCategory: 'Grants overview',\n} as const;\n\nconst List = ({ grants, showDetails }: { grants: IGrant[]; showDetails: GrantAdjustmentDetailCallback }) => {\n    return (\n        <BaseList classNames={'adyen-pe-grant-list__items'}>\n            {grants.map(grant => (\n                <li key={grant.id}>\n                    <GrantItem grant={grant} showDetails={showDetails.bind(null, grant)} />\n                </li>\n            ))}\n        </BaseList>\n    );\n};\n\nexport const GrantsDisplay: FunctionalComponent<GrantsProps> = ({ grantList, hideTitle, newOfferAvailable, onNewOfferRequest }) => {\n    const [selectedGrantDetail, setSelectedGrantDetail] = useState<GrantAdjustmentDetail>();\n    const [selectedGrant, setSelectedGrant] = useState<IGrant>();\n    const { i18n } = useCoreContext();\n\n    const userEvents = useAnalyticsContext();\n\n    const [activeGrants, inactiveGrants] = useMemo(() => {\n        const active: IGrant[] = [];\n        const inactive: IGrant[] = [];\n\n        grantList?.forEach(grant => {\n            if (grant.status === 'Active' || grant.status === 'Pending') {\n                active.push(grant);\n            } else {\n                inactive.push(grant);\n            }\n        });\n\n        return [active, inactive];\n    }, [grantList]);\n\n    const displayMode = useMemo<'UnifiedGrants' | 'SegmentedGrants'>(() => {\n        if (grantList.length > 1 && activeGrants.length && inactiveGrants.length) return 'SegmentedGrants';\n        return 'UnifiedGrants';\n    }, [activeGrants.length, grantList.length, inactiveGrants.length]);\n\n    const showNewOfferButton = useMemo(() => {\n        return newOfferAvailable && !activeGrants.some(grant => grant.status === 'Pending');\n    }, [activeGrants, newOfferAvailable]);\n\n    const onNewOfferRequestWithTracking = useCallback<typeof onNewOfferRequest>(() => {\n        try {\n            return onNewOfferRequest();\n        } finally {\n            userEvents.addEvent?.('Clicked button', { ...sharedAnalyticsEventProperties, label: 'See new offer' });\n        }\n    }, [onNewOfferRequest, userEvents]);\n\n    const selectedGrantConfig = useMemo(() => selectedGrant && getGrantConfig(selectedGrant), [selectedGrant]);\n\n    const hideGrantDetails = useCallback(() => setSelectedGrantDetail(undefined), []);\n\n    const showGrantDetails = useCallback<GrantAdjustmentDetailCallback>((grant, detail) => {\n        setSelectedGrantDetail(detail);\n        setSelectedGrant(grant);\n    }, []);\n\n    useLandedPageEvent({ ...sharedAnalyticsEventProperties, label: 'Capital overview' });\n\n    if (selectedGrant) {\n        switch (selectedGrantDetail) {\n            case GRANT_ADJUSTMENT_DETAILS.unscheduledRepayment: {\n                if (selectedGrantConfig?.hasUnscheduledRepaymentDetails) {\n                    return <GrantRepaymentDetails grant={selectedGrant} onDetailsClose={hideGrantDetails} />;\n                }\n                break;\n            }\n\n            // The grant revocation account details is currently not ready to be rendered.\n            // A future iteration of this component might include revocation account details.\n            // Only then should the following lines be uncommented.\n            //\n            // case GRANT_DETAILS_VIEWS.revocation:\n            //     if (selectedGrantConfig?.hasRevocationDetails) {\n            //         return <GrantRevocationDetails grant={selectedGrant} onDetailsClose={hideGrantDetailsView} />;\n            //     }\n            //     break;\n        }\n    }\n\n    return (\n        <div className=\"adyen-pe-grant-list\">\n            <div className=\"adyen-pe-grant-list__header-container\">\n                <CapitalHeader hideTitle={hideTitle} titleKey={'capital.common.title'} />\n                {showNewOfferButton ? (\n                    <Button onClick={onNewOfferRequestWithTracking} className={'adyen-pe-grant-list__offer-button'} variant={ButtonVariant.SECONDARY}>\n                        {i18n.get('capital.overview.grants.list.actions.newOffer')}\n                    </Button>\n                ) : null}\n            </div>\n\n            {displayMode === 'UnifiedGrants' && <List grants={grantList} showDetails={showGrantDetails} />}\n            {displayMode === 'SegmentedGrants' && (\n                <SegmentedControl\n                    items={[\n                        {\n                            label: 'capital.overview.grants.list.tabs.labels.inProgress',\n                            content: <List grants={activeGrants} showDetails={showGrantDetails} />,\n                            id: 'active',\n                        },\n                        {\n                            label: 'capital.overview.grants.list.tabs.labels.closed',\n                            content: <List grants={inactiveGrants} showDetails={showGrantDetails} />,\n                            id: 'inactive',\n                        },\n                    ]}\n                    activeItem={'active'}\n                    aria-label={i18n.get('capital.overview.grants.list.tabs.a11y.label')}\n                />\n            )}\n        </div>\n    );\n};\n","import { FunctionalComponent } from 'preact';\nimport { GrantListProps } from './types';\nimport './GrantList.scss';\nimport { useCallback, useState } from 'preact/hooks';\nimport { CapitalOffer } from '../../../CapitalOffer/components/CapitalOffer/CapitalOffer';\nimport { GrantsDisplay } from './GrantsDisplay';\nimport { IGrant } from '../../../../../types';\n\nexport const GrantList: FunctionalComponent<GrantListProps> = ({\n    externalDynamicOffersConfig,\n    grantList,\n    newOfferAvailable,\n    onFundsRequest,\n    onGrantListUpdateRequest,\n    onOfferDismiss,\n}) => {\n    const [isCapitalOfferVisible, setIsCapitalOfferVisible] = useState<boolean>(false);\n\n    const goBackToPreviousStep = useCallback(() => setIsCapitalOfferVisible(false), []);\n    const goToNextStep = useCallback(() => setIsCapitalOfferVisible(true), []);\n\n    const goBackToList = useCallback(() => {\n        onOfferDismiss ? onOfferDismiss(goBackToPreviousStep) : goBackToPreviousStep();\n    }, [goBackToPreviousStep, onOfferDismiss]);\n\n    const handleFundsRequest = useCallback(\n        (data: IGrant) => {\n            if (onFundsRequest) {\n                onFundsRequest(data);\n            } else {\n                onGrantListUpdateRequest(data);\n                setIsCapitalOfferVisible(false);\n            }\n        },\n        [onFundsRequest, onGrantListUpdateRequest]\n    );\n\n    return (\n        <>\n            {isCapitalOfferVisible ? (\n                <CapitalOffer\n                    externalDynamicOffersConfig={externalDynamicOffersConfig}\n                    onFundsRequest={handleFundsRequest}\n                    onOfferDismiss={goBackToList}\n                />\n            ) : (\n                <GrantsDisplay grantList={grantList} newOfferAvailable={newOfferAvailable} onNewOfferRequest={goToNextStep} />\n            )}\n        </>\n    );\n};\n","import { useCallback, useMemo, useState } from 'preact/hooks';\nimport { isCapitalRegionSupported } from '../../../../internal/CapitalHeader/helpers';\nimport { ExternalUIComponentProps } from '../../../../types';\nimport { CapitalErrorMessageDisplay } from '../../../CapitalOffer/components/utils/CapitalErrorMessageDisplay';\nimport { CapitalOverviewProps } from '../../types';\nimport { CAPITAL_OVERVIEW_CLASS_NAMES } from '../../constants';\nimport { FunctionalComponent } from 'preact';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport { CapitalHeader } from '../../../../internal/CapitalHeader';\nimport { IGrant } from '../../../../../types';\nimport './CapitalOverview.scss';\nimport Unqualified from '../Unqualified';\nimport { PreQualified } from '../PreQualified/PreQualified';\nimport { GrantList } from '../GrantList/GrantList';\nimport { ErrorMessageDisplay } from '../../../../internal/ErrorMessageDisplay/ErrorMessageDisplay';\nimport { getCapitalErrorMessage } from '../../../../utils/capital/getCapitalErrorMessage';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\n\ntype CapitalOverviewState = 'Loading' | 'Error' | 'Unqualified' | 'PreQualified' | 'GrantList' | 'UnsupportedRegion';\n\nexport const CapitalOverview: FunctionalComponent<ExternalUIComponentProps<CapitalOverviewProps>> = ({\n    hideTitle,\n    onContactSupport,\n    onFundsRequest,\n    onOfferDismiss,\n    onOfferOptionsRequest,\n    skipPreQualifiedIntro,\n}) => {\n    const legalEntity = useConfigContext()?.extraConfig?.legalEntity;\n    const isRegionSupported = useMemo(() => isCapitalRegionSupported(legalEntity), [legalEntity]);\n\n    const { getGrants: grantsEndpointCall, getDynamicGrantOffersConfiguration: dynamicConfigurationEndpointCall } = useConfigContext().endpoints;\n\n    const grantsQuery = useFetch({\n        fetchOptions: { enabled: !!grantsEndpointCall && isRegionSupported },\n        queryFn: useCallback(async () => {\n            return grantsEndpointCall?.(EMPTY_OBJECT);\n        }, [grantsEndpointCall]),\n    });\n\n    const dynamicOfferQuery = useFetch({\n        fetchOptions: { enabled: !!dynamicConfigurationEndpointCall && isRegionSupported },\n        queryFn: useCallback(async () => {\n            return dynamicConfigurationEndpointCall?.(EMPTY_OBJECT);\n        }, [dynamicConfigurationEndpointCall]),\n    });\n\n    const dynamicOffer = dynamicOfferQuery.data;\n\n    const [requestedGrant, setRequestedGrant] = useState<IGrant>();\n    const grantList = useMemo(\n        () => (requestedGrant ? [requestedGrant, ...(grantsQuery.data?.data || [])] : grantsQuery.data?.data),\n        [grantsQuery.data?.data, requestedGrant]\n    );\n\n    const handlePreQualifiedFundsRequest = useCallback(\n        (data: IGrant) => {\n            onFundsRequest ? onFundsRequest(data) : setRequestedGrant(data);\n        },\n        [onFundsRequest]\n    );\n\n    const showError = useMemo(() => {\n        if (dynamicOfferQuery.error && grantsQuery.error) return true;\n        if (dynamicOfferQuery.error && !grantList?.length) return true;\n        return false;\n    }, [dynamicOfferQuery.error, grantList?.length, grantsQuery.error]);\n\n    const state = useMemo<CapitalOverviewState>(() => {\n        if (!isRegionSupported) {\n            return 'UnsupportedRegion';\n        } else if (showError) {\n            return 'Error';\n        } else if (\n            (!grantsEndpointCall && !dynamicConfigurationEndpointCall) ||\n            (!dynamicOffer && !grantList) ||\n            grantsQuery.isFetching ||\n            dynamicOfferQuery.isFetching\n        ) {\n            return 'Loading';\n        } else if (grantList?.length) {\n            return 'GrantList';\n        } else if (dynamicOffer?.maxAmount && dynamicOffer?.minAmount) {\n            return 'PreQualified';\n        }\n        return 'Unqualified';\n    }, [\n        dynamicConfigurationEndpointCall,\n        dynamicOffer,\n        dynamicOfferQuery.isFetching,\n        grantList,\n        grantsEndpointCall,\n        grantsQuery.isFetching,\n        showError,\n        isRegionSupported,\n    ]);\n\n    const newOfferAvailable = useMemo(() => !!(dynamicOffer && dynamicOffer.minAmount && dynamicOffer.maxAmount), [dynamicOffer]);\n\n    return (\n        <div className={CAPITAL_OVERVIEW_CLASS_NAMES.base}>\n            {(() => {\n                switch (state) {\n                    case 'Loading':\n                        return (\n                            <div className={CAPITAL_OVERVIEW_CLASS_NAMES.skeletonContainer}>\n                                <div className={CAPITAL_OVERVIEW_CLASS_NAMES.headerSkeleton}></div>\n                                <div className={CAPITAL_OVERVIEW_CLASS_NAMES.skeleton}></div>\n                            </div>\n                        );\n                    case 'Error':\n                        return (\n                            <div className={CAPITAL_OVERVIEW_CLASS_NAMES.errorContainer}>\n                                <CapitalHeader hideTitle={hideTitle} titleKey={'capital.common.title'} />\n                                <ErrorMessageDisplay\n                                    absolutePosition={false}\n                                    outlined={false}\n                                    withImage\n                                    onContactSupport={onContactSupport}\n                                    {...getCapitalErrorMessage(dynamicOfferQuery.error as AdyenPlatformExperienceError, onContactSupport)}\n                                />\n                            </div>\n                        );\n                    case 'GrantList':\n                        return (\n                            grantList && (\n                                <GrantList\n                                    externalDynamicOffersConfig={dynamicOffer}\n                                    grantList={grantList}\n                                    hideTitle={hideTitle}\n                                    newOfferAvailable={newOfferAvailable}\n                                    onFundsRequest={onFundsRequest}\n                                    onGrantListUpdateRequest={setRequestedGrant}\n                                    onOfferDismiss={onOfferDismiss}\n                                />\n                            )\n                        );\n                    case 'PreQualified':\n                        return (\n                            <PreQualified\n                                onOfferDismiss={onOfferDismiss}\n                                onOfferOptionsRequest={onOfferOptionsRequest}\n                                skipPreQualifiedIntro={skipPreQualifiedIntro}\n                                hideTitle={hideTitle}\n                                dynamicOffer={dynamicOffer!}\n                                onFundsRequest={handlePreQualifiedFundsRequest}\n                            />\n                        );\n                    case 'Unqualified':\n                        return <Unqualified hideTitle={hideTitle} />;\n                    case 'UnsupportedRegion':\n                        return (\n                            <div className={CAPITAL_OVERVIEW_CLASS_NAMES.errorContainer}>\n                                <CapitalHeader hideTitle={hideTitle} titleKey={'capital.common.title'} />\n                                <CapitalErrorMessageDisplay unsupportedRegion />\n                            </div>\n                        );\n                    default:\n                        return null;\n                }\n            })()}\n        </div>\n    );\n};\n","import { isCapitalRegionSupported } from '../../internal/CapitalHeader/helpers';\nimport { _UIComponentProps, ExternalComponentType } from '../../types';\nimport UIElement from '../UIElement/UIElement';\nimport { CapitalComponentState, CapitalOverviewProps } from './types';\nimport { CapitalOverview } from './components/CapitalOverview/CapitalOverview';\nimport { EMPTY_OBJECT, noop } from '../../../utils';\nimport sessionReady from '../../../core/ConfigContext/session/utils/sessionReady';\n\nexport class CapitalOverviewElement extends UIElement<CapitalOverviewProps> {\n    public static type: ExternalComponentType = 'capitalOverview';\n\n    constructor(props: _UIComponentProps<CapitalOverviewProps>) {\n        super(props);\n        this.componentToRender = this.componentToRender.bind(this);\n        this.customClassNames = 'adyen-pe-capital-overview-component';\n    }\n\n    public componentToRender = () => {\n        return <CapitalOverview {...this.props} />;\n    };\n\n    public async getState(): Promise<CapitalComponentState> {\n        const { session } = this.props.core;\n        await sessionReady(session);\n\n        const { getDynamicGrantOffersConfiguration, getGrants } = session.context.endpoints;\n        const legalEntity = session.context.extraConfig?.legalEntity;\n\n        if (!isCapitalRegionSupported(legalEntity)) {\n            return { state: 'isInUnsupportedRegion' };\n        }\n\n        const [config, grants] = await Promise.all([\n            getDynamicGrantOffersConfiguration?.(EMPTY_OBJECT).catch(noop as () => undefined),\n            getGrants?.(EMPTY_OBJECT).catch(noop as () => undefined),\n        ]);\n\n        let state: CapitalComponentState['state'] = 'isUnqualified';\n\n        if (grants && grants.data?.length > 0) {\n            state = 'hasRequestedGrants';\n        } else if (config && config.minAmount) {\n            state = 'isPreQualified';\n        }\n\n        return { state };\n    }\n}\n\nexport default CapitalOverviewElement;\n","export const BASE_CLASS = 'adyen-pe-disputes-overview';\nexport const BASE_XS_CLASS = `${BASE_CLASS}--xs`;\nexport const TABS_CONTAINER_CLASS = `${BASE_CLASS}__tabs-container`;\n\nexport const EARLIEST_DISPUTES_SINCE_DATE = '2025-05-22T00:00:00.000Z';\n","import { DISPUTE_ACTION_NEEDED_URGENTLY_THRESHOLD_DAYS } from './constants';\nimport { IDisputeStatus } from '../../../types/api/models/disputes';\nimport { parseDate } from '../../../utils';\n\nexport interface WithDisputeStatus {\n    dueDate?: string;\n    status: IDisputeStatus;\n}\n\nexport const enum DisputeActionNeededLevel {\n    NEVER = 0, // 3-bits (0 0 0)\n    SOON = 1, // 3-bits (0 0 1)\n    URGENTLY = 3, // 3-bits (0 1 1)\n    NOW = 7, // 3-bits (1 1 1)\n}\n\nexport const getDisputeActionNeededLevel = <T extends WithDisputeStatus>(disputeData: T): DisputeActionNeededLevel => {\n    switch (disputeData.status) {\n        case 'UNDEFENDED':\n        case 'UNRESPONDED': {\n            const deadlineTimestamp = parseDate(disputeData.dueDate);\n\n            if (deadlineTimestamp != undefined) {\n                const now = Date.now();\n                const deadline = new Date(deadlineTimestamp);\n                const actionNeededNowThresholdTimestamp = new Date(deadline).setHours(deadline.getHours() - 24);\n\n                if (actionNeededNowThresholdTimestamp <= now) {\n                    return DisputeActionNeededLevel.NOW;\n                }\n\n                const actionNeededUrgentlyThresholdTimestamp = new Date(deadline).setDate(\n                    deadline.getDate() - DISPUTE_ACTION_NEEDED_URGENTLY_THRESHOLD_DAYS\n                );\n\n                if (actionNeededUrgentlyThresholdTimestamp <= now) {\n                    return DisputeActionNeededLevel.URGENTLY;\n                }\n            }\n\n            return DisputeActionNeededLevel.SOON;\n        }\n    }\n\n    return DisputeActionNeededLevel.NEVER;\n};\n\nexport const isDisputeActionNeeded = <T extends WithDisputeStatus>(disputeData: T): boolean => {\n    return getDisputeActionNeededLevel(disputeData) > DisputeActionNeededLevel.NEVER;\n};\n\nexport const isDisputeActionNeededUrgently = <T extends WithDisputeStatus>(disputeData: T): boolean => {\n    return getDisputeActionNeededLevel(disputeData) > DisputeActionNeededLevel.SOON;\n};\n\nexport const isDisputeActionNeededNow = <T extends WithDisputeStatus>(disputeData: T): boolean => {\n    return getDisputeActionNeededLevel(disputeData) === DisputeActionNeededLevel.NOW;\n};\n","export const BASE_CLASS = 'adyen-pe-disputes-table';\n","import { useMemo } from 'preact/hooks';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { getDisputeStatus } from '../../../../utils/translation/getters';\nimport { IDispute, IDisputeListItem } from '../../../../../types/api/models/disputes';\nimport { isDisputeActionNeededUrgently } from '../../../../utils/disputes/actionNeeded';\nimport { Tag } from '../../../../internal/Tag/Tag';\nimport { TagVariant } from '../../../../internal/Tag/types';\nimport { PropsWithChildren } from 'preact/compat';\n\nconst DisputeStatusTag = ({ dispute }: PropsWithChildren<{ dispute: IDisputeListItem | IDispute }>) => {\n    const { i18n } = useCoreContext();\n    const disputeStatus = useMemo(() => getDisputeStatus(i18n, dispute.status), [i18n, dispute]);\n\n    const variant = useMemo<TagVariant>(() => {\n        if (dispute.status === 'WON') return TagVariant.SUCCESS;\n        if ((dispute as any)?.defensibility === 'NOT_ACTIONABLE') return TagVariant.DEFAULT;\n        if (isDisputeActionNeededUrgently(dispute)) return TagVariant.ERROR;\n        return TagVariant.DEFAULT;\n    }, [dispute]);\n\n    return <Tag variant={variant} label={disputeStatus} />;\n};\n\nexport default DisputeStatusTag;\n","import cx from 'classnames';\nimport { FC } from 'preact/compat';\nimport { useCallback, useEffect, useMemo, useState } from 'preact/hooks';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport { TranslationKey } from '../../../../../translations';\nimport useTimezoneAwareDateFormatting from '../../../../../hooks/useTimezoneAwareDateFormatting';\nimport Alert from '../../../../internal/Alert/Alert';\nimport Icon from '../../../../internal/Icon';\nimport { AlertTypeOption } from '../../../../internal/Alert/types';\nimport DataGrid from '../../../../internal/DataGrid';\nimport { DAY_MS } from '../../../../internal/Calendar/calendar/constants';\nimport { getDisputeReason } from '../../../../utils/translation/getters';\nimport { isDisputeActionNeededUrgently } from '../../../../utils/disputes/actionNeeded';\nimport { DATE_FORMAT_DISPUTES, DATE_FORMAT_RESPONSE_DEADLINE } from '../../../../../constants';\nimport DataOverviewError from '../../../../internal/DataOverviewError/DataOverviewError';\nimport Pagination from '../../../../internal/Pagination';\nimport { PaginationProps, WithPaginationLimitSelection } from '../../../../internal/Pagination/types';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { BASE_CLASS } from './constants';\nimport { CustomColumn } from '../../../../types';\nimport { StringWithAutocompleteOptions } from '../../../../../utils/types';\nimport { useTableColumns } from '../../../../../hooks/useTableColumns';\nimport { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport { IDisputeListItem, IDisputeStatusGroup } from '../../../../../types/api/models/disputes';\nimport PaymentMethodCell from '../../../TransactionsOverview/components/TransactionsTable/PaymentMethodCell';\nimport type { IBalanceAccountBase } from '../../../../../types';\nimport DisputeStatusTag from './DisputeStatusTag';\nimport { Tag } from '../../../../internal/Tag/Tag';\nimport { Tooltip } from '../../../../internal/Tooltip/Tooltip';\nimport { Translation } from '../../../../internal/Translation';\nimport './DisputesTable.scss';\n\nexport type DisputesTableFields = keyof typeof FIELD_KEYS;\n\nexport const FIELD_KEYS = {\n    status: 'disputes.overview.common.fields.status',\n    respondBy: 'disputes.overview.common.fields.respondBy',\n    createdAt: 'disputes.overview.common.fields.openedOn',\n    paymentMethod: 'disputes.overview.common.fields.paymentMethod',\n    disputeReason: 'disputes.overview.common.fields.disputeReason',\n    reason: 'disputes.overview.common.fields.reason',\n    currency: 'disputes.overview.common.fields.currency',\n    disputedAmount: 'disputes.overview.common.fields.disputedAmount',\n    totalPaymentAmount: 'disputes.overview.common.fields.totalPaymentAmount',\n} as const satisfies Record<string, TranslationKey>;\n\nexport const EMPTY_TABLE_MESSAGE_KEYS = {\n    CHARGEBACKS: { title: 'disputes.overview.chargebacks.errors.listEmpty', message: 'disputes.overview.chargebacks.errors.updateFilters' },\n    FRAUD_ALERTS: { title: 'disputes.overview.fraudAlerts.errors.listEmpty', message: 'disputes.overview.fraudAlerts.errors.updateFilters' },\n    ONGOING_AND_CLOSED: {\n        title: 'disputes.overview.ongoingAndClosed.errors.listEmpty',\n        message: 'disputes.overview.ongoingAndClosed.errors.updateFilters',\n    },\n} as const satisfies Record<IDisputeStatusGroup, { title: TranslationKey; message: TranslationKey }>;\n\nexport const FIELDS = Object.keys(FIELD_KEYS) as readonly DisputesTableFields[];\n\nconst classes = {\n    cellContent: `${BASE_CLASS}__cell-content`,\n    cellContentVStack: `${BASE_CLASS}__cell-content--vstack`,\n    cellTextGrey: `${BASE_CLASS}__cell-text--grey`,\n    dateContentUrgent: `${BASE_CLASS}__date-content--urgent`,\n    statusContent: `${BASE_CLASS}__status-content`,\n    statusContentUrgent: `${BASE_CLASS}__status-content--urgent`,\n};\n\nexport interface DisputesTableProps extends WithPaginationLimitSelection<PaginationProps> {\n    balanceAccountId: string | undefined;\n    loading: boolean;\n    error?: AdyenPlatformExperienceError;\n    onContactSupport?: () => void;\n    showPagination: boolean;\n    data: IDisputeListItem[] | undefined;\n    activeBalanceAccount?: IBalanceAccountBase;\n    onRowClick: (value: IDisputeListItem) => void;\n    customColumns?: CustomColumn<StringWithAutocompleteOptions<DisputesTableFields>>[];\n    statusGroup: IDisputeStatusGroup;\n}\n\nexport const DisputesTable: FC<DisputesTableProps> = ({\n    error,\n    loading,\n    balanceAccountId,\n    onContactSupport,\n    showPagination,\n    onRowClick,\n    data,\n    customColumns,\n    activeBalanceAccount,\n    statusGroup,\n    ...paginationProps\n}) => {\n    const { i18n } = useCoreContext();\n    const { refreshing } = useConfigContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting(activeBalanceAccount?.timeZone);\n\n    const [alert, setAlert] = useState<null | { title: string; description: string }>(null);\n    const isLoading = useMemo(() => loading || refreshing, [loading, refreshing]);\n    const isMobileContainer = useResponsiveContainer(containerQueries.down.xs);\n\n    let limitSelectAriaLabelKey: TranslationKey | undefined = undefined;\n\n    if (showPagination) {\n        switch (statusGroup) {\n            case 'CHARGEBACKS':\n                limitSelectAriaLabelKey = 'disputes.overview.chargebacks.limitSelect.a11y.label';\n                break;\n            case 'FRAUD_ALERTS':\n                limitSelectAriaLabelKey = 'disputes.overview.fraudAlerts.limitSelect.a11y.label';\n                break;\n            case 'ONGOING_AND_CLOSED':\n                limitSelectAriaLabelKey = 'disputes.overview.ongoingAndClosed.limitSelect.a11y.label';\n                break;\n        }\n    }\n\n    const columns = useTableColumns({\n        fields: FIELDS,\n        fieldsKeys: FIELD_KEYS,\n        customColumns,\n        columnConfig: useMemo(\n            () => ({\n                status: {\n                    visible: statusGroup === 'ONGOING_AND_CLOSED',\n                },\n                reason: {\n                    visible: statusGroup === 'FRAUD_ALERTS' && !isMobileContainer,\n                    flex: 2,\n                },\n                respondBy: {\n                    visible: statusGroup === 'CHARGEBACKS',\n                },\n                currency: {\n                    visible: !isMobileContainer,\n                    flex: 0.5,\n                },\n                disputedAmount: {\n                    visible: statusGroup !== 'FRAUD_ALERTS',\n                    position: 'right',\n                },\n                createdAt: {\n                    visible: !isMobileContainer || statusGroup === 'FRAUD_ALERTS',\n                },\n                paymentMethod: {\n                    visible: !isMobileContainer,\n                },\n                disputeReason: {\n                    visible: statusGroup !== 'FRAUD_ALERTS' && !isMobileContainer,\n                },\n                totalPaymentAmount: {\n                    visible: statusGroup === 'FRAUD_ALERTS',\n                    position: 'right',\n                },\n            }),\n            [isMobileContainer, statusGroup]\n        ),\n    });\n\n    const removeAlert = useCallback(() => setAlert(null), []);\n\n    const getTimeToDeadline = useCallback(\n        (dueDate: string) => {\n            if (!dueDate) return '';\n            const deadline = new Date(dueDate).getTime();\n            const diffInMs = deadline - Date.now();\n            const diffInDays = Math.ceil(diffInMs / DAY_MS);\n            const formattedDate = dateFormat(dueDate, { ...DATE_FORMAT_RESPONSE_DEADLINE, weekday: undefined });\n\n            return diffInDays <= 1\n                ? i18n.get('disputes.overview.common.actionNeeded.respondToday', { values: { date: formattedDate } })\n                : i18n.get('disputes.overview.common.actionNeeded.respondDays', { values: { days: diffInDays, date: formattedDate } });\n        },\n        [dateFormat, i18n]\n    );\n\n    const EMPTY_TABLE_MESSAGE = {\n        title: EMPTY_TABLE_MESSAGE_KEYS[statusGroup].title,\n        message: [EMPTY_TABLE_MESSAGE_KEYS[statusGroup].message],\n    } satisfies { title: TranslationKey; message: TranslationKey | TranslationKey[] };\n\n    const errorDisplay = useMemo(\n        () => () => (\n            <DataOverviewError error={error} errorMessage={'disputes.overview.common.errors.listUnavailable'} onContactSupport={onContactSupport} />\n        ),\n        [error, onContactSupport]\n    );\n\n    useEffect(() => {\n        if (isLoading) removeAlert();\n    }, [isLoading, removeAlert]);\n\n    return (\n        <div className={BASE_CLASS}>\n            {alert && <Alert onClose={removeAlert} type={AlertTypeOption.WARNING} className={'adyen-pe-disputes-table-alert'} {...alert} />}\n            <DataGrid\n                autoFitColumns={isMobileContainer}\n                errorDisplay={errorDisplay}\n                error={error}\n                columns={columns}\n                data={data}\n                loading={isLoading}\n                outline={false}\n                onRowClick={{ callback: onRowClick }}\n                emptyTableMessage={EMPTY_TABLE_MESSAGE}\n                customCells={{\n                    status: ({ item }) => {\n                        return (\n                            <div className={cx(classes.cellContent, { [classes.cellContentVStack]: isMobileContainer })}>\n                                <DisputeStatusTag dispute={item} />\n                                {isMobileContainer && <PaymentMethodCell paymentMethod={item.paymentMethod} />}\n                            </div>\n                        );\n                    },\n                    reason: ({ item }) => {\n                        return item.reason.title;\n                    },\n                    respondBy: ({ item }) => {\n                        const isUrgent = isDisputeActionNeededUrgently(item);\n                        const formattedDate = dateFormat(item.dueDate!, DATE_FORMAT_DISPUTES);\n                        // TODO - Check if the API can send the defensibility field in a next iteration\n                        const isActionableDispute = true; /* isDisputeActionNeeded(item) && item.defensibility !== 'NOT_ACTIONABLE' */\n\n                        const renderDueDate = () =>\n                            isUrgent && isActionableDispute ? (\n                                <Tooltip content={getTimeToDeadline(item.dueDate!)}>\n                                    <span className={classes.dateContentUrgent}>\n                                        <time dateTime={item.dueDate!}>{formattedDate}</time>\n                                        {<Icon name={'warning-filled'} />}\n                                    </span>\n                                </Tooltip>\n                            ) : (\n                                <time dateTime={item.dueDate!}>{formattedDate}</time>\n                            );\n\n                        return (\n                            <div className={cx(classes.cellContent, { [classes.cellContentVStack]: isMobileContainer })}>\n                                {item.dueDate ? (\n                                    <Typography\n                                        el={TypographyElement.SPAN}\n                                        variant={TypographyVariant.BODY}\n                                        className={cx(classes.statusContent, {\n                                            [classes.cellTextGrey]: isMobileContainer && !isUrgent,\n                                            [classes.statusContentUrgent]: isUrgent,\n                                        })}\n                                    >\n                                        {isMobileContainer ? (\n                                            <Translation\n                                                translationKey=\"disputes.overview.common.actionNeeded.dueDate\"\n                                                fills={{ dueDate: renderDueDate }}\n                                            />\n                                        ) : (\n                                            renderDueDate()\n                                        )}\n                                    </Typography>\n                                ) : null}\n                                {isMobileContainer && <PaymentMethodCell paymentMethod={item.paymentMethod} />}\n                            </div>\n                        );\n                    },\n                    currency: ({ item }) => {\n                        return <Tag>{item.amount.currency}</Tag>;\n                    },\n                    disputedAmount: ({ item }) => {\n                        return (\n                            item.amount && (\n                                <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} stronger>\n                                    {i18n.amount(item.amount.value, item.amount.currency, { hideCurrency: false })}\n                                </Typography>\n                            )\n                        );\n                    },\n                    createdAt: ({ item }) => {\n                        return (\n                            <div className={cx(classes.cellContent, { [classes.cellContentVStack]: isMobileContainer })}>\n                                <time\n                                    dateTime={item.createdAt}\n                                    className={cx(classes.statusContent, {\n                                        [classes.cellTextGrey]: isMobileContainer,\n                                    })}\n                                >\n                                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                                        {dateFormat(item.createdAt, DATE_FORMAT_DISPUTES)}\n                                    </Typography>\n                                </time>\n                                {isMobileContainer && <PaymentMethodCell paymentMethod={item.paymentMethod} />}\n                            </div>\n                        );\n                    },\n                    paymentMethod: ({ item }) => <PaymentMethodCell paymentMethod={item.paymentMethod} />,\n                    disputeReason: ({ item }) => <span>{getDisputeReason(i18n, item.reason.category)}</span>,\n                    totalPaymentAmount: ({ item }) => {\n                        return (\n                            item && (\n                                <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} stronger>\n                                    {i18n.amount(item.amount.value, item.amount.currency, { hideCurrency: false })}\n                                </Typography>\n                            )\n                        );\n                    },\n                }}\n            >\n                {showPagination && (\n                    <DataGrid.Footer>\n                        <Pagination\n                            {...paginationProps}\n                            ariaLabelKey=\"disputes.overview.common.pagination.a11y.label\"\n                            limitSelectAriaLabelKey={limitSelectAriaLabelKey}\n                        />\n                    </DataGrid.Footer>\n                )}\n            </DataGrid>\n        </div>\n    );\n};\n","import { createContext } from 'preact';\nimport { memo, PropsWithChildren, useEffect } from 'preact/compat';\nimport { useCallback, useContext, useState } from 'preact/hooks';\nimport { IDisputeDefenseDocument, IDisputeDetail } from '../../../../../types/api/models/disputes';\nimport { TranslationConfigItem } from '../../utils';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport localDefenseDocumentConfig from '../../../../../config/disputes/defenseDocumentConfig.json';\nimport localDefenseReasonConfig from '../../../../../config/disputes/defenseReasonConfig.json';\n\nexport type DisputeFlowState = 'details' | 'accept' | 'defendReasonSelectionView' | 'uploadDefenseFilesView' | 'defenseSubmitResponseView';\n\ninterface DisputeFlowContextValue {\n    flowState: DisputeFlowState;\n    setFlowState: (state: DisputeFlowState) => void;\n    goBack: () => void;\n    dispute: IDisputeDetail | undefined;\n    setDispute: (dispute: IDisputeDetail | undefined) => void;\n    selectedDefenseReason: string | null;\n    setSelectedDefenseReason: (selectedDefenseReason: string) => void;\n    applicableDocuments: IDisputeDefenseDocument[] | null;\n    setApplicableDocuments: (documents: IDisputeDefenseDocument[] | null) => void;\n    clearFiles: () => void;\n    clearStates: () => void;\n    defendDisputePayload: FormData | null;\n    addFileToDefendPayload: (name: string, file: File) => void;\n    moveFieldInDefendPayload: (from: string, to: string) => void;\n    removeFieldFromDefendPayload: (field: string) => void;\n    defendResponse: 'error' | 'success' | null;\n    onDefendSubmit: (response: 'success' | 'error') => void;\n    getDisputesConfig: () => Promise<void>;\n    defenseReasonConfig: Record<string, TranslationConfigItem>;\n    defenseDocumentConfig: Record<string, TranslationConfigItem>;\n}\n\ninterface DisputeProviderProps {\n    dispute: IDisputeDetail | undefined;\n    setDispute: (dispute: IDisputeDetail | undefined) => void;\n}\n\nconst cloneFormData = (formData: FormData) => {\n    const formDataClone = new FormData();\n    for (const [field, value] of formData.entries()) {\n        if (value instanceof File) {\n            formDataClone.set(field, value, value.name);\n        } else formDataClone.set(field, value);\n    }\n    return formDataClone;\n};\n\nexport const DisputeFlowContext = createContext<DisputeFlowContextValue | undefined>(undefined);\n\nexport const DisputeContextProvider = memo(({ dispute, setDispute, children }: PropsWithChildren<DisputeProviderProps>) => {\n    const [flowState, setFlowState] = useState<DisputeFlowState>('details');\n    const [selectedDefenseReason, setSelectedDefenseReason] = useState<string | null>(null);\n    const [applicableDocuments, setApplicableDocuments] = useState<IDisputeDefenseDocument[] | null>([]);\n    const [defendDisputePayload, setDefendDisputePayload] = useState<FormData | null>(null);\n    const [defendResponse, setDefendResponse] = useState<'error' | 'success' | null>(null);\n\n    const clearFiles = useCallback(() => {\n        setDefendDisputePayload(previousFormData => {\n            if (previousFormData) {\n                const fileFields = [...previousFormData.keys()].filter(field => field !== 'defenseReason');\n\n                if (fileFields.length > 0) {\n                    const nextFormData = cloneFormData(previousFormData);\n                    fileFields.forEach(field => nextFormData.delete(field));\n                    return nextFormData;\n                }\n            }\n            return previousFormData;\n        });\n    }, []);\n\n    const goBack = useCallback(() => {\n        switch (flowState) {\n            case 'defendReasonSelectionView':\n                setFlowState('details');\n                break;\n            case 'accept':\n                setFlowState('details');\n                break;\n            case 'uploadDefenseFilesView':\n                clearFiles();\n                setFlowState('defendReasonSelectionView');\n                break;\n            default:\n                setFlowState('details');\n                break;\n        }\n    }, [clearFiles, flowState]);\n\n    const clearStates = useCallback(() => {\n        setSelectedDefenseReason(null);\n        setApplicableDocuments(null);\n        setDefendDisputePayload(null);\n        setDefendResponse(null);\n        setDispute(undefined);\n    }, [setDispute]);\n\n    const addFileToDefendPayload = useCallback((field: string, file: File) => {\n        setDefendDisputePayload(previousFormData => {\n            const nextFormData = previousFormData ? cloneFormData(previousFormData) : new FormData();\n            nextFormData.set(field, file, file.name);\n            return nextFormData;\n        });\n    }, []);\n\n    const moveFieldInDefendPayload = useCallback((fromField: string, toField: string) => {\n        setDefendDisputePayload(previousFormData => {\n            if (previousFormData && previousFormData.has(fromField)) {\n                const fromFieldValue = previousFormData.get(fromField)!;\n                const nextFormData = cloneFormData(previousFormData);\n\n                nextFormData.delete(fromField);\n\n                if (fromFieldValue instanceof File) {\n                    nextFormData.set(toField, fromFieldValue, fromFieldValue.name);\n                } else nextFormData.set(toField, fromFieldValue);\n\n                return nextFormData;\n            }\n            return previousFormData;\n        });\n    }, []);\n\n    const removeFieldFromDefendPayload = useCallback((field: string) => {\n        setDefendDisputePayload(previousFormData => {\n            if (previousFormData && previousFormData.has(field)) {\n                const nextFormData = cloneFormData(previousFormData);\n                nextFormData.delete(field);\n                return nextFormData;\n            }\n            return previousFormData;\n        });\n    }, []);\n\n    const onDefendSubmit = useCallback((response: 'success' | 'error') => {\n        setDefendResponse(response);\n    }, []);\n\n    useEffect(() => {\n        setDefendDisputePayload(() => {\n            if (selectedDefenseReason) {\n                const nextFormData = new FormData();\n                nextFormData.set('defenseReason', selectedDefenseReason);\n                return nextFormData;\n            }\n            return null;\n        });\n    }, [selectedDefenseReason]);\n\n    const { getCdnConfig } = useCoreContext();\n\n    const [defenseReasonConfig, setDefenseReasonConfig] = useState<Record<string, TranslationConfigItem>>(localDefenseReasonConfig);\n    const [defenseDocumentConfig, setDefenseDocumentConfig] = useState<Record<string, TranslationConfigItem>>(localDefenseDocumentConfig);\n\n    const getDisputesConfig = useCallback(async () => {\n        const defenseReasonConfig = await getCdnConfig?.<Record<string, TranslationConfigItem>>({\n            subFolder: 'disputes',\n            name: 'defenseReasonConfig',\n            fallback: localDefenseReasonConfig,\n        });\n        const defenseDocumentConfig = await getCdnConfig?.<Record<string, TranslationConfigItem>>({\n            subFolder: 'disputes',\n            name: 'defenseDocumentConfig',\n            fallback: localDefenseDocumentConfig,\n        });\n\n        setDefenseReasonConfig(defenseReasonConfig ?? localDefenseReasonConfig);\n        setDefenseDocumentConfig(defenseDocumentConfig ?? localDefenseDocumentConfig);\n    }, [getCdnConfig]);\n\n    return (\n        <DisputeFlowContext.Provider\n            value={{\n                addFileToDefendPayload,\n                applicableDocuments,\n                clearFiles,\n                clearStates,\n                defendResponse,\n                dispute,\n                flowState,\n                goBack,\n                setApplicableDocuments,\n                setFlowState,\n                setDispute,\n                selectedDefenseReason,\n                setSelectedDefenseReason,\n                defendDisputePayload,\n                onDefendSubmit,\n                moveFieldInDefendPayload,\n                removeFieldFromDefendPayload,\n                getDisputesConfig,\n                defenseReasonConfig,\n                defenseDocumentConfig,\n            }}\n        >\n            {children}\n        </DisputeFlowContext.Provider>\n    );\n});\n\nexport const useDisputeFlow = () => {\n    const context = useContext(DisputeFlowContext);\n    if (!context) throw new Error('useDisputeFlow must be used within DisputeFlowProvider');\n    return context;\n};\n","import Typography from '../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport { useModalContext } from '../../../../internal/Modal/Modal';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport ButtonActions from '../../../../internal/Button/ButtonActions/ButtonActions';\nimport { ButtonActionsList } from '../../../../internal/Button/ButtonActions/types';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport { useDisputeFlow } from '../../context/dispute/context';\nimport useMutation from '../../../../../hooks/useMutation/useMutation';\nimport { EMPTY_OBJECT, isFunction, uniqueId } from '../../../../../utils';\nimport { TranslationKey } from '../../../../../translations';\nimport { DisputeManagementProps } from '../../types';\nimport Button from '../../../../internal/Button';\nimport Icon from '../../../../internal/Icon';\nimport './AcceptDisputeFlow.scss';\n\nexport const AcceptDisputeFlow = ({ onDisputeAccept }: Pick<DisputeManagementProps, 'onDisputeAccept'>) => {\n    const { i18n } = useCoreContext();\n    const { acceptDispute } = useConfigContext().endpoints;\n    const { dispute, clearStates, goBack } = useDisputeFlow();\n    const { withinModal } = useModalContext();\n\n    const cachedDispute = useRef(dispute).current ?? dispute;\n    const titleEl = withinModal ? TypographyElement.H2 : TypographyElement.DIV;\n\n    const disputePspReference = cachedDispute?.dispute.pspReference;\n    const disputeType = cachedDispute?.dispute.type;\n    const isRequestForInformation = disputeType === 'REQUEST_FOR_INFORMATION';\n\n    const acceptedLabel = useRef<TranslationKey>('disputes.management.accept.chargeback.accepted');\n    const acceptDisclaimer = useRef<TranslationKey>('disputes.management.accept.chargeback.disclaimer');\n    const acceptTitle = useRef<TranslationKey>('disputes.management.accept.chargeback.title');\n    const acceptButtonTitle = useRef<TranslationKey>('disputes.management.accept.chargeback.actions.accept');\n    const isRFI = useRef(isRequestForInformation);\n\n    if ((isRFI.current ||= isRequestForInformation)) {\n        acceptedLabel.current = 'disputes.management.accept.requestForInformation.accepted';\n        acceptDisclaimer.current = 'disputes.management.accept.requestForInformation.disclaimer';\n        acceptTitle.current = 'disputes.management.accept.requestForInformation.title';\n        acceptButtonTitle.current = 'disputes.management.accept.requestForInformation.actions.accept';\n    }\n\n    const [termsAgreed, setTermsAgreed] = useState(false);\n    const [disputeAccepted, setDisputeAccepted] = useState(false);\n\n    const acceptDisputeMutation = useMutation({\n        queryFn: acceptDispute,\n        options: {\n            onSuccess: useCallback(() => {\n                clearStates();\n                setDisputeAccepted(true);\n            }, [clearStates]),\n        },\n    });\n\n    const interactionsDisabled = acceptDisputeMutation.isLoading || disputeAccepted;\n    const canAcceptDispute = termsAgreed && !interactionsDisabled;\n\n    const acceptDisputeCallback = useCallback(() => {\n        if (!canAcceptDispute) return;\n        void acceptDisputeMutation.mutate(EMPTY_OBJECT, { path: { disputePspReference: disputePspReference! } });\n    }, [canAcceptDispute, disputePspReference, acceptDisputeMutation]);\n\n    const toggleTermsAgreement = useCallback(() => {\n        if (interactionsDisabled) return;\n        setTermsAgreed(prev => !prev);\n    }, [interactionsDisabled]);\n\n    const actionButtons = useMemo<ButtonActionsList>(() => {\n        return [\n            {\n                title: i18n.get(acceptButtonTitle.current),\n                disabled: !canAcceptDispute,\n                state: acceptDisputeMutation.isLoading ? 'loading' : 'default',\n                variant: ButtonVariant.PRIMARY,\n                event: acceptDisputeCallback,\n                classNames: disputeAccepted ? ['adyen-pe-accept-dispute__accepted-btn'] : undefined,\n                renderTitle: title => {\n                    if (disputeAccepted) {\n                        return (\n                            <>\n                                <Icon name=\"checkmark-circle-fill\" className=\"adyen-pe-accept-dispute__accepted-icon\" />\n                                {i18n.get('disputes.management.accept.common.accepted')}\n                            </>\n                        );\n                    }\n                    return title;\n                },\n            },\n            {\n                title: i18n.get('disputes.management.common.actions.goBack'),\n                disabled: acceptDisputeMutation.isLoading,\n                variant: ButtonVariant.SECONDARY,\n                event: goBack,\n            },\n        ];\n    }, [i18n, acceptDisputeCallback, acceptDisputeMutation.isLoading, canAcceptDispute, goBack, disputeAccepted]);\n\n    const acceptCallbackHasBeenCalled = useRef(false);\n    const termsAgreementInputId = useRef(uniqueId()).current;\n\n    useEffect(() => {\n        if (acceptCallbackHasBeenCalled.current) return;\n\n        if (disputeAccepted && disputePspReference && isFunction(onDisputeAccept)) {\n            acceptCallbackHasBeenCalled.current = true;\n            onDisputeAccept({ id: disputePspReference });\n        }\n    }, [disputeAccepted, disputePspReference, onDisputeAccept]);\n\n    return (\n        <div className=\"adyen-pe-accept-dispute__container\">\n            {disputeAccepted ? (\n                <div className=\"adyen-pe-accept-dispute__success\">\n                    <Icon name=\"checkmark-circle-fill\" className=\"adyen-pe-accept-dispute__success-icon\" />\n                    <Typography variant={TypographyVariant.TITLE}>{i18n.get(acceptedLabel.current)}</Typography>\n                    <Button variant={ButtonVariant.SECONDARY} onClick={goBack}>\n                        {i18n.get('disputes.management.common.actions.showDetails')}\n                    </Button>\n                </div>\n            ) : (\n                <>\n                    <Typography className=\"adyen-pe-accept-dispute__title\" el={titleEl} variant={TypographyVariant.TITLE} medium>\n                        {i18n.get(acceptTitle.current)}\n                    </Typography>\n                    <Typography variant={TypographyVariant.BODY} medium>\n                        {i18n.get(acceptDisclaimer.current)}\n                    </Typography>\n                    <div className=\"adyen-pe-accept-dispute__input\">\n                        <input\n                            type=\"checkbox\"\n                            disabled={interactionsDisabled}\n                            className=\"adyen-pe-visually-hidden\"\n                            id={termsAgreementInputId}\n                            onInput={toggleTermsAgreement}\n                        />\n\n                        <label className=\"adyen-pe-accept-dispute__label\" htmlFor={termsAgreementInputId}>\n                            {termsAgreed ? <Icon name=\"checkmark-square-fill\" /> : <Icon name=\"square\" />}\n                            <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                                {i18n.get('disputes.management.accept.common.agree')}\n                            </Typography>\n                        </label>\n                    </div>\n\n                    <div className=\"adyen-pe-accept-dispute__actions\">\n                        <ButtonActions actions={actionButtons} />\n                    </div>\n                </>\n            )}\n        </div>\n    );\n};\n","export const BASE_CLASS = 'adyen-pe-file-input';\nexport const DEFAULT_FILE_TYPES = ['application/pdf', 'image/jpeg', 'image/jpg', 'image/png'] as const;\nexport const DEFAULT_MAX_FILE_SIZE = 2097152; // 2MB\n\nexport const validationErrors = {\n    DISALLOWED_FILE_TYPE: 'disallowed_file_type',\n    FILE_REQUIRED: 'file_required',\n    TOO_MANY_FILES: 'too_many_files',\n    VERY_LARGE_FILE: 'very_large_file',\n    MAX_FILE_SIZE: 'max_file_size',\n    MAX_DIMENSIONS: 'max_dimensions',\n} as const;\n","import Icon from '../../../Icon';\nimport Button from '../../../Button/Button';\nimport Typography from '../../../Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../Typography/types';\nimport { getHumanReadableFileSize } from '../../../../../utils';\nimport { ButtonVariant } from '../../../Button/types';\nimport { Translation } from '../../../Translation';\nimport { UploadedFileProps } from '../types';\nimport { BASE_CLASS } from '../constants';\nimport { useMemo } from 'preact/hooks';\nimport '../FileInput.scss';\n\nconst classes = {\n    fileBase: `${BASE_CLASS}__file`,\n    fileButton: `${BASE_CLASS}__file-button`,\n    fileDetails: `${BASE_CLASS}__file-details`,\n    fileIcon: `${BASE_CLASS}__file-icon`,\n    fileName: `${BASE_CLASS}__file-name`,\n    fileSize: `${BASE_CLASS}__file-size`,\n};\n\nexport function UploadedFile({ file, deleteFile, disabled }: UploadedFileProps) {\n    const fileSize = useMemo(() => getHumanReadableFileSize(file.size), [file.size]);\n    return (\n        <div className={classes.fileBase}>\n            <div className={classes.fileDetails}>\n                <Icon name=\"checkmark-circle-fill\" className={classes.fileIcon} />\n                <div className={classes.fileName} title={file.name}>\n                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} stronger>\n                        {file.name}\n                    </Typography>\n                </div>\n                <Typography className={classes.fileSize} el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                    {fileSize}\n                </Typography>\n            </div>\n            <Button className={classes.fileButton} disabled={disabled} variant={ButtonVariant.TERTIARY} onClick={deleteFile}>\n                <Icon name=\"trash-can\" />\n                {/* The content of this span is used as accessible name for the delete (icon) button. */}\n                {/* However, it is visually hidden (not visible), but available to assistive technology. */}\n                <span className=\"adyen-pe-visually-hidden\">\n                    <Translation translationKey=\"common.inputs.file.actions.delete\" fills={{ filename: file.name }} />\n                </span>\n            </Button>\n        </div>\n    );\n}\n\nexport default UploadedFile;\n","import { Ref, RefCallback, RefObject } from 'preact';\nimport { useMemo } from 'preact/hooks';\nimport { isFunction, noop } from '../utils';\n\nexport interface TrackedRef<T> {\n    (instance: T | null): void;\n    get current(): T | null;\n    set current(instance: T | null);\n}\n\nexport const useTrackedRef = <T>(ref?: Ref<T>) => {\n    return useMemo<TrackedRef<T>>(() => {\n        let currentInstance: TrackedRef<T>['current'] = (ref as RefObject<T>)?.current ?? null;\n        let updateRef: RefCallback<T> = noop;\n\n        if (ref) {\n            // prettier-ignore\n            updateRef = isFunction(ref)\n                ? ref // ref is a ref callback (will be used as is)\n\n                // ref is a ref object (with current property)\n                // use a callback that takes the next ref instance and updates ref\n                : instance => void (ref.current = instance);\n        }\n\n        // ref callback that takes next ref instance,\n        // and updates both currentInstance and ref\n        const trackedRef: RefCallback<T> = instance => {\n            currentInstance = instance;\n            updateRef(instance);\n        };\n\n        return Object.defineProperty(trackedRef as TrackedRef<T>, 'current', {\n            enumerable: true,\n            get: () => currentInstance,\n            set: trackedRef,\n        });\n    }, [ref]);\n};\n\nexport default useTrackedRef;\n","import cx from 'classnames';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport { fixedForwardRef } from '../../../../../utils/preact';\nimport Typography from '../../../Typography/Typography';\nimport useTrackedRef from '../../../../../hooks/useTrackedRef';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { BASE_CLASS, DEFAULT_FILE_TYPES, DEFAULT_MAX_FILE_SIZE, validationErrors } from '../constants';\nimport { getUploadedFilesFromSource, isFunction, uniqueId, UploadedFileSource } from '../../../../../utils';\nimport { TypographyElement, TypographyVariant } from '../../../Typography/types';\nimport { TranslationKey } from '../../../../../translations';\nimport { DropzoneProps, ValidationError } from '../types';\nimport Icon from '../../../Icon';\nimport '../FileInput.scss';\n\nconst classes = {\n    dropzone: `${BASE_CLASS}__dropzone`,\n    dropzoneDisabled: `${BASE_CLASS}__dropzone--disabled`,\n    dropzoneDragOver: `${BASE_CLASS}__dropzone--dragover`,\n    dropzoneError: `${BASE_CLASS}__dropzone--error`,\n    label: `${BASE_CLASS}__label`,\n    labelDefault: `${BASE_CLASS}__label-default-content`,\n    labelIcon: `${BASE_CLASS}__label-icon`,\n    labelText: `${BASE_CLASS}__label-text`,\n    error: `${BASE_CLASS}__error`,\n    errorIcon: `${BASE_CLASS}__error-icon`,\n    errorText: `${BASE_CLASS}__error-text`,\n};\n\nexport const Dropzone = fixedForwardRef<DropzoneProps, HTMLInputElement>((props, ref) => {\n    const {\n        id,\n        name,\n        children,\n        disabled = false,\n        required = false,\n        maxDimensions,\n        maxFileSize = DEFAULT_MAX_FILE_SIZE,\n        allowedFileTypes = DEFAULT_FILE_TYPES,\n        mapError,\n        uploadFiles,\n    } = props;\n\n    const { i18n } = useCoreContext();\n    const [inputError, setInputError] = useState<ValidationError | ''>('');\n    const [largeFileErrorContext, setLargeFileErrorContext] = useState<{ type: string; limit: number } | undefined>();\n    const [dragOver, setDragOver] = useState(false);\n\n    const isInvalid = !!inputError;\n    const inputName = name?.trim();\n    const inputId = useMemo(() => id || uniqueId(), [id]);\n    const inputRef = useTrackedRef(ref);\n\n    const handleDragOver = (event: DragEvent) => {\n        const hasFiles = Array.from(event.dataTransfer?.types ?? []).some(type => type === 'Files');\n        if (hasFiles) {\n            event.preventDefault();\n            setDragOver(true);\n        }\n    };\n\n    const handleDragLeave = (event: DragEvent) => {\n        event.preventDefault();\n        setDragOver(false);\n    };\n\n    const handleDrop = (event: DragEvent) => {\n        event.preventDefault();\n        setDragOver(false);\n        updateFiles(event.dataTransfer);\n    };\n\n    const handleFileChange = (event: Event) => {\n        largeFileErrorContext && setLargeFileErrorContext(undefined);\n        updateFiles(event.target as HTMLInputElement);\n    };\n\n    const handleInputBlur = async (event: FocusEvent) => {\n        if (event.target !== document.activeElement) {\n            (event.target as HTMLInputElement)?.checkValidity();\n        }\n    };\n\n    const handleInputInvalid = async (event: Event) => {\n        if (!inputError && (event.target as HTMLInputElement).validity.valueMissing) {\n            // Since there is currently no other custom input validation message,\n            // Replace the default \"required\" constraint validation message (if necessary)\n            updateInputValidationError(validationErrors.FILE_REQUIRED);\n        }\n    };\n\n    const updateInputValidationError = useCallback(\n        (error: string) => {\n            const inputElement = inputRef.current;\n\n            if (inputElement) {\n                const currentRequired = inputElement.required;\n\n                // Temporarily mark input as optional before accessing validation message,\n                // to evade the default \"required\" constraint validation message.\n                inputElement.required = false;\n                inputElement.setCustomValidity(error);\n                setInputError((inputElement.validationMessage as ValidationError) ?? '');\n\n                // Restore the required state of the input\n                inputElement.required = currentRequired;\n            }\n        },\n        [inputRef]\n    );\n\n    const getImageDimensions = async (file: File): Promise<{ width: number; height: number }> => {\n        return new Promise((resolve, reject) => {\n            const image = new Image();\n            const url = URL.createObjectURL(file);\n            image.src = url;\n            image.onerror = reject;\n            image.onload = function () {\n                resolve({ width: image.width, height: image.height });\n            };\n        });\n    };\n\n    const updateFiles = useCallback(\n        async <T extends UploadedFileSource>(source?: T | null): Promise<void> => {\n            const uploadedFiles = getUploadedFilesFromSource(source);\n\n            if (uploadedFiles.length > 1) {\n                return updateInputValidationError(validationErrors.TOO_MANY_FILES);\n            }\n\n            try {\n                const dimensionFilteredFiles = await Promise.all(\n                    uploadedFiles.map(async file => {\n                        if (!maxDimensions || !maxDimensions?.width || !maxDimensions?.height) return file;\n                        const dimensions = await getImageDimensions(file);\n                        if (!(maxDimensions?.width === dimensions.width) || !(maxDimensions?.height === dimensions.height)) {\n                            throw validationErrors.MAX_DIMENSIONS;\n                        }\n                        return file;\n                    })\n                );\n                const allowedFiles = dimensionFilteredFiles.filter(file => {\n                    if (!allowedFileTypes.includes(file.type)) {\n                        throw validationErrors.DISALLOWED_FILE_TYPE;\n                    }\n\n                    // Determine the current max file size for the file type\n                    const currentMaxFileSize = isFunction(maxFileSize) ? (maxFileSize(file.type) ?? DEFAULT_MAX_FILE_SIZE) : maxFileSize;\n                    if (file.size > currentMaxFileSize) {\n                        setLargeFileErrorContext({ type: file.type, limit: currentMaxFileSize });\n                        throw validationErrors.VERY_LARGE_FILE;\n                    }\n                    return true;\n                });\n\n                updateInputValidationError('');\n                uploadFiles(allowedFiles);\n            } catch (ex) {\n                switch (ex) {\n                    case validationErrors.DISALLOWED_FILE_TYPE:\n                    case validationErrors.VERY_LARGE_FILE:\n                    case validationErrors.MAX_DIMENSIONS:\n                        return updateInputValidationError(ex);\n                }\n            }\n        },\n        [allowedFileTypes, maxFileSize, updateInputValidationError, uploadFiles, maxDimensions]\n    );\n\n    return (\n        <>\n            <div\n                role=\"region\"\n                className={cx(classes.dropzone, {\n                    [classes.dropzoneDisabled]: disabled,\n                    [classes.dropzoneDragOver]: dragOver,\n                    [classes.dropzoneError]: isInvalid,\n                })}\n                onDragOver={disabled ? undefined : handleDragOver}\n                onDragLeave={disabled ? undefined : handleDragLeave}\n                onDrop={disabled ? undefined : handleDrop}\n            >\n                <input\n                    type=\"file\"\n                    className=\"adyen-pe-visually-hidden\"\n                    id={inputId}\n                    ref={inputRef}\n                    name={inputName}\n                    disabled={disabled}\n                    required={required}\n                    accept={String(allowedFileTypes)}\n                    onBlur={handleInputBlur}\n                    onChange={handleFileChange}\n                    onInvalid={handleInputInvalid}\n                    aria-invalid={isInvalid}\n                    data-testId=\"dropzone-input\"\n                />\n\n                {/* Using the label element here to expose a user interaction surface for the file input element. */}\n                {/* The input element itself is visually hidden (not visible), but available to assistive technology. */}\n                {/* To preserve proper focus styling, this label element should always come after the input element. */}\n                <label className={classes.label} htmlFor={inputId}>\n                    {children ?? (\n                        <div className={cx(classes.labelDefault)}>\n                            {\n                                // prettier-ignore\n                                isInvalid\n                                    ? <Icon name=\"warning-filled\" className={classes.labelIcon} />\n                                    : <Icon name=\"upload\" className={classes.labelIcon} />\n                            }\n                            <Typography className={classes.labelText} el={TypographyElement.SPAN} variant={TypographyVariant.BODY} stronger>\n                                {i18n.get('common.inputs.file.labels.default')}\n                            </Typography>\n                        </div>\n                    )}\n                </label>\n            </div>\n            {isInvalid && (\n                <div className={classes.error}>\n                    <Icon name=\"cross-circle-fill\" className={classes.errorIcon} />\n                    <Typography className={classes.errorText} el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                        {isFunction(mapError)\n                            ? mapError(\n                                  inputError,\n                                  largeFileErrorContext ? { size: largeFileErrorContext.limit, type: largeFileErrorContext.type } : undefined\n                              )\n                            : i18n.get(inputError as TranslationKey)}\n                    </Typography>\n                </div>\n            )}\n        </>\n    );\n});\n\nexport default Dropzone;\n","import useCoreContext from '../../../../core/Context/useCoreContext';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { fixedForwardRef } from '../../../../utils/preact';\nimport UploadedFile from './components/UploadedFile';\nimport Dropzone from './components/Dropzone';\nimport { isFunction } from '../../../../utils';\nimport { BASE_CLASS, validationErrors } from './constants';\nimport { FileInputProps, ValidationError } from './types';\nimport './FileInput.scss';\n\nexport const FileInput = fixedForwardRef<FileInputProps, HTMLInputElement>(({ onChange, mapError, onDelete, ...restProps }, ref) => {\n    const [files, setFiles] = useState<File[]>([]);\n    const uploadedFiles = useRef(files);\n    const uploadedFile = files[0];\n    const { i18n } = useCoreContext();\n    const { disabled } = restProps;\n\n    const defaultMapError = useCallback(\n        (error: ValidationError): string => {\n            switch (error) {\n                case validationErrors.DISALLOWED_FILE_TYPE:\n                    return i18n.get('common.inputs.file.errors.disallowedType');\n                case validationErrors.FILE_REQUIRED:\n                    return i18n.get('common.inputs.file.errors.required');\n                case validationErrors.TOO_MANY_FILES:\n                    return i18n.get('common.inputs.file.errors.tooMany');\n                case validationErrors.VERY_LARGE_FILE:\n                    return i18n.get('common.inputs.file.errors.tooLarge');\n                case validationErrors.MAX_DIMENSIONS:\n                    return i18n.get('common.inputs.file.errors.maxDimensions');\n            }\n            return '';\n        },\n        [i18n]\n    );\n\n    const mapErrorWithFallback = useMemo(() => (isFunction(mapError) ? mapError : defaultMapError), [mapError]);\n\n    const deleteFile = useCallback(\n        (fileToDelete: File) => {\n            if (disabled) return;\n            setFiles(currentFiles => {\n                const fileIndex = currentFiles.findIndex(file => file === fileToDelete);\n\n                if (fileIndex < 0) {\n                    // Negative fileIndex means the file isn't in the array\n                    // Nothing to delete, return currentFiles (state did not change)\n                    return currentFiles;\n                }\n\n                // Modify and return a clone (instead of the original currentFiles array),\n                // so that state is considered to have changed\n                const [...currentFilesCopy] = currentFiles;\n                currentFilesCopy.splice(fileIndex, 1);\n                return currentFilesCopy;\n            });\n\n            onDelete?.();\n        },\n        [disabled, onDelete]\n    );\n\n    const uploadFiles = useCallback(\n        (files: File[]) => {\n            if (disabled) return;\n            setFiles(currentFiles => {\n                if (currentFiles.length === 0 && files.length === 0) {\n                    // No uploaded files currently, and no files will be uploaded,\n                    // Nothing to upload, return currentFiles (state did not change)\n                    return currentFiles;\n                } else {\n                    return files;\n                }\n            });\n        },\n        [disabled]\n    );\n\n    useEffect(() => {\n        // Skip calling onChange callback if the uploaded files haven't changed\n        if (uploadedFiles.current === files) return;\n\n        // Uploaded files array changed (update the tracking ref)\n        uploadedFiles.current = files;\n\n        // Attempt calling onChange callback\n        // Pass a clone of the files array (to avoid unexpected mutation)\n        onChange?.([...files]);\n    }, [files, onChange]);\n\n    return (\n        <div className={BASE_CLASS}>\n            {\n                // prettier-ignore\n                uploadedFile\n                    ? <UploadedFile disabled={disabled} file={uploadedFile} deleteFile={() => deleteFile(uploadedFile)} />\n                    : <Dropzone {...restProps} ref={ref} mapError={mapErrorWithFallback} uploadFiles={uploadFiles} />\n            }\n        </div>\n    );\n});\n\nexport default FileInput;\n","import Localization from '../../../../core/Localization';\n\nexport type TranslationConfigItem = {\n    title: string;\n    help?: string | string[];\n    helpitems?: string[];\n};\n\nexport type Content = {\n    title: string;\n    primaryDescriptionItems?: string[];\n    secondaryDescriptionItems?: string[];\n};\n\nconst getTranslationIfExists = (i18n: Localization['i18n'], prefix: string, key: string): string | undefined => {\n    const prefixedKey = `${prefix}.${key}`;\n    return i18n.has(prefixedKey) ? i18n.get(prefixedKey) : undefined;\n};\n\nconst getContent = (\n    i18n: Localization['i18n'],\n    config: Record<string, TranslationConfigItem>,\n    configItemKey: string,\n    translationPrefix: string\n): Content | undefined => {\n    const configItem = config[configItemKey];\n    if (!configItem) return undefined;\n\n    const title = getTranslationIfExists(i18n, translationPrefix, configItem.title);\n\n    const descriptionKeys = configItem.help ? (Array.isArray(configItem.help) ? configItem.help : [configItem.help]) : undefined;\n    const primaryDescriptionItems: string[] | undefined = descriptionKeys\n        ?.map(key => getTranslationIfExists(i18n, translationPrefix, key))\n        .filter((k): k is string => k !== undefined);\n\n    const secondaryDescriptionItems: string[] = [];\n\n    if (configItem.helpitems) {\n        configItem.helpitems.forEach(item => {\n            const translation = getTranslationIfExists(i18n, translationPrefix, item);\n            if (translation) secondaryDescriptionItems.push(translation);\n        });\n    }\n\n    return {\n        title: title || '',\n        ...(primaryDescriptionItems?.length ? { primaryDescriptionItems } : {}),\n        ...(secondaryDescriptionItems?.length ? { secondaryDescriptionItems } : {}),\n    };\n};\n\nexport const getDefenseDocumentContent = (\n    defenseDocumentConfig: Record<string, TranslationConfigItem>,\n    i18n: Localization['i18n'],\n    defenseDocumentKey: string\n) => {\n    return getContent(i18n, defenseDocumentConfig, defenseDocumentKey, 'disputes.management.common.defenseDocuments');\n};\n\nexport const getDefenseReasonContent = (\n    defenseReasonConfig: Record<string, TranslationConfigItem>,\n    i18n: Localization['i18n'],\n    defenseReasonKey: string\n) => {\n    return getContent(i18n, defenseReasonConfig, defenseReasonKey, 'disputes.management.common.defenseReasons');\n};\n","const UPLOAD_DOCUMENT_MAX_SIZE = {\n    '2MB': 2097152,\n    '10MB': 10485760,\n};\n\nexport const ALLOWED_FILE_TYPES = ['application/pdf', 'image/jpeg', 'image/jpg', 'image/tiff'] as const;\n\nexport const DOCUMENT_MAX_SIZE: { [k in (typeof ALLOWED_FILE_TYPES)[number]]: number } = {\n    'application/pdf': UPLOAD_DOCUMENT_MAX_SIZE['2MB'],\n    'image/jpeg': UPLOAD_DOCUMENT_MAX_SIZE['10MB'],\n    'image/jpg': UPLOAD_DOCUMENT_MAX_SIZE['10MB'],\n    'image/tiff': UPLOAD_DOCUMENT_MAX_SIZE['10MB'],\n};\n","import FileInput from '../../../../internal/FormFields/FileInput/FileInput';\nimport { getDefenseDocumentContent } from '../../utils';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { useMemo } from 'preact/hooks';\nimport { useDisputeFlow } from '../../context/dispute/context';\nimport { ALLOWED_FILE_TYPES, DOCUMENT_MAX_SIZE } from './constants';\nimport { MapErrorCallback } from './types';\n\nexport const DefendDocumentUpload = ({\n    document,\n    disabled,\n    required,\n    mapError,\n}: {\n    document: string;\n    disabled?: boolean;\n    required: boolean;\n    mapError: MapErrorCallback;\n}) => {\n    const { i18n } = useCoreContext();\n    const { removeFieldFromDefendPayload, addFileToDefendPayload, defenseDocumentConfig } = useDisputeFlow();\n    const { title, primaryDescriptionItems } =\n        useMemo(() => getDefenseDocumentContent(defenseDocumentConfig, i18n, document), [defenseDocumentConfig, i18n, document]) || {};\n    return (\n        <div className=\"adyen-pe-defend-dispute-document-upload\">\n            <div>\n                <Typography\n                    strongest\n                    className=\"adyen-pe-defend-dispute-document-upload__title\"\n                    variant={TypographyVariant.BODY}\n                    el={TypographyElement.DIV}\n                >\n                    {title || document}\n                </Typography>\n                {primaryDescriptionItems && primaryDescriptionItems.length > 0\n                    ? primaryDescriptionItems.map((desc, i) => {\n                          return (\n                              <Typography\n                                  key={`${i}-description`}\n                                  className=\"adyen-pe-defend-dispute-document-upload__description\"\n                                  variant={TypographyVariant.BODY}\n                              >\n                                  {desc}\n                              </Typography>\n                          );\n                      })\n                    : null}\n            </div>\n            <FileInput\n                allowedFileTypes={ALLOWED_FILE_TYPES}\n                maxFileSize={type => {\n                    return DOCUMENT_MAX_SIZE[type as keyof typeof DOCUMENT_MAX_SIZE];\n                }}\n                mapError={mapError}\n                onDelete={() => {\n                    document && removeFieldFromDefendPayload(document);\n                }}\n                key={document}\n                disabled={disabled}\n                required={required}\n                onChange={files => {\n                    files[0] ? addFileToDefendPayload(document, files[0]) : removeFieldFromDefendPayload(document);\n                }}\n            />\n        </div>\n    );\n};\n","import cx from 'classnames';\nimport { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport Select from '../../../../internal/FormFields/Select';\nimport FileInput from '../../../../internal/FormFields/FileInput/FileInput';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { SelectItem } from '../../../../internal/FormFields/Select/types';\nimport { useDisputeFlow } from '../../context/dispute/context';\nimport { getDefenseDocumentContent } from '../../utils';\nimport { useCallback, useEffect, useMemo } from 'preact/hooks';\nimport Button from '../../../../internal/Button/Button';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport Icon from '../../../../internal/Icon';\nimport { ALLOWED_FILE_TYPES, DOCUMENT_MAX_SIZE } from './constants';\nimport { MapErrorCallback } from './types';\n\nconst BASE_CLASS = 'adyen-pe-defend-dispute-document-upload-box';\n\nconst classes = {\n    deleteButton: BASE_CLASS + '__delete-button-container',\n    dropdownList: BASE_CLASS + '__dropdown-list',\n    dropdownListMobile: BASE_CLASS + '__dropdown-list--mobile',\n    extraDocuments: BASE_CLASS + '__extra-documents-selector',\n    extraDocumentsTitle: BASE_CLASS + '__extra-documents-selector-title',\n};\n\nconst SelectAndUploadOptionalDoc = ({\n    items,\n    selection,\n    setSelection,\n    disabled,\n    required,\n    title,\n    index,\n    onRemoveOption,\n    mapError,\n}: {\n    items: SelectItem[];\n    selection: string | undefined;\n    setSelection: (val: string, index?: number) => void;\n    disabled?: boolean;\n    required: boolean;\n    title: string;\n    index?: number;\n    onRemoveOption?: (index: number) => void;\n    mapError: MapErrorCallback;\n}) => {\n    const { i18n } = useCoreContext();\n    const { addFileToDefendPayload, moveFieldInDefendPayload, removeFieldFromDefendPayload, defenseDocumentConfig } = useDisputeFlow();\n    const documentSelectLabel = useMemo(() => i18n.get('disputes.management.defend.common.inputs.documentSelect.a11y.label'), [i18n]);\n    const isMobileContainer = useResponsiveContainer(containerQueries.down.xs);\n\n    const getDocInfo = useCallback(\n        (document: string) => getDefenseDocumentContent(defenseDocumentConfig, i18n, document),\n        [defenseDocumentConfig, i18n]\n    );\n\n    const updateDocumentSelection = useCallback(\n        (documentSelection: string) => {\n            selection && moveFieldInDefendPayload(selection, documentSelection);\n            setSelection(documentSelection, index);\n        },\n        [index, moveFieldInDefendPayload, selection, setSelection]\n    );\n\n    useEffect(() => {\n        const activeSelectItems = items.filter(({ disabled }) => disabled !== true);\n        if (activeSelectItems.length === 1 && !selection) {\n            updateDocumentSelection(activeSelectItems[0]!.id);\n        }\n    }, [items, selection, updateDocumentSelection]);\n\n    return (\n        <div className={classes.extraDocuments}>\n            <div className={classes.deleteButton}>\n                <Typography strongest className={classes.extraDocumentsTitle} variant={TypographyVariant.BODY} el={TypographyElement.DIV}>\n                    {title}\n                </Typography>\n                {onRemoveOption && (\n                    <Button\n                        disabled={disabled}\n                        aria-label={i18n.get('disputes.management.defend.common.actions.deleteOptionalDocument')}\n                        onClick={() => index !== undefined && !disabled && onRemoveOption(index)}\n                        variant={ButtonVariant.TERTIARY}\n                        fullWidth={false}\n                        align=\"center\"\n                    >\n                        <Icon name=\"trash-can\" />\n                    </Button>\n                )}\n            </div>\n            <div>\n                <Select\n                    onChange={val => {\n                        const documentSelection = val.target.value;\n                        updateDocumentSelection(documentSelection);\n                    }}\n                    items={items}\n                    filterable={false}\n                    multiSelect={false}\n                    showOverlay={false}\n                    selected={selection}\n                    readonly={disabled}\n                    aria-label={documentSelectLabel}\n                    placeholder={documentSelectLabel}\n                    popoverClassNameModifiers={[cx(classes.dropdownList, { [classes.dropdownListMobile]: isMobileContainer })]}\n                    fixedPopoverPositioning\n                />\n                {selection &&\n                    getDocInfo(selection)?.primaryDescriptionItems?.map(desc => {\n                        return (\n                            <Typography\n                                key={desc}\n                                className=\"adyen-pe-defend-dispute-document-upload__description\"\n                                variant={TypographyVariant.BODY}\n                                el={TypographyElement.PARAGRAPH}\n                            >\n                                {desc}\n                            </Typography>\n                        );\n                    })}\n            </div>\n            <FileInput\n                maxFileSize={type => {\n                    return DOCUMENT_MAX_SIZE[type as keyof typeof DOCUMENT_MAX_SIZE];\n                }}\n                allowedFileTypes={ALLOWED_FILE_TYPES}\n                mapError={mapError}\n                onDelete={() => {\n                    selection && removeFieldFromDefendPayload(selection);\n                }}\n                disabled={disabled || !selection}\n                required={required}\n                onChange={files => {\n                    if (selection) {\n                        files[0] ? addFileToDefendPayload(selection, files[0]) : removeFieldFromDefendPayload(selection);\n                    }\n                }}\n            />\n        </div>\n    );\n};\n\nexport default SelectAndUploadOptionalDoc;\n","import { useCallback, useMemo, useState } from 'preact/hooks';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport useMutation from '../../../../../hooks/useMutation/useMutation';\nimport { TranslationKey } from '../../../../../translations';\nimport ButtonActions from '../../../../internal/Button/ButtonActions/ButtonActions';\nimport Card from '../../../../internal/Card/Card';\nimport { TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { useDisputeFlow } from '../../context/dispute/context';\nimport { DefendDocumentUpload } from './DefendDocumentUpload';\nimport { SelectItem } from '../../../../internal/FormFields/Select/types';\nimport SelectAndUploadOptionalDoc from './SelectAndUploadOptionalDoc';\nimport Button from '../../../../internal/Button';\nimport Icon from '../../../../internal/Icon';\nimport { ButtonActionsList } from '../../../../internal/Button/ButtonActions/types';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport { getDefenseDocumentContent } from '../../utils';\nimport { validationErrors } from '../../../../internal/FormFields/FileInput/constants';\nimport { getHumanReadableFileSize } from '../../../../../utils';\nimport { MapErrorCallback } from './types';\nimport './DefendDisputeFlow.scss';\n\nconst documentRequirements: TranslationKey[] = [\n    'disputes.management.defend.common.documentRequirements.language',\n    'disputes.management.defend.common.documentRequirements.recommendedSize',\n    'disputes.management.defend.common.documentRequirements.formatAndSize',\n];\n\nexport const DefendDisputeFileUpload = () => {\n    const { i18n } = useCoreContext();\n    const { defendDispute } = useConfigContext().endpoints;\n    const {\n        clearFiles,\n        clearStates,\n        dispute,\n        applicableDocuments,\n        goBack,\n        defendDisputePayload,\n        defendResponse,\n        onDefendSubmit,\n        removeFieldFromDefendPayload,\n        setFlowState,\n        defenseDocumentConfig,\n    } = useDisputeFlow();\n\n    const disputePspReference = dispute?.dispute.pspReference;\n\n    const [oneOrMoreSelectedDocument, setOneOrMoreSelectedDocument] = useState<string | undefined>(undefined);\n    const [optionalSelectedDocuments, setOptionalSelectedDocuments] = useState<(string | undefined)[]>([]);\n\n    const goBackToDetails = useCallback(() => {\n        clearStates();\n        setFlowState('details');\n    }, [clearStates, setFlowState]);\n\n    const mapError: MapErrorCallback = useCallback(\n        (error, file) => {\n            switch (error) {\n                case validationErrors.DISALLOWED_FILE_TYPE:\n                    return i18n.get('common.inputs.file.errors.disallowedType');\n                case validationErrors.FILE_REQUIRED:\n                    return i18n.get('disputes.management.defend.common.inputs.file.errors.required');\n                case validationErrors.TOO_MANY_FILES:\n                    return i18n.get('common.inputs.file.errors.tooMany');\n                case validationErrors.VERY_LARGE_FILE:\n                    return i18n.get('disputes.management.defend.common.inputs.file.errors.tooLarge', {\n                        values: {\n                            size: file?.size === undefined ? undefined : getHumanReadableFileSize(file.size),\n                            type: file?.type?.replace(/^([^/]+\\/)*/gi, '')?.toUpperCase(),\n                        },\n                    });\n                default:\n                    return i18n.get('disputes.management.defend.common.inputs.file.errors.default');\n            }\n        },\n        [i18n]\n    );\n\n    const { requiredDocuments, optionalDocuments, oneOrMoreDocuments } = useMemo(() => {\n        const docs: { requiredDocuments: string[]; optionalDocuments: SelectItem<string>[]; oneOrMoreDocuments: SelectItem<string>[] } = {\n            requiredDocuments: [],\n            optionalDocuments: [],\n            oneOrMoreDocuments: [],\n        };\n\n        (applicableDocuments ?? []).forEach(({ documentTypeCode, requirementLevel }) => {\n            const name = getDefenseDocumentContent(defenseDocumentConfig, i18n, documentTypeCode)?.title || documentTypeCode;\n            switch (requirementLevel) {\n                case 'REQUIRED':\n                    docs.requiredDocuments.push(documentTypeCode);\n                    break;\n                case 'OPTIONAL':\n                    docs.optionalDocuments.push({\n                        id: documentTypeCode,\n                        name,\n                    });\n                    break;\n                case 'ONE_OR_MORE':\n                    docs.oneOrMoreDocuments.push({\n                        id: documentTypeCode,\n                        name,\n                    });\n                    break;\n            }\n            return docs;\n        });\n\n        return docs;\n    }, [applicableDocuments, i18n]);\n\n    const requiredDocumentsUploaded = useMemo(() => {\n        if (!defendDisputePayload) return false;\n\n        let requiredDocumentsPresent = requiredDocuments.every(d => defendDisputePayload.get(d) instanceof File);\n\n        if (oneOrMoreDocuments.length > 0) {\n            requiredDocumentsPresent &&= oneOrMoreDocuments.some(d => defendDisputePayload.get(d.id) instanceof File);\n        }\n        return requiredDocumentsPresent;\n    }, [defendDisputePayload, oneOrMoreDocuments, requiredDocuments]);\n\n    const defendDisputeMutation = useMutation({\n        queryFn: defendDispute,\n        options: {\n            onSuccess: useCallback(() => {\n                clearFiles();\n                onDefendSubmit('success');\n                setFlowState('defenseSubmitResponseView');\n            }, [clearFiles, onDefendSubmit, setFlowState]),\n            onError: useCallback(() => {\n                clearFiles();\n                onDefendSubmit('error');\n                setFlowState('defenseSubmitResponseView');\n            }, [clearFiles, onDefendSubmit, setFlowState]),\n        },\n    });\n\n    const disputeDefended = defendResponse === 'success';\n    const interactionsDisabled = defendDisputeMutation.isLoading || disputeDefended;\n    const canSubmitDocuments = defendDisputePayload && requiredDocumentsUploaded && !interactionsDisabled;\n\n    const defendDisputeCallback = useCallback(() => {\n        if (canSubmitDocuments) {\n            void defendDisputeMutation.mutate(\n                { contentType: 'multipart/form-data', body: defendDisputePayload },\n                { path: { disputePspReference: disputePspReference! } }\n            );\n        }\n    }, [canSubmitDocuments, disputePspReference, defendDisputeMutation, defendDisputePayload]);\n\n    const actionButtons = useMemo<ButtonActionsList>(() => {\n        return [\n            {\n                title: i18n.get('disputes.management.defend.common.actions.submit'),\n                disabled: !canSubmitDocuments,\n                state: defendDisputeMutation.isLoading ? 'loading' : 'default',\n                variant: ButtonVariant.PRIMARY,\n                event: defendDisputeCallback,\n                classNames: disputeDefended ? ['adyen-pe-defend-dispute__defended-btn'] : undefined,\n                renderTitle: title => {\n                    if (disputeDefended) {\n                        return (\n                            <>\n                                <Icon name=\"checkmark-circle-fill\" className=\"adyen-pe-defend-dispute__defended-icon\" />\n                                {i18n.get('disputes.management.defend.common.defended')}\n                            </>\n                        );\n                    }\n                    return title;\n                },\n            },\n            {\n                title: i18n.get('disputes.management.common.actions.goBack'),\n                disabled: defendDisputeMutation.isLoading,\n                variant: ButtonVariant.SECONDARY,\n                event: disputeDefended ? goBackToDetails : goBack,\n            },\n        ];\n    }, [i18n, canSubmitDocuments, defendDisputeMutation.isLoading, defendDisputeCallback, disputeDefended, goBackToDetails, goBack]);\n\n    const addOptionalDocument = useCallback((documentType?: string, index?: number) => {\n        if (documentType === undefined) {\n            setOptionalSelectedDocuments(prev => [...prev, documentType]);\n        } else if (index !== undefined) {\n            setOptionalSelectedDocuments(prev => {\n                if (prev[index] === documentType) {\n                    return prev;\n                }\n                const newDocs = [...prev];\n                newDocs[index] = documentType;\n                return newDocs;\n            });\n        }\n    }, []);\n\n    const canAddOptionalDocument = useMemo(() => {\n        if (interactionsDisabled) return false;\n        const optionalDocumentsCount = optionalDocuments.length + Math.max(0, oneOrMoreDocuments.length - 1);\n        return Boolean(optionalDocumentsCount && optionalDocumentsCount !== optionalSelectedDocuments.length);\n    }, [interactionsDisabled, oneOrMoreDocuments, optionalDocuments, optionalSelectedDocuments]);\n\n    const addEmptyOptionalDocument = useCallback(() => {\n        if (canAddOptionalDocument) addOptionalDocument();\n    }, [canAddOptionalDocument, addOptionalDocument]);\n\n    const availableOptionalDocuments = useMemo(() => {\n        const additionalOptionalDocs = oneOrMoreDocuments.filter(doc => doc.id !== oneOrMoreSelectedDocument);\n\n        return [...additionalOptionalDocs, ...optionalDocuments].map(doc => {\n            return { ...doc, disabled: optionalSelectedDocuments.includes(doc.id) };\n        });\n    }, [oneOrMoreDocuments, oneOrMoreSelectedDocument, optionalDocuments, optionalSelectedDocuments]);\n\n    const removeSelectedOptionalDocument = useCallback(\n        (indexToRemove: number) => {\n            setOptionalSelectedDocuments(prevDocs => {\n                if (indexToRemove < 0 || indexToRemove >= prevDocs.length) {\n                    return prevDocs;\n                }\n                const docToRemove = prevDocs[indexToRemove];\n\n                // If removeFileFromDefendPayload exists and a document type was actually selected for this slot\n                if (docToRemove) {\n                    removeFieldFromDefendPayload(docToRemove);\n                }\n                return prevDocs.filter((_, index) => index !== indexToRemove);\n            });\n        },\n        [removeFieldFromDefendPayload]\n    );\n\n    return (\n        <>\n            <>\n                <Typography className=\"adyen-pe-defend-dispute-file-uploader__subtitle\" variant={TypographyVariant.BODY}>\n                    {i18n.get('disputes.management.defend.common.documentUploadInfo')}\n                </Typography>\n                <Card\n                    renderHeader={\n                        <Typography variant={TypographyVariant.BODY} stronger className={'adyen-pe-defend-dispute-document-requirements'}>\n                            {i18n.get('disputes.management.defend.common.documentRequirements')}\n                        </Typography>\n                    }\n                    filled\n                    expandable\n                    compact\n                >\n                    <ul className={'adyen-pe-defend-dispute-document-requirements--list'}>\n                        {documentRequirements.map((item, index) => (\n                            <li className={'adyen-pe-defend-dispute-document-requirements--item'} key={`${item}-${index}`}>\n                                <Typography variant={TypographyVariant.BODY}>{i18n.get(item)}</Typography>\n                            </li>\n                        ))}\n                    </ul>\n                </Card>\n                <div className={'adyen-pe-defend-dispute-file-uploader__container'}>\n                    {requiredDocuments.length || oneOrMoreDocuments.length ? (\n                        <div className=\"adyen-pe-defend-dispute-document-upload-box\">\n                            {requiredDocuments.length ? (\n                                <div className=\"adyen-pe-defend-dispute-document-upload-box__required-documents\">\n                                    {requiredDocuments?.map(document => {\n                                        return (\n                                            <DefendDocumentUpload\n                                                mapError={mapError}\n                                                disabled={interactionsDisabled}\n                                                key={document}\n                                                document={document}\n                                                required\n                                            />\n                                        );\n                                    })}\n                                </div>\n                            ) : null}\n\n                            {oneOrMoreDocuments.length ? (\n                                <SelectAndUploadOptionalDoc\n                                    mapError={mapError}\n                                    disabled={interactionsDisabled}\n                                    selection={oneOrMoreSelectedDocument}\n                                    setSelection={(val: string) => setOneOrMoreSelectedDocument(val)}\n                                    items={oneOrMoreDocuments}\n                                    title={i18n.get('disputes.management.defend.common.documentTypes.required')}\n                                    required\n                                />\n                            ) : null}\n                        </div>\n                    ) : null}\n                    {optionalSelectedDocuments.length\n                        ? optionalSelectedDocuments.map((doc, index) => {\n                              return (\n                                  <div key={`optional-doc-${index}`} className=\"adyen-pe-defend-dispute-document-upload-box\">\n                                      <SelectAndUploadOptionalDoc\n                                          mapError={mapError}\n                                          disabled={interactionsDisabled}\n                                          onRemoveOption={removeSelectedOptionalDocument}\n                                          selection={doc}\n                                          setSelection={addOptionalDocument}\n                                          index={index}\n                                          items={availableOptionalDocuments}\n                                          title={i18n.get('disputes.management.defend.common.documentTypes.optional')}\n                                          required\n                                      />\n                                  </div>\n                              );\n                          })\n                        : null}\n                    {canAddOptionalDocument && (\n                        <Button align=\"center\" onClick={addEmptyOptionalDocument} variant={ButtonVariant.SECONDARY} fullWidth>\n                            <Icon name=\"plus\" />\n                            {i18n.get('disputes.management.defend.common.actions.addOptionalDocument')}\n                        </Button>\n                    )}\n                </div>\n                <div className={'adyen-pe-defend-file-uploader__actions'}>\n                    <ButtonActions actions={actionButtons} />\n                </div>\n            </>\n        </>\n    );\n};\n","import cx from 'classnames';\nimport { useEffect } from 'preact/compat';\nimport { useCallback, useMemo, useState } from 'preact/hooks';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport { IDisputeDefenseDocument } from '../../../../../types/api/models/disputes';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport Alert from '../../../../internal/Alert/Alert';\nimport { AlertTypeOption, AlertVariantOption } from '../../../../internal/Alert/types';\nimport ButtonActions from '../../../../internal/Button/ButtonActions/ButtonActions';\nimport Select from '../../../../internal/FormFields/Select';\nimport { SelectChangeEvent } from '../../../../internal/FormFields/Select/types';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { useDisputeFlow } from '../../context/dispute/context';\nimport { getDefenseReasonContent } from '../../utils';\n\nconst BASE_CLASS = 'adyen-pe-defend-dispute-reason';\n\nconst classes = {\n    selector: BASE_CLASS + '__selector',\n    description: BASE_CLASS + '__description',\n    dropdownList: BASE_CLASS + '__dropdown-list',\n    dropdownListMobile: BASE_CLASS + '__dropdown-list--mobile',\n};\n\nexport const DefendDisputeReason = () => {\n    const { i18n } = useCoreContext();\n    const {\n        applicableDocuments,\n        dispute,\n        goBack,\n        setFlowState,\n        setSelectedDefenseReason,\n        selectedDefenseReason,\n        setApplicableDocuments,\n        defenseReasonConfig,\n    } = useDisputeFlow();\n\n    const allowedDefenseReasons = dispute?.dispute?.allowedDefenseReasons;\n    const disputePspReference = dispute?.dispute?.pspReference;\n    const [isReasonSubmitted, setIsReasonSubmitted] = useState<boolean>(false);\n    const isMobileContainer = useResponsiveContainer(containerQueries.down.xs);\n\n    //TODO: Add the translations for defend reason\n    const defenseReasons: Readonly<{ id: string; name: string }[] | null> = useMemo(\n        () =>\n            Object.freeze(\n                allowedDefenseReasons?.map(reason => ({\n                    id: reason,\n                    disabled: allowedDefenseReasons.length === 1,\n                    name: getDefenseReasonContent(defenseReasonConfig, i18n, reason)?.title ?? reason,\n                }))\n            ) ?? [],\n        [i18n, allowedDefenseReasons, defenseReasonConfig]\n    );\n\n    const selected = useMemo(\n        () => (selectedDefenseReason ? defenseReasons.find(reason => reason.id === selectedDefenseReason)?.id : (defenseReasons?.[0]?.id ?? null)),\n        [selectedDefenseReason, defenseReasons]\n    );\n\n    useEffect(() => {\n        if (selected) {\n            setSelectedDefenseReason(selected);\n        }\n    }, [selected, isReasonSubmitted]);\n\n    const { getApplicableDefenseDocuments } = useConfigContext().endpoints;\n\n    const fetchCallback = useCallback(async () => {\n        return getApplicableDefenseDocuments?.(EMPTY_OBJECT, {\n            query: {\n                defenseReason: selectedDefenseReason!,\n            },\n            path: {\n                disputePspReference: disputePspReference!,\n            },\n        });\n    }, [selectedDefenseReason, disputePspReference, getApplicableDefenseDocuments]);\n\n    const { error, isFetching } = useFetch({\n        queryFn: fetchCallback,\n        fetchOptions: {\n            enabled: isReasonSubmitted,\n            onSuccess: useCallback(\n                (response: { data: IDisputeDefenseDocument[] } | undefined) => {\n                    setIsReasonSubmitted(false);\n                    setApplicableDocuments(response?.data ?? null);\n                    if (response?.data && response?.data.length > 0) setFlowState('uploadDefenseFilesView');\n                },\n                [setApplicableDocuments, setIsReasonSubmitted, setFlowState]\n            ),\n        },\n    });\n\n    useEffect(() => {\n        setIsReasonSubmitted(false);\n    }, [error]);\n\n    const onDefenseReasonSubmit = useCallback(() => {\n        if (applicableDocuments?.length) return setFlowState('uploadDefenseFilesView');\n\n        setIsReasonSubmitted(true);\n    }, [applicableDocuments, setFlowState]);\n\n    const onChange = useCallback(\n        (param: SelectChangeEvent) => {\n            if (selectedDefenseReason !== param.target.value && applicableDocuments?.length) setApplicableDocuments([]);\n            if (param?.target?.value) setSelectedDefenseReason(param.target.value);\n        },\n        [applicableDocuments, selectedDefenseReason, setApplicableDocuments, setSelectedDefenseReason]\n    );\n\n    const actionButtons = useMemo(() => {\n        return [\n            {\n                title: i18n.get('disputes.management.defend.common.actions.continue'),\n                disabled: isReasonSubmitted || isFetching,\n                event: onDefenseReasonSubmit,\n            },\n            {\n                title: i18n.get('disputes.management.common.actions.goBack'),\n                disabled: isReasonSubmitted || isFetching,\n                event: goBack,\n            },\n        ];\n    }, [isFetching, isReasonSubmitted, i18n, goBack, onDefenseReasonSubmit]);\n\n    const isRequestForInformation = useMemo(() => dispute?.dispute.type === 'REQUEST_FOR_INFORMATION', [dispute?.dispute.type]);\n\n    const [showAlert, setShowAlert] = useState(!isRequestForInformation);\n    const closeAlert = useCallback(() => {\n        setShowAlert(false);\n    }, []);\n\n    const defenseReasonContent = useMemo(\n        () => (selected ? getDefenseReasonContent(defenseReasonConfig, i18n, selected) : undefined),\n        [defenseReasonConfig, i18n, selected]\n    );\n\n    const defendDisputeLabel = useMemo(\n        () =>\n            isRequestForInformation\n                ? i18n.get('disputes.management.defend.requestForInformation.selectDefenseReason')\n                : i18n.get('disputes.management.defend.chargeback.selectDefenseReason'),\n        [i18n, isRequestForInformation]\n    );\n\n    if (!defenseReasons || !selected) {\n        return null;\n    }\n\n    return (\n        <>\n            <div className={classes.selector}>\n                <Typography className=\"adyen-pe-defend-dispute__reason-description\" variant={TypographyVariant.BODY}>\n                    {defendDisputeLabel}\n                </Typography>\n                <Select\n                    items={defenseReasons}\n                    onChange={onChange}\n                    selected={selected}\n                    aria-label={i18n.get('disputes.management.defend.common.inputs.reasonSelect.a11y.label')}\n                    popoverClassNameModifiers={[cx(classes.dropdownList, { [classes.dropdownListMobile]: isMobileContainer })]}\n                    fixedPopoverPositioning\n                />\n                {defenseReasonContent?.primaryDescriptionItems?.map((description, i) => (\n                    <Typography\n                        el={TypographyElement.PARAGRAPH}\n                        key={`description-${i}`}\n                        className={classes.description}\n                        variant={TypographyVariant.BODY}\n                    >\n                        {description}\n                    </Typography>\n                ))}\n                {defenseReasonContent?.secondaryDescriptionItems?.length && (\n                    <ul className=\"adyen-pe-defend-dispute-reason__secondary-description-items-container\">\n                        {defenseReasonContent.secondaryDescriptionItems.map((description, i) => (\n                            <li className=\"adyen-pe-defend-dispute-reason__secondary-description-item\" key={`description-item-${i}`}>\n                                <Typography\n                                    el={TypographyElement.PARAGRAPH}\n                                    className=\"adyen-pe-defend-dispute-reason__description\"\n                                    variant={TypographyVariant.BODY}\n                                >\n                                    {description}\n                                </Typography>\n                            </li>\n                        ))}\n                    </ul>\n                )}\n            </div>\n            {showAlert && (\n                <Alert onClose={closeAlert} type={AlertTypeOption.HIGHLIGHT} variant={AlertVariantOption.TIP} closeButton>\n                    <Typography className={'adyen-pe-alert__description'} el={TypographyElement.DIV} variant={TypographyVariant.CAPTION} wide>\n                        {i18n.get('disputes.management.defend.chargeback.feeInfo')}\n                    </Typography>\n                </Alert>\n            )}\n            <div className={'adyen-pe-defend-dispute__actions'}>\n                <ButtonActions actions={actionButtons} />\n            </div>\n        </>\n    );\n};\n","import { useCallback, useEffect, useRef } from 'preact/hooks';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport Button from '../../../../internal/Button/Button';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport Icon from '../../../../internal/Icon';\nimport { TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { useDisputeFlow } from '../../context/dispute/context';\nimport { isFunction } from '../../../../../utils';\nimport { DisputeManagementProps } from '../../types';\nimport './DefendDisputeFlow.scss';\n\nexport const DefendDisputeResponse = ({ onDisputeDefend }: Pick<DisputeManagementProps, 'onDisputeDefend'>) => {\n    const { i18n } = useCoreContext();\n    const { clearFiles, clearStates, dispute, setFlowState, defendResponse } = useDisputeFlow();\n\n    const goBackToDetails = useCallback(() => {\n        clearStates();\n        setFlowState('details');\n    }, [clearStates, setFlowState]);\n\n    const goBackToFileUploadView = useCallback(() => {\n        clearFiles();\n        setFlowState('uploadDefenseFilesView');\n    }, [clearFiles, setFlowState]);\n\n    const defendCallbackHasBeenCalled = useRef(false);\n\n    useEffect(() => {\n        if (defendCallbackHasBeenCalled.current) return;\n\n        if (defendResponse === 'success' && isFunction(onDisputeDefend)) {\n            const disputePspReference = dispute?.dispute.pspReference;\n\n            if (disputePspReference) {\n                defendCallbackHasBeenCalled.current = true;\n                onDisputeDefend({ id: disputePspReference });\n            }\n        }\n    }, [defendResponse, dispute, onDisputeDefend]);\n\n    //TODO: For this view create an internal component\n    return (\n        <div className={'adyen-pe-defend-dispute__response'}>\n            {defendResponse === 'success' ? (\n                <div className=\"adyen-pe-defend-dispute__success\">\n                    <Icon name=\"checkmark-circle-fill\" className=\"adyen-pe-defend-dispute__success-icon\" />\n                    <Typography variant={TypographyVariant.TITLE}>{i18n.get('disputes.management.defend.common.evidenceSubmitted')}</Typography>\n                    <Typography variant={TypographyVariant.BODY} className=\"adyen-pe-defend-dispute__success-description\">\n                        {i18n.get('disputes.management.defend.chargeback.submitSuccessInfo')}\n                    </Typography>\n                    <div className=\"adyen-pe-defend-dispute__success-buttons\">\n                        <Button variant={ButtonVariant.SECONDARY} onClick={goBackToDetails}>\n                            {i18n.get('disputes.management.common.actions.showDetails')}\n                        </Button>\n                    </div>\n                </div>\n            ) : (\n                <div className=\"adyen-pe-defend-dispute__error\">\n                    <Icon name=\"cross-circle-fill\" className=\"adyen-pe-defend-dispute__error-icon\" />\n                    <Typography variant={TypographyVariant.TITLE} medium>\n                        {i18n.get('disputes.management.defend.common.errors.somethingWentWrong')}\n                    </Typography>\n                    <Typography variant={TypographyVariant.BODY}>{i18n.get('disputes.management.defend.common.errors.defenseFailed')}</Typography>\n                    <Button variant={ButtonVariant.SECONDARY} onClick={goBackToFileUploadView}>\n                        {i18n.get('disputes.management.common.actions.goBack')}\n                    </Button>\n                </div>\n            )}\n        </div>\n    );\n};\n","import useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { useModalContext } from '../../../../internal/Modal/Modal';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { useDisputeFlow } from '../../context/dispute/context';\nimport { DefendDisputeFileUpload } from './DefendDisputeFileUpload';\nimport { DefendDisputeReason } from './DefendDisputeReason';\nimport { DefendDisputeResponse } from './DefendDisputeResponse';\nimport { DisputeManagementProps } from '../../types';\nimport './DefendDisputeFlow.scss';\nimport { useMemo } from 'preact/hooks';\n\nexport const DefendDisputeFlow = ({ onDisputeDefend }: Pick<DisputeManagementProps, 'onDisputeDefend'>) => {\n    const { i18n } = useCoreContext();\n    const { applicableDocuments, flowState, dispute } = useDisputeFlow();\n    const { withinModal } = useModalContext();\n\n    const titleEl = withinModal ? TypographyElement.H2 : TypographyElement.DIV;\n\n    const defendDisputeTitle = useMemo(\n        () =>\n            dispute?.dispute.type === 'REQUEST_FOR_INFORMATION'\n                ? i18n.get('disputes.management.defend.requestForInformation.title')\n                : i18n.get('disputes.management.defend.chargeback.title'),\n        [dispute?.dispute.type, i18n]\n    );\n\n    return (\n        <div className=\"adyen-pe-defend-dispute__container\">\n            {flowState !== 'defenseSubmitResponseView' && (\n                <Typography className={'adyen-pe-defend-dispute__title'} el={titleEl} variant={TypographyVariant.TITLE} medium>\n                    {defendDisputeTitle}\n                </Typography>\n            )}\n            {flowState === 'defendReasonSelectionView' && <DefendDisputeReason />}\n            {flowState === 'uploadDefenseFilesView' && !!applicableDocuments?.length && <DefendDisputeFileUpload />}\n            {flowState === 'defenseSubmitResponseView' && <DefendDisputeResponse onDisputeDefend={onDisputeDefend} />}\n        </div>\n    );\n};\n","export const DISPUTE_DATA_CLASS = 'adyen-pe-dispute-data';\nexport const DISPUTE_DATA_MOBILE_CLASS = 'adyen-pe-dispute-data--mobile';\nexport const DISPUTE_STATUS_BOX = `${DISPUTE_DATA_CLASS}__status-box`;\nexport const DISPUTE_DATA_ACTION_BAR = `${DISPUTE_DATA_CLASS}__action-bar`;\nexport const DISPUTE_DATA_LABEL = `${DISPUTE_DATA_CLASS}__label`;\nexport const DISPUTE_DATA_LIST = `${DISPUTE_DATA_CLASS}__list`;\nexport const DISPUTE_DATA_LIST_EVIDENCE = `${DISPUTE_DATA_CLASS}__list--evidence`;\nexport const DISPUTE_DATA_LIST_EVIDENCE_ERROR_MESSAGE = `${DISPUTE_DATA_CLASS}__list-evidence-error-message`;\nexport const DISPUTE_DATA_ISSUER_COMMENT = `${DISPUTE_DATA_CLASS}__issuer-comment`;\nexport const DISPUTE_DATA_ISSUER_COMMENTS = `${DISPUTE_DATA_CLASS}__issuer-comments`;\nexport const DISPUTE_DATA_ISSUER_COMMENTS_EXPANDED = `${DISPUTE_DATA_ISSUER_COMMENTS}--expanded`;\nexport const DISPUTE_DATA_ISSUER_COMMENTS_TRUNCATED = `${DISPUTE_DATA_ISSUER_COMMENTS}--truncated`;\nexport const DISPUTE_DATA_ISSUER_COMMENTS_ALERT = `${DISPUTE_DATA_CLASS}__issuer-comments-alert`;\nexport const DISPUTE_DATA_ISSUER_COMMENTS_GROUP = `${DISPUTE_DATA_CLASS}__issuer-comments-group`;\nexport const DISPUTE_DATA_ALERT = 'adyen-pe-dispute-data-alert';\nexport const DISPUTE_DATA_ERROR_CONTAINER = 'adyen-pe-dispute-data__error-container';\nexport const DISPUTE_DATA_STATUS_BOX_SKELETON = 'adyen-pe-dispute-data__status-box-skeleton';\nexport const DISPUTE_DATA_PROPERTIES_SKELETON = 'adyen-pe-dispute-data__properties-skeleton';\nexport const DISPUTE_DATA_PROPERTIES_SKELETON_ELEMENT = 'adyen-pe-dispute-data__properties-skeleton-element';\nexport const DISPUTE_DATA_PROPERTIES_SKELETON_CONTAINER = 'adyen-pe-dispute-data__properties-skeleton-container';\nexport const DISPUTE_DATA_STATUS_BOX_STATUS_CONTAINER = 'adyen-pe-dispute-data__status-box-status-container';\nexport const DISPUTE_DATA_STATUS_BOX_STATUS = 'adyen-pe-dispute-data__status-box-status';\nexport const DISPUTE_DATA_STATUS_BOX_AMOUNT = 'adyen-pe-dispute-data__status-box-amount';\nexport const DISPUTE_DATA_STATUS_BOX_PAYMENT_METHOD = 'adyen-pe-dispute-data__status-box-payment-method';\nexport const DISPUTE_DATA_SKELETON_CONTAINER = 'adyen-pe-dispute-data__skeleton-container';\nexport const DISPUTE_DATA_STATUS_BOX_PAYMENT_METHOD_CONTAINER = 'adyen-pe-dispute-data__status-box-payment-method-container';\n\nexport const DISPUTE_DETAILS_RESERVED_FIELDS_SET = new Set([\n    'allowedDefenseReasons',\n    'balanceAccount',\n    'amount',\n    'createdAt',\n    'defensibility',\n    'dueDate',\n    'id',\n    'latestDefense',\n    'paymentMerchantReference',\n    'paymentMethod',\n    'paymentPspReference',\n    'reasonCode',\n    'reasonGroup',\n    'status',\n] as const);\n","import cx from 'classnames';\nimport { useLayoutEffect, useRef, useState } from 'preact/hooks';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport Alert from '../../../../internal/Alert/Alert';\nimport Button from '../../../../internal/Button';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { AlertTypeOption, AlertVariantOption } from '../../../../internal/Alert/types';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport {\n    DISPUTE_DATA_ISSUER_COMMENT,\n    DISPUTE_DATA_ISSUER_COMMENTS,\n    DISPUTE_DATA_ISSUER_COMMENTS_ALERT,\n    DISPUTE_DATA_ISSUER_COMMENTS_EXPANDED,\n    DISPUTE_DATA_ISSUER_COMMENTS_GROUP,\n    DISPUTE_DATA_ISSUER_COMMENTS_TRUNCATED,\n} from './constants';\nimport './DisputeData.scss';\n\nexport const DisputeIssuerComments = ({ issuerComments }: { issuerComments: string[] }) => {\n    const { i18n } = useCoreContext();\n    const [minimumHeight, setMinimumHeight] = useState(0);\n    const [maximumHeight, setMaximumHeight] = useState(0);\n    const [isTruncated, setIsTruncated] = useState(false);\n    const [isExpanded, setIsExpanded] = useState(false);\n\n    const commentsGroupRef = useRef<HTMLUListElement>(null);\n\n    const onButtonClick = (evt: MouseEvent) => {\n        evt.preventDefault();\n        setIsExpanded(!isExpanded);\n        commentsGroupRef.current?.style.setProperty('max-height', `${isExpanded ? minimumHeight : maximumHeight}px`);\n    };\n\n    useLayoutEffect(() => {\n        if (commentsGroupRef.current) {\n            const commentsGroup = commentsGroupRef.current;\n            const firstComment = commentsGroup.querySelector(`:scope .${DISPUTE_DATA_ISSUER_COMMENT}`);\n            const lineHeight = firstComment ? parseInt(getComputedStyle(firstComment).getPropertyValue('line-height')) : 0;\n\n            const minimumHeight = Math.min(firstComment?.clientHeight || Infinity, lineHeight * 3); // first 3 lines\n            const maximumHeight = commentsGroup.scrollHeight;\n\n            setMinimumHeight(minimumHeight);\n            setMaximumHeight(maximumHeight);\n            setIsTruncated(maximumHeight > minimumHeight);\n\n            commentsGroupRef.current?.style.setProperty('max-height', `${minimumHeight}px`);\n        }\n    }, []);\n\n    return (\n        <Alert\n            type={AlertTypeOption.HIGHLIGHT}\n            description={\n                <div className={DISPUTE_DATA_ISSUER_COMMENTS_ALERT}>\n                    <Typography el={TypographyElement.DIV} variant={TypographyVariant.BODY} strongest>\n                        {i18n.get('disputes.management.details.issuerComment')}\n                    </Typography>\n\n                    <div\n                        className={cx(DISPUTE_DATA_ISSUER_COMMENTS, {\n                            [DISPUTE_DATA_ISSUER_COMMENTS_EXPANDED]: isExpanded,\n                            [DISPUTE_DATA_ISSUER_COMMENTS_TRUNCATED]: isTruncated,\n                        })}\n                    >\n                        <ul ref={commentsGroupRef} className={DISPUTE_DATA_ISSUER_COMMENTS_GROUP}>\n                            {issuerComments.map((issuerComment, index) => (\n                                <li key={index}>\n                                    <Typography\n                                        className={DISPUTE_DATA_ISSUER_COMMENT}\n                                        el={TypographyElement.PARAGRAPH}\n                                        variant={TypographyVariant.BODY}\n                                    >\n                                        {/* [NOTE]: Issuer comments are not translated at the moment (maybe never) */}\n                                        {issuerComment}\n                                    </Typography>\n                                </li>\n                            ))}\n                        </ul>\n                    </div>\n\n                    {isTruncated && (\n                        <Button variant={ButtonVariant.TERTIARY} onClick={onButtonClick}>\n                            {i18n.get(\n                                isExpanded\n                                    ? 'disputes.management.details.issuerComment.showLess'\n                                    : 'disputes.management.details.issuerComment.showMore'\n                            )}\n                        </Button>\n                    )}\n                </div>\n            }\n        />\n    );\n};\n","import cx from 'classnames';\nimport { useCallback, useEffect, useMemo, useState } from 'preact/hooks';\nimport { DATE_FORMAT_DISPUTE_DETAILS } from '../../../../../constants';\nimport useTimezoneAwareDateFormatting from '../../../../../hooks/useTimezoneAwareDateFormatting';\nimport { TranslationKey } from '../../../../../translations';\nimport { IDisputeDetail, IDisputeStatus } from '../../../../../types/api/models/disputes';\nimport DownloadButton from '../../../../internal/Button/DownloadButton/DownloadButton';\nimport CopyText from '../../../../internal/CopyText/CopyText';\nimport Icon from '../../../../internal/DataGrid/components/Icon';\nimport { isCustomDataObject } from '../../../../internal/DataGrid/components/TableCells';\nimport Link from '../../../../internal/Link/Link';\nimport StructuredList from '../../../../internal/StructuredList';\nimport { StructuredListProps } from '../../../../internal/StructuredList/types';\nimport { Tag } from '../../../../internal/Tag/Tag';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { CustomColumn } from '../../../../types';\nimport { DisputeDetailsCustomization } from '../../types';\nimport { isDisputeActionNeeded } from '../../../../utils/disputes/actionNeeded';\nimport {\n    DISPUTE_DATA_LABEL,\n    DISPUTE_DATA_LIST,\n    DISPUTE_DATA_LIST_EVIDENCE,\n    DISPUTE_DETAILS_RESERVED_FIELDS_SET,\n    DISPUTE_DATA_LIST_EVIDENCE_ERROR_MESSAGE,\n} from './constants';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport SVGIcon from '../../../../internal/Icon';\nimport { getDisputeReason } from '../../../../utils/translation/getters';\nimport { getDefenseDocumentContent, getDefenseReasonContent, TranslationConfigItem } from '../../utils';\nimport { useDisputeFlow } from '../../context/dispute/context';\n\ntype DisputeDataPropertiesProps = {\n    dispute: IDisputeDetail;\n    dataCustomization?: { details?: DisputeDetailsCustomization };\n    extraFields?: Record<any, any>;\n    defenseReasonConfig: Record<string, TranslationConfigItem>;\n};\n\nconst disputeDataKeys = {\n    acceptedOn: 'disputes.management.details.fields.acceptedOn',\n    account: 'disputes.management.details.fields.account',\n    defendedOn: 'disputes.management.details.fields.defendedOn',\n    defenseReason: 'disputes.management.details.fields.defenseReason',\n    disputeEvidence: 'disputes.management.details.fields.evidence',\n    disputeReason: 'disputes.management.details.fields.disputeReason',\n    disputeReference: 'disputes.management.details.fields.disputeReference',\n    expiredOn: 'disputes.management.details.fields.expiredOn',\n    merchantReference: 'disputes.management.details.fields.merchantReference',\n    openedOn: 'disputes.management.details.fields.openedOn',\n    paymentReference: 'disputes.management.details.fields.paymentReference',\n    reasonCode: 'disputes.management.details.fields.reasonCode',\n    respondBy: 'disputes.management.details.fields.respondBy',\n} satisfies Record<string, TranslationKey>;\n\nconst DISPUTE_STATUSES_WITH_ACCEPTED_DATE: IDisputeStatus[] = ['ACCEPTED', 'EXPIRED'];\n\nconst DisputeDataProperties = ({ dispute, dataCustomization, defenseReasonConfig }: DisputeDataPropertiesProps) => {\n    const { i18n } = useCoreContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting(dispute.payment.balanceAccount.timeZone);\n    const { defenseDocumentConfig } = useDisputeFlow();\n\n    const [extraFields, setExtraFields] = useState<Record<string, any>>();\n\n    const getExtraFields = useCallback(async () => {\n        if (dispute) {\n            const detailsData = await dataCustomization?.details?.onDataRetrieve?.(dispute);\n\n            setExtraFields(\n                dataCustomization?.details?.fields.reduce((acc, field) => {\n                    return DISPUTE_DETAILS_RESERVED_FIELDS_SET.has(field.key as any) || field?.visibility === 'hidden'\n                        ? acc\n                        : { ...acc, ...(detailsData?.[field.key] ? { [field.key]: detailsData[field.key] } : {}) };\n                }, {} as CustomColumn<any>)\n            );\n        }\n    }, [dispute, dataCustomization]);\n\n    useEffect(() => {\n        void getExtraFields();\n    }, [getExtraFields]);\n\n    return useMemo(() => {\n        const { pspReference: disputeReference, reason: disputeReason, acceptedDate, createdAt, dueDate, status, type } = dispute.dispute;\n        const { pspReference: paymentReference, merchantReference, balanceAccount } = dispute.payment;\n        const { reason: defenseReason, defendedOn, suppliedDocuments } = dispute.defense || {};\n\n        const isFraudNotification = type === 'NOTIFICATION_OF_FRAUD';\n        const isExpiredDispute = status === 'EXPIRED' || (status === 'LOST' && !isFraudNotification && !defendedOn);\n        const isActionableDispute = isDisputeActionNeeded(dispute.dispute) && dispute.dispute.defensibility !== 'NOT_ACTIONABLE';\n\n        const SKIP_ITEM: StructuredListProps['items'][number] = null!;\n\n        const listItems: StructuredListProps['items'] = [\n            // dispute reason\n            {\n                key: disputeDataKeys.disputeReason,\n                value: `${getDisputeReason(i18n, disputeReason.category)} - ${disputeReason.title}`, // [NOTE]: Not translated at the moment (maybe in the future)\n                id: 'disputeReason',\n            },\n\n            // reason code\n            !isFraudNotification\n                ? {\n                      key: disputeDataKeys.reasonCode,\n                      value: disputeReason.code,\n                      id: 'reasonCode',\n                  }\n                : SKIP_ITEM,\n\n            // created at\n            {\n                key: disputeDataKeys.openedOn,\n                value: <time dateTime={createdAt}>{dateFormat(createdAt, DATE_FORMAT_DISPUTE_DETAILS)}</time>,\n                id: 'openedOn',\n            },\n\n            // respond by\n            dueDate && isActionableDispute\n                ? {\n                      key: disputeDataKeys.respondBy,\n                      value: <time dateTime={dueDate}>{dateFormat(dueDate, DATE_FORMAT_DISPUTE_DETAILS)}</time>,\n                      id: 'respondBy',\n                  }\n                : SKIP_ITEM,\n\n            // dispute reference\n            {\n                key: disputeDataKeys.disputeReference,\n                value: (\n                    <CopyText\n                        copyButtonAriaLabelKey=\"disputes.management.details.actions.copyDisputeReference\"\n                        type={'Default' as const}\n                        textToCopy={disputeReference}\n                        showCopyTextTooltip={false}\n                    />\n                ),\n                id: 'disputeId',\n            },\n\n            // balance account\n            {\n                key: disputeDataKeys.account,\n                value: balanceAccount.description,\n                id: 'account',\n            },\n\n            // psp reference\n            {\n                key: disputeDataKeys.paymentReference,\n                value: (\n                    <CopyText\n                        copyButtonAriaLabelKey=\"disputes.management.details.actions.copyPaymentReference\"\n                        type={'Default' as const}\n                        textToCopy={paymentReference}\n                        showCopyTextTooltip={false}\n                    />\n                ),\n                id: 'paymentPspReference',\n            },\n\n            // merchant reference\n            merchantReference\n                ? {\n                      key: disputeDataKeys.merchantReference,\n                      value: (\n                          <CopyText\n                              copyButtonAriaLabelKey=\"disputes.management.details.actions.copyMerchantReference\"\n                              type={'Default' as const}\n                              textToCopy={merchantReference}\n                              showCopyTextTooltip={false}\n                          />\n                      ),\n                      id: 'paymentMerchantReference',\n                  }\n                : SKIP_ITEM,\n\n            // defense reason\n            defenseReason\n                ? {\n                      key: disputeDataKeys.defenseReason,\n                      value: getDefenseReasonContent(defenseReasonConfig, i18n, defenseReason)?.title ?? defenseReason,\n                      id: 'defenseReason',\n                  }\n                : SKIP_ITEM,\n\n            // defended on\n            defendedOn\n                ? {\n                      key: disputeDataKeys.defendedOn,\n                      value: <time dateTime={defendedOn}>{dateFormat(defendedOn, DATE_FORMAT_DISPUTE_DETAILS)}</time>,\n                      id: 'defendedOn',\n                  }\n                : SKIP_ITEM,\n\n            // evidence\n            suppliedDocuments && suppliedDocuments.length > 0\n                ? {\n                      key: disputeDataKeys.disputeEvidence,\n                      value: (\n                          <>\n                              {suppliedDocuments.map((document, index) => {\n                                  const queryParam = {\n                                      path: { disputePspReference: disputeReference },\n                                      query: { documentType: document },\n                                  };\n                                  return (\n                                      <div key={`${document}-${index}`} className={DISPUTE_DATA_LIST_EVIDENCE}>\n                                          <Tag label={getDefenseDocumentContent(defenseDocumentConfig, i18n, document)?.title ?? document} />\n                                          <DownloadButton\n                                              className={'adyen-pe-dispute-document-download'}\n                                              endpointName={'downloadDefenseDocument'}\n                                              disabled={false}\n                                              requestParams={queryParam}\n                                              iconButton={true}\n                                              errorMessage={() => {\n                                                  return (\n                                                      <div className={DISPUTE_DATA_LIST_EVIDENCE_ERROR_MESSAGE}>\n                                                          <SVGIcon name=\"info-filled\" />\n                                                          <Typography variant={TypographyVariant.CAPTION} el={TypographyElement.SPAN}>\n                                                              {i18n.get('disputes.management.details.errors.downloadFailure')}\n                                                          </Typography>\n                                                      </div>\n                                                  );\n                                              }}\n                                              setError={() => console.warn('Download failed for', document)}\n                                              aria-label={i18n.get('disputes.management.details.actions.downloadEvidence')}\n                                          />\n                                      </div>\n                                  );\n                              })}\n                          </>\n                      ),\n                      id: 'disputeEvidence',\n                  }\n                : SKIP_ITEM,\n\n            // accepted on\n            acceptedDate && DISPUTE_STATUSES_WITH_ACCEPTED_DATE.includes(status)\n                ? {\n                      key: disputeDataKeys.acceptedOn,\n                      value: <time dateTime={acceptedDate}>{dateFormat(acceptedDate, DATE_FORMAT_DISPUTE_DETAILS)}</time>,\n                      id: 'acceptedOn',\n                  }\n                : SKIP_ITEM,\n\n            // expired on\n            dueDate && isExpiredDispute\n                ? {\n                      key: disputeDataKeys.expiredOn,\n                      value: <time dateTime={dueDate}>{dateFormat(dueDate, DATE_FORMAT_DISPUTE_DETAILS)}</time>,\n                      id: 'expiredOn',\n                  }\n                : SKIP_ITEM,\n        ]\n            .filter(Boolean)\n            .filter(val => !dataCustomization?.details?.fields?.some(field => field.key === val.id && field.visibility === 'hidden'));\n\n        // Add custom data\n        const itemsWithExtraFields = [\n            ...listItems,\n            ...(Object.entries(extraFields || {})\n                .filter(\n                    ([key, value]) => !DISPUTE_DETAILS_RESERVED_FIELDS_SET.has(key as any) && value.type !== 'button' && value.visibility !== 'hidden'\n                )\n                .map(([key, value]) => ({\n                    key: key as TranslationKey,\n                    value: isCustomDataObject(value) ? value.value : value,\n                    type: isCustomDataObject(value) ? value.type : 'text',\n                    config: isCustomDataObject(value) ? value.config : undefined,\n                })) || {}),\n        ];\n\n        return (\n            <StructuredList\n                classNames={DISPUTE_DATA_LIST}\n                items={itemsWithExtraFields}\n                layout=\"4-8\"\n                align=\"start\"\n                renderLabel={label => <div className={DISPUTE_DATA_LABEL}>{label}</div>}\n                renderValue={(val, key, type, config) => {\n                    if (type === 'link' && config) {\n                        return (\n                            <Link classNames={[cx(config?.className)]} href={config.href} target={config.target || '_blank'}>\n                                {val}\n                            </Link>\n                        );\n                    }\n                    if (type === 'icon' && config) {\n                        const icon = { url: config?.src, alt: config.alt || val };\n                        return (\n                            <div className={cx('adyen-pe-dispute-data__list-icon-value', config?.className)}>\n                                <Icon {...icon} />\n                                <Typography variant={TypographyVariant.BODY}>{val}</Typography>\n                            </div>\n                        );\n                    }\n                    return (\n                        <Typography className={cx(config?.className)} variant={TypographyVariant.BODY}>\n                            {val}\n                        </Typography>\n                    );\n                }}\n            />\n        );\n    }, [\n        dispute.dispute,\n        dispute.payment,\n        dispute.defense,\n        i18n,\n        dateFormat,\n        defenseReasonConfig,\n        extraFields,\n        defenseDocumentConfig,\n        dataCustomization?.details?.fields,\n    ]);\n};\n\nexport default DisputeDataProperties;\n","import AdyenPlatformExperienceError from '../../../core/Errors/AdyenPlatformExperienceError';\nimport { TranslationKey } from '../../../translations';\nimport { ErrorMessage, UNDEFINED_ERROR } from '../getCommonErrorCode';\nimport CopyText from '../../internal/CopyText/CopyText';\n\nexport const getDisputesErrorMessage = (\n    error: AdyenPlatformExperienceError | undefined,\n    errorMessage: TranslationKey,\n    onContactSupport?: () => void\n): ErrorMessage => {\n    if (!error) return UNDEFINED_ERROR;\n\n    switch (error.errorCode) {\n        case undefined:\n            return {\n                title: 'common.errors.somethingWentWrong',\n                message: [errorMessage, 'common.errors.retry'],\n                refreshComponent: true,\n            };\n        case '00_500': {\n            const secondaryErrorMessage = onContactSupport ? 'common.errors.errorCode' : 'common.errors.errorCodeSupport';\n            return {\n                title: 'common.errors.somethingWentWrong',\n                message: [errorMessage, secondaryErrorMessage],\n                translationValues: {\n                    [secondaryErrorMessage]: error.requestId ? (\n                        <CopyText isUnderlineVisible copyButtonAriaLabelKey=\"common.actions.copy.labels.errorCode\" textToCopy={error.requestId} />\n                    ) : null,\n                },\n                onContactSupport,\n            };\n        }\n        case '30_112':\n            return {\n                title: 'common.errors.notFound',\n                message: ['disputes.management.common.errors.notFound'],\n                onContactSupport,\n            };\n        default:\n            return UNDEFINED_ERROR;\n    }\n};\n","import cx from 'classnames';\nimport { useCallback, useEffect, useMemo, useState } from 'preact/hooks';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport { IDisputeDetail } from '../../../../../types/api/models/disputes';\nimport { EMPTY_OBJECT, isFunction } from '../../../../../utils';\nimport './DisputeData.scss';\nimport Alert from '../../../../internal/Alert/Alert';\nimport { AlertTypeOption, AlertVariantOption } from '../../../../internal/Alert/types';\nimport ButtonActions from '../../../../internal/Button/ButtonActions/ButtonActions';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport StatusBox from '../../../../internal/StatusBox/StatusBox';\nimport useStatusBoxData from '../../../../internal/StatusBox/useStatusBox';\nimport { Tag } from '../../../../internal/Tag/Tag';\nimport { Translation } from '../../../../internal/Translation';\nimport DisputeStatusTag from '../../../DisputesOverview/components/DisputesTable/DisputeStatusTag';\nimport { useDisputeFlow } from '../../context/dispute/context';\nimport { DisputeDetailsCustomization, DisputeManagementProps } from '../../types';\nimport { isDisputeActionNeeded } from '../../../../utils/disputes/actionNeeded';\nimport { DisputeIssuerComments } from './DisputeIssuerComments';\nimport DisputeDataProperties from './DisputeDataProperties';\nimport {\n    DISPUTE_DATA_ACTION_BAR,\n    DISPUTE_DATA_CLASS,\n    DISPUTE_DATA_ERROR_CONTAINER,\n    DISPUTE_DATA_MOBILE_CLASS,\n    DISPUTE_STATUS_BOX,\n    DISPUTE_DATA_STATUS_BOX_SKELETON,\n    DISPUTE_DATA_SKELETON_CONTAINER,\n    DISPUTE_DATA_STATUS_BOX_STATUS,\n    DISPUTE_DATA_STATUS_BOX_AMOUNT,\n    DISPUTE_DATA_STATUS_BOX_PAYMENT_METHOD,\n    DISPUTE_DATA_STATUS_BOX_STATUS_CONTAINER,\n    DISPUTE_DATA_STATUS_BOX_PAYMENT_METHOD_CONTAINER,\n    DISPUTE_DATA_PROPERTIES_SKELETON,\n    DISPUTE_DATA_PROPERTIES_SKELETON_CONTAINER,\n    DISPUTE_DATA_PROPERTIES_SKELETON_ELEMENT,\n} from './constants';\nimport Button from '../../../../internal/Button';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport useTimezoneAwareDateFormatting from '../../../../../hooks/useTimezoneAwareDateFormatting';\nimport { DATE_FORMAT_RESPONSE_DEADLINE } from '../../../../../constants';\nimport { getDisputeType } from '../../../../utils/translation/getters';\nimport { ErrorMessageDisplay } from '../../../../internal/ErrorMessageDisplay/ErrorMessageDisplay';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport { getDisputesErrorMessage } from '../../../../utils/disputes/getDisputesErrorMessage';\nimport { CustomButtonObject } from '../../../../types';\n\ntype DisputeDataAlertMode = 'contactSupport' | 'autoDefended' | 'notDefended' | 'notDefendable';\n\nconst _isButtonType = (item: any): item is CustomButtonObject => {\n    return !!item && typeof item === 'object' && item.type === 'button';\n};\nconst DisputeDataAlert = ({\n    alertMode,\n    dispute,\n    timeZone,\n}: {\n    alertMode?: DisputeDataAlertMode;\n    dispute: IDisputeDetail['dispute'];\n    timeZone: string | undefined;\n}) => {\n    const { i18n } = useCoreContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting(timeZone);\n\n    switch (alertMode) {\n        case 'contactSupport': {\n            const { dueDate, type } = dispute;\n            const translationKey =\n                type === 'REQUEST_FOR_INFORMATION'\n                    ? 'disputes.management.details.alerts.contactSupport.requestForInformation'\n                    : type === 'NOTIFICATION_OF_FRAUD'\n                      ? 'disputes.management.details.alerts.contactSupport.notificationOfFraud'\n                      : 'disputes.management.details.alerts.contactSupport.chargeback';\n\n            return (\n                <Alert\n                    type={AlertTypeOption.WARNING}\n                    variant={AlertVariantOption.TIP}\n                    description={\n                        <>\n                            {i18n.get(translationKey)}\n                            {type !== 'NOTIFICATION_OF_FRAUD' && !!dueDate && (\n                                <>\n                                    {' '}\n                                    <Translation\n                                        translationKey={'disputes.management.details.alerts.responseDeadline'}\n                                        fills={{\n                                            date: (\n                                                <time dateTime={dueDate}>\n                                                    <Typography variant={TypographyVariant.CAPTION} el={TypographyElement.SPAN} stronger>\n                                                        {dateFormat(dueDate, DATE_FORMAT_RESPONSE_DEADLINE)}\n                                                    </Typography>\n                                                </time>\n                                            ),\n                                        }}\n                                    />\n                                </>\n                            )}\n                        </>\n                    }\n                />\n            );\n        }\n        case 'autoDefended':\n            return (\n                <Alert\n                    type={AlertTypeOption.HIGHLIGHT}\n                    variant={AlertVariantOption.TIP}\n                    description={i18n.get('disputes.management.details.alerts.autoDefended')}\n                />\n            );\n        case 'notDefended': {\n            const translationKey =\n                dispute.status === 'EXPIRED'\n                    ? 'disputes.management.details.alerts.notDefendedExpired'\n                    : 'disputes.management.details.alerts.notDefendedLost';\n            return <Alert type={AlertTypeOption.HIGHLIGHT} variant={AlertVariantOption.TIP} description={i18n.get(translationKey)} />;\n        }\n        case 'notDefendable':\n            return (\n                <Alert\n                    type={AlertTypeOption.HIGHLIGHT}\n                    variant={AlertVariantOption.TIP}\n                    description={i18n.get('disputes.management.details.alerts.notDefendable')}\n                />\n            );\n    }\n\n    return null;\n};\n\nexport const DisputeData = ({\n    disputeId,\n    dataCustomization,\n    onContactSupport,\n    onDismiss,\n}: {\n    disputeId: string;\n    dataCustomization?: { details?: DisputeDetailsCustomization };\n    onContactSupport?: () => void;\n    onDismiss: DisputeManagementProps['onDismiss'];\n}) => {\n    const { i18n } = useCoreContext();\n    const { dispute: storedDispute, setDispute, setFlowState, defenseReasonConfig } = useDisputeFlow();\n\n    const { getDisputeDetail, getApplicableDefenseDocuments, acceptDispute } = useConfigContext().endpoints;\n\n    //TODO: Also check if /defend endpoint has been returned from setup call which relates to submit button action\n    const acceptAuthorization = isFunction(acceptDispute);\n    const defendAuthorization = isFunction(getApplicableDefenseDocuments);\n    const isSmAndUpContainer = useResponsiveContainer(containerQueries.up.sm);\n\n    const { data, isFetching, error } = useFetch(\n        useMemo(\n            () => ({\n                fetchOptions: {\n                    enabled: !!disputeId && !!getDisputeDetail && !storedDispute,\n                    onSuccess: ((dispute: IDisputeDetail) => {\n                        setDispute(dispute);\n                    }) as any,\n                },\n                queryFn: async () => {\n                    return getDisputeDetail!(EMPTY_OBJECT, {\n                        path: {\n                            disputePspReference: disputeId,\n                        },\n                    });\n                },\n            }),\n            [storedDispute, disputeId, getDisputeDetail, setDispute]\n        )\n    );\n\n    const dispute = storedDispute || data;\n    const defensibility = dispute?.dispute?.defensibility;\n\n    const statusBoxOptions = useStatusBoxData({\n        amountData: dispute?.dispute.amount,\n        paymentMethodData: dispute?.payment.paymentMethod,\n    } as const);\n\n    const issuerComments = useMemo(() => {\n        const { chargeback, preArbitration } = dispute?.dispute.issuerExtraData ?? {};\n        const comments = [] as string[];\n\n        [preArbitration, chargeback].forEach(commentGroup => {\n            if (!commentGroup) return;\n            ['LIABILITY_NOT_ACCEPTED_FULLY', 'PRE_ARB_REASON', 'NOTE'].forEach(commentKey => {\n                const raw = commentGroup[commentKey];\n                const trimmed = raw?.trim();\n                if (trimmed) comments.push(trimmed);\n            });\n        });\n\n        return comments.filter(Boolean);\n    }, [dispute]);\n\n    const disputeType = useMemo(() => getDisputeType(i18n, dispute?.dispute.type), [i18n, dispute]);\n\n    const showContactSupport =\n        (!!defensibility && ['ACCEPTABLE', 'DEFENDABLE_EXTERNALLY'].includes(defensibility)) || dispute?.dispute.type === 'NOTIFICATION_OF_FRAUD';\n    const isDefendable = !!defensibility && defensibility === 'DEFENDABLE' && defendAuthorization;\n    const isAcceptable = !!defensibility && ['ACCEPTABLE', 'DEFENDABLE'].includes(defensibility) && acceptAuthorization;\n\n    const onAcceptClick = useCallback(() => {\n        setFlowState('accept');\n    }, [setFlowState]);\n\n    const onDefendClick = useCallback(() => {\n        setFlowState('defendReasonSelectionView');\n    }, [setFlowState]);\n\n    const [extraButtons, setExtraButtons] = useState<CustomButtonObject[]>([]);\n\n    const getCustomButtons = useCallback(async () => {\n        const customData = data && (await dataCustomization?.details?.onDataRetrieve?.(data));\n        if (customData) {\n            return setExtraButtons(\n                Object.values(customData).filter(config => {\n                    return _isButtonType(config);\n                }) as CustomButtonObject[]\n            );\n        }\n    }, [data, dataCustomization?.details]);\n\n    useEffect(() => {\n        void getCustomButtons();\n    }, [getCustomButtons]);\n\n    const defendButtonLabel = useMemo(() => {\n        return storedDispute?.dispute.type === 'REQUEST_FOR_INFORMATION'\n            ? i18n.get('disputes.management.details.actions.submitInformation')\n            : i18n.get('disputes.management.details.actions.defendChargeback');\n    }, [i18n, storedDispute?.dispute.type]);\n\n    const actionButtons = useMemo(() => {\n        const ctaButtons = [];\n        if (isDefendable)\n            ctaButtons.push({\n                title: defendButtonLabel,\n                event: onDefendClick,\n            });\n        if (isAcceptable) {\n            ctaButtons.push({\n                title: i18n.get('disputes.management.details.actions.accept'),\n                event: onAcceptClick,\n                variant: ButtonVariant.SECONDARY,\n            });\n        }\n        if (showContactSupport && isFunction(onContactSupport)) {\n            ctaButtons.push({\n                title: i18n.get('disputes.management.details.actions.contactSupport'),\n                event: onContactSupport,\n                variant: ButtonVariant.SECONDARY,\n            });\n        }\n\n        if (extraButtons && extraButtons.length) {\n            extraButtons.forEach((config: CustomButtonObject) => {\n                ctaButtons.push({\n                    title: config?.value,\n                    event: config?.config?.action,\n                    variant: ButtonVariant.SECONDARY,\n                });\n            });\n        }\n        return ctaButtons;\n    }, [isDefendable, defendButtonLabel, onDefendClick, isAcceptable, showContactSupport, onContactSupport, extraButtons, i18n, onAcceptClick]);\n\n    const actionNeeded = useMemo(() => !!dispute && isDisputeActionNeeded(dispute.dispute), [dispute]);\n\n    const renderBackButton = useCallback(() => {\n        return (\n            <Button variant={ButtonVariant.SECONDARY} onClick={onDismiss}>\n                {i18n.get('disputes.management.common.actions.goBack')}\n            </Button>\n        );\n    }, [i18n, onDismiss]);\n\n    if ((!dispute && !error) || isFetching) {\n        const skeletonRows = Array.from({ length: 5 });\n\n        return (\n            <div className={cx(DISPUTE_DATA_CLASS, { [DISPUTE_DATA_MOBILE_CLASS]: !isSmAndUpContainer })}>\n                <div className={DISPUTE_DATA_SKELETON_CONTAINER}>\n                    <div className={DISPUTE_DATA_STATUS_BOX_SKELETON}>\n                        <div className={DISPUTE_DATA_STATUS_BOX_STATUS_CONTAINER}>\n                            <span className={DISPUTE_DATA_STATUS_BOX_STATUS}></span>\n                            <span className={DISPUTE_DATA_STATUS_BOX_STATUS}></span>\n                        </div>\n                        <span className={DISPUTE_DATA_STATUS_BOX_AMOUNT}></span>\n                        <div className={DISPUTE_DATA_STATUS_BOX_PAYMENT_METHOD_CONTAINER}>\n                            <span className={DISPUTE_DATA_STATUS_BOX_PAYMENT_METHOD}></span>\n                            <span className={DISPUTE_DATA_STATUS_BOX_PAYMENT_METHOD}></span>\n                        </div>\n                    </div>\n                    <div className={DISPUTE_DATA_PROPERTIES_SKELETON_CONTAINER}>\n                        {skeletonRows.map((_, index) => (\n                            <div className={DISPUTE_DATA_PROPERTIES_SKELETON} key={`skeleton-${index}`}>\n                                <span className={DISPUTE_DATA_PROPERTIES_SKELETON_ELEMENT} />\n                                <span className={DISPUTE_DATA_PROPERTIES_SKELETON_ELEMENT} />\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    const isFraudNotification = dispute?.dispute.type === 'NOTIFICATION_OF_FRAUD';\n    const isDefended = !!(dispute?.defense && dispute.defense.defendedOn);\n\n    let disputeAlertMode: DisputeDataAlertMode | undefined = undefined;\n\n    if (dispute?.defense?.autodefended === true) {\n        disputeAlertMode = 'autoDefended';\n    } else if (actionNeeded && defensibility === 'NOT_ACTIONABLE') {\n        disputeAlertMode = 'notDefendable';\n    } else if ((actionNeeded && showContactSupport) || (showContactSupport && isFraudNotification)) {\n        disputeAlertMode = 'contactSupport';\n    } else if (dispute?.dispute.status === 'EXPIRED') {\n        disputeAlertMode = 'notDefended';\n    } else if (dispute?.dispute.status === 'LOST' && !(isFraudNotification || isDefended)) {\n        disputeAlertMode = 'notDefended';\n    }\n\n    const errorProps = getDisputesErrorMessage(\n        error as AdyenPlatformExperienceError,\n        'disputes.management.common.errors.unavailable',\n        onContactSupport\n    );\n\n    return (\n        <div className={cx(DISPUTE_DATA_CLASS, { [DISPUTE_DATA_MOBILE_CLASS]: !isSmAndUpContainer })}>\n            {error ? (\n                <div className={DISPUTE_DATA_ERROR_CONTAINER}>\n                    <ErrorMessageDisplay\n                        renderSecondaryButton={onDismiss ? renderBackButton : undefined}\n                        withImage\n                        outlined={false}\n                        absolutePosition={false}\n                        withBackground={false}\n                        {...errorProps}\n                    />\n                </div>\n            ) : dispute ? (\n                <>\n                    <div className={DISPUTE_STATUS_BOX}>\n                        <StatusBox\n                            {...statusBoxOptions}\n                            tag={\n                                <>\n                                    {disputeType && <Tag label={disputeType} />}\n                                    {!isFraudNotification && <DisputeStatusTag dispute={dispute.dispute} />}\n                                </>\n                            }\n                        />\n                    </div>\n\n                    {issuerComments.length > 0 && <DisputeIssuerComments issuerComments={issuerComments} />}\n\n                    {disputeAlertMode && (\n                        <DisputeDataAlert\n                            alertMode={disputeAlertMode}\n                            dispute={dispute.dispute}\n                            timeZone={dispute.payment.balanceAccount?.timeZone}\n                        />\n                    )}\n\n                    <DisputeDataProperties dispute={dispute} dataCustomization={dataCustomization} defenseReasonConfig={defenseReasonConfig} />\n\n                    {actionButtons.length > 0 ? (\n                        <div className={DISPUTE_DATA_ACTION_BAR}>\n                            <ButtonActions actions={actionButtons} />\n                        </div>\n                    ) : null}\n                </>\n            ) : null}\n        </div>\n    );\n};\n\nexport default DisputeData;\n","import cx from 'classnames';\nimport { PropsWithChildren } from 'preact/compat';\nimport type { ExternalUIComponentProps } from '../../../../types';\nimport { useModalContext } from '../../../../internal/Modal/Modal';\nimport { useDisputeFlow } from '../../context/dispute/context';\nimport { Header } from '../../../../internal/Header';\nimport { DisputeManagementProps } from '../../types';\nimport { AcceptDisputeFlow } from '../AcceptDisputeFlow/AcceptDisputeFlow';\nimport { DefendDisputeFlow } from '../DefendDisputeFlow/DefendDisputeFlow';\nimport DisputeData from '../DisputesData/DisputeData';\nimport { useEffect } from 'preact/hooks';\n\nconst DisputeDetailsContainer = ({ children, hideTitle }: PropsWithChildren<Pick<ExternalUIComponentProps<DisputeManagementProps>, 'hideTitle'>>) => {\n    const { flowState } = useDisputeFlow();\n    const { withinModal } = useModalContext();\n    return (\n        <>\n            <div className={cx({ ['adyen-pe-visually-hidden']: flowState !== 'details' })}>\n                <Header hideTitle={hideTitle} forwardedToRoot={!withinModal} titleKey=\"disputes.management.common.title\" />\n            </div>\n            {children}\n        </>\n    );\n};\n\nexport const DisputeDetails = ({\n    id,\n    hideTitle,\n    dataCustomization,\n    onContactSupport,\n    onDisputeAccept,\n    onDisputeDefend,\n    onDismiss,\n}: ExternalUIComponentProps<DisputeManagementProps>) => {\n    const { flowState, getDisputesConfig } = useDisputeFlow();\n\n    useEffect(() => {\n        void getDisputesConfig();\n    }, [getDisputesConfig]);\n\n    switch (flowState) {\n        case 'details':\n            return (\n                <DisputeDetailsContainer hideTitle={hideTitle}>\n                    <DisputeData disputeId={id} dataCustomization={dataCustomization} onContactSupport={onContactSupport} onDismiss={onDismiss} />\n                </DisputeDetailsContainer>\n            );\n        case 'accept':\n            return (\n                <DisputeDetailsContainer hideTitle={hideTitle}>\n                    <AcceptDisputeFlow onDisputeAccept={onDisputeAccept} />\n                </DisputeDetailsContainer>\n            );\n        case 'defendReasonSelectionView':\n        case 'defenseSubmitResponseView':\n        case 'uploadDefenseFilesView':\n            return (\n                <DisputeDetailsContainer hideTitle={hideTitle}>\n                    <DefendDisputeFlow onDisputeDefend={onDisputeDefend} />\n                </DisputeDetailsContainer>\n            );\n        default:\n            return null;\n    }\n};\n","import { useCallback, useState } from 'preact/hooks';\nimport { DisputeContextProvider } from '../../context/dispute/context';\nimport { DisputeDetails } from '../DisputeDetails/DisputeDetails';\nimport type { ExternalUIComponentProps } from '../../../../types';\nimport { DisputeManagementProps } from '../../types';\nimport { IDisputeDetail } from '../../../../../types/api/models/disputes';\nimport './DisputeDetailsContainer.scss';\n\nexport const DisputeDetailsContainer = (props: ExternalUIComponentProps<DisputeManagementProps>) => {\n    const [dispute, setDispute] = useState<IDisputeDetail | undefined>();\n\n    const setDisputeCallback = useCallback((dispute: IDisputeDetail | undefined) => {\n        setDispute(dispute);\n    }, []);\n\n    return (\n        <DisputeContextProvider dispute={dispute} setDispute={setDisputeCallback}>\n            <div className=\"adyen-pe-dispute__container\">\n                <DisputeDetails {...props} />\n            </div>\n        </DisputeContextProvider>\n    );\n};\n","import { useCallback, useEffect, useState } from 'preact/hooks';\nimport { FC, PropsWithChildren } from 'preact/compat';\nimport Modal from '../../../../internal/Modal';\nimport { DisputeDetailsCustomization } from '../../../DisputeManagement';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { popoverUtil } from '../../../../internal/Popover/utils/popoverUtil';\nimport useModalDetails from '../../../../../hooks/useModalDetails';\nimport { IDisputeStatusGroup } from '../../../../../types/api/models/disputes';\nimport { DisputeDetailsContainer } from '../../../DisputeManagement/components/DisputeDetailsContainer/DisputeDetailsContainer';\n\nexport interface DisputeManagementModalProps {\n    setModalVisible: (modalVisible: boolean) => void;\n    refreshDisputesList: (statusGroup?: IDisputeStatusGroup) => void;\n    selectedDetail: ReturnType<typeof useModalDetails>['selectedDetail'];\n    resetDetails: ReturnType<typeof useModalDetails>['resetDetails'];\n    dataCustomization?: { details: DisputeDetailsCustomization };\n    onContactSupport?: () => void;\n}\n\nexport const DisputeManagementModal: FC<DisputeManagementModalProps> = ({\n    children,\n    selectedDetail,\n    resetDetails,\n    dataCustomization,\n    onContactSupport,\n    refreshDisputesList,\n    setModalVisible,\n}: PropsWithChildren<DisputeManagementModalProps>) => {\n    const { i18n } = useCoreContext();\n    const [disputeManagementSuccessful, setDisputeManagementSuccessful] = useState(false);\n    const isModalOpen = !!selectedDetail;\n\n    const onCloseCallback = useCallback(() => {\n        if (disputeManagementSuccessful) {\n            setDisputeManagementSuccessful(false);\n            refreshDisputesList('CHARGEBACKS');\n        }\n        setModalVisible(false);\n        resetDetails();\n    }, [disputeManagementSuccessful, refreshDisputesList, resetDetails, setModalVisible]);\n\n    const onDisputeManagementSuccessful = useCallback(() => {\n        setDisputeManagementSuccessful(true);\n    }, []);\n\n    useEffect(() => {\n        if (isModalOpen) {\n            setModalVisible(true);\n            popoverUtil.closeAll();\n        }\n    }, [isModalOpen, setModalVisible]);\n\n    return (\n        <div>\n            {children}\n            {selectedDetail && (\n                <Modal\n                    isOpen={isModalOpen}\n                    aria-label={i18n.get('disputes.management.common.title')}\n                    onClose={onCloseCallback}\n                    isDismissible={true}\n                    headerWithBorder={false}\n                    size={selectedDetail.modalSize || 'large'}\n                >\n                    <DisputeDetailsContainer\n                        id={selectedDetail.selection.data}\n                        dataCustomization={dataCustomization}\n                        onDisputeAccept={onDisputeManagementSuccessful}\n                        onDisputeDefend={onDisputeManagementSuccessful}\n                        onContactSupport={onContactSupport}\n                        onDismiss={resetDetails}\n                        hideTitle\n                    />\n                </Modal>\n            )}\n        </div>\n    );\n};\n","import cx from 'classnames';\nimport { h } from 'preact';\nimport { AriaAttributes } from 'preact/compat';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport useModalDetails from '../../../../../hooks/useModalDetails';\nimport { IBalanceAccountBase } from '../../../../../types';\nimport { isFunction, listFrom, noop } from '../../../../../utils';\nimport useBalanceAccountSelection, { ALL_BALANCE_ACCOUNTS_SELECTION_ID } from '../../../../../hooks/useBalanceAccountSelection';\nimport useDefaultOverviewFilterParams from '../../../../../hooks/useDefaultOverviewFilterParams';\nimport FilterBar, { FilterBarMobileSwitch, useFilterBarState } from '../../../../internal/FilterBar';\nimport DateFilter from '../../../../internal/FilterBar/filters/DateFilter/DateFilter';\nimport BalanceAccountSelector from '../../../../internal/FormFields/Select/BalanceAccountSelector';\nimport MultiSelectionFilter, { useMultiSelectionFilter } from '../../../TransactionsOverview/components/MultiSelectionFilter';\nimport { BASE_CLASS, BASE_XS_CLASS, EARLIEST_DISPUTES_SINCE_DATE, TABS_CONTAINER_CLASS } from './constants';\nimport { DEFAULT_PAGE_LIMIT, LIMIT_OPTIONS } from '../../../../internal/Pagination/constants';\nimport { DISPUTE_PAYMENT_SCHEMES, DISPUTE_REASON_CATEGORIES, DISPUTE_STATUS_GROUPS } from '../../../../utils/disputes/constants';\nimport { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport { useCursorPaginatedRecords } from '../../../../internal/Pagination/hooks';\nimport { Header } from '../../../../internal/Header';\nimport { DisputeOverviewComponentProps, ExternalUIComponentProps, FilterParam } from '../../../../types';\nimport { DisputesTable } from '../DisputesTable/DisputesTable';\nimport { IDisputeListItem, IDisputeStatusGroup } from '../../../../../types/api/models/disputes';\nimport { DisputeManagementModal } from '../DisputeManagementModal/DisputeManagementModal';\nimport { TabComponentProps } from '../../../../internal/Tabs/types';\nimport Select from '../../../../internal/FormFields/Select';\nimport Tabs from '../../../../internal/Tabs/Tabs';\nimport './DisputesOverview.scss';\n\nconst DEFAULT_DISPUTE_STATUS_GROUP: IDisputeStatusGroup = 'CHARGEBACKS';\nconst DISPUTE_SCHEMES_FILTER_PARAM = 'schemeCodes';\nconst DISPUTE_REASONS_FILTER_PARAM = 'reasonCategories';\nconst LAST_REFRESH_TIMESTAMP_PARAM = '_t';\n\ntype DisputeScheme = keyof typeof DISPUTE_PAYMENT_SCHEMES;\ntype DisputeReason = keyof typeof DISPUTE_REASON_CATEGORIES;\n\nconst DISPUTE_SCHEMES_FILTER_VALUES = Object.keys(DISPUTE_PAYMENT_SCHEMES) as DisputeScheme[];\nconst DISPUTE_REASONS_FILTER_VALUES = Object.keys(DISPUTE_REASON_CATEGORIES) as DisputeReason[];\nconst DISPUTE_STATUS_GROUPS_VALUES = Object.keys(DISPUTE_STATUS_GROUPS) as IDisputeStatusGroup[];\n\nconst DISPUTE_STATUS_GROUPS_TABS = Object.entries(DISPUTE_STATUS_GROUPS).map(([statusGroup, labelTranslationKey]) => ({\n    id: statusGroup as IDisputeStatusGroup,\n    label: labelTranslationKey,\n    content: null,\n})) satisfies TabComponentProps<IDisputeStatusGroup>['tabs'];\n\nconst DisputesOverviewTabsDropdown = ({\n    ['aria-label']: ariaLabel,\n    activeTab,\n    onChange,\n}: {\n    activeTab: IDisputeStatusGroup;\n    onChange: NonNullable<TabComponentProps<IDisputeStatusGroup>['onChange']>;\n} & Pick<AriaAttributes, 'aria-label'>) => {\n    const { i18n } = useCoreContext();\n    const [statusGroup, setStatusGroup] = useState(activeTab);\n\n    const selectItems = useMemo(() => {\n        return Object.entries(DISPUTE_STATUS_GROUPS).map(([statusGroup, labelTranslationKey]) => ({\n            id: statusGroup as IDisputeStatusGroup,\n            name: i18n.get(labelTranslationKey),\n        }));\n    }, [i18n]);\n\n    useEffect(() => {\n        const currentTab = DISPUTE_STATUS_GROUPS_TABS.find(tab => tab.id === statusGroup);\n        currentTab && onChange(currentTab);\n    }, [onChange, statusGroup]);\n\n    useEffect(() => setStatusGroup(activeTab), [activeTab]);\n\n    return (\n        <Select\n            aria-label={ariaLabel}\n            items={selectItems}\n            selected={statusGroup}\n            onChange={({ target }) => setStatusGroup(target.value as IDisputeStatusGroup)}\n            showOverlay={true}\n            multiSelect={false}\n            filterable={false}\n        />\n    );\n};\n\ninterface DisputesPageRequestParams extends Record<FilterParam | 'cursor' | 'reasonCategories' | 'schemeCodes', string> {\n    [LAST_REFRESH_TIMESTAMP_PARAM]: DOMHighResTimeStamp;\n    statusGroup: IDisputeStatusGroup;\n}\n\nexport const DisputesOverview = ({\n    onFiltersChanged,\n    balanceAccounts,\n    allowLimitSelection = true,\n    preferredLimit = DEFAULT_PAGE_LIMIT,\n    isLoadingBalanceAccount,\n    onContactSupport,\n    hideTitle,\n    onRecordSelection,\n    showDetails,\n    dataCustomization,\n}: ExternalUIComponentProps<\n    DisputeOverviewComponentProps & { balanceAccounts: IBalanceAccountBase[] | undefined; isLoadingBalanceAccount: boolean }\n>) => {\n    const { i18n } = useCoreContext();\n    const { getDisputeList: getDisputesCall } = useConfigContext().endpoints;\n    const { activeBalanceAccount, balanceAccountSelectionOptions, onBalanceAccountSelection } = useBalanceAccountSelection({\n        balanceAccounts,\n        allowAllSelection: true,\n    });\n    const { defaultParams, nowTimestamp, refreshNowTimestamp } = useDefaultOverviewFilterParams('disputes', activeBalanceAccount, 'last90Days');\n\n    const [modalVisible, setModalVisible] = useState(false);\n    const [mobileStyleOverrides, setMobileStyleOverrides] = useState<h.JSX.CSSProperties | undefined>();\n    const [statusGroup, setStatusGroup] = useState<IDisputeStatusGroup>(DEFAULT_DISPUTE_STATUS_GROUP);\n    const [statusGroupFetchPending, setStatusGroupFetchPending] = useState(false);\n\n    // The statusGroupActiveTab state externally updates the active status group tab,\n    // which is useful for programmatic status group tab navigation. Its value can be\n    // set to undefined, in which case it has no effect on the status group tab state\n    // (will not cause the active status group tab to change).\n    const [statusGroupActiveTab, setStatusGroupActiveTab] = useState<IDisputeStatusGroup | undefined>(statusGroup);\n\n    const statusGroupAriaLabel = useMemo(() => i18n.get('disputes.overview.common.filters.types.statusGroup'), [i18n]);\n\n    const disputeDetails = useMemo(\n        () => ({\n            showDetails: showDetails ?? true,\n            callback: onRecordSelection,\n        }),\n        [showDetails, onRecordSelection]\n    );\n\n    const modalOptions = useMemo(() => ({ dispute: disputeDetails }), [disputeDetails]);\n\n    const getDisputes = useCallback(\n        async ({ [LAST_REFRESH_TIMESTAMP_PARAM]: _, ...pageRequestParams }: DisputesPageRequestParams, signal?: AbortSignal) => {\n            const requestOptions = { signal, errorLevel: 'error' } as const;\n\n            return getDisputesCall!(requestOptions, {\n                query: {\n                    ...pageRequestParams,\n                    ...(activeBalanceAccount?.id !== ALL_BALANCE_ACCOUNTS_SELECTION_ID && {\n                        balanceAccountId: activeBalanceAccount?.id ?? '',\n                    }),\n                    reasonCategories: listFrom(pageRequestParams[DISPUTE_REASONS_FILTER_PARAM]),\n                    schemeCodes: listFrom(pageRequestParams[DISPUTE_SCHEMES_FILTER_PARAM]),\n                    createdSince:\n                        pageRequestParams[FilterParam.CREATED_SINCE] ?? defaultParams.current.defaultFilterParams[FilterParam.CREATED_SINCE],\n                    createdUntil:\n                        pageRequestParams[FilterParam.CREATED_UNTIL] ?? defaultParams.current.defaultFilterParams[FilterParam.CREATED_UNTIL],\n                },\n            });\n        },\n        [activeBalanceAccount?.id, defaultParams, getDisputesCall]\n    );\n\n    // FILTERS\n    const filterBarState = useFilterBarState();\n    const _onFiltersChanged = useMemo(() => (isFunction(onFiltersChanged) ? onFiltersChanged : void 0), [onFiltersChanged]);\n    const preferredLimitOptions = useMemo(() => (allowLimitSelection ? LIMIT_OPTIONS : undefined), [allowLimitSelection]);\n\n    const defaultFilters = Object.assign(defaultParams.current.defaultFilterParams, {\n        [DISPUTE_REASONS_FILTER_PARAM]: undefined,\n        [DISPUTE_SCHEMES_FILTER_PARAM]: undefined,\n        [LAST_REFRESH_TIMESTAMP_PARAM]: performance.now(),\n        statusGroup: DEFAULT_DISPUTE_STATUS_GROUP,\n    });\n\n    const { canResetFilters, error, fetching, filters, limit, limitOptions, records, resetFilters, updateFilters, updateLimit, ...paginationProps } =\n        useCursorPaginatedRecords<IDisputeListItem, 'data', string, FilterParam>({\n            fetchRecords: getDisputes,\n            dataField: 'data',\n            filterParams: defaultFilters,\n            initialFiltersSameAsDefault: true,\n            onFiltersChanged: _onFiltersChanged,\n            preferredLimit,\n            preferredLimitOptions,\n            enabled: !!activeBalanceAccount?.id && !!getDisputesCall,\n        });\n\n    const cachedDisputeReasonsFilter = useRef<string | undefined>(undefined);\n\n    const disputeReasonsFilter = useMultiSelectionFilter({\n        mapFilterOptionName: useCallback((reason: DisputeReason) => i18n.get(DISPUTE_REASON_CATEGORIES[reason]), [i18n]),\n        filterParam: DISPUTE_REASONS_FILTER_PARAM,\n        filterValues: DISPUTE_REASONS_FILTER_VALUES,\n        defaultFilters: { ...defaultFilters, [DISPUTE_REASONS_FILTER_PARAM]: cachedDisputeReasonsFilter.current },\n        updateFilters,\n        filters,\n    });\n\n    const disputeSchemesFilter = useMultiSelectionFilter({\n        mapFilterOptionName: useCallback((scheme: DisputeScheme) => DISPUTE_PAYMENT_SCHEMES[scheme], []),\n        filterParam: DISPUTE_SCHEMES_FILTER_PARAM,\n        filterValues: DISPUTE_SCHEMES_FILTER_VALUES,\n        defaultFilters,\n        updateFilters,\n        filters,\n    });\n\n    const { updateDetails, resetDetails, selectedDetail } = useModalDetails(modalOptions);\n\n    const onRowClick = useCallback(\n        ({ disputePspReference }: IDisputeListItem) => {\n            updateDetails({\n                selection: {\n                    type: 'dispute',\n                    data: disputePspReference,\n                },\n                modalSize: 'small',\n            }).callback({ id: disputePspReference });\n        },\n        [updateDetails]\n    );\n\n    const sinceDate = useMemo(() => {\n        const date = new Date(nowTimestamp);\n        const oneYearUntilNow = date.setFullYear(date.getFullYear() - 1);\n        const earliestTimestamp = new Date(EARLIEST_DISPUTES_SINCE_DATE).getTime();\n        return new Date(Math.max(earliestTimestamp, oneYearUntilNow)).toString();\n    }, [nowTimestamp]);\n\n    const debounceTimeoutIdRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n\n    const onStatusGroupChange = useCallback<NonNullable<TabComponentProps<IDisputeStatusGroup>['onChange']>>(\n        ({ id: statusGroup }) => {\n            debounceTimeoutIdRef.current && clearTimeout(debounceTimeoutIdRef.current);\n\n            debounceTimeoutIdRef.current = setTimeout(() => {\n                requestAnimationFrame(() => setStatusGroupFetchPending(false));\n\n                const reasonsFilterParam = DISPUTE_REASONS_FILTER_PARAM as FilterParam;\n                const filterUpdates = { statusGroup, [reasonsFilterParam]: undefined } as any;\n\n                if (statusGroup !== 'FRAUD_ALERTS') {\n                    filterUpdates[reasonsFilterParam] = cachedDisputeReasonsFilter.current;\n                }\n\n                updateFilters(filterUpdates);\n                debounceTimeoutIdRef.current = null;\n            }, 500);\n\n            setStatusGroup(statusGroup);\n            setStatusGroupFetchPending(true);\n\n            // Resetting statusGroupActiveTab to undefined here to allow for subsequent\n            // programmatic status group tab navigation (will not change the active tab).\n            setStatusGroupActiveTab(undefined);\n        },\n        [updateFilters]\n    );\n\n    const refreshDisputesList = useCallback(\n        (gotoStatusGroup?: IDisputeStatusGroup) => {\n            gotoStatusGroup && DISPUTE_STATUS_GROUPS_VALUES.includes(gotoStatusGroup) && gotoStatusGroup !== statusGroup\n                ? setStatusGroupActiveTab(gotoStatusGroup)\n                : // Refresh the current disputes list status group,\n                  // by updating the last refresh timestamp filter parameter\n                  updateFilters({ [LAST_REFRESH_TIMESTAMP_PARAM]: performance.now() } as any);\n        },\n        [statusGroup, updateFilters]\n    );\n\n    const isMobileContainer = useResponsiveContainer(containerQueries.down.xs);\n\n    useEffect(() => {\n        setMobileStyleOverrides(isMobileContainer && modalVisible ? { maxHeight: 0, overflowY: 'hidden' } : undefined);\n    }, [isMobileContainer, modalVisible]);\n\n    useEffect(() => {\n        refreshNowTimestamp();\n\n        if ((filters['statusGroup' as FilterParam]! as IDisputeStatusGroup) !== 'FRAUD_ALERTS') {\n            cachedDisputeReasonsFilter.current = filters[DISPUTE_REASONS_FILTER_PARAM as FilterParam];\n        }\n    }, [filters, refreshNowTimestamp]);\n\n    return (\n        <div style={mobileStyleOverrides} className={cx(BASE_CLASS, { [BASE_XS_CLASS]: isMobileContainer })}>\n            <Header hideTitle={hideTitle} titleKey=\"disputes.overview.common.title\">\n                <FilterBarMobileSwitch {...filterBarState} />\n            </Header>\n\n            <div>\n                <div>\n                    <div className={TABS_CONTAINER_CLASS}>\n                        {isMobileContainer ? (\n                            <DisputesOverviewTabsDropdown\n                                aria-label={statusGroupAriaLabel}\n                                activeTab={statusGroupActiveTab ?? statusGroup}\n                                onChange={onStatusGroupChange}\n                            />\n                        ) : (\n                            <Tabs\n                                aria-label={statusGroupAriaLabel}\n                                tabs={DISPUTE_STATUS_GROUPS_TABS}\n                                activeTab={statusGroupActiveTab}\n                                onChange={onStatusGroupChange}\n                            />\n                        )}\n                    </div>\n\n                    <FilterBar {...filterBarState} ariaLabelKey=\"disputes.overview.common.filters.a11y.label\">\n                        <BalanceAccountSelector\n                            activeBalanceAccount={activeBalanceAccount}\n                            balanceAccountSelectionOptions={balanceAccountSelectionOptions}\n                            onBalanceAccountSelection={onBalanceAccountSelection}\n                        />\n                        <DateFilter\n                            canResetFilters={canResetFilters}\n                            defaultParams={defaultParams}\n                            filters={filters}\n                            nowTimestamp={nowTimestamp}\n                            refreshNowTimestamp={refreshNowTimestamp}\n                            sinceDate={sinceDate}\n                            timezone={activeBalanceAccount?.timeZone}\n                            updateFilters={updateFilters}\n                        />\n                        <MultiSelectionFilter\n                            {...disputeSchemesFilter}\n                            placeholder={i18n.get('disputes.overview.common.filters.types.paymentMethod')}\n                            onResetAction={noop}\n                        />\n                        {statusGroup !== 'FRAUD_ALERTS' && (\n                            <MultiSelectionFilter\n                                {...disputeReasonsFilter}\n                                placeholder={i18n.get('disputes.overview.common.filters.types.disputeReason')}\n                                onResetAction={noop}\n                            />\n                        )}\n                    </FilterBar>\n                </div>\n\n                <DisputeManagementModal\n                    dataCustomization={dataCustomization?.details && { details: dataCustomization?.details }}\n                    selectedDetail={selectedDetail as ReturnType<typeof useModalDetails>['selectedDetail']}\n                    resetDetails={resetDetails}\n                    onContactSupport={onContactSupport}\n                    refreshDisputesList={refreshDisputesList}\n                    setModalVisible={setModalVisible}\n                >\n                    <DisputesTable\n                        activeBalanceAccount={activeBalanceAccount}\n                        balanceAccountId={activeBalanceAccount?.id}\n                        loading={statusGroupFetchPending || fetching || isLoadingBalanceAccount || !balanceAccounts || !activeBalanceAccount}\n                        data={records}\n                        showPagination={true}\n                        limit={limit}\n                        limitOptions={limitOptions}\n                        onContactSupport={onContactSupport}\n                        onLimitSelection={updateLimit}\n                        error={error as AdyenPlatformExperienceError}\n                        onRowClick={onRowClick}\n                        statusGroup={statusGroup}\n                        {...paginationProps}\n                    />\n                </DisputeManagementModal>\n            </div>\n        </div>\n    );\n};\n","import useBalanceAccounts from '../../../../../hooks/useBalanceAccounts';\nimport DataOverviewContainer from '../../../../internal/DataOverviewContainer/DataOverviewContainer';\nimport { DisputeOverviewComponentProps, ExternalUIComponentProps } from '../../../../types';\nimport { DisputesOverview } from '../DisputesOverview/DisputesOverview';\n\nfunction DisputesOverviewContainer({ ...props }: ExternalUIComponentProps<DisputeOverviewComponentProps>) {\n    const { balanceAccounts, isBalanceAccountIdWrong, isFetching, error } = useBalanceAccounts(props.balanceAccountId);\n\n    return (\n        <DataOverviewContainer\n            balanceAccountsError={error}\n            className=\"adyen-pe-disputes-overview-container\"\n            errorMessage={'disputes.overview.common.errors.unavailable'}\n            isBalanceAccountIdWrong={isBalanceAccountIdWrong}\n            onContactSupport={props.onContactSupport}\n        >\n            <DisputesOverview {...props} balanceAccounts={balanceAccounts} isLoadingBalanceAccount={isFetching} />\n        </DataOverviewContainer>\n    );\n}\nexport default DisputesOverviewContainer;\n","import { _UIComponentProps, DisputeOverviewComponentProps, ExternalComponentType } from '../../types';\nimport Disputes from './components/DisputesContainer/DisputesContainer';\nimport UIElement from '../UIElement/UIElement';\n\nexport class DisputesOverviewElement extends UIElement<DisputeOverviewComponentProps> {\n    public static type: ExternalComponentType = 'disputes';\n\n    constructor(props: _UIComponentProps<DisputeOverviewComponentProps>) {\n        super(props);\n        this.componentToRender = this.componentToRender.bind(this);\n    }\n\n    public componentToRender = () => {\n        return <Disputes {...this.props} />;\n    };\n}\n\nexport default DisputesOverviewElement;\n","import { _UIComponentProps, ExternalComponentType } from '../../types';\nimport UIElement from '../UIElement/UIElement';\nimport { DisputeManagementProps } from './types';\nimport { DisputeDetailsContainer } from './components/DisputeDetailsContainer/DisputeDetailsContainer';\n\nexport class DisputeManagementElement extends UIElement<DisputeManagementProps> {\n    public static type: ExternalComponentType = 'disputesManagement';\n\n    constructor(props: _UIComponentProps<DisputeManagementProps>) {\n        super(props);\n        this.componentToRender = this.componentToRender.bind(this);\n    }\n\n    public componentToRender = () => {\n        return <DisputeDetailsContainer {...this.props} />;\n    };\n}\n\nexport default DisputeManagementElement;\n","import { TranslationKey } from '../../../../translations';\nimport { IPaymentLinkFilterStatusGroup, IPaymentLinkStatus, IPaymentLinkStatusGroup, IPaymentLinkType } from '../../../../types';\nimport { TabComponentProps } from '../../../internal/Tabs/types';\n\nexport const BASE_CLASS = 'adyen-pe-payment-links-overview';\nexport const BASE_DETAILS_CLASS = 'adyen-pe-payment-link-details';\nexport const BASE_TABLE_GRID_CLASS = 'adyen-pe-payment-link-table';\nexport const BASE_XS_CLASS = `${BASE_CLASS}--xs`;\nexport const TABS_CONTAINER_CLASS = `${BASE_CLASS}__tabs-container`;\nexport const MOBILE_TABLE_CELL_CLASS = `${BASE_TABLE_GRID_CLASS}__mobile-cell`;\nexport const MOBILE_AMOUNT_CELL_CLASS = `${BASE_TABLE_GRID_CLASS}__mobile-amount-cell`;\nexport const MOBILE_EXPIRE_DATE_CELL_CLASS = `${BASE_TABLE_GRID_CLASS}__mobile-expire-date-cell`;\nexport const FILTERS_CONTAINER_CLASS = `${BASE_CLASS}__filters-container`;\nexport const ACTION_BUTTONS_CONTAINER_CLASS = `${BASE_CLASS}__action-buttons-container`;\nexport const FILTERS_ALERT_CONTAINER_CLASS = `${BASE_CLASS}__filters-alert-container`;\nexport const ACTION_BUTTON_CLASS = `${BASE_CLASS}__action-button`;\n\nexport const EARLIEST_PAYMENT_LINK_DATE = 90;\n\nexport const DEFAULT_PAYMENT_LINK_STATUS_GROUP: IPaymentLinkStatusGroup = 'active';\n\nexport const PAYMENT_LINK_STATUS_GROUPS = {\n    active: 'payByLink.overview.list.statusGroups.active',\n    inactive: 'payByLink.overview.list.statusGroups.inactive',\n} satisfies Record<keyof IPaymentLinkFilterStatusGroup, TranslationKey>;\n\nexport const PAYMENT_LINK_STATUS_GROUPS_TABS = Object.entries(PAYMENT_LINK_STATUS_GROUPS).map(([statusGroup, labelTranslationKey]) => ({\n    id: statusGroup as IPaymentLinkStatusGroup,\n    label: labelTranslationKey,\n    content: null,\n})) satisfies TabComponentProps<IPaymentLinkStatusGroup>['tabs'];\n\nexport const PAYMENT_LINK_STATUS_GROUPS_FILTER_MAPPING = {\n    active: 'active',\n    inactive: 'inactive',\n} as const satisfies Record<IPaymentLinkStatusGroup, keyof IPaymentLinkFilterStatusGroup>;\n\nexport const PAYMENT_LINK_STATUSES = {\n    active: 'payByLink.common.status.active',\n    expired: 'payByLink.common.status.expired',\n    completed: 'payByLink.common.status.completed',\n    paymentPending: 'payByLink.common.status.paymentPending',\n} as const satisfies Record<IPaymentLinkStatus, TranslationKey>;\n\nexport const PAYMENT_LINK_TYPES = {\n    open: 'payByLink.common.linkType.open',\n    singleUse: 'payByLink.common.linkType.singleUse',\n} as const satisfies Record<IPaymentLinkType, TranslationKey>;\n","import { parseDate } from '../../../utils';\n\nexport const ACTION_NEEDED_URGENTLY_THRESHOLD_DAYS = 10;\n\nexport const enum ActionNeededLevel {\n    NEVER = 0, // 3-bits (0 0 0)\n    SOON = 1, // 3-bits (0 0 1)\n    URGENTLY = 3, // 3-bits (0 1 1)\n    NOW = 7, // 3-bits (1 1 1)\n}\n\nexport const getActionNeededLevel = (date: string): ActionNeededLevel => {\n    const deadlineTimestamp = parseDate(date);\n\n    if (deadlineTimestamp != undefined) {\n        const now = Date.now();\n        const deadline = new Date(deadlineTimestamp);\n        const actionNeededNowThresholdTimestamp = new Date(deadline).setHours(deadline.getHours() - 24);\n\n        if (actionNeededNowThresholdTimestamp <= now) {\n            return ActionNeededLevel.NOW;\n        }\n\n        const actionNeededUrgentlyThresholdTimestamp = new Date(deadline).setDate(deadline.getDate() - ACTION_NEEDED_URGENTLY_THRESHOLD_DAYS);\n\n        if (actionNeededUrgentlyThresholdTimestamp <= now) {\n            return ActionNeededLevel.URGENTLY;\n        }\n    }\n\n    return ActionNeededLevel.SOON;\n};\n\nexport const isDisputeActionNeeded = (date: string): boolean => {\n    return getActionNeededLevel(date) > ActionNeededLevel.NEVER;\n};\n\nexport const isActionNeededUrgently = (date: string): boolean => {\n    return getActionNeededLevel(date) > ActionNeededLevel.SOON;\n};\n\nexport const isDisputeActionNeededNow = (date: string): boolean => {\n    return getActionNeededLevel(date) === ActionNeededLevel.NOW;\n};\n","import AdyenPlatformExperienceError from '../../../../core/Errors/AdyenPlatformExperienceError';\nimport { TranslationKey } from '../../../../translations';\nimport { ErrorMessage, UNDEFINED_ERROR } from '../../../utils/getCommonErrorCode';\nimport CopyText from '../../../internal/CopyText/CopyText';\nimport { AssetOptions } from '../../../../core/Assets/Assets';\n\nexport const ACCOUNT_MISCONFIGURATION = 'ACCOUNT_MISCONFIGURATION';\nexport const WRONG_STORE_IDS = 'WRONG_STORE_IDS';\n\nexport const getPaymentLinksErrorMessage = (\n    error: AdyenPlatformExperienceError | undefined,\n    errorMessage: TranslationKey,\n    onContactSupport?: () => void,\n    getImageAsset?: (props: AssetOptions) => string\n): ErrorMessage => {\n    if (!error) return UNDEFINED_ERROR;\n\n    const secondaryErrorMessage = onContactSupport ? 'common.errors.errorCode' : 'common.errors.errorCodeSupport';\n    const translationValues = {\n        [secondaryErrorMessage]: error.requestId ? (\n            <CopyText copyButtonAriaLabelKey=\"common.actions.copy.labels.errorCode\" textToCopy={error.requestId} />\n        ) : null,\n    };\n\n    switch (error.errorCode) {\n        case ACCOUNT_MISCONFIGURATION:\n            return {\n                title: 'common.errors.somethingWentWrong',\n                message: ['payByLink.common.errors.accountConfiguration', 'common.errors.contactSupport'],\n                translationValues,\n                onContactSupport,\n            };\n        case WRONG_STORE_IDS:\n            return {\n                title: 'common.errors.somethingWentWrong',\n                message: ['payByLink.common.errors.storeID', 'common.errors.contactSupport'],\n                translationValues,\n                onContactSupport,\n            };\n        case '29_001':\n            if (error.invalidFields?.some(field => field.name === 'paymentLinkId')) {\n                return {\n                    title: 'payByLink.overview.errors.listEmpty',\n                    message: ['payByLink.overview.errors.listEmpty.message'],\n                    images: {\n                        desktop: getImageAsset?.({ name: 'no-results-found' }),\n                        mobile: getImageAsset?.({ name: 'no-results-found', subFolder: 'images/small' }),\n                    },\n                };\n            }\n            return {\n                title: 'common.errors.somethingWentWrong',\n                message: ['payByLink.overview.errors.couldNotLoadLinks', 'common.errors.retry'],\n                onContactSupport,\n            };\n        case '00_500':\n        case undefined:\n            return {\n                title: 'common.errors.somethingWentWrong',\n                message: ['payByLink.overview.errors.couldNotLoadLinks', secondaryErrorMessage],\n                translationValues,\n                refreshComponent: true,\n            };\n        default:\n            return {\n                title: 'common.errors.somethingWentWrong',\n                message: [errorMessage, secondaryErrorMessage],\n                translationValues,\n                onContactSupport,\n                refreshComponent: true,\n            };\n    }\n};\n","import { ErrorMessageDisplay } from '../../../internal/ErrorMessageDisplay/ErrorMessageDisplay';\nimport { getPaymentLinksErrorMessage } from '../utils/getPaymentLinksErrorMessage';\nimport { TranslationKey } from '../../../../translations';\nimport AdyenPlatformExperienceError from '../../../../core/Errors/AdyenPlatformExperienceError';\nimport { AssetOptions } from '../../../../core/Assets/Assets';\n\nexport const PaymentLinksErrors = ({\n    error,\n    errorMessage,\n    onContactSupport,\n    getImageAsset,\n}: {\n    error: AdyenPlatformExperienceError | undefined;\n    errorMessage: TranslationKey;\n    onContactSupport?: () => void;\n    getImageAsset?: (props: AssetOptions) => string;\n}) => {\n    const {\n        title,\n        message,\n        refreshComponent,\n        translationValues,\n        onContactSupport: ContactSupport,\n        images,\n    } = getPaymentLinksErrorMessage(error, errorMessage, onContactSupport, getImageAsset);\n    return (\n        <ErrorMessageDisplay\n            imageDesktop={images?.desktop}\n            imageMobile={images?.mobile}\n            withHeaderOffset\n            title={title}\n            message={message}\n            translationValues={translationValues}\n            withImage\n            centered\n            refreshComponent={refreshComponent}\n            onContactSupport={ContactSupport}\n        />\n    );\n};\n","import { FC } from 'preact/compat';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport useTimezoneAwareDateFormatting from '../../../../hooks/useTimezoneAwareDateFormatting';\nimport { containerQueries, useResponsiveContainer } from '../../../../hooks/useResponsiveContainer';\nimport { useTableColumns } from '../../../../hooks/useTableColumns';\nimport { TranslationKey } from '../../../../translations';\nimport DataGrid from '../../../internal/DataGrid';\nimport Pagination from '../../../internal/Pagination';\nimport { PaymentLinkTableProps } from './types';\nimport {\n    BASE_TABLE_GRID_CLASS,\n    MOBILE_AMOUNT_CELL_CLASS,\n    MOBILE_EXPIRE_DATE_CELL_CLASS,\n    MOBILE_TABLE_CELL_CLASS,\n    PAYMENT_LINK_STATUSES,\n} from './constants';\nimport { Tag } from '../../../internal/Tag/Tag';\nimport { TagVariant } from '../../../internal/Tag/types';\nimport Typography from '../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../internal/Typography/types';\nimport { IPaymentLinkStatus } from '../../../../types';\nimport {\n    DATE_FORMAT_PAYMENT_LINKS_OVERVIEW,\n    DATE_FORMAT_PAYMENT_LINKS_OVERVIEW_EXPIRATION_DATE,\n    DATE_FORMAT_RESPONSE_DEADLINE,\n} from '../../../../constants';\nimport { DAY_MS } from '../../../internal/Calendar/calendar/constants';\nimport { Tooltip } from '../../../internal/Tooltip/Tooltip';\nimport { isActionNeededUrgently } from '../../../utils/payByLink/actionLevel';\nimport classNames from 'classnames';\nimport { PaymentLinksErrors } from './PaymentLinksErrors';\nimport AdyenPlatformExperienceError from '../../../../core/Errors/AdyenPlatformExperienceError';\nimport { BACKEND_REDACTED_DATA_MARKER, FRONTEND_REDACTED_DATA_MARKER } from '../../../constants';\nimport { ACCOUNT_MISCONFIGURATION, WRONG_STORE_IDS } from '../utils/getPaymentLinksErrorMessage';\n\nconst getTagVariantForStatus = (status: IPaymentLinkStatus) => {\n    switch (status) {\n        case 'completed':\n            return TagVariant.SUCCESS;\n        case 'expired':\n            return TagVariant.DEFAULT;\n        case 'paymentPending':\n            return TagVariant.WARNING;\n        case 'active':\n            return TagVariant.BLUE;\n        default:\n            return TagVariant.DEFAULT;\n    }\n};\n\nexport const PAYMENT_LINKS_TABLE_FIELDS = [\n    'paymentLinkId',\n    'merchantReference',\n    'storeCode',\n    'currency',\n    'amount',\n    'status',\n    'expirationDate',\n    'creationDate',\n    'linkType',\n    'shopperEmail',\n] as const;\n\nconst FIELDS_KEYS = {\n    paymentLinkId: 'payByLink.overview.list.fields.id',\n    amount: 'payByLink.overview.list.fields.amount',\n    currency: 'payByLink.overview.list.fields.currency',\n    status: 'payByLink.overview.list.fields.status',\n    expirationDate: 'payByLink.overview.list.fields.expirationDate',\n    creationDate: 'payByLink.overview.list.fields.createdAt',\n    linkType: 'payByLink.overview.list.fields.linkType',\n    merchantReference: 'payByLink.overview.list.fields.merchantReference',\n    shopperEmail: 'payByLink.overview.list.fields.shopperEmail',\n    storeCode: 'payByLink.overview.list.fields.store',\n} as const satisfies Record<(typeof PAYMENT_LINKS_TABLE_FIELDS)[number], TranslationKey>;\n\nconst ERROR_MESSAGE_KEY = 'payByLink.overview.errors.couldNotLoadLinks' as const;\n\nexport const PaymentLinksTable: FC<PaymentLinkTableProps> = ({\n    error,\n    loading,\n    onContactSupport,\n    onRowClick,\n    showDetails,\n    showPagination,\n    paymentLinks,\n    stores,\n    allStores,\n    storeError,\n    ...paginationProps\n}) => {\n    const { i18n, getImageAsset } = useCoreContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting();\n    const isSmAndUpContainer = useResponsiveContainer(containerQueries.up.sm);\n\n    const getTimeToDeadline = useCallback(\n        (dueDate: string) => {\n            if (!dueDate) return '';\n            const deadline = new Date(dueDate).getTime();\n            const diffInMs = deadline - Date.now();\n            const diffInDays = Math.ceil(diffInMs / DAY_MS);\n            const formattedDate = dateFormat(dueDate, { ...DATE_FORMAT_RESPONSE_DEADLINE, weekday: undefined });\n\n            return diffInDays <= 1\n                ? i18n.get('payByLink.overview.common.actionNeeded.expiresToday', { values: { date: formattedDate } })\n                : i18n.get('payByLink.overview.common.actionNeeded.expiresDays', { values: { days: diffInDays, date: formattedDate } });\n        },\n        [dateFormat, i18n]\n    );\n\n    const isMobileContainer = useResponsiveContainer(containerQueries.down.xs);\n\n    const columns = useTableColumns({\n        fields: PAYMENT_LINKS_TABLE_FIELDS,\n        fieldsKeys: FIELDS_KEYS,\n        columnConfig: {\n            amount: {\n                position: 'right',\n                flex: isSmAndUpContainer ? 1.5 : undefined,\n            },\n            linkType: {\n                label: i18n.get(FIELDS_KEYS.linkType),\n                visible: !isMobileContainer,\n            },\n            storeCode: {\n                visible: stores && stores?.length > 1 && !isMobileContainer,\n            },\n            merchantReference: {\n                visible: !isMobileContainer,\n            },\n            currency: {\n                visible: !isMobileContainer,\n            },\n            status: {\n                visible: !isMobileContainer,\n            },\n            expirationDate: {\n                visible: !isMobileContainer,\n            },\n            creationDate: {\n                visible: !isMobileContainer,\n            },\n            shopperEmail: {\n                visible: !isMobileContainer,\n            },\n        },\n    });\n\n    const EMPTY_TABLE_MESSAGE = {\n        title: 'payByLink.overview.errors.listEmpty',\n        message: ['payByLink.overview.errors.listEmpty.message'],\n    } satisfies { title: TranslationKey; message: TranslationKey | TranslationKey[] };\n\n    const noStoresError = useMemo(() => {\n        if (allStores?.length !== 0 || storeError) return undefined;\n        return {\n            message: 'No stores configured',\n            name: 'Account misconfiguration',\n            errorCode: ACCOUNT_MISCONFIGURATION,\n            type: 'error',\n            requestId: '',\n        } as AdyenPlatformExperienceError;\n    }, [allStores, storeError]);\n\n    const storesFilteredError = useMemo(() => {\n        if (allStores && allStores?.length > 0 && stores?.length !== 0) return undefined;\n        return {\n            errorCode: WRONG_STORE_IDS,\n            type: 'error',\n            requestId: '',\n        } as AdyenPlatformExperienceError;\n    }, [allStores, stores]);\n\n    const errorDisplay = useMemo(\n        () => () => {\n            return (\n                <PaymentLinksErrors\n                    getImageAsset={getImageAsset}\n                    error={noStoresError || error || storesFilteredError}\n                    onContactSupport={onContactSupport}\n                    errorMessage={ERROR_MESSAGE_KEY}\n                />\n            );\n        },\n        [error, getImageAsset, onContactSupport, noStoresError, storesFilteredError]\n    );\n\n    return (\n        <div className={BASE_TABLE_GRID_CLASS}>\n            <DataGrid\n                narrowColumns={isMobileContainer}\n                errorDisplay={errorDisplay}\n                error={noStoresError || error || storesFilteredError}\n                columns={columns}\n                data={paymentLinks}\n                loading={loading}\n                outline={false}\n                onRowClick={{ callback: onRowClick }}\n                emptyTableMessage={EMPTY_TABLE_MESSAGE}\n                customCells={{\n                    currency: ({ item }) => {\n                        if (!item?.amount?.currency) return;\n                        return <Tag label={`${item.amount.currency}`} variant={TagVariant.DEFAULT} />;\n                    },\n                    amount: ({ value, item }) => {\n                        const amount = i18n.amount(value.value, value.currency, { hideCurrency: true });\n\n                        if (isMobileContainer) {\n                            return (\n                                <div className={classNames(MOBILE_TABLE_CELL_CLASS, MOBILE_AMOUNT_CELL_CLASS)}>\n                                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} strongest>\n                                        {amount}\n                                    </Typography>\n                                    <span>\n                                        {item.status && (\n                                            <Tag label={i18n.get(PAYMENT_LINK_STATUSES[item.status])} variant={getTagVariantForStatus(item.status)} />\n                                        )}\n                                    </span>\n                                </div>\n                            );\n                        }\n\n                        return (\n                            <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                                {amount}\n                            </Typography>\n                        );\n                    },\n                    status: ({ value }) => {\n                        if (!value) return;\n                        return <Tag label={i18n.get(`${PAYMENT_LINK_STATUSES[value]}`)} variant={getTagVariantForStatus(value)} />;\n                    },\n                    linkType: ({ item }) => {\n                        if (!item?.linkType) return null;\n                        const value = item?.linkType === 'open' ? 'payByLink.common.linkType.open' : 'payByLink.common.linkType.singleUse';\n                        return (\n                            <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                                {i18n.get(value)}\n                            </Typography>\n                        );\n                    },\n                    creationDate: ({ value }) => {\n                        return (\n                            <time dateTime={value}>\n                                <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                                    {dateFormat(value, DATE_FORMAT_PAYMENT_LINKS_OVERVIEW)}\n                                </Typography>\n                            </time>\n                        );\n                    },\n                    expirationDate: ({ value }) => {\n                        const isUrgent = isActionNeededUrgently(value);\n\n                        return isUrgent ? (\n                            <Tooltip content={getTimeToDeadline(value)}>\n                                <span>\n                                    <time dateTime={value}>{dateFormat(value, DATE_FORMAT_PAYMENT_LINKS_OVERVIEW_EXPIRATION_DATE)}</time>\n                                </span>\n                            </Tooltip>\n                        ) : (\n                            <time dateTime={value}>\n                                <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                                    {dateFormat(value, DATE_FORMAT_PAYMENT_LINKS_OVERVIEW_EXPIRATION_DATE)}\n                                </Typography>\n                            </time>\n                        );\n                    },\n                    paymentLinkId: ({ item }) => {\n                        if (isMobileContainer) {\n                            return (\n                                <div className={MOBILE_TABLE_CELL_CLASS}>\n                                    <Typography strongest el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                                        {item.paymentLinkId}\n                                    </Typography>\n                                    <time dateTime={item.expirationDate}>\n                                        <Typography\n                                            className={MOBILE_EXPIRE_DATE_CELL_CLASS}\n                                            el={TypographyElement.SPAN}\n                                            variant={TypographyVariant.CAPTION}\n                                        >\n                                            {i18n.get('payByLink.overview.common.actionNeeded.expiresAt', {\n                                                values: { date: dateFormat(item.expirationDate, DATE_FORMAT_PAYMENT_LINKS_OVERVIEW_EXPIRATION_DATE) },\n                                            })}\n                                        </Typography>\n                                    </time>\n                                </div>\n                            );\n                        }\n                        return <>{item.paymentLinkId}</>;\n                    },\n                    shopperEmail: ({ item }) => (\n                        <>{item.shopperEmail === BACKEND_REDACTED_DATA_MARKER ? FRONTEND_REDACTED_DATA_MARKER : item.shopperEmail}</>\n                    ),\n                }}\n            >\n                {showPagination && (\n                    <DataGrid.Footer>\n                        <Pagination\n                            {...paginationProps}\n                            ariaLabelKey=\"payByLink.overview.pagination.label\"\n                            limitSelectAriaLabelKey=\"payByLink.overview.pagination.controls.limitSelect.label\"\n                        />\n                    </DataGrid.Footer>\n                )}\n            </DataGrid>\n        </div>\n    );\n};\n","import useCoreContext from '../../../../../core/Context/useCoreContext';\nimport Card from '../../../../internal/Card/Card';\nimport { Tag } from '../../../../internal/Tag/Tag';\nimport { TagVariant } from '../../../../internal/Tag/types';\nimport { TypographyVariant, TypographyElement } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { DATE_FORMAT_PAYMENT_LINK_DETAILS_SUMMARY } from '../../../../../constants';\nimport { IPaymentLinkStatus, IPaymentLinkDetails } from '../../../../../types';\nimport useTimezoneAwareDateFormatting from '../../../../../hooks/useTimezoneAwareDateFormatting';\nimport './PaymentLinkSummary.scss';\n\nconst CLASSNAMES = {\n    root: 'adyen-pe-payment-link-summary',\n    content: 'adyen-pe-payment-link-summary__content',\n    expiresLabel: 'adyen-pe-payment-link-summary__expires-label',\n};\n\ntype PaymentLinkSummaryProps = {\n    paymentLink: IPaymentLinkDetails;\n};\n\nexport const PaymentLinkSummary = ({ paymentLink }: PaymentLinkSummaryProps) => {\n    const { i18n } = useCoreContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting();\n    const status = paymentLink?.linkInformation.status;\n    const getStatusVariant = (status: IPaymentLinkStatus): TagVariant => {\n        switch (status) {\n            case 'active':\n                return TagVariant.BLUE;\n            case 'completed':\n                return TagVariant.SUCCESS;\n            case 'expired':\n                return TagVariant.DEFAULT;\n            case 'paymentPending':\n                return TagVariant.WARNING;\n            default:\n                return TagVariant.DEFAULT;\n        }\n    };\n\n    return (\n        <Card classNameModifiers={[CLASSNAMES.root]}>\n            <div className={CLASSNAMES.content}>\n                <Tag variant={getStatusVariant(status)}>\n                    {i18n.has(`payByLink.common.status.${status}`)\n                        ? i18n.get(`payByLink.common.status.${status}`)\n                        : paymentLink?.linkInformation.status}\n                </Tag>\n                <Typography variant={TypographyVariant.TITLE} large>\n                    {`${i18n.amount(paymentLink?.linkInformation.amount.value, paymentLink?.linkInformation.amount.currency)} ${paymentLink?.linkInformation.amount.currency}`}\n                </Typography>\n                <div>\n                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} className={CLASSNAMES.expiresLabel}>\n                        {`${i18n.get('payByLink.details.fields.expiresOn')}: `}\n                    </Typography>\n                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                        {dateFormat(paymentLink.linkInformation.expirationDate, DATE_FORMAT_PAYMENT_LINK_DETAILS_SUMMARY)}\n                    </Typography>\n                </div>\n            </div>\n        </Card>\n    );\n};\n","import { TranslationKey } from '../../../../../translations';\nimport { TimelineStatus } from '../../../../internal/Timeline/types';\nimport { IPaymentLinkActivity } from '../../../../../types';\n\nexport const getTitleKey = (activity: IPaymentLinkActivity): TranslationKey | undefined => {\n    switch (activity.type) {\n        case 'createdAction':\n            return 'payByLink.details.activity.created';\n        case 'expiredAction':\n            return 'payByLink.details.activity.expired';\n        case 'paymentAttempt':\n            return 'payByLink.details.activity.paymentAttempt';\n        default:\n            return undefined;\n    }\n};\n\nexport const getDescriptionKey = (activity: IPaymentLinkActivity): TranslationKey | undefined => {\n    switch (activity.expirationReason) {\n        case 'maximumAttemptsReached':\n            return 'payByLink.details.activity.expirationReason.maximumAttemptsReached';\n        case 'manuallyExpired':\n            return 'payByLink.details.activity.expirationReason.manuallyExpired';\n        case 'expirationDateReached':\n            return 'payByLink.details.activity.expirationReason.expirationDateReached';\n        default:\n            return undefined;\n    }\n};\n\nexport const getStatus = (activity: IPaymentLinkActivity): TimelineStatus => {\n    switch (activity.type) {\n        case 'createdAction':\n            return 'green';\n        case 'expiredAction':\n            return 'red';\n        case 'paymentAttempt':\n            return 'blue';\n        default:\n            return 'black';\n    }\n};\n","import { useMemo } from 'preact/hooks';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { TimelineItem } from '../../../../internal/Timeline/components/TimelineItem';\nimport Timeline from '../../../../internal/Timeline/Timeline';\nimport { TimelineDateFormat } from '../../../../internal/Timeline/types';\nimport { IPaymentLinkActivity } from '../../../../../types';\nimport { getTitleKey, getDescriptionKey, getStatus } from './utils';\n\ntype PaymentLinkActivityProps = {\n    activities: IPaymentLinkActivity[];\n};\n\nexport const PaymentLinkActivity = ({ activities }: PaymentLinkActivityProps) => {\n    const { i18n } = useCoreContext();\n\n    const timelineItems = useMemo(\n        () =>\n            activities.map(activity => ({\n                titleKey: getTitleKey(activity),\n                descriptionKey: getDescriptionKey(activity),\n                date: activity.date,\n                status: getStatus(activity),\n            })),\n        [activities]\n    );\n\n    return (\n        <Timeline>\n            {timelineItems.map(({ titleKey, date, status, descriptionKey }: any) => (\n                <TimelineItem\n                    key={date}\n                    title={i18n.get(titleKey)}\n                    timestamp={{\n                        date: new Date(date),\n                        format: TimelineDateFormat.FULL_DATE_EXACT_TIME,\n                    }}\n                    status={status}\n                    description={i18n.get(descriptionKey)}\n                />\n            ))}\n        </Timeline>\n    );\n};\n","import useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport StructuredList from '../../../../internal/StructuredList';\nimport { ListValue, StructuredListItem, StructuredListItemType } from '../../../../internal/StructuredList/types';\nimport Tabs from '../../../../internal/Tabs/Tabs';\nimport { DATE_FORMAT_PAYMENT_LINK_DETAILS_TABS } from '../../../../../constants';\nimport useTimezoneAwareDateFormatting from '../../../../../hooks/useTimezoneAwareDateFormatting';\nimport { IPaymentLinkDetails, IPaymentLinkShopperAddress } from '../../../../../types';\nimport { TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../../components/internal/Typography/Typography';\nimport { PaymentLinkActivity } from '../PaymentLinkActivity/PaymentLinkActivity';\nimport { TabProps } from 'src/components/internal/Tabs/types';\nimport './PaymentLinkTabs.scss';\nimport { TranslationKey } from '../../../../../translations';\nimport CopyText from '../../../../internal/CopyText/CopyText';\nimport { BACKEND_REDACTED_DATA_MARKER, FRONTEND_REDACTED_DATA_MARKER } from '../../../../constants';\nimport Link from '../../../../internal/Link/Link';\n\nconst CLASSNAMES = {\n    root: 'adyen-pe-payment-link-tabs',\n    list: 'adyen-pe-payment-link-tabs__list',\n    listHeading: 'adyen-pe-payment-link-tabs__list-heading',\n    listLabel: 'adyen-pe-payment-link-tabs__list-label',\n    listValue: 'adyen-pe-payment-link-tabs__list-value',\n};\n\ntype PaymentLinkTabsProps = {\n    paymentLink: IPaymentLinkDetails;\n};\n\ntype ListItems = Record<'linkInformation' | 'shopperInformation' | 'shippingAddress' | 'billingAddress', StructuredListItem[]>;\n\nexport const PaymentLinkTabs = ({ paymentLink }: PaymentLinkTabsProps) => {\n    const { i18n } = useCoreContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting();\n\n    const isAddressRedacted = useCallback((address: IPaymentLinkShopperAddress) => {\n        return Object.values(address).some(value => value === BACKEND_REDACTED_DATA_MARKER);\n    }, []);\n\n    const listItems = useMemo<ListItems>(() => {\n        const linkType = paymentLink.linkInformation.linkType;\n        const items: ListItems = {\n            linkInformation: [\n                {\n                    key: 'payByLink.details.fields.paymentLinkId',\n                    value: paymentLink.linkInformation.paymentLinkId,\n                    config: { isCopyable: true, linkUrl: paymentLink.linkInformation.paymentLink },\n                },\n                {\n                    key: 'payByLink.details.fields.store',\n                    value: paymentLink.linkInformation.storeCode,\n                },\n                {\n                    key: 'payByLink.details.fields.merchantReference',\n                    value: paymentLink.linkInformation.merchantReference,\n                },\n                {\n                    key: 'payByLink.details.fields.createdOn',\n                    value: dateFormat(paymentLink.linkInformation.creationDate, DATE_FORMAT_PAYMENT_LINK_DETAILS_TABS),\n                },\n                {\n                    key: 'payByLink.details.fields.expiresOn',\n                    value: dateFormat(paymentLink.linkInformation.expirationDate, DATE_FORMAT_PAYMENT_LINK_DETAILS_TABS),\n                },\n                {\n                    key: 'payByLink.details.fields.linkType',\n                    value: i18n.has(`payByLink.common.linkType.${linkType}`) ? i18n.get(`payByLink.common.linkType.${linkType}`) : linkType,\n                },\n                {\n                    key: 'payByLink.details.fields.description',\n                    value: paymentLink.linkInformation.description,\n                },\n            ],\n            shopperInformation: [\n                {\n                    key: 'payByLink.details.fields.shopper.reference',\n                    value: paymentLink.shopperInformation?.shopperReference,\n                },\n                {\n                    key: 'payByLink.details.fields.shopper.fullName',\n                    value: [paymentLink.shopperInformation?.shopperName?.firstName, paymentLink.shopperInformation?.shopperName?.lastName]\n                        .filter(Boolean)\n                        .join(' '),\n                    config: { isCopyable: true },\n                },\n                {\n                    key: 'payByLink.details.fields.shopper.email',\n                    value: paymentLink.shopperInformation?.shopperEmail,\n                    config: { isCopyable: true },\n                },\n                {\n                    key: 'payByLink.details.fields.shopper.phone',\n                    value: paymentLink.shopperInformation?.telephoneNumber,\n                    config: { isCopyable: true },\n                },\n                {\n                    key: 'payByLink.details.fields.shopper.country',\n                    value: paymentLink.shopperInformation?.shopperCountry,\n                },\n                ...(paymentLink.shopperInformation?.shippingAddress && isAddressRedacted(paymentLink.shopperInformation?.shippingAddress)\n                    ? [\n                          {\n                              key: 'payByLink.details.fields.shippingAddress.title' as TranslationKey,\n                              value: FRONTEND_REDACTED_DATA_MARKER,\n                          },\n                      ]\n                    : []),\n                ...(paymentLink.shopperInformation?.billingAddress && isAddressRedacted(paymentLink.shopperInformation?.billingAddress)\n                    ? [\n                          {\n                              key: 'payByLink.details.fields.billingAddress.title' as TranslationKey,\n                              value: FRONTEND_REDACTED_DATA_MARKER,\n                          },\n                      ]\n                    : []),\n            ],\n            shippingAddress:\n                !paymentLink.shopperInformation?.shippingAddress || isAddressRedacted(paymentLink.shopperInformation?.shippingAddress)\n                    ? []\n                    : [\n                          {\n                              key: 'payByLink.details.fields.shippingAddress.street',\n                              value: paymentLink.shopperInformation?.shippingAddress?.street,\n                              config: { isCopyable: true },\n                          },\n                          {\n                              key: 'payByLink.details.fields.shippingAddress.houseNumberOrName',\n                              value: paymentLink.shopperInformation?.shippingAddress?.houseNumberOrName,\n                              config: { isCopyable: true },\n                          },\n                          {\n                              key: 'payByLink.details.fields.shippingAddress.country',\n                              value: paymentLink.shopperInformation?.shippingAddress?.country,\n                          },\n                          {\n                              key: 'payByLink.details.fields.shippingAddress.city',\n                              value: paymentLink.shopperInformation?.shippingAddress?.city,\n                              config: { isCopyable: true },\n                          },\n                          {\n                              key: 'payByLink.details.fields.shippingAddress.postalCode',\n                              value: paymentLink.shopperInformation?.shippingAddress?.postalCode,\n                              config: { isCopyable: true },\n                          },\n                      ],\n            billingAddress:\n                !paymentLink.shopperInformation?.billingAddress || isAddressRedacted(paymentLink.shopperInformation?.billingAddress)\n                    ? []\n                    : [\n                          {\n                              key: 'payByLink.details.fields.billingAddress.street',\n                              value: paymentLink.shopperInformation?.billingAddress?.street,\n                              config: { isCopyable: true },\n                          },\n                          {\n                              key: 'payByLink.details.fields.billingAddress.houseNumberOrName',\n                              value: paymentLink.shopperInformation?.billingAddress?.houseNumberOrName,\n                              config: { isCopyable: true },\n                          },\n                          {\n                              key: 'payByLink.details.fields.billingAddress.country',\n                              value: paymentLink.shopperInformation?.billingAddress?.country,\n                          },\n                          {\n                              key: 'payByLink.details.fields.billingAddress.city',\n                              value: paymentLink.shopperInformation?.billingAddress?.city,\n                              config: { isCopyable: true },\n                          },\n                          {\n                              key: 'payByLink.details.fields.billingAddress.postalCode',\n                              value: paymentLink.shopperInformation?.billingAddress?.postalCode,\n                              config: { isCopyable: true },\n                          },\n                      ],\n        };\n\n        // Filter out items with empty values from each group\n        return Object.fromEntries(\n            Object.entries(items).map(([category, categoryItems]) => [\n                category,\n                categoryItems.filter(item => item.value != null && item.value !== '' && item.value !== undefined),\n            ])\n        ) as ListItems;\n    }, [paymentLink, dateFormat, i18n, isAddressRedacted]);\n\n    const renderListItemLabel = useCallback((label: string) => <div className={CLASSNAMES.listLabel}>{label}</div>, []);\n    const renderListItemValue = useCallback((value: ListValue, key: TranslationKey, type: StructuredListItemType | undefined, config: any) => {\n        let transformedValue;\n        if (value && value.toString().includes(BACKEND_REDACTED_DATA_MARKER)) {\n            transformedValue = FRONTEND_REDACTED_DATA_MARKER;\n        } else if (config?.isCopyable && value && value !== '') {\n            const visibleText = config?.linkUrl ? (\n                <Link href={config.linkUrl} target=\"_blank\">\n                    {value.toString()}\n                </Link>\n            ) : undefined;\n            transformedValue = <CopyText textToCopy={value.toString()} visibleText={visibleText} type={'Default'} />;\n        } else {\n            transformedValue = value;\n        }\n\n        return <div className={CLASSNAMES.listValue}>{transformedValue}</div>;\n    }, []);\n\n    const tabs = useMemo<TabProps<string>[]>(\n        () =>\n            [\n                {\n                    id: 'linkInformation',\n                    label: 'payByLink.details.tabs.linkInformation',\n                    content: (\n                        <StructuredList\n                            classNames={CLASSNAMES.list}\n                            items={listItems.linkInformation}\n                            align=\"start\"\n                            layout=\"4-8\"\n                            renderLabel={renderListItemLabel}\n                            renderValue={renderListItemValue}\n                        />\n                    ),\n                },\n                {\n                    id: 'shopperInformation',\n                    label: 'payByLink.details.tabs.shopperInformation',\n                    content: (\n                        <>\n                            <StructuredList\n                                classNames={CLASSNAMES.list}\n                                items={listItems.shopperInformation}\n                                align=\"start\"\n                                layout=\"4-8\"\n                                renderLabel={renderListItemLabel}\n                                renderValue={renderListItemValue}\n                            />\n\n                            {listItems.shippingAddress.length > 0 && (\n                                <>\n                                    <Typography variant={TypographyVariant.CAPTION} stronger className={CLASSNAMES.listHeading}>\n                                        {i18n.get('payByLink.details.fields.shippingAddress.title')}\n                                    </Typography>\n                                    <StructuredList\n                                        classNames={CLASSNAMES.list}\n                                        items={listItems.shippingAddress}\n                                        align=\"start\"\n                                        layout=\"4-8\"\n                                        renderLabel={renderListItemLabel}\n                                        renderValue={renderListItemValue}\n                                    />\n                                </>\n                            )}\n\n                            {listItems.billingAddress.length > 0 && (\n                                <>\n                                    <Typography variant={TypographyVariant.CAPTION} stronger className={CLASSNAMES.listHeading}>\n                                        {i18n.get('payByLink.details.fields.billingAddress.title')}\n                                    </Typography>\n                                    <StructuredList\n                                        classNames={CLASSNAMES.list}\n                                        items={listItems.billingAddress}\n                                        align=\"start\"\n                                        layout=\"4-8\"\n                                        renderLabel={renderListItemLabel}\n                                        renderValue={renderListItemValue}\n                                    />\n                                </>\n                            )}\n                        </>\n                    ),\n                },\n                {\n                    id: 'activity',\n                    label: 'payByLink.details.tabs.activity',\n                    content: <PaymentLinkActivity activities={paymentLink.paymentLinkActivities ?? []} />,\n                },\n            ] as TabProps<string>[],\n        [listItems, renderListItemLabel, renderListItemValue, i18n, paymentLink.paymentLinkActivities]\n    );\n\n    return (\n        <div className={CLASSNAMES.root}>\n            <Tabs tabs={tabs} />\n        </div>\n    );\n};\n","import { useCallback, useMemo } from 'preact/hooks';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { IPaymentLinkDetails } from '../../../../../types';\nimport ButtonActions from '../../../../../components/internal/Button/ButtonActions/ButtonActions';\nimport useMutation from '../../../../../hooks/useMutation/useMutation';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport { useModalContext } from '../../../../internal/Modal/Modal';\nimport { ButtonActionsList } from '../../../../internal/Button/ButtonActions/types';\nimport './PaymentLinkExpiration.scss';\nimport Alert from '../../../../internal/Alert/Alert';\nimport { AlertTypeOption } from '../../../../internal/Alert/types';\n\nconst CLASSNAMES = {\n    root: 'adyen-pe-payment-link-expiration',\n    title: 'adyen-pe-payment-link-expiration__title',\n};\n\ntype PaymentLinkExpirationProps = {\n    paymentLink: IPaymentLinkDetails;\n    onCancel: () => void;\n    onExpirationSuccess: () => void;\n};\n\nexport const PaymentLinkExpiration = ({ paymentLink, onCancel, onExpirationSuccess }: PaymentLinkExpirationProps) => {\n    const { i18n } = useCoreContext();\n    const { withinModal } = useModalContext();\n    const titleEl = withinModal ? TypographyElement.H2 : TypographyElement.DIV;\n\n    const { expirePayByLinkPaymentLink } = useConfigContext().endpoints;\n    const expirePaymentLinkMutation = useMutation({\n        queryFn: expirePayByLinkPaymentLink,\n        options: {\n            onSuccess: onExpirationSuccess,\n        },\n    });\n\n    const handleConfirmExpire = useCallback(\n        () => expirePaymentLinkMutation.mutate(EMPTY_OBJECT, { path: { paymentLinkId: paymentLink.linkInformation.paymentLinkId } }),\n        [expirePaymentLinkMutation, paymentLink.linkInformation.paymentLinkId]\n    );\n\n    const actionButtons: ButtonActionsList = useMemo(\n        () => [\n            {\n                title: i18n.get('payByLink.details.expiration.actions.confirmExpiration'),\n                event: handleConfirmExpire,\n                variant: ButtonVariant.PRIMARY,\n                disabled: expirePaymentLinkMutation.isLoading,\n                state: expirePaymentLinkMutation.isLoading ? 'loading' : 'default',\n            },\n            {\n                title: i18n.get('payByLink.details.expiration.actions.goBack'),\n                event: onCancel,\n                variant: ButtonVariant.SECONDARY,\n                disabled: expirePaymentLinkMutation.isLoading,\n            },\n        ],\n        [expirePaymentLinkMutation.isLoading, handleConfirmExpire, i18n, onCancel]\n    );\n\n    return (\n        <div className={CLASSNAMES.root}>\n            <Typography el={titleEl} variant={TypographyVariant.SUBTITLE} stronger>\n                {i18n.get('payByLink.details.expiration.title')}\n            </Typography>\n            <Typography variant={TypographyVariant.BODY}>{i18n.get('payByLink.details.expiration.description')}</Typography>\n            {expirePaymentLinkMutation.error && (\n                <Alert\n                    type={AlertTypeOption.CRITICAL}\n                    title={i18n.get('payByLink.details.expiration.errorTitle')}\n                    description={i18n.get('payByLink.details.expiration.errorDescription')}\n                />\n            )}\n            <ButtonActions actions={actionButtons} />\n        </div>\n    );\n};\n","import './PaymentLinkSkeleton.scss';\n\nconst CLASSNAMES = {\n    root: 'adyen-pe-payment-link-skeleton',\n    summaryContainer: 'adyen-pe-payment-link-skeleton__summary-container',\n    status: 'adyen-pe-payment-link-skeleton__status',\n    amount: 'adyen-pe-payment-link-skeleton__amount',\n    expirationDate: 'adyen-pe-payment-link-skeleton__expiration-date',\n    tabsContainer: 'adyen-pe-payment-link-skeleton__tabs-container',\n    tabLabelsContainer: 'adyen-pe-payment-link-skeleton__tab-labels-container',\n    tabLabel: 'adyen-pe-payment-link-skeleton__tab-label',\n    fieldsContainer: 'adyen-pe-payment-link-skeleton__fields-container',\n    fieldContainer: 'adyen-pe-payment-link-skeleton__field-container',\n    fieldLabel: 'adyen-pe-payment-link-skeleton__field-label',\n    fieldValue: 'adyen-pe-payment-link-skeleton__field-value',\n};\n\nexport const PaymentLinkSkeleton = () => {\n    return (\n        <div className={CLASSNAMES.root}>\n            <div className={CLASSNAMES.summaryContainer}>\n                <div className={CLASSNAMES.status}></div>\n                <div className={CLASSNAMES.amount}></div>\n                <div className={CLASSNAMES.expirationDate}></div>\n            </div>\n            <div className={CLASSNAMES.tabsContainer}>\n                <div className={CLASSNAMES.tabLabelsContainer}>\n                    {[...Array(3)].map((_, index) => (\n                        <div key={index} className={CLASSNAMES.tabLabel}></div>\n                    ))}\n                </div>\n                <div className={CLASSNAMES.fieldsContainer}>\n                    {[...Array(6)].map((_, index) => (\n                        <div key={index} className={CLASSNAMES.fieldContainer}>\n                            <div className={CLASSNAMES.fieldLabel}></div>\n                            <div className={CLASSNAMES.fieldValue}></div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n};\n","import AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport { TranslationKey } from '../../../../../translations';\nimport { ErrorMessage, UNDEFINED_ERROR } from '../../../../utils/getCommonErrorCode';\nimport CopyText from '../../../../internal/CopyText/CopyText';\n\nexport const getPaymentLinkErrorMessage = (\n    error: AdyenPlatformExperienceError,\n    errorMessage: TranslationKey,\n    onContactSupport?: () => void\n): ErrorMessage => {\n    if (!error) return UNDEFINED_ERROR;\n\n    switch (error.errorCode) {\n        case undefined:\n            return {\n                title: 'common.errors.somethingWentWrong',\n                message: [errorMessage, 'common.errors.retry'],\n                refreshComponent: true,\n            };\n        case '500': {\n            const secondaryErrorMessage = onContactSupport ? 'common.errors.errorCode' : 'common.errors.errorCodeSupport';\n            return {\n                title: 'common.errors.somethingWentWrong',\n                message: [errorMessage, secondaryErrorMessage],\n                translationValues: {\n                    [secondaryErrorMessage]: error.requestId ? (\n                        <CopyText isUnderlineVisible copyButtonAriaLabelKey=\"common.actions.copy.labels.errorCode\" textToCopy={error.requestId} />\n                    ) : null,\n                },\n                onContactSupport,\n            };\n        }\n        default:\n            return UNDEFINED_ERROR;\n    }\n};\n","import useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport { ErrorMessageDisplay } from '../../../../internal/ErrorMessageDisplay/ErrorMessageDisplay';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport Button from '../../../../internal/Button/Button';\nimport { getPaymentLinkErrorMessage } from './getPaymentLinkErrorMessage';\n\ntype PaymentLinkErrorProps = {\n    error?: AdyenPlatformExperienceError;\n    onContactSupport?: () => void;\n    onDismiss?: () => void;\n};\n\nexport const PaymentLinkError = ({ error, onContactSupport, onDismiss }: PaymentLinkErrorProps) => {\n    const { i18n } = useCoreContext();\n\n    const renderBackButton = useCallback(() => {\n        return (\n            <Button variant={ButtonVariant.SECONDARY} onClick={onDismiss}>\n                {i18n.get('payByLink.common.actions.goBack')}\n            </Button>\n        );\n    }, [i18n, onDismiss]);\n\n    const errorProps = useMemo(\n        () => getPaymentLinkErrorMessage(error as AdyenPlatformExperienceError, 'payByLink.details.errors.unavailable', onContactSupport),\n        [error, onContactSupport]\n    );\n\n    return (\n        <ErrorMessageDisplay\n            renderSecondaryButton={onDismiss ? renderBackButton : undefined}\n            withImage\n            outlined={false}\n            absolutePosition={false}\n            withBackground={false}\n            {...errorProps}\n        />\n    );\n};\n","import cx from 'classnames';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { useCallback, useEffect, useMemo, useState } from 'preact/hooks';\nimport ButtonActions from '../../../../../components/internal/Button/ButtonActions/ButtonActions';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport Header from '../../../../../components/internal/Header';\nimport { PaymentLinkDetailsProps as PaymentLinkDetailsElementProps } from '../../types';\nimport { ExternalUIComponentProps } from 'src/components/types';\nimport { useModalContext } from '../../../../internal/Modal/Modal';\nimport { PaymentLinkSummary } from '../PaymentLinkSummary/PaymentLinkSummary';\nimport { PaymentLinkTabs } from '../PaymentLinkTabs/PaymentLinkTabs';\nimport { ButtonActionsList } from '../../../../internal/Button/ButtonActions/types';\nimport { PaymentLinkExpiration } from '../PaymentLinkExpiration/PaymentLinkExpiration';\nimport './PaymentLinkDetails.scss';\nimport { PaymentLinkSkeleton } from '../PaymentLinkSkeleton/PaymentLinkSkeleton';\nimport { PaymentLinkError } from '../PaymentLinkError/PaymentLinkError';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport Icon from '../../../../internal/Icon';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyVariant } from '../../../../internal/Typography/types';\n\nconst CLASSNAMES = {\n    root: 'adyen-pe-payment-link-details',\n    content: 'adyen-pe-payment-link-details__content',\n    expirationSuccessContainer: 'adyen-pe-payment-link-details__expiration-success-container',\n    expirationSuccessIcon: 'adyen-pe-payment-link-details__expiration-success-icon',\n};\n\ntype PaymentLinkDetailsProps = ExternalUIComponentProps<PaymentLinkDetailsElementProps> & {\n    isDismissButtonHidden?: boolean;\n};\n\nexport const PaymentLinkDetails = ({ id, onUpdate, hideTitle, onContactSupport, onDismiss, isDismissButtonHidden }: PaymentLinkDetailsProps) => {\n    const { i18n, getCdnDataset } = useCoreContext();\n    const { getPayByLinkPaymentLinkById } = useConfigContext().endpoints;\n    const {\n        data: paymentLinkData,\n        isFetching: isFetchingPaymentLinkData,\n        error: paymentLinkDataError,\n        refetch,\n    } = useFetch(\n        useMemo(\n            () => ({\n                fetchOptions: {\n                    enabled: !!id && !!getPayByLinkPaymentLinkById,\n                },\n                queryFn: async () => {\n                    return getPayByLinkPaymentLinkById!(EMPTY_OBJECT, {\n                        path: {\n                            paymentLinkId: id,\n                        },\n                    });\n                },\n            }),\n            [getPayByLinkPaymentLinkById, id]\n        )\n    );\n\n    const { data: countries, isFetching: isFetchingCountries } = useFetch({\n        queryFn: useCallback(async () => {\n            const fileName = `${i18n.locale ?? 'en-US'}`;\n            if (getCdnDataset) {\n                return (\n                    (await getCdnDataset<Array<{ id: string; name: string }>>({\n                        name: fileName,\n                        extension: 'json',\n                        subFolder: 'countries',\n                        fallback: [] as Array<{ id: string; name: string }>,\n                    })) ?? []\n                );\n            }\n            return [] as Array<{ id: string; name: string }>;\n        }, [getCdnDataset, i18n.locale]),\n    });\n\n    const getCountryName = useCallback(\n        (countryCode: string) => {\n            const country = countries?.find(country => country.id === countryCode);\n            return country?.name;\n        },\n        [countries]\n    );\n\n    const isFetching = isFetchingPaymentLinkData || isFetchingCountries;\n    const paymentLink = useMemo(\n        () =>\n            paymentLinkData && {\n                ...paymentLinkData,\n                shopperInformation: {\n                    ...paymentLinkData?.shopperInformation,\n                    shopperCountry:\n                        paymentLinkData?.shopperInformation?.shopperCountry && getCountryName(paymentLinkData?.shopperInformation.shopperCountry),\n                },\n            },\n        [paymentLinkData, getCountryName]\n    );\n    const [activeScreen, setActiveScreen] = useState<'details' | 'expirationConfirmation' | 'expirationSuccess'>('details');\n    const [isCopiedIndicatorVisible, setCopiedIndicatorVisible] = useState(false);\n\n    useEffect(() => {\n        let timeout: ReturnType<typeof setTimeout> | undefined;\n        if (isCopiedIndicatorVisible) {\n            timeout = setTimeout(() => setCopiedIndicatorVisible(false), 3000);\n        }\n\n        return () => clearTimeout(timeout);\n    }, [isCopiedIndicatorVisible]);\n\n    const handleCopyLink = useCallback(async () => {\n        if (!paymentLink) return;\n\n        try {\n            await navigator.clipboard.writeText(paymentLink.linkInformation.paymentLink);\n            setCopiedIndicatorVisible(true);\n        } catch (error) {\n            console.error('Failed to copy link:', error);\n        }\n    }, [paymentLink]);\n\n    const handleExpireNow = useCallback(() => {\n        setActiveScreen('expirationConfirmation');\n    }, []);\n\n    const handleExpirationSuccess = useCallback(() => {\n        setActiveScreen('expirationSuccess');\n        onUpdate?.();\n    }, [onUpdate]);\n\n    const handleNavigationToDetailsAfterExpiration = useCallback(() => {\n        setActiveScreen('details');\n        refetch();\n    }, [refetch]);\n\n    const handleNavigationToListAfterExpiration = useCallback(() => {\n        onDismiss?.();\n    }, [onDismiss]);\n\n    const { withinModal } = useModalContext();\n\n    const renderContent = useCallback(() => {\n        if (isFetching) {\n            return <PaymentLinkSkeleton />;\n        }\n\n        if (!paymentLink || paymentLinkDataError) {\n            return (\n                <PaymentLinkError\n                    error={paymentLinkDataError as AdyenPlatformExperienceError}\n                    onDismiss={onDismiss}\n                    onContactSupport={onContactSupport}\n                />\n            );\n        }\n\n        if (activeScreen === 'expirationConfirmation') {\n            return (\n                <PaymentLinkExpiration\n                    paymentLink={paymentLink}\n                    onCancel={() => setActiveScreen('details')}\n                    onExpirationSuccess={handleExpirationSuccess}\n                />\n            );\n        }\n\n        if (activeScreen === 'expirationSuccess') {\n            const actionButtons: ButtonActionsList = [\n                ...(onDismiss\n                    ? [\n                          {\n                              title: i18n.get('payByLink.details.expirationSuccess.actions.goBackToList'),\n                              event: handleNavigationToListAfterExpiration,\n                              variant: ButtonVariant.SECONDARY,\n                          },\n                      ]\n                    : []),\n                {\n                    title: i18n.get('payByLink.details.expirationSuccess.actions.showDetails'),\n                    event: handleNavigationToDetailsAfterExpiration,\n                    variant: ButtonVariant.SECONDARY,\n                },\n            ];\n            return (\n                <div className={CLASSNAMES.expirationSuccessContainer}>\n                    <Icon name=\"checkmark-circle-fill\" className={CLASSNAMES.expirationSuccessIcon} />\n                    <Typography variant={TypographyVariant.TITLE}>{i18n.get('payByLink.details.expirationSuccess.title')}</Typography>\n                    <Typography variant={TypographyVariant.BODY}>{i18n.get('payByLink.details.expirationSuccess.description')}</Typography>\n                    <ButtonActions actions={actionButtons} />\n                </div>\n            );\n        }\n\n        if (activeScreen === 'details') {\n            const actionButtons: ButtonActionsList = [\n                {\n                    title: i18n.get(isCopiedIndicatorVisible ? 'payByLink.details.actions.copied' : 'payByLink.details.actions.copyLink'),\n                    event: handleCopyLink,\n                    variant: ButtonVariant.PRIMARY,\n                    iconLeft: (\n                        <Icon\n                            className=\"adyen-pe-payment-link-creation-form-success__button-icon\"\n                            name={isCopiedIndicatorVisible ? 'checkmark' : 'copy'}\n                        />\n                    ),\n                },\n                ...(paymentLink.linkInformation.status !== 'expired' && paymentLink.linkInformation.status !== 'completed'\n                    ? [\n                          {\n                              title: i18n.get('payByLink.details.actions.expire'),\n                              event: handleExpireNow,\n                              variant: ButtonVariant.SECONDARY,\n                          },\n                      ]\n                    : []),\n                ...(!isDismissButtonHidden && onDismiss\n                    ? [\n                          {\n                              title: i18n.get('payByLink.common.actions.goBack'),\n                              event: onDismiss,\n                              variant: ButtonVariant.SECONDARY,\n                          },\n                      ]\n                    : []),\n            ];\n\n            return (\n                <>\n                    <PaymentLinkSummary paymentLink={paymentLink} />\n                    <PaymentLinkTabs paymentLink={paymentLink} />\n                    <ButtonActions actions={actionButtons} />\n                </>\n            );\n        }\n    }, [\n        isFetching,\n        paymentLink,\n        paymentLinkDataError,\n        activeScreen,\n        onDismiss,\n        onContactSupport,\n        handleExpirationSuccess,\n        i18n,\n        handleNavigationToListAfterExpiration,\n        handleNavigationToDetailsAfterExpiration,\n        isCopiedIndicatorVisible,\n        handleCopyLink,\n        handleExpireNow,\n        isDismissButtonHidden,\n    ]);\n\n    return (\n        <div className={CLASSNAMES.root}>\n            <div className={cx({ ['adyen-pe-visually-hidden']: activeScreen !== 'details' })}>\n                <Header hideTitle={hideTitle} forwardedToRoot={!withinModal} titleKey={'payByLink.details.title'} />\n            </div>\n            <div className={CLASSNAMES.content}>{renderContent()}</div>\n        </div>\n    );\n};\n","import { useCallback, useState } from 'preact/hooks';\nimport { FC, PropsWithChildren } from 'preact/compat';\nimport Modal from '../../../../internal/Modal';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport useModalDetails from '../../../../../hooks/useModalDetails';\nimport { PaymentLinkDetails } from '../../../PaymentLinkDetails/components/PaymentLinkDetails/PaymentLinkDetails';\n\nexport interface PaymentLinkDetailsModalProps {\n    onUpdate: () => void;\n    selectedDetail: ReturnType<typeof useModalDetails>['selectedDetail'];\n    resetDetails: ReturnType<typeof useModalDetails>['resetDetails'];\n}\n\nexport const PaymentLinkDetailsModal: FC<PaymentLinkDetailsModalProps> = ({\n    children,\n    selectedDetail,\n    resetDetails,\n    onUpdate,\n}: PropsWithChildren<PaymentLinkDetailsModalProps>) => {\n    const { i18n } = useCoreContext();\n    const [isPaymentLinkUpdated, setIsPaymentLinkUpdated] = useState(false);\n    const isModalOpen = !!selectedDetail;\n\n    const handleDismiss = useCallback(() => {\n        if (isPaymentLinkUpdated) {\n            setIsPaymentLinkUpdated(false);\n            onUpdate();\n        }\n        resetDetails();\n    }, [isPaymentLinkUpdated, onUpdate, resetDetails]);\n\n    const handlePaymentLinkUpdate = useCallback(() => {\n        setIsPaymentLinkUpdated(true);\n    }, []);\n\n    return (\n        <div>\n            {children}\n            {selectedDetail && (\n                <Modal\n                    isOpen={isModalOpen}\n                    aria-label={i18n.get('payByLink.details.title')}\n                    onClose={handleDismiss}\n                    isDismissible={true}\n                    headerWithBorder={false}\n                    size={selectedDetail.modalSize || 'large'}\n                >\n                    <PaymentLinkDetails\n                        id={selectedDetail.selection.data}\n                        onUpdate={handlePaymentLinkUpdate}\n                        onDismiss={handleDismiss}\n                        hideTitle\n                        isDismissButtonHidden\n                    />\n                </Modal>\n            )}\n        </div>\n    );\n};\n","import { forwardRef } from 'preact/compat';\nimport cx from 'classnames';\nimport { StepProps } from './types';\nimport Icon from '../Icon';\nimport Typography from '../Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../Typography/types';\n\nconst DefaultRenderStep = ({ completed, index }: { completed: boolean; index: number }) => {\n    if (completed) {\n        return <Icon name=\"checkmark-circle-fill\" />;\n    }\n    return <span className=\"adyen-pe-step__number\">{index + 1}</span>;\n};\n\nexport const Step = forwardRef<HTMLButtonElement, StepProps>(({ index, active, completed, disabled, onClick, children, totalSteps }, ref) => {\n    return (\n        <li\n            className={cx('adyen-pe-step__item', {\n                'adyen-pe-step--active': active,\n                'adyen-pe-step--completed': completed,\n                'adyen-pe-step--disabled': disabled,\n            })}\n        >\n            <button\n                aria-disabled={disabled}\n                aria-current={active ? 'step' : undefined}\n                tabIndex={active ? 0 : -1}\n                ref={ref}\n                type=\"button\"\n                className=\"adyen-pe-step__button\"\n                onClick={onClick}\n                disabled={disabled}\n            >\n                <div className=\"adyen-pe-step__icon\" aria-hidden=\"true\">\n                    <DefaultRenderStep completed={completed} index={index} />\n                </div>\n                <Typography variant={TypographyVariant.BODY} el={TypographyElement.SPAN} className=\"adyen-pe-step__label\">\n                    {children}\n                </Typography>\n            </button>\n        </li>\n    );\n});\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport cx from 'classnames';\nimport { InteractionKeyCode } from '../../types';\nimport { StepperProps } from './types';\nimport { Step } from './Step';\nimport './Stepper.scss';\n\nexport const Stepper = ({ activeIndex, onChange, variant = 'vertical', children, nextStepDisabled, ariaLabel }: StepperProps) => {\n    const [latestActiveStep, setLatestActiveStep] = useState(activeIndex);\n    const listRef = useRef<HTMLOListElement>(null);\n    const stepRefs = useRef<(HTMLButtonElement | null)[]>([]);\n    const [focusedStep, setFocusedStep] = useState(activeIndex);\n\n    const steps = useMemo(() => {\n        const childrenArray = Array.isArray(children) ? children : [children];\n        return childrenArray.filter(Boolean);\n    }, [children]);\n\n    const totalSteps = steps.length;\n    const isHorizontal = variant === 'horizontal';\n\n    useEffect(() => {\n        if (activeIndex > latestActiveStep) {\n            setLatestActiveStep(activeIndex);\n        }\n\n        // Scroll to active step if its out of view\n        const stepElement = stepRefs.current[activeIndex];\n        if (stepElement) {\n            stepElement.scrollIntoView({\n                block: 'nearest',\n                inline: 'nearest',\n                behavior: 'smooth',\n            });\n        }\n    }, [activeIndex, latestActiveStep]);\n\n    const canActivate = useCallback(\n        (nextIndex: number) => {\n            if (nextStepDisabled && nextIndex > latestActiveStep) return false;\n            return nextIndex <= latestActiveStep + 1;\n        },\n        [latestActiveStep, nextStepDisabled]\n    );\n\n    const handleStepClick = useCallback(\n        (stepIndex: number) => {\n            if (canActivate(stepIndex)) {\n                setFocusedStep(stepIndex);\n                onChange(stepIndex);\n            }\n        },\n        [canActivate, onChange]\n    );\n\n    const focusStep = useCallback((stepIndex: number) => {\n        setFocusedStep(stepIndex);\n        const stepElement = stepRefs.current[stepIndex];\n        if (stepElement) {\n            stepElement.focus();\n        }\n    }, []);\n\n    const focusNext = useCallback(() => {\n        const nextIndex = Math.min(focusedStep + 1, totalSteps - 1);\n        if (canActivate(nextIndex)) {\n            focusStep(nextIndex);\n        }\n    }, [canActivate, focusStep, focusedStep, totalSteps]);\n\n    const focusPrev = useCallback(() => {\n        const prevIndex = Math.max(focusedStep - 1, 0);\n        focusStep(prevIndex);\n    }, [focusStep, focusedStep]);\n\n    const activateFocused = useCallback(() => {\n        const focusedElement = document.activeElement as HTMLButtonElement;\n        const stepIndex = stepRefs.current.indexOf(focusedElement);\n        if (stepIndex !== -1 && canActivate(stepIndex)) {\n            onChange(stepIndex);\n        }\n    }, [canActivate, onChange]);\n\n    const handleKeyDown = useCallback(\n        (event: KeyboardEvent) => {\n            switch (event.code) {\n                case InteractionKeyCode.ARROW_RIGHT:\n                    if (isHorizontal) {\n                        event.preventDefault();\n                        focusNext();\n                    }\n                    break;\n                case InteractionKeyCode.ARROW_LEFT:\n                    if (isHorizontal) {\n                        event.preventDefault();\n                        focusPrev();\n                    }\n                    break;\n                case InteractionKeyCode.ARROW_DOWN:\n                    if (!isHorizontal) {\n                        event.preventDefault();\n                        focusNext();\n                    }\n                    break;\n                case InteractionKeyCode.ARROW_UP:\n                    if (!isHorizontal) {\n                        event.preventDefault();\n                        focusPrev();\n                    }\n                    break;\n                case InteractionKeyCode.TAB:\n                    setFocusedStep(activeIndex);\n                    break;\n                case InteractionKeyCode.ENTER:\n                case InteractionKeyCode.SPACE:\n                    event.preventDefault();\n                    activateFocused();\n                    break;\n            }\n        },\n        [isHorizontal, activeIndex, activateFocused, focusNext, focusPrev]\n    );\n\n    return (\n        <div className=\"adyen-pe-stepper\">\n            <ol\n                aria-label={ariaLabel}\n                ref={listRef}\n                role=\"toolbar\"\n                aria-orientation={variant}\n                className={cx('adyen-pe-stepper__list', {\n                    'adyen-pe-stepper__list--horizontal': isHorizontal,\n                })}\n                onKeyDown={handleKeyDown}\n            >\n                {steps.map((step, stepIndex) => (\n                    <Step\n                        totalSteps={totalSteps}\n                        key={stepIndex}\n                        index={stepIndex}\n                        active={stepIndex === activeIndex}\n                        completed={stepIndex < activeIndex}\n                        disabled={!canActivate(stepIndex)}\n                        onClick={() => handleStepClick(stepIndex)}\n                        ref={(el: HTMLButtonElement | null) => {\n                            if (el) {\n                                stepRefs.current[stepIndex] = el;\n                            }\n                        }}\n                    >\n                        {/* Warning: Nested children without a wrapper may cause the first element to be skipped.\n                        Use <></> or a plain <div> as a wrapper for multiple children elements. */}\n                        {step.props?.children || step}\n                    </Step>\n                ))}\n            </ol>\n        </div>\n    );\n};\n","import { createContext, ComponentChildren } from 'preact';\nimport { useContext } from 'preact/hooks';\nimport { WizardFormContextValue } from './types';\n\nconst WizardFormContext = createContext<WizardFormContextValue<any> | null>(null);\n\nexport function useWizardFormContext<TFieldValues>(): WizardFormContextValue<TFieldValues> {\n    const context = useContext(WizardFormContext);\n    if (!context) {\n        throw new Error('useWizardFormContext must be used within a WizardFormProvider');\n    }\n    return context as WizardFormContextValue<TFieldValues>;\n}\n\ninterface WizardFormProviderProps<TFieldValues> extends WizardFormContextValue<TFieldValues> {\n    children: ComponentChildren;\n}\n\nexport function WizardFormProvider<TFieldValues>({ children, ...methods }: WizardFormProviderProps<TFieldValues>) {\n    return <WizardFormContext.Provider value={methods as WizardFormContextValue<TFieldValues>}>{children}</WizardFormContext.Provider>;\n}\n\nexport { WizardFormContext };\n","import Localization, { TranslationKey } from '../../../core/Localization';\nimport { FieldValues } from '../../../hooks/form/types';\nimport { IPaymentLinkConfiguration, IPaymentLinkConfigurationElement } from '../../../types/api/models/payByLink';\nimport { PaymentLinkCreationFormValues } from './components/types';\n\ninterface FormFieldConfig {\n    fieldName: FieldValues<PaymentLinkCreationFormValues>;\n    required: boolean;\n    visible: boolean;\n    label?: TranslationKey;\n    options?: IPaymentLinkConfigurationElement['options'];\n}\n\nexport interface FormStepConfig {\n    id: string;\n    title?: string;\n    fields: FormFieldConfig[];\n    isOptional?: boolean;\n}\n\nexport const scrollToFirstErrorField = (errorFields: string[], visibilityOffset: number): void => {\n    const errorElements = errorFields.map(field => document.querySelector(`[name=\"${field}\"]`)).filter((el): el is Element => el !== null);\n\n    const firstElement = errorElements.sort((a, b) => {\n        const rectA = a.getBoundingClientRect();\n        const rectB = b.getBoundingClientRect();\n        return rectA.top - rectB.top;\n    })[0];\n\n    if (!firstElement) return;\n\n    const rect = firstElement.getBoundingClientRect();\n    const isInViewport = rect.top >= visibilityOffset && rect.bottom <= window.innerHeight;\n\n    if (!isInViewport) {\n        const top = Math.max(0, window.scrollY + rect.top - visibilityOffset);\n        window.scrollTo({ top, behavior: 'smooth' });\n    }\n};\n\nexport const getFormSteps = ({\n    i18n,\n    getFieldConfig,\n}: {\n    i18n: Localization['i18n'];\n    getFieldConfig: (field: keyof IPaymentLinkConfiguration) => IPaymentLinkConfigurationElement | undefined;\n}): ReadonlyArray<FormStepConfig> => [\n    {\n        id: 'store',\n        fields: [\n            {\n                fieldName: 'store',\n                required: true,\n                visible: true,\n                label: 'payByLink.creation.summary.fields.store',\n            },\n        ],\n        isOptional: false,\n    },\n    {\n        id: 'payment',\n        fields: [\n            {\n                fieldName: 'linkValidity.quantity',\n                required: !!getFieldConfig('linkValidity')?.required,\n                visible: !!getFieldConfig('linkValidity'),\n                label: 'payByLink.creation.summary.fields.linkValidity',\n            },\n            {\n                fieldName: 'linkValidity.durationUnit',\n                required: !!getFieldConfig('linkValidity')?.required,\n                visible: !!getFieldConfig('linkValidity'),\n            },\n            {\n                fieldName: 'amount.value',\n                required: !!getFieldConfig('amountValue')?.required,\n                visible: !!getFieldConfig('amountValue'),\n                label: 'payByLink.creation.summary.fields.amountValue',\n            },\n            {\n                fieldName: 'amount.currency',\n                required: !!getFieldConfig('currency')?.required,\n                visible: !!getFieldConfig('currency'),\n                label: 'payByLink.creation.summary.fields.currency',\n                options: getFieldConfig('currency')?.options,\n            },\n            {\n                fieldName: 'reference',\n                required: !!getFieldConfig('merchantReference')?.required,\n                visible: !!getFieldConfig('merchantReference'),\n                label: 'payByLink.creation.summary.fields.merchantReference',\n            },\n            {\n                fieldName: 'linkType',\n                required: !!getFieldConfig('linkType')?.required,\n                visible: !!getFieldConfig('linkType'),\n                label: 'payByLink.creation.summary.fields.linkType',\n            },\n            {\n                fieldName: 'description',\n                required: !!getFieldConfig('description')?.required,\n                visible: !!getFieldConfig('description'),\n                label: 'payByLink.creation.summary.fields.description',\n            },\n            {\n                fieldName: 'deliverAt',\n                required: !!getFieldConfig('deliveryDate')?.required,\n                visible: !!getFieldConfig('deliveryDate'),\n            },\n        ],\n        isOptional: false,\n    },\n    {\n        id: 'customer',\n        fields: [\n            {\n                fieldName: 'shopperReference',\n                required: !!getFieldConfig('shopperReference')?.required,\n                visible: !!getFieldConfig('shopperReference'),\n                label: 'payByLink.creation.summary.fields.shopperReference',\n            },\n            {\n                fieldName: 'shopperName.firstName',\n                required: !!getFieldConfig('shopperName')?.required,\n                visible: !!getFieldConfig('shopperName'),\n                label: 'payByLink.creation.summary.fields.shopperName',\n            },\n            {\n                fieldName: 'shopperName.lastName',\n                required: !!getFieldConfig('shopperName')?.required,\n                visible: !!getFieldConfig('shopperName'),\n                label: 'payByLink.creation.summary.fields.shopperLastName',\n            },\n            {\n                fieldName: 'shopperEmail',\n                required: !!getFieldConfig('emailAddress')?.required,\n                visible: !!getFieldConfig('emailAddress'),\n                label: 'payByLink.creation.summary.fields.emailAddress',\n            },\n            {\n                fieldName: 'sendSuccessEmailToShopper',\n                required: !!getFieldConfig('sendSuccessEmailToShopper')?.required,\n                visible: !!getFieldConfig('sendSuccessEmailToShopper'),\n            },\n            {\n                fieldName: 'sendLinkToShopper',\n                required: !!getFieldConfig('sendLinkToShopper')?.required,\n                visible: !!getFieldConfig('sendLinkToShopper'),\n                label: 'payByLink.creation.summary.fields.emailAddress',\n            },\n            {\n                fieldName: 'telephoneNumber',\n                required: !!getFieldConfig('phoneNumber')?.required,\n                visible: !!getFieldConfig('phoneNumber'),\n                label: 'payByLink.creation.summary.fields.phoneNumber',\n            },\n            {\n                fieldName: 'countryCode',\n                required: !!getFieldConfig('countryCode')?.required,\n                visible: !!getFieldConfig('countryCode'),\n                label: 'payByLink.creation.summary.fields.countryCode',\n                options: getFieldConfig('countryCode')?.options,\n            },\n            {\n                fieldName: 'deliveryAddress.street',\n                required: !!getFieldConfig('deliveryAddress')?.required,\n                visible: !!getFieldConfig('deliveryAddress'),\n                label: 'payByLink.creation.summary.fields.deliveryAddress.street',\n            },\n            {\n                fieldName: 'deliveryAddress.houseNumberOrName',\n                required: !!getFieldConfig('deliveryAddress')?.required,\n                visible: !!getFieldConfig('deliveryAddress'),\n                label: 'payByLink.creation.summary.fields.deliveryAddress.houseNumberOrName',\n            },\n            {\n                fieldName: 'deliveryAddress.postalCode',\n                required: !!getFieldConfig('deliveryAddress')?.required,\n                visible: !!getFieldConfig('deliveryAddress'),\n                label: 'payByLink.creation.summary.fields.deliveryAddress.postalCode',\n            },\n            {\n                fieldName: 'deliveryAddress.city',\n                required: !!getFieldConfig('deliveryAddress')?.required,\n                visible: !!getFieldConfig('deliveryAddress'),\n                label: 'payByLink.creation.summary.fields.deliveryAddress.city',\n            },\n            {\n                fieldName: 'deliveryAddress.country',\n                required: !!getFieldConfig('deliveryAddress')?.required,\n                visible: !!getFieldConfig('deliveryAddress'),\n                label: 'payByLink.creation.summary.fields.deliveryAddress.country',\n            },\n            {\n                fieldName: 'billingAddress.street',\n                required: !!getFieldConfig('billingAddress')?.required,\n                visible: !!getFieldConfig('billingAddress'),\n                label: 'payByLink.creation.summary.fields.billingAddress.street',\n            },\n            {\n                fieldName: 'billingAddress.houseNumberOrName',\n                required: !!getFieldConfig('billingAddress')?.required,\n                visible: !!getFieldConfig('billingAddress'),\n                label: 'payByLink.creation.summary.fields.billingAddress.houseNumberOrName',\n            },\n            {\n                fieldName: 'billingAddress.postalCode',\n                required: !!getFieldConfig('billingAddress')?.required,\n                visible: !!getFieldConfig('billingAddress'),\n                label: 'payByLink.creation.summary.fields.billingAddress.postalCode',\n            },\n            {\n                fieldName: 'billingAddress.city',\n                required: !!getFieldConfig('billingAddress')?.required,\n                visible: !!getFieldConfig('billingAddress'),\n                label: 'payByLink.creation.summary.fields.billingAddress.city',\n            },\n            {\n                fieldName: 'billingAddress.country',\n                required: !!getFieldConfig('billingAddress')?.required,\n                visible: !!getFieldConfig('billingAddress'),\n                label: 'payByLink.creation.summary.fields.billingAddress.country',\n            },\n            {\n                fieldName: 'shopperLocale',\n                required: !!getFieldConfig('shopperLocale')?.required,\n                visible: !!getFieldConfig('shopperLocale'),\n                options: getFieldConfig('shopperLocale')?.options,\n            },\n        ],\n        isOptional: false,\n    },\n    {\n        id: 'summary',\n        title: i18n.get('payByLink.creation.form.steps.customer'),\n        fields: [],\n        isOptional: true,\n    },\n];\n","import { useRef, useCallback } from 'preact/hooks';\nimport { UseFormOptions, UseFormReturn, InternalFormControl, FormState, FieldValue, FieldError, ValidationRules, FieldValues } from './types';\nimport Localization from '../../core/Localization';\n\nexport function getNestedValue(obj: any, path: string): any {\n    const keys = path.split('.');\n    let result = obj;\n    for (const key of keys) {\n        if (result == null) return undefined;\n        result = result[key];\n    }\n    return result;\n}\n\nexport function setNestedValue(obj: any, path: string, value: any): void {\n    if (!path) {\n        return;\n    }\n    const keys = path.split('.');\n    const lastKey = keys.pop()!;\n    let current = obj;\n    for (let i = 0; i < keys.length; i++) {\n        const key = keys[i]!;\n        if (typeof current[key] !== 'object' || current[key] === null) {\n            const nextKey = keys[i + 1];\n            // Create an array if the next key is a number, otherwise an object\n            current[key] = nextKey !== undefined && /^\\d+$/.test(nextKey) ? [] : {};\n        }\n        current = current[key];\n    }\n    current[lastKey] = value;\n}\n\nfunction purgeEmptyValues<T>(obj: T): T {\n    if (obj === null || obj === undefined) return obj;\n    if (typeof obj !== 'object') return obj;\n    if (Array.isArray(obj)) return obj.filter(item => item !== '' && item !== null) as T;\n\n    const result: Record<string, any> = {};\n    for (const [key, value] of Object.entries(obj)) {\n        if (value === '' || value === null || value === undefined) continue;\n        if (typeof value === 'object' && !Array.isArray(value)) {\n            const cleaned = purgeEmptyValues(value);\n            if (Object.keys(cleaned as object).length > 0) {\n                result[key] = cleaned;\n            }\n        } else {\n            result[key] = value;\n        }\n    }\n    return result as T;\n}\n\nfunction flattenObject(obj: any, prefix = ''): Record<string, any> {\n    const result: Record<string, any> = {};\n\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n            const value = obj[key];\n            const newKey = prefix ? `${prefix}.${key}` : key;\n\n            if (\n                value &&\n                typeof value === 'object' &&\n                !Array.isArray(value) &&\n                !(value instanceof Date) &&\n                !(value instanceof File) &&\n                !(value instanceof FileList)\n            ) {\n                // Recursively flatten nested objects\n                Object.assign(result, flattenObject(value, newKey));\n            } else {\n                result[newKey] = value;\n            }\n        }\n    }\n\n    return result;\n}\n\nasync function validateField(value: FieldValue, rules: ValidationRules | undefined, i18n: Localization['i18n']): Promise<FieldError> {\n    if (!rules) return undefined;\n\n    if (rules.required) {\n        const isEmpty = value == null || value === '' || (Array.isArray(value) && value.length === 0);\n        if (isEmpty) {\n            const message = typeof rules.required === 'string' ? rules.required : i18n.get('common.errors.fieldRequired');\n            return { type: 'required', message };\n        }\n    }\n\n    if (rules.validate) {\n        try {\n            const result = await rules.validate(value);\n            if (!result.valid) {\n                return { message: result.message, type: 'validation' };\n            }\n        } catch (error) {\n            console.error('A custom validation function threw an error:', error);\n            return { type: 'validation', message: 'Validation error occurred' };\n        }\n    }\n\n    return undefined;\n}\n\nexport function useForm<TFieldValues>(options: UseFormOptions<TFieldValues>): UseFormReturn<TFieldValues> {\n    const { defaultValues = {} as Partial<TFieldValues>, i18n } = options;\n\n    const controlRef = useRef<InternalFormControl<TFieldValues>>();\n\n    if (!controlRef.current) {\n        const control: InternalFormControl<TFieldValues> = {\n            _values: new Map(),\n            _errors: new Map(),\n            _touched: new Map(),\n            _dirty: new Map(),\n            _subscribers: new Set(),\n            _validationCounters: new Map(),\n            _fieldRules: new Map(),\n            _options: options,\n            _defaultValues: defaultValues,\n            _isSubmitting: false,\n            _computedErrors: {},\n            _computedTouchedFields: {},\n            _computedDirtyFields: {},\n            subscribe: (callback: () => void) => {\n                control._subscribers.add(callback);\n                return () => control._subscribers.delete(callback);\n            },\n            notify: () => {\n                control._subscribers.forEach(cb => cb());\n            },\n            setValue: (\n                name: FieldValues<TFieldValues>,\n                value: FieldValue,\n                options?: { shouldValidate?: boolean; shouldDirty?: boolean; shouldTouch?: boolean }\n            ) => {\n                const defaultValue = getNestedValue(control._defaultValues, name as string);\n                const isDirty = value !== defaultValue;\n\n                control._values.set(name, value);\n\n                if (options?.shouldDirty !== false) {\n                    control._dirty.set(name, isDirty);\n                    if (isDirty) {\n                        control._computedDirtyFields[name] = true;\n                    } else {\n                        delete control._computedDirtyFields[name];\n                    }\n                }\n\n                if (options?.shouldTouch) {\n                    control._touched.set(name, true);\n                    control._computedTouchedFields[name] = true;\n                }\n\n                const modeToUse = control._options.mode || 'onBlur';\n                if (options?.shouldValidate !== false && (modeToUse === 'onInput' || modeToUse === 'all' || options?.shouldValidate)) {\n                    void validateFieldWithRaceConditionHandling({ control, name, value, rules: control._fieldRules.get(name), i18n });\n                }\n\n                control.notify();\n            },\n            setTouched: (name: FieldValues<TFieldValues>, touched: boolean) => {\n                control._touched.set(name, touched);\n                if (touched) {\n                    control._computedTouchedFields[name] = true;\n                } else {\n                    delete control._computedTouchedFields[name];\n                }\n                control.notify();\n            },\n            getValue: (name: FieldValues<TFieldValues>) => {\n                return control._values.get(name);\n            },\n            getFieldState: (name: FieldValues<TFieldValues>) => {\n                return {\n                    error: control._errors.get(name),\n                    isTouched: control._touched.get(name) || false,\n                    isDirty: control._dirty.get(name) || false,\n                };\n            },\n            getFormState: () => {\n                const hasErrors = Object.keys(control._computedErrors).length > 0;\n                const isValid = !hasErrors && !control._isSubmitting;\n                return {\n                    dirtyFields: control._computedDirtyFields,\n                    touchedFields: control._computedTouchedFields,\n                    isSubmitting: control._isSubmitting,\n                    isValid,\n                    errors: control._computedErrors,\n                } as FormState<TFieldValues>;\n            },\n            register: (name: FieldValues<TFieldValues>, rules: ValidationRules) => {\n                control._fieldRules.set(name, rules);\n                return () => {\n                    control._fieldRules.delete(name);\n                    control._validationCounters.delete(name);\n                };\n            },\n            trigger: async (name?: FieldValues<TFieldValues> | FieldValues<TFieldValues>[]) => {\n                const fieldsToValidate = name ? (Array.isArray(name) ? name : [name]) : Array.from(control._values.keys());\n\n                let hasTouchedChanged = false;\n                fieldsToValidate.forEach(fieldName => {\n                    if (!control._touched.has(fieldName)) {\n                        control._touched.set(fieldName, true);\n                        control._computedTouchedFields[fieldName as FieldValues<TFieldValues>] = true;\n                        hasTouchedChanged = true;\n                    }\n                });\n\n                if (hasTouchedChanged) {\n                    control.notify();\n                }\n\n                const validationPromises = fieldsToValidate.map(async fieldName => {\n                    const value = control._values.get(fieldName)!;\n                    const rules = control._fieldRules.get(fieldName);\n\n                    if (rules) {\n                        await validateFieldWithRaceConditionHandling({ control, name: fieldName, value, rules, i18n });\n                    }\n\n                    return !control._errors.has(fieldName);\n                });\n\n                const results = await Promise.all(validationPromises);\n                return results.every(result => result);\n            },\n        };\n\n        // Flatten defaultValues to support nested objects\n        const flattenedDefaults = flattenObject(defaultValues);\n        Object.entries(flattenedDefaults).forEach(([key, value]) => {\n            control._values.set(key as FieldValues<TFieldValues>, value);\n        });\n\n        controlRef.current = control;\n    }\n\n    const control = controlRef.current;\n\n    const errors = control._computedErrors;\n    const dirtyFields = control._computedDirtyFields;\n    const touchedFields = control._computedTouchedFields;\n\n    const hasErrors = Object.keys(errors).length > 0;\n    const isValid = !hasErrors && !control._isSubmitting;\n\n    const formState: FormState<TFieldValues> = {\n        dirtyFields,\n        touchedFields,\n        isSubmitting: control._isSubmitting,\n        isValid,\n        errors,\n    };\n\n    const setValue = useCallback(\n        (\n            name: FieldValues<TFieldValues>,\n            value: FieldValue,\n            options?: { shouldValidate?: boolean; shouldDirty?: boolean; shouldTouch?: boolean }\n        ) => {\n            control.setValue(name, value, options);\n        },\n        [control]\n    );\n\n    const getValues = useCallback(\n        (name?: FieldValues<TFieldValues>): any => {\n            if (name) {\n                return control._values.get(name);\n            }\n\n            const values = {} as TFieldValues;\n            control._values.forEach((value, key) => {\n                setNestedValue(values, key as string, value);\n            });\n            return values;\n        },\n        [control]\n    );\n\n    const reset = useCallback(\n        (values?: Partial<TFieldValues>) => {\n            const resetValues = values || control._defaultValues;\n\n            // If custom values provided, update defaultValues so dirty checks compare to new baseline\n            if (values) {\n                control._defaultValues = values;\n            }\n\n            control._values.clear();\n            control._errors.clear();\n            control._touched.clear();\n            control._dirty.clear();\n            control._validationCounters.clear();\n\n            // Clear computed state objects\n            control._computedErrors = {};\n            control._computedTouchedFields = {};\n            control._computedDirtyFields = {};\n\n            // Flatten resetValues to support nested objects\n            const flattenedResetValues = flattenObject(resetValues);\n            Object.entries(flattenedResetValues).forEach(([key, value]) => {\n                control._values.set(key as FieldValues<TFieldValues>, value);\n            });\n\n            control._isSubmitting = false;\n            control.notify();\n        },\n        [control]\n    );\n\n    const trigger = useCallback(\n        async (name?: FieldValues<TFieldValues> | FieldValues<TFieldValues>[]): Promise<boolean> => {\n            return control.trigger(name);\n        },\n        [control]\n    );\n\n    const handleSubmit = useCallback(\n        (onValid: (data: TFieldValues) => void | Promise<void>, onInvalid?: (errors: Record<string, FieldError>) => void) => {\n            return async (e?: Event) => {\n                if (e && e.preventDefault) {\n                    e.preventDefault();\n                }\n\n                control._isSubmitting = true;\n                control.notify();\n\n                try {\n                    // Trigger validation for all fields\n                    const isValid = await trigger();\n\n                    if (isValid) {\n                        const data = purgeEmptyValues(getValues());\n                        await onValid(data);\n                    } else if (onInvalid) {\n                        onInvalid(control._computedErrors);\n                    }\n                } finally {\n                    control._isSubmitting = false;\n                    control.notify();\n                }\n            };\n        },\n        [control, trigger, getValues]\n    );\n\n    return {\n        control,\n        handleSubmit,\n        setValue,\n        getValues,\n        reset,\n        formState,\n        trigger,\n    };\n}\n\nexport async function validateFieldWithRaceConditionHandling<TFieldValues>({\n    control,\n    i18n,\n    name,\n    value,\n    rules,\n}: {\n    control: InternalFormControl<TFieldValues>;\n    i18n: Localization['i18n'];\n    name: FieldValues<TFieldValues>;\n    value: FieldValue;\n    rules?: ValidationRules;\n}): Promise<void> {\n    const currentCounter = (control._validationCounters.get(name) || 0) + 1;\n    control._validationCounters.set(name, currentCounter);\n\n    try {\n        const error = await validateField(value, rules, i18n);\n\n        if (control._validationCounters.get(name) === currentCounter) {\n            if (error) {\n                control._errors.set(name, error);\n                control._computedErrors[name] = error;\n            } else {\n                control._errors.delete(name);\n                delete control._computedErrors[name];\n            }\n            control.notify();\n        }\n    } catch (err) {\n        if (control._validationCounters.get(name) === currentCounter) {\n            const errorObj = { type: 'validation', message: 'Validation error' } as const;\n            control._errors.set(name, errorObj);\n            control._computedErrors[name] = errorObj;\n            control.notify();\n        }\n    }\n}\n","import { useReducer, useCallback, useMemo } from 'preact/hooks';\nimport { getNestedValue, useForm } from '../useForm';\nimport { UseWizardFormOptions, UseWizardFormReturn, WizardState, WizardAction, WizardStep, WizardSummaryData } from './types';\nimport { FieldValues } from '../types';\n\nfunction wizardReducer(state: WizardState, action: WizardAction): WizardState {\n    switch (action.type) {\n        case 'SET_STEP':\n            return {\n                ...state,\n                currentStep: action.payload.step,\n                visitedSteps: new Set([...state.visitedSteps, action.payload.step]),\n            };\n\n        case 'NEXT_STEP': {\n            const nextStep = state.currentStep + 1;\n            return {\n                ...state,\n                currentStep: nextStep,\n                visitedSteps: new Set([...state.visitedSteps, nextStep]),\n                completedSteps: new Set([...state.completedSteps, state.currentStep]),\n            };\n        }\n\n        case 'PREVIOUS_STEP':\n            return {\n                ...state,\n                currentStep: Math.max(0, state.currentStep - 1),\n            };\n\n        case 'MARK_STEP_COMPLETED':\n            return {\n                ...state,\n                completedSteps: new Set([...state.completedSteps, action.payload.step]),\n            };\n\n        case 'MARK_STEP_VISITED':\n            return {\n                ...state,\n                visitedSteps: new Set([...state.visitedSteps, action.payload.step]),\n            };\n\n        case 'SET_STEP_VALIDATION': {\n            const newValidation = new Map(state.stepValidation);\n            newValidation.set(action.payload.step, action.payload.isValid);\n            return {\n                ...state,\n                stepValidation: newValidation,\n            };\n        }\n\n        case 'SET_TRANSITIONING':\n            return {\n                ...state,\n                isTransitioning: action.payload,\n            };\n\n        case 'RESET_WIZARD':\n            return {\n                currentStep: 0,\n                completedSteps: new Set(),\n                visitedSteps: new Set([0]),\n                stepValidation: new Map(),\n                isTransitioning: false,\n                displayValues: new Map(),\n            };\n\n        case 'SET_DISPLAY_VALUE': {\n            const next = new Map(state.displayValues);\n            const { field, displayValue } = action.payload;\n            if (displayValue === undefined) {\n                next.delete(field);\n            } else {\n                next.set(field, displayValue);\n            }\n            return { ...state, displayValues: next };\n        }\n\n        case 'RESET_DISPLAY_VALUES':\n            return { ...state, displayValues: new Map() };\n\n        default:\n            return state;\n    }\n}\n\nexport function useWizardForm<TFieldValues>(options: UseWizardFormOptions<TFieldValues>): UseWizardFormReturn<TFieldValues> {\n    const { i18n, steps, defaultValues, mode = 'onBlur', onStepChange, validateBeforeNext = true } = options;\n\n    const [wizardState, dispatch] = useReducer(wizardReducer, {\n        currentStep: 0,\n        completedSteps: new Set<number>(),\n        visitedSteps: new Set<number>([0]),\n        stepValidation: new Map<number, boolean>(),\n        isTransitioning: false,\n        displayValues: new Map<string, string>(),\n    });\n\n    const form = useForm<TFieldValues>({\n        defaultValues,\n        i18n,\n        mode,\n    });\n\n    const { trigger, getValues } = form;\n\n    const totalSteps = steps.length;\n    const currentStepConfig = steps[wizardState.currentStep]!;\n    const isFirstStep = wizardState.currentStep === 0;\n    const isLastStep = wizardState.currentStep === totalSteps - 1;\n    const canGoPrevious = !isFirstStep && !wizardState.isTransitioning;\n    const canGoNext = !isLastStep && !wizardState.isTransitioning;\n    const fieldsConfig: Record<FieldValues<TFieldValues>, WizardStep<TFieldValues>['fields'][number]> = useMemo(() => {\n        return steps\n            .flatMap(step => step.fields)\n            .reduce(\n                (prev, currentValue) => ({ ...prev, [currentValue.fieldName]: currentValue }),\n                {} as Record<FieldValues<TFieldValues>, WizardStep<TFieldValues>['fields'][number]>\n            );\n    }, [steps]);\n\n    const validateStep = useCallback(\n        async (stepIndex: number): Promise<boolean> => {\n            const step = steps[stepIndex];\n            if (!step) return false;\n\n            // Skip validation for optional steps if no fields are filled\n            if (step.isOptional) {\n                const values = getValues();\n                const hasValues = step.fields.some(({ fieldName }) => {\n                    const value = getNestedValue(values, fieldName as string);\n                    return value !== undefined && value !== '' && value !== null;\n                });\n                if (!hasValues) return true;\n            }\n\n            // Trigger validation for all fields in this step\n            const enabledFieldNames = step.fields.filter(({ visible }) => visible).map(({ fieldName }) => fieldName);\n            const validationResults = await trigger(enabledFieldNames);\n\n            // Run custom step validation if provided\n            if (validationResults && step.validate) {\n                const values = getValues();\n                const customValid = await step.validate(values);\n                return customValid;\n            }\n\n            return validationResults;\n        },\n        [steps, getValues, trigger]\n    );\n\n    const validateCurrentStep = useCallback(async (): Promise<boolean> => {\n        const isValid = await validateStep(wizardState.currentStep);\n        dispatch({\n            type: 'SET_STEP_VALIDATION',\n            payload: { step: wizardState.currentStep, isValid },\n        });\n        return isValid;\n    }, [wizardState.currentStep, validateStep]);\n\n    const isStepValid = useCallback(\n        (stepIndex: number): boolean => {\n            return wizardState.stepValidation.get(stepIndex) ?? false;\n        },\n        [wizardState.stepValidation]\n    );\n\n    const isStepComplete = useCallback(\n        (stepIndex: number): boolean => {\n            return wizardState.completedSteps.has(stepIndex);\n        },\n        [wizardState.completedSteps]\n    );\n\n    const goToStep = useCallback(\n        async (stepIndex: number, options?: { skipValidation?: boolean }): Promise<boolean> => {\n            if (stepIndex < 0 || stepIndex >= totalSteps) {\n                throw new Error(`Invalid step index: ${stepIndex}`);\n            }\n\n            if (!options?.skipValidation && validateBeforeNext && stepIndex > wizardState.currentStep) {\n                dispatch({ type: 'SET_TRANSITIONING', payload: true });\n\n                try {\n                    const isValid = await validateCurrentStep();\n                    if (!isValid) {\n                        dispatch({ type: 'SET_TRANSITIONING', payload: false });\n                        return false;\n                    }\n\n                    dispatch({ type: 'MARK_STEP_COMPLETED', payload: { step: wizardState.currentStep } });\n                } catch (error) {\n                    dispatch({ type: 'SET_TRANSITIONING', payload: false });\n                    console.error('Wizard step validation failed:', error);\n                    return false;\n                }\n            }\n\n            const previousStep = wizardState.currentStep;\n            dispatch({ type: 'SET_STEP', payload: { step: stepIndex } });\n            dispatch({ type: 'SET_TRANSITIONING', payload: false });\n\n            if (onStepChange) {\n                onStepChange(stepIndex, previousStep);\n            }\n\n            return true;\n        },\n        [totalSteps, validateBeforeNext, wizardState.currentStep, validateCurrentStep, onStepChange]\n    );\n\n    const nextStep = useCallback(async (): Promise<boolean> => {\n        if (!canGoNext) return false;\n\n        dispatch({ type: 'SET_TRANSITIONING', payload: true });\n\n        if (validateBeforeNext) {\n            try {\n                const isValid = await validateCurrentStep();\n                if (!isValid) {\n                    dispatch({ type: 'SET_TRANSITIONING', payload: false });\n                    return false;\n                }\n            } catch (error) {\n                console.error('Wizard step validation failed on nextStep:', error);\n                dispatch({ type: 'SET_TRANSITIONING', payload: false });\n                return false;\n            }\n        }\n\n        const previousStep = wizardState.currentStep;\n        dispatch({ type: 'NEXT_STEP' });\n        dispatch({ type: 'SET_TRANSITIONING', payload: false });\n\n        if (onStepChange) {\n            onStepChange(previousStep + 1, previousStep);\n        }\n\n        return true;\n    }, [canGoNext, validateBeforeNext, validateCurrentStep, wizardState.currentStep, onStepChange]);\n\n    const previousStep = useCallback((): void => {\n        if (!canGoPrevious) return;\n\n        const previousStepIndex = wizardState.currentStep;\n        dispatch({ type: 'PREVIOUS_STEP' });\n\n        if (onStepChange) {\n            onStepChange(previousStepIndex - 1, previousStepIndex);\n        }\n    }, [canGoPrevious, wizardState.currentStep, onStepChange]);\n\n    const resetWizard = useCallback((): void => {\n        dispatch({ type: 'RESET_WIZARD' });\n    }, []);\n\n    const setFieldDisplayValue = useCallback((name: FieldValues<TFieldValues>, displayValue?: string): void => {\n        dispatch({ type: 'SET_DISPLAY_VALUE', payload: { field: name, displayValue } });\n    }, []);\n\n    const resetFieldDisplayValues = useCallback((): void => {\n        dispatch({ type: 'RESET_DISPLAY_VALUES' });\n    }, []);\n\n    const getSummaryData = useCallback((): WizardSummaryData<TFieldValues> => {\n        const values = getValues();\n        const summary: WizardSummaryData<TFieldValues> = {};\n\n        steps.forEach(step => {\n            const stepFields = step.fields\n                .filter(field => field.visible !== false)\n                .map(field => ({\n                    label: field.label,\n                    value: getNestedValue(values, field.fieldName as string),\n                    id: field.fieldName,\n                    displayValue: wizardState.displayValues.get(field.fieldName as string),\n                }))\n                .filter(field => field.value !== undefined && field.value !== null && field.value !== '');\n\n            if (stepFields.length > 0) {\n                summary[step.id] = {\n                    title: step.title,\n                    fields: stepFields,\n                };\n            }\n        });\n\n        return summary;\n    }, [steps, getValues, wizardState.displayValues]);\n\n    const getDisplayValue = useCallback(\n        (name: FieldValues<TFieldValues>): string | undefined => {\n            return wizardState.displayValues.get(name);\n        },\n        [wizardState.displayValues]\n    );\n\n    return {\n        ...form,\n        // Wizard state\n        currentStep: wizardState.currentStep,\n        currentStepConfig,\n        isFirstStep,\n        isLastStep,\n        canGoNext,\n        canGoPrevious,\n        fieldsConfig,\n\n        // Navigation methods\n        goToStep,\n        nextStep,\n        previousStep,\n        resetWizard,\n\n        // Validation methods\n        validateStep,\n        isStepValid,\n        isStepComplete,\n\n        // Summary data\n        getSummaryData,\n\n        // Display values\n        getDisplayValue,\n        setFieldDisplayValue,\n        resetFieldDisplayValues,\n    };\n}\n","import { useCallback, useEffect, useMemo, useState } from 'preact/hooks';\nimport { useFetch } from '../../../../../hooks/useFetch';\nimport { useConfigContext } from '../../../../../core/ConfigContext';\nimport { EMPTY_OBJECT } from '../../../../../utils';\nimport { IPaymentLinkStore, IPaymentLinkConfiguration } from '../../../../../types/api/models/payByLink';\nimport { getFormSteps } from '../../utils';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { TranslationKey } from '../../../../../translations';\nimport { useWizardForm } from '../../../../../hooks/form/wizard/useWizardForm';\nimport { PaymentLinkCreationFormValues } from '../types';\nimport { DeepPartial } from '../../../../types';\nimport { StoreIds } from '../../../PaymentLinksOverview/types';\n\ntype UsePaymentLinkFormDataProps = {\n    storeIds?: StoreIds;\n    defaultValues?: DeepPartial<PaymentLinkCreationFormValues>;\n};\n\nexport const usePaymentLinkFormData = ({ storeIds, defaultValues }: UsePaymentLinkFormDataProps) => {\n    const [selectedStore, setSelectedStore] = useState<string>('');\n    const { i18n, getCdnDataset } = useCoreContext();\n    const {\n        countries: getCountries,\n        getPayByLinkConfiguration,\n        createPBLPaymentLink,\n        getPayByLinkSettings,\n        getPayByLinkStores,\n    } = useConfigContext().endpoints;\n\n    // Stores query\n    const { data: storesData, isFetching: isFetchingStores } = useFetch({\n        fetchOptions: { enabled: !!getPayByLinkStores },\n        queryFn: useCallback(async () => {\n            return getPayByLinkStores?.(EMPTY_OBJECT, {});\n        }, [getPayByLinkStores]),\n    });\n\n    const storesSelectorItems = useMemo(() => {\n        const stores: IPaymentLinkStore[] = storesData?.data ?? [];\n        return stores\n            .filter(({ storeId }) => {\n                if (!storeIds) {\n                    return true;\n                }\n                if (Array.isArray(storeIds) && storeId) {\n                    return storeIds.includes(storeId);\n                }\n                return storeIds === storeId;\n            })\n            .map(({ storeCode, storeId }) => ({\n                id: storeId || '',\n                name: storeCode || '',\n            }));\n    }, [storesData, storeIds]);\n\n    // Configuration query (depends on selected store)\n    const {\n        data: configurationData,\n        isFetching: isFetchingConfiguration,\n        error: configurationError,\n    } = useFetch({\n        fetchOptions: { enabled: !!getPayByLinkConfiguration && !!selectedStore },\n        queryFn: useCallback(async () => {\n            return getPayByLinkConfiguration?.(EMPTY_OBJECT, { path: { storeId: selectedStore } });\n        }, [getPayByLinkConfiguration, selectedStore]),\n    });\n\n    // Settings query (depends on selected store)\n    const {\n        data: settingsData,\n        isFetching: isFetchingSettings,\n        error: settingsError,\n    } = useFetch({\n        fetchOptions: { enabled: !!getPayByLinkSettings && !!selectedStore },\n        queryFn: useCallback(async () => {\n            return getPayByLinkSettings?.(EMPTY_OBJECT, { path: { storeId: selectedStore } });\n        }, [getPayByLinkSettings, selectedStore]),\n    });\n\n    const termsAndConditionsProvisioned = useMemo(() => {\n        return !!settingsData?.termsOfServiceUrl;\n    }, [settingsData?.termsOfServiceUrl]);\n\n    const getFieldConfig = useCallback(\n        (field: keyof IPaymentLinkConfiguration) => {\n            return configurationData?.[field];\n        },\n        [configurationData]\n    );\n\n    const isCountriesQueryEnabled = useMemo(() => {\n        return Boolean(getFieldConfig('deliveryAddress') || getFieldConfig('billingAddress') || getFieldConfig('countryCode'));\n    }, [getFieldConfig('deliveryAddress'), getFieldConfig('billingAddress'), getFieldConfig('countryCode')]);\n\n    const { data: countriesData, isFetching: isFetchingCountries } = useFetch({\n        fetchOptions: { enabled: isCountriesQueryEnabled && !!getCountries },\n        queryFn: useCallback(async () => {\n            return getCountries?.(EMPTY_OBJECT);\n        }, [getCountries]),\n    });\n\n    const { data: countryDatasetData, isFetching: isFetchingCountryDataset } = useFetch({\n        fetchOptions: { enabled: isCountriesQueryEnabled },\n        queryFn: useCallback(async () => {\n            const fileName = `${i18n.locale ?? 'en-US'}`;\n            if (getCdnDataset) {\n                return (\n                    (await getCdnDataset<Array<{ id: string; name: string }>>({\n                        name: fileName,\n                        extension: 'json',\n                        subFolder: 'countries',\n                        fallback: [] as Array<{ id: string; name: string }>,\n                    })) ?? []\n                );\n            }\n            return [] as Array<{ id: string; name: string }>;\n        }, [getCdnDataset, i18n.locale, isCountriesQueryEnabled]),\n    });\n\n    // Form steps configuration\n    const formSteps = useMemo(() => {\n        const skipStoreStep = storesSelectorItems.length === 1 && termsAndConditionsProvisioned;\n        return getFormSteps({ i18n, getFieldConfig }).filter(step => !(step.id === 'store' && skipStoreStep));\n    }, [getFieldConfig, i18n, storesSelectorItems, termsAndConditionsProvisioned]);\n\n    const stepperItems = useMemo(() => {\n        return formSteps.map(step => ({\n            id: step.id,\n            label: i18n.get(`payByLink.creation.form.steps.${step.id}` as TranslationKey),\n        }));\n    }, [formSteps, i18n]);\n\n    const formStepsAriaLabel = useMemo(() => i18n.get('payByLink.creation.steps.a11y.label'), [i18n]);\n\n    // Wizard form setup\n    const wizardForm = useWizardForm<PaymentLinkCreationFormValues>({\n        i18n,\n        steps: formSteps,\n        defaultValues: {\n            ...defaultValues,\n            billingAddress: defaultValues?.billingAddress || defaultValues?.deliveryAddress || {},\n            store: selectedStore || defaultValues?.store || '',\n        } as Partial<PaymentLinkCreationFormValues>,\n        mode: 'all',\n        validateBeforeNext: true,\n    });\n\n    // Auto-select store when only one is available\n    useEffect(() => {\n        if (storesSelectorItems.length === 1) {\n            wizardForm.setValue('store', storesSelectorItems[0]?.id);\n            wizardForm.setFieldDisplayValue('store', storesSelectorItems[0]?.name);\n        }\n    }, [storesSelectorItems]);\n\n    // Sync selected store with form value\n    useEffect(() => {\n        const unsubscribe = wizardForm.control.subscribe(() => {\n            const storeValue = wizardForm.control.getValue('store');\n            if (storeValue && storeValue !== selectedStore) {\n                setSelectedStore(storeValue);\n            }\n        });\n        return unsubscribe;\n    }, [wizardForm.control, selectedStore]);\n\n    const isDataLoading = isFetchingConfiguration || isFetchingSettings || isFetchingStores;\n    const shouldSkipStoreSelection = storesSelectorItems.length === 1;\n    const isConfigReady = !isDataLoading && (configurationData || configurationError);\n    const isSettingReady = !isDataLoading && (settingsData || settingsError);\n\n    const isFirstLoadDone = Boolean(!isFetchingStores && (!shouldSkipStoreSelection || (isConfigReady && isSettingReady)));\n\n    return {\n        // Query data\n        storesData,\n        configurationData,\n        settingsData,\n        // Store data\n        selectedStore,\n        storesSelectorItems,\n        termsAndConditionsProvisioned,\n        // Countries data\n        countriesData,\n        isFetchingCountries,\n        // Countries dataset\n        countryDatasetData,\n        isFetchingCountryDataset,\n        // Form steps\n        formSteps,\n        stepperItems,\n        formStepsAriaLabel,\n        // Wizard form\n        wizardForm,\n        // Endpoints\n        createPaymentLink: createPBLPaymentLink,\n        // Loading state\n        isDataLoading,\n        isFirstLoadDone,\n        setSelectedStore,\n    };\n};\n","import { PropsWithChildren } from 'preact/compat';\nimport useCoreContext from '../../../core/Context/useCoreContext';\nimport Typography from '../Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../Typography/types';\nimport cx from 'classnames';\n\nconst FormField = ({\n    label,\n    optional,\n    supportText,\n    children,\n    className,\n}: PropsWithChildren<{ label: string; optional: boolean; supportText?: string; className?: string }>) => {\n    const { i18n } = useCoreContext();\n\n    return (\n        <div className={cx('adyen-pe-payment-link-creation-form__field-container', className)}>\n            <div className=\"adyen-pe-payment-link-creation-form__field-label-container\">\n                <Typography\n                    el={TypographyElement.SPAN}\n                    variant={TypographyVariant.BODY}\n                    stronger\n                    className=\"adyen-pe-payment-link-creation-form__field-label\"\n                >\n                    {label}\n                </Typography>\n                {optional && (\n                    <Typography\n                        el={TypographyElement.SPAN}\n                        variant={TypographyVariant.BODY}\n                        className=\"adyen-pe-payment-link-creation-form__field-label-optional\"\n                    >\n                        {`(${i18n.get('payByLink.common.fields.optional.label')})`}\n                    </Typography>\n                )}\n            </div>\n\n            {children}\n\n            {supportText && (\n                <div>\n                    <Typography\n                        el={TypographyElement.SPAN}\n                        variant={TypographyVariant.BODY}\n                        className=\"adyen-pe-payment-link-creation-form__field-support-text\"\n                    >\n                        {supportText}\n                    </Typography>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default FormField;\n","import { useEffect, useReducer, useCallback, useRef } from 'preact/hooks';\nimport { ControllerProps, ControllerFieldState, FormState } from './types';\n\nexport function Controller<TFieldValues>({ name, control, rules, render }: ControllerProps<TFieldValues>) {\n    const [, rerender] = useReducer<number, void>(x => x + 1, 0);\n    const { required } = rules ?? {};\n    const prevRequiredRef = useRef(required);\n\n    useEffect(() => {\n        const unsubscribe = control.subscribe(() => {\n            // Trigger re-render when control state changes\n            rerender();\n        });\n\n        let unregister = () => {};\n        if (rules) {\n            unregister = control.register(name, rules);\n        }\n\n        // Re-validate if `required` changed and field was touched\n        if (prevRequiredRef.current !== required) {\n            prevRequiredRef.current = required;\n            const fieldState = control.getFieldState(name);\n            if (fieldState.isTouched && fieldState.error) {\n                control.trigger(name);\n            }\n        }\n\n        return () => {\n            unsubscribe();\n            unregister();\n        };\n    }, [control, name, rules, required]);\n\n    const value = control.getValue(name);\n\n    const fieldState: ControllerFieldState = control.getFieldState(name);\n\n    const formState: FormState<TFieldValues> = control.getFormState();\n\n    const handleChange = useCallback(\n        (value: any) => {\n            let newValue = value;\n            if (value && typeof value === 'object' && 'target' in value) {\n                const target = value.target as any;\n                switch (target.type) {\n                    case 'checkbox':\n                        newValue = target.checked;\n                        break;\n                    case 'file':\n                        newValue = target.files;\n                        break;\n                    case 'select-multiple':\n                        newValue = Array.from(target.selectedOptions, (option: HTMLOptionElement) => option.value);\n                        break;\n                    default:\n                        newValue = target.value;\n                }\n            }\n\n            control.setValue(name, newValue);\n        },\n        [control, name]\n    );\n\n    const handleBlur = useCallback(() => {\n        control.setTouched(name, true);\n        void control.trigger(name);\n    }, [control, name]);\n\n    const triggerValidation = useCallback(() => {\n        void control.trigger(name);\n    }, [control, name]);\n\n    const field = {\n        name,\n        value,\n        onInput: handleChange,\n        onBlur: handleBlur,\n        triggerValidation,\n    };\n\n    return render({\n        field,\n        fieldState,\n        formState,\n    });\n}\n","import { useCallback, useEffect, useRef, useState } from 'preact/hooks';\nimport { FieldValues, FormControl } from './types';\n\nexport function useWatch<TFieldValues>(control: FormControl<TFieldValues>, name: FieldValues<TFieldValues>) {\n    const getCurrent = useCallback(() => control.getValue(name), [control, name]);\n    const [value, setValue] = useState<any>(() => getCurrent());\n    const prevRef = useRef<any>(value);\n\n    useEffect(() => {\n        const handleUpdate = () => {\n            const next = getCurrent();\n            if (prevRef.current !== next) {\n                prevRef.current = next;\n                setValue(next);\n            }\n        };\n        handleUpdate();\n        return control.subscribe(handleUpdate);\n    }, [control, getCurrent, name]);\n\n    return value;\n}\n","import { ComponentChildren } from 'preact';\nimport { FieldValues } from '../../../hooks/form/types';\nimport { useWizardFormContext } from '../../../hooks/form/wizard/WizardFormContext';\n\ninterface VisibleFieldProps<TFieldValues> {\n    name: FieldValues<TFieldValues>;\n    children: ComponentChildren;\n}\n\nexport function VisibleField<TFieldValues>({ name, children }: VisibleFieldProps<TFieldValues>) {\n    const { fieldsConfig } = useWizardFormContext<TFieldValues>();\n    return fieldsConfig[name]?.visible ? <>{children}</> : null;\n}\n","import { h } from 'preact';\nimport { useCallback, useEffect, useMemo } from 'preact/hooks';\nimport { useWizardFormContext } from '../../../hooks/form/wizard/WizardFormContext';\nimport FormField from './FormField';\nimport { Controller } from '../../../hooks/form';\nimport InputBase from '../FormFields/InputBase';\nimport { FieldValues, ValidationRules } from '../../../hooks/form/types';\nimport { InputFieldDropdownProps } from '../FormFields/types';\nimport { VisibleField } from './VisibleField';\nimport { TargetedEvent } from 'preact/compat';\nimport useCoreContext from '../../../core/Context/useCoreContext';\n\ninterface FormTextInputProps<TFieldValues> {\n    fieldName: FieldValues<TFieldValues>;\n    label: string;\n    dropdown?: InputFieldDropdownProps;\n    className?: string;\n    isRequired?: boolean;\n    min?: number;\n    onInput?: (e: TargetedEvent<HTMLInputElement, Event>) => void;\n    onDropdownInput?: (value: string) => void;\n    supportText?: string;\n    type?: string;\n    validate?: ValidationRules['validate'];\n    maxLength?: number;\n    minLength?: number;\n    dropdownPosition?: 'start' | 'end';\n    hideOptionalLabel?: boolean;\n}\n\nexport function FormTextInput<TFieldValues>({\n    className,\n    dropdown,\n    fieldName,\n    isRequired: isRequiredProp,\n    label,\n    onDropdownInput,\n    onInput,\n    supportText,\n    type,\n    validate,\n    min,\n    maxLength,\n    minLength,\n    dropdownPosition,\n    hideOptionalLabel,\n}: FormTextInputProps<TFieldValues>) {\n    const { control, fieldsConfig } = useWizardFormContext<TFieldValues>();\n    const { i18n } = useCoreContext();\n\n    const isRequired = useMemo(() => isRequiredProp ?? fieldsConfig[fieldName]?.required, [fieldsConfig, isRequiredProp]);\n\n    const handleInput = useCallback(\n        (e: TargetedEvent<HTMLInputElement, Event>, onInputHandler: (value: string) => void) => {\n            onInput?.(e);\n            onInputHandler(e.currentTarget.value);\n        },\n        [onInput]\n    );\n\n    const handleValidate: ValidationRules['validate'] = useCallback(\n        (value: string) => {\n            const isBelowMinLength = minLength && value?.length < minLength;\n\n            if (!value && !isRequired) {\n                return { valid: true };\n            }\n            if (isBelowMinLength) {\n                return { valid: false, message: i18n.get('common.errors.minLength', { values: { minLength } }) };\n            }\n            return validate?.(value) ?? { valid: true };\n        },\n        [i18n, isRequired, minLength, validate]\n    );\n\n    return (\n        <VisibleField name={fieldName}>\n            <FormField label={label} optional={!isRequired && !hideOptionalLabel} supportText={supportText} className={className}>\n                <Controller<TFieldValues>\n                    name={fieldName}\n                    control={control}\n                    rules={{\n                        validate: handleValidate,\n                        required: isRequired,\n                    }}\n                    render={({ field, fieldState }) => {\n                        const isInvalid = !!fieldState.error && fieldState.isTouched;\n\n                        return (\n                            <InputBase\n                                {...field}\n                                value={field.value}\n                                maxLength={maxLength}\n                                minLength={minLength}\n                                name={fieldName}\n                                isValid={!fieldState.error}\n                                isInvalid={isInvalid}\n                                errorMessage={fieldState.error?.message}\n                                onDropdownInput={(...params) => {\n                                    onDropdownInput?.(...params);\n                                    if (isInvalid) {\n                                        field.triggerValidation();\n                                    }\n                                }}\n                                onInput={e => handleInput(e, field.onInput)}\n                                type={type}\n                                min={min}\n                                dropdown={dropdown}\n                                dropdownPosition={dropdownPosition}\n                            />\n                        );\n                    }}\n                />\n            </FormField>\n        </VisibleField>\n    );\n}\n","import { IPaymentLinkValidity } from '../../../types/api/models/payByLink';\n\nexport const PAYMENT_LINK_CREATION_FIELD_LENGTHS = {\n    emailAddress: {\n        max: 500,\n    },\n    merchantReference: {\n        min: 3,\n        max: 256,\n    },\n    shopperEmail: {\n        max: 500,\n    },\n    shopperName: {\n        firstName: {\n            max: 80,\n        },\n        lastName: {\n            max: 80,\n        },\n    },\n    telephoneNumber: {\n        max: 32,\n    },\n    billingAddress: {\n        street: {\n            max: 3000,\n        },\n        houseNumberOrName: {\n            max: 3000,\n        },\n        postalCode: {\n            max: 10,\n        },\n        city: {\n            max: 3000,\n        },\n    },\n    deliveryAddress: {\n        street: {\n            max: 3000,\n        },\n        houseNumberOrName: {\n            max: 3000,\n        },\n        postalCode: {\n            max: 10,\n        },\n        city: {\n            max: 3000,\n        },\n    },\n    shopperReference: {\n        min: 3,\n        max: 256,\n    },\n    description: {\n        max: 280,\n    },\n    shopperLocale: {\n        max: 32,\n    },\n} as const;\n\nexport const LINK_VALIDITY_DURATION_UNITS = ['hour', 'minute', 'day', 'week'] as IPaymentLinkValidity['durationUnit'][];\n","import useCoreContext from '../../../../../../../core/Context/useCoreContext';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { FormTextInput } from '../../../../../../internal/FormWrappers/FormTextInput';\nimport { PAYMENT_LINK_CREATION_FIELD_LENGTHS } from '../../../../constants';\nimport { PaymentLinkCreationFormValues } from '../../../types';\n\nexport const ShopperEmailField = () => {\n    const { i18n } = useCoreContext();\n\n    const invalidEMailObject = useMemo(\n        () => ({\n            valid: false,\n            message: i18n.get('payByLink.creation.fields.shopperEmail.error.validEmail'),\n        }),\n        [i18n]\n    );\n    const validateEmail = useCallback(\n        (email: string) => {\n            email = String(email).toLowerCase().trim();\n\n            // Check for basic structure\n            const parts = email.split('@');\n            if (parts.length !== 2) {\n                return invalidEMailObject;\n            }\n\n            const [localPart, domain] = parts;\n\n            if (!localPart || !domain) return invalidEMailObject;\n\n            // Validate local part (before @)\n            if (localPart.length === 0 || localPart.startsWith('.') || localPart.endsWith('.') || localPart.includes('..')) {\n                return invalidEMailObject;\n            }\n\n            // Validate domain part\n            if (domain.length === 0 || domain.startsWith('.') || domain.endsWith('.') || domain.includes('..') || !domain.includes('.')) {\n                return invalidEMailObject;\n            }\n\n            // Final regex check\n            const emailRegex =\n                // eslint-disable-next-line max-len\n                /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n\n            if (!emailRegex.test(email)) {\n                return invalidEMailObject;\n            }\n\n            return { valid: true };\n        },\n        [invalidEMailObject]\n    );\n\n    return (\n        <FormTextInput<PaymentLinkCreationFormValues>\n            fieldName=\"shopperEmail\"\n            label={i18n.get('payByLink.creation.fields.shopperEmail.label')}\n            validate={validateEmail}\n            maxLength={PAYMENT_LINK_CREATION_FIELD_LENGTHS.emailAddress.max}\n        />\n    );\n};\n","import { useCallback, useEffect, useMemo, useState } from 'preact/hooks';\nimport { Controller } from '../../../../../../../hooks/form';\nimport { PaymentLinkCreationFormValues } from '../../../types';\nimport { useWizardFormContext } from '../../../../../../../hooks/form/wizard/WizardFormContext';\nimport { useFetch } from '../../../../../../../hooks/useFetch';\nimport { VisibleField } from '../../../../../../internal/FormWrappers/VisibleField';\nimport InputBase from '../../../../../../internal/FormFields/InputBase';\nimport FormField from '../../../../../../internal/FormWrappers/FormField';\nimport useCoreContext from '../../../../../../../core/Context/useCoreContext';\nimport { PAYMENT_LINK_CREATION_FIELD_LENGTHS } from '../../../../constants';\nimport { filterDisallowedCharacters } from '../../../../../../internal/FormFields/utils';\nimport { JSX } from 'preact/jsx-runtime';\n\nexport const ShopperPhoneField = () => {\n    const { i18n, getCdnDataset } = useCoreContext();\n    const { control, fieldsConfig, getValues, setValue, setFieldDisplayValue, getDisplayValue, trigger, formState } =\n        useWizardFormContext<PaymentLinkCreationFormValues>();\n\n    const displayValue = useMemo(() => getDisplayValue('telephoneNumber'), [getDisplayValue]);\n    const currentValue = useMemo(() => getValues('telephoneNumber'), [getValues]);\n\n    const [phoneCode, phoneNumberWithoutPhoneCode] = useMemo(() => {\n        if (displayValue) {\n            const [code, ...rest] = displayValue.split(' ');\n            return [code, rest.join(' ')] as const;\n        }\n        if (currentValue) {\n            const [code, ...rest] = currentValue.split(' ');\n            return [code, rest.join(' ')] as const;\n        }\n        return [undefined, undefined] as const;\n    }, [displayValue, currentValue]);\n\n    // Initialize display value from default value on first render\n    useEffect(() => {\n        if (!displayValue && currentValue) {\n            const [code, ...rest] = currentValue.split(' ');\n            const number = rest.join(' ');\n            setValue('telephoneNumber', `${code}${number}`);\n            setFieldDisplayValue('telephoneNumber', `${code} ${number}`);\n        }\n    }, [displayValue, currentValue, setValue, setFieldDisplayValue]);\n\n    const phonesDatasetQuery = useFetch({\n        fetchOptions: { enabled: true },\n        queryFn: useCallback(async () => {\n            if (getCdnDataset) {\n                return (\n                    (await getCdnDataset<Array<{ id: string; prefix: string }>>({\n                        name: 'phonenumbers',\n                        extension: 'json',\n                        fallback: [] as Array<{ id: string; prefix: string }>,\n                    })) ?? []\n                );\n            }\n            return [] as Array<{ id: string; prefix: string }>;\n        }, [getCdnDataset]),\n    });\n\n    const phoneCodesDropdown = useMemo(() => {\n        const phones = phonesDatasetQuery.data ?? [];\n        return phones.map(({ id, prefix }) => ({ id: prefix, name: `${id} (${prefix})` })).sort(({ name: a }, { name: b }) => a.localeCompare(b));\n    }, [phonesDatasetQuery.data]);\n\n    // We use some state variables for validation, so it has to happen in an effect to get accurate values\n    useEffect(() => {\n        if (phoneCode && formState.touchedFields['telephoneNumber'] && formState.errors['telephoneNumber']) {\n            trigger('telephoneNumber');\n        }\n    }, [phoneCode, phoneNumberWithoutPhoneCode, trigger, formState.errors, formState.touchedFields]);\n\n    const isRequired = useMemo(() => fieldsConfig['telephoneNumber']?.required, [fieldsConfig]);\n\n    const validate = useCallback(() => {\n        if (!isRequired && !phoneCode && !phoneNumberWithoutPhoneCode) return { valid: true };\n        if (!phoneCode) {\n            return { valid: false, message: i18n.get('payByLink.creation.fields.phoneNumber.errors.requiredPhoneCode') };\n        }\n        const number = phoneNumberWithoutPhoneCode;\n        if (!number) {\n            return { valid: false, message: i18n.get('payByLink.creation.fields.phoneNumber.errors.requiredPhoneNumber') };\n        }\n        return { valid: true };\n    }, [phoneCode, phoneNumberWithoutPhoneCode]);\n\n    return (\n        <VisibleField<PaymentLinkCreationFormValues> name=\"telephoneNumber\">\n            <FormField label={i18n.get('payByLink.creation.fields.shopperPhone.label')} optional={!isRequired}>\n                <Controller<PaymentLinkCreationFormValues>\n                    name=\"telephoneNumber\"\n                    control={control}\n                    rules={{\n                        required: isRequired,\n                        validate,\n                    }}\n                    render={({ field, fieldState }) => {\n                        const isInvalid = !!fieldState.error && fieldState.isTouched;\n                        return (\n                            <InputBase\n                                {...field}\n                                onKeyDown={e => {\n                                    filterDisallowedCharacters({\n                                        event: e as JSX.TargetedKeyboardEvent<HTMLInputElement>,\n                                        inputType: 'number',\n                                    });\n                                }}\n                                onInput={e => {\n                                    const numberValue = (e.target as HTMLInputElement).value;\n                                    setValue('telephoneNumber', `${phoneCode ?? ''}${numberValue}`);\n                                    setFieldDisplayValue('telephoneNumber', `${phoneCode ?? ''} ${numberValue}`);\n                                }}\n                                value={phoneNumberWithoutPhoneCode}\n                                type=\"text\"\n                                dropdown={{\n                                    filterable: true,\n                                    items: phoneCodesDropdown,\n                                    value: phoneCode,\n                                    placeholder: i18n.get('payByLink.creation.fields.shopperPhone.phonePrefix.placeholder'),\n                                    readonly: phonesDatasetQuery.isFetching,\n                                }}\n                                onDropdownInput={val => {\n                                    const currentNumber = phoneNumberWithoutPhoneCode || '';\n                                    setValue('telephoneNumber', `${val}${currentNumber}`);\n                                    setFieldDisplayValue('telephoneNumber', `${val} ${currentNumber}`);\n                                }}\n                                isValid={!fieldState.error && !!field.value}\n                                isInvalid={isInvalid}\n                                errorMessage={fieldState.error?.message}\n                                maxLength={PAYMENT_LINK_CREATION_FIELD_LENGTHS.telephoneNumber.max}\n                            />\n                        );\n                    }}\n                />\n            </FormField>\n        </VisibleField>\n    );\n};\n","import { useEffect, useMemo } from 'preact/hooks';\nimport { Controller } from '../../../hooks/form';\nimport Select from '../FormFields/Select';\nimport { useWizardFormContext } from '../../../hooks/form/wizard/WizardFormContext';\nimport { FieldValues, ValidationRules } from '../../../hooks/form/types';\nimport FormField from './FormField';\nimport { VisibleField } from './VisibleField';\nimport { SelectChangeEvent } from '../FormFields/Select/types';\nimport { FieldError } from '../FormFields/FieldError/FieldError';\n\ninterface FormSelectProps<TFieldValues> {\n    fieldName: FieldValues<TFieldValues>;\n    label: string;\n    items: { id: string; name: string }[];\n    readonly?: boolean;\n    filterable?: boolean;\n    hideOptionalLabel?: boolean;\n    className?: string;\n    isRequired?: boolean;\n    validate?: ValidationRules['validate'];\n    onChange?: (e: SelectChangeEvent) => void;\n    clearable?: boolean;\n    preventInvalidState?: boolean;\n}\n\nexport function FormSelect<TFieldValues>({\n    className,\n    clearable,\n    fieldName,\n    filterable,\n    hideOptionalLabel,\n    isRequired: isRequiredProp,\n    items,\n    label,\n    onChange,\n    preventInvalidState,\n    readonly,\n    validate,\n}: FormSelectProps<TFieldValues>) {\n    const { control, fieldsConfig, getValues, setValue } = useWizardFormContext<TFieldValues>();\n    const isRequired = useMemo(() => isRequiredProp ?? fieldsConfig[fieldName]?.required, [fieldsConfig, isRequiredProp]);\n\n    useEffect(() => {\n        if (!items.length) return;\n        const currentValue = getValues(fieldName);\n\n        if (currentValue && !items.some(item => item.id === currentValue)) {\n            setValue(fieldName, '');\n        }\n    }, [getValues, setValue, items]);\n\n    useEffect(() => {\n        if (items && items.length === 1) {\n            setValue(fieldName, items[0]?.id);\n        }\n    }, [items, setValue, fieldName]);\n\n    return (\n        <VisibleField name={fieldName}>\n            <FormField label={label} optional={!isRequired && !hideOptionalLabel} className={className}>\n                <Controller<TFieldValues>\n                    name={fieldName}\n                    control={control}\n                    rules={{\n                        required: isRequired,\n                        validate,\n                    }}\n                    render={({ field, fieldState }) => {\n                        const handleChange = (e: SelectChangeEvent) => {\n                            const value = (e.target as HTMLSelectElement).value;\n                            field.onInput(value);\n                            onChange?.(e);\n                        };\n                        const isInvalid = !!fieldState.error && fieldState.isTouched;\n\n                        return (\n                            <div>\n                                <Select\n                                    {...field}\n                                    isInvalid={preventInvalidState ? false : isInvalid}\n                                    isValid={!fieldState.error}\n                                    items={items}\n                                    filterable={filterable}\n                                    clearable={clearable}\n                                    name={fieldName}\n                                    onChange={handleChange}\n                                    readonly={readonly}\n                                    selected={field.value as string}\n                                />\n                                {isInvalid && fieldState.error?.message && <FieldError errorMessage={fieldState.error?.message} withTopMargin />}\n                            </div>\n                        );\n                    }}\n                />\n            </FormField>\n        </VisibleField>\n    );\n}\n","import useCoreContext from '../../../../../../../core/Context/useCoreContext';\nimport { useMemo } from 'preact/hooks';\nimport { FormSelect } from '../../../../../../internal/FormWrappers/FormSelect';\nimport { PaymentLinkCreationFormValues } from '../../../types';\nimport { useWizardFormContext } from '../../../../../../../hooks/form/wizard/WizardFormContext';\nimport { IPaymentLinkCountry } from '../../../../../../../types';\n\ninterface CountryRegionFieldProps {\n    countriesData?: { data?: IPaymentLinkCountry[] };\n    isFetchingCountries: boolean;\n    countryDatasetData?: Array<{ id: string; name: string }>;\n    isFetchingCountryDataset: boolean;\n}\n\nexport const CountryRegionField = ({ countriesData, isFetchingCountries, countryDatasetData, isFetchingCountryDataset }: CountryRegionFieldProps) => {\n    const { i18n } = useCoreContext();\n    const { fieldsConfig } = useWizardFormContext<PaymentLinkCreationFormValues>();\n\n    const countriesListItems = useMemo(() => {\n        const allowedCodes = new Set(fieldsConfig?.['countryCode']?.options ?? countriesData?.data?.map(({ countryCode }) => countryCode) ?? []);\n        const countries = countryDatasetData?.length\n            ? countryDatasetData\n            : (countriesData?.data?.map(({ countryCode, countryName }) => ({ id: countryCode, name: countryName })) ?? []);\n\n        const allowedCountries = countries.filter(({ id }) => !allowedCodes.size || allowedCodes.has(id));\n\n        return allowedCountries.sort((a, b) => a.name.localeCompare(b.name));\n    }, [countriesData?.data, countryDatasetData, fieldsConfig]);\n\n    return (\n        <FormSelect<PaymentLinkCreationFormValues>\n            clearable\n            filterable\n            fieldName=\"countryCode\"\n            label={i18n.get('payByLink.creation.fields.country.label')}\n            items={countriesListItems}\n            readonly={isFetchingCountries || isFetchingCountryDataset}\n        />\n    );\n};\n","import { PaymentLinkCreationFormValues } from '../../../../types';\nimport useCoreContext from '../../../../../../../../core/Context/useCoreContext';\nimport { useWizardFormContext } from '../../../../../../../../hooks/form/wizard/WizardFormContext';\nimport { useCallback } from 'preact/hooks';\nimport { TargetedEvent } from 'preact/compat';\nimport { FormTextInput } from '../../../../../../../internal/FormWrappers/FormTextInput';\nimport { PAYMENT_LINK_CREATION_FIELD_LENGTHS } from '../../../../../constants';\nimport type { AddressFieldRequiredChecker } from '../../useAddressChecker';\n\nexport const ShippingStreetField = ({\n    isSeparateAddress,\n    isAddressFieldRequired,\n}: {\n    isSeparateAddress: boolean;\n    isAddressFieldRequired: AddressFieldRequiredChecker;\n}) => {\n    const { i18n } = useCoreContext();\n    const { setValue, fieldsConfig } = useWizardFormContext<PaymentLinkCreationFormValues>();\n\n    const onInput = useCallback(\n        (e: TargetedEvent<HTMLInputElement, Event>) => {\n            !isSeparateAddress && setValue('billingAddress.street', e.currentTarget.value);\n        },\n        [isSeparateAddress, setValue]\n    );\n\n    const isRequired = fieldsConfig['deliveryAddress.street']?.required || isAddressFieldRequired('deliveryAddress.street');\n\n    return (\n        <FormTextInput<PaymentLinkCreationFormValues>\n            maxLength={PAYMENT_LINK_CREATION_FIELD_LENGTHS.deliveryAddress.street.max}\n            fieldName=\"deliveryAddress.street\"\n            label={i18n.get('payByLink.creation.fields.deliveryAddress.street.label')}\n            onInput={onInput}\n            className=\"adyen-pe-payment-link-creation-form__shipping-address-field--large\"\n            hideOptionalLabel\n            isRequired={isRequired}\n        />\n    );\n};\n","import { PaymentLinkCreationFormValues } from '../../../types';\nimport useCoreContext from '../../../../../../../core/Context/useCoreContext';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { useFetch } from '../../../../../../../hooks/useFetch';\nimport { FormSelect } from '../../../../../../internal/FormWrappers/FormSelect';\nimport { useWizardFormContext } from '../../../../../../../hooks/form/wizard/WizardFormContext';\n\nexport const LanguageField = () => {\n    const { i18n, getCdnDataset } = useCoreContext();\n    const { fieldsConfig } = useWizardFormContext<PaymentLinkCreationFormValues>();\n\n    const configCountryList = useMemo(() => {\n        return fieldsConfig?.['shopperLocale']?.options as string[] | undefined;\n    }, [fieldsConfig]);\n\n    const languagesQuery = useFetch({\n        fetchOptions: { enabled: true },\n        queryFn: useCallback(async () => {\n            if (getCdnDataset) {\n                return (\n                    (await getCdnDataset<Array<{ text: string; value: string | null }>>({\n                        name: 'languages',\n                        extension: 'json',\n                        fallback: [] as Array<{ text: string; value: string | null }>,\n                    })) ?? []\n                );\n            }\n            return [] as Array<{ text: string; value: string | null }>;\n        }, [getCdnDataset]),\n    });\n\n    const localeListItems = useMemo(() => {\n        const langs = languagesQuery.data ?? [];\n\n        return langs\n            .filter(({ value }) => {\n                return configCountryList?.length ? configCountryList?.includes(value as string) : true;\n            })\n            .map(({ text, value }) => {\n                return {\n                    // TODO - Handle 'auto detect' option when submitting information to the BE\n                    id: value === null ? 'auto' : value,\n                    name: text,\n                };\n            })\n            .sort(({ name: a }, { name: b }) => a.localeCompare(b));\n    }, [languagesQuery.data, configCountryList]);\n\n    return (\n        <FormSelect<PaymentLinkCreationFormValues>\n            filterable\n            fieldName=\"shopperLocale\"\n            label={i18n.get('payByLink.creation.fields.language.label')}\n            items={localeListItems}\n            readonly={languagesQuery.isFetching}\n        />\n    );\n};\n","import { PaymentLinkCreationFormValues } from '../../../types';\nimport useCoreContext from '../../../../../../../core/Context/useCoreContext';\nimport { useWizardFormContext } from '../../../../../../../hooks/form/wizard/WizardFormContext';\nimport { StateUpdater, useCallback } from 'preact/hooks';\nimport { Dispatch } from 'preact/compat';\nimport Icon from '../../../../../../internal/Icon';\nimport Typography from '../../../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../../../internal/Typography/types';\nimport { uuid } from '../../../../../../../utils';\n\ninterface BillingAndShippingCheckboxFieldProps {\n    isSeparateAddress: boolean;\n    setIsSeparateAddress: Dispatch<StateUpdater<boolean>>;\n}\n\nexport const BillingAndShippingCheckboxField = ({ isSeparateAddress, setIsSeparateAddress }: BillingAndShippingCheckboxFieldProps) => {\n    const { i18n } = useCoreContext();\n    const { setValue, getValues } = useWizardFormContext<PaymentLinkCreationFormValues>();\n    const isSeparateAddressInputId = uuid();\n\n    const toggleBillingAndDeliveryAddress = useCallback(() => {\n        setIsSeparateAddress(prev => {\n            setValue('billingAddress.street', !prev ? undefined : getValues('deliveryAddress.street'));\n            setValue('billingAddress.houseNumberOrName', !prev ? undefined : getValues('deliveryAddress.houseNumberOrName'));\n            setValue('billingAddress.postalCode', !prev ? undefined : getValues('deliveryAddress.postalCode'));\n            setValue('billingAddress.city', !prev ? undefined : getValues('deliveryAddress.city'));\n            setValue('billingAddress.country', !prev ? undefined : getValues('deliveryAddress.country'));\n            return !prev;\n        });\n    }, [getValues, setIsSeparateAddress, setValue]);\n\n    return (\n        <div>\n            <input type=\"checkbox\" className=\"adyen-pe-visually-hidden\" id={isSeparateAddressInputId} onInput={toggleBillingAndDeliveryAddress} />\n            <label className=\"adyen-pe-payment-link-creation-form__field-checkbox\" htmlFor={isSeparateAddressInputId}>\n                {isSeparateAddress ? <Icon name=\"checkmark-square-fill\" /> : <Icon name=\"square\" />}\n                <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                    {i18n.get('payByLink.creation.fields.billingAndDeliverySeparateAddress.label')}\n                </Typography>\n            </label>\n        </div>\n    );\n};\n","import { PaymentLinkCreationFormValues } from '../../../../types';\nimport useCoreContext from '../../../../../../../../core/Context/useCoreContext';\nimport { useWizardFormContext } from '../../../../../../../../hooks/form/wizard/WizardFormContext';\nimport { useCallback } from 'preact/hooks';\nimport { TargetedEvent } from 'preact/compat';\nimport { FormTextInput } from '../../../../../../../internal/FormWrappers/FormTextInput';\nimport { PAYMENT_LINK_CREATION_FIELD_LENGTHS } from '../../../../../constants';\nimport type { AddressFieldRequiredChecker } from '../../useAddressChecker';\n\nexport const ShippingHouseNumberField = ({\n    isSeparateAddress,\n    isAddressFieldRequired,\n}: {\n    isSeparateAddress: boolean;\n    isAddressFieldRequired: AddressFieldRequiredChecker;\n}) => {\n    const { i18n } = useCoreContext();\n    const { setValue, fieldsConfig } = useWizardFormContext<PaymentLinkCreationFormValues>();\n\n    const onInput = useCallback(\n        (e: TargetedEvent<HTMLInputElement, Event>) => {\n            !isSeparateAddress && setValue('billingAddress.houseNumberOrName', e.currentTarget.value);\n        },\n        [isSeparateAddress, setValue]\n    );\n\n    const isRequired = fieldsConfig['deliveryAddress.houseNumberOrName']?.required || isAddressFieldRequired('deliveryAddress.houseNumberOrName');\n\n    return (\n        <FormTextInput<PaymentLinkCreationFormValues>\n            maxLength={PAYMENT_LINK_CREATION_FIELD_LENGTHS.deliveryAddress.houseNumberOrName.max}\n            fieldName=\"deliveryAddress.houseNumberOrName\"\n            label={i18n.get('payByLink.creation.fields.deliveryAddress.houseNumberOrName.label')}\n            onInput={onInput}\n            className=\"adyen-pe-payment-link-creation-form__shipping-address-field--small\"\n            hideOptionalLabel\n            isRequired={isRequired}\n        />\n    );\n};\n","import useCoreContext from '../../../../../../../../core/Context/useCoreContext';\nimport { useMemo, useCallback } from 'preact/hooks';\nimport { FormSelect } from '../../../../../../../internal/FormWrappers/FormSelect';\nimport { PaymentLinkCreationFormValues } from '../../../../types';\nimport { useWizardFormContext } from '../../../../../../../../hooks/form/wizard/WizardFormContext';\nimport { IPaymentLinkCountry } from '../../../../../../../../types';\nimport type { AddressFieldRequiredChecker } from '../../useAddressChecker';\nimport { SelectChangeEvent } from '../../../../../../../internal/FormFields/Select/types';\n\ninterface ShippingCountryFieldProps {\n    countriesData?: { data?: IPaymentLinkCountry[] };\n    isAddressFieldRequired: AddressFieldRequiredChecker;\n    isFetchingCountries: boolean;\n    isSeparateAddress: boolean;\n    countryDatasetData?: Array<{ id: string; name: string }>;\n    isFetchingCountryDataset: boolean;\n}\n\nexport const ShippingCountryField = ({\n    countriesData,\n    isAddressFieldRequired,\n    isFetchingCountries,\n    isSeparateAddress,\n    countryDatasetData,\n    isFetchingCountryDataset,\n}: ShippingCountryFieldProps) => {\n    const { i18n } = useCoreContext();\n    const { setValue, fieldsConfig } = useWizardFormContext<PaymentLinkCreationFormValues>();\n\n    const countriesListItems = useMemo(() => {\n        const allowedCodes = new Set((countriesData?.data ?? []).map(({ countryCode }: IPaymentLinkCountry) => countryCode).filter(Boolean));\n        const countries = countryDatasetData?.length\n            ? countryDatasetData\n            : (countriesData?.data?.map(({ countryCode, countryName }) => ({ id: countryCode, name: countryName })) ?? []);\n\n        const allowedCountries = countries.filter(({ id }) => !allowedCodes.size || allowedCodes.has(id));\n\n        return allowedCountries.sort((a, b) => a.name.localeCompare(b.name));\n    }, [countriesData?.data, countryDatasetData]);\n\n    const handleChange = useCallback(\n        (e: SelectChangeEvent) => {\n            if (!isSeparateAddress) {\n                setValue('billingAddress.country', (e.target as HTMLSelectElement).value);\n            }\n        },\n        [isSeparateAddress, setValue]\n    );\n\n    const isRequired = fieldsConfig['deliveryAddress.country']?.required || isAddressFieldRequired('deliveryAddress.country');\n\n    return (\n        <FormSelect<PaymentLinkCreationFormValues>\n            clearable\n            filterable\n            fieldName=\"deliveryAddress.country\"\n            label={i18n.get('payByLink.creation.fields.deliveryAddress.country.label')}\n            items={countriesListItems}\n            readonly={isFetchingCountries || isFetchingCountryDataset}\n            className=\"adyen-pe-payment-link-creation-form__shipping-address-field--medium\"\n            onChange={handleChange}\n            hideOptionalLabel\n            isRequired={isRequired}\n        />\n    );\n};\n","import { PaymentLinkCreationFormValues } from '../../../../types';\nimport useCoreContext from '../../../../../../../../core/Context/useCoreContext';\nimport { useWizardFormContext } from '../../../../../../../../hooks/form/wizard/WizardFormContext';\nimport { useCallback } from 'preact/hooks';\nimport { TargetedEvent } from 'preact/compat';\nimport { FormTextInput } from '../../../../../../../internal/FormWrappers/FormTextInput';\nimport { PAYMENT_LINK_CREATION_FIELD_LENGTHS } from '../../../../../constants';\nimport type { AddressFieldRequiredChecker } from '../../useAddressChecker';\n\nexport const ShippingCityField = ({\n    isSeparateAddress,\n    isAddressFieldRequired,\n}: {\n    isSeparateAddress: boolean;\n    isAddressFieldRequired: AddressFieldRequiredChecker;\n}) => {\n    const { i18n } = useCoreContext();\n    const { setValue, fieldsConfig } = useWizardFormContext<PaymentLinkCreationFormValues>();\n\n    const onInput = useCallback(\n        (e: TargetedEvent<HTMLInputElement, Event>) => {\n            !isSeparateAddress && setValue('billingAddress.city', e.currentTarget.value);\n        },\n        [isSeparateAddress, setValue]\n    );\n\n    const isRequired = fieldsConfig['deliveryAddress.city']?.required || isAddressFieldRequired('deliveryAddress.city');\n\n    return (\n        <FormTextInput<PaymentLinkCreationFormValues>\n            maxLength={PAYMENT_LINK_CREATION_FIELD_LENGTHS.deliveryAddress.city.max}\n            fieldName=\"deliveryAddress.city\"\n            label={i18n.get('payByLink.creation.fields.deliveryAddress.city.label')}\n            onInput={onInput}\n            className=\"adyen-pe-payment-link-creation-form__shipping-address-field--medium\"\n            hideOptionalLabel\n            isRequired={isRequired}\n        />\n    );\n};\n","import { PaymentLinkCreationFormValues } from '../../../../types';\nimport useCoreContext from '../../../../../../../../core/Context/useCoreContext';\nimport { useWizardFormContext } from '../../../../../../../../hooks/form/wizard/WizardFormContext';\nimport { useCallback } from 'preact/hooks';\nimport { TargetedEvent } from 'preact/compat';\nimport { FormTextInput } from '../../../../../../../internal/FormWrappers/FormTextInput';\nimport { PAYMENT_LINK_CREATION_FIELD_LENGTHS } from '../../../../../constants';\nimport type { AddressFieldRequiredChecker } from '../../useAddressChecker';\n\nexport const ShippingPostalCodeField = ({\n    isSeparateAddress,\n    isAddressFieldRequired,\n}: {\n    isSeparateAddress: boolean;\n    isAddressFieldRequired: AddressFieldRequiredChecker;\n}) => {\n    const { i18n } = useCoreContext();\n    const { setValue, fieldsConfig } = useWizardFormContext<PaymentLinkCreationFormValues>();\n\n    const onInput = useCallback(\n        (e: TargetedEvent<HTMLInputElement, Event>) => {\n            !isSeparateAddress && setValue('billingAddress.postalCode', e.currentTarget.value);\n        },\n        [isSeparateAddress, setValue]\n    );\n\n    const isRequired = fieldsConfig['deliveryAddress.postalCode']?.required || isAddressFieldRequired('deliveryAddress.postalCode');\n\n    return (\n        <FormTextInput<PaymentLinkCreationFormValues>\n            maxLength={PAYMENT_LINK_CREATION_FIELD_LENGTHS.deliveryAddress.postalCode.max}\n            fieldName=\"deliveryAddress.postalCode\"\n            label={i18n.get('payByLink.creation.fields.deliveryAddress.postalCode.label')}\n            onInput={onInput}\n            className=\"adyen-pe-payment-link-creation-form__shipping-address-field--small\"\n            hideOptionalLabel\n            isRequired={isRequired}\n        />\n    );\n};\n","import useCoreContext from '../../../../../../../../core/Context/useCoreContext';\nimport { useMemo } from 'preact/hooks';\nimport { FormSelect } from '../../../../../../../internal/FormWrappers/FormSelect';\nimport { PaymentLinkCreationFormValues } from '../../../../types';\nimport type { AddressFieldRequiredChecker } from '../../useAddressChecker';\nimport { IPaymentLinkCountry } from '../../../../../../../../types';\nimport { useWizardFormContext } from '../../../../../../../../hooks/form/wizard/WizardFormContext';\n\ninterface BillingCountryFieldProps {\n    countriesData?: { data?: IPaymentLinkCountry[] };\n    isAddressFieldRequired: AddressFieldRequiredChecker;\n    isFetchingCountries: boolean;\n    countryDatasetData?: Array<{ id: string; name: string }>;\n    isFetchingCountryDataset: boolean;\n}\n\nexport const BillingCountryField = ({\n    countriesData,\n    isAddressFieldRequired,\n    isFetchingCountries,\n    countryDatasetData,\n    isFetchingCountryDataset,\n}: BillingCountryFieldProps) => {\n    const { i18n } = useCoreContext();\n    const { fieldsConfig } = useWizardFormContext<PaymentLinkCreationFormValues>();\n\n    const countriesListItems = useMemo(() => {\n        const allowedCodes = new Set((countriesData?.data ?? []).map(({ countryCode }: IPaymentLinkCountry) => countryCode).filter(Boolean));\n        const countries = countryDatasetData?.length\n            ? countryDatasetData\n            : (countriesData?.data?.map(({ countryCode, countryName }) => ({ id: countryCode, name: countryName })) ?? []);\n\n        const allowedCountries = countries.filter(({ id }) => !allowedCodes.size || allowedCodes.has(id));\n\n        return allowedCountries.sort((a, b) => a.name.localeCompare(b.name));\n    }, [countriesData?.data, countryDatasetData]);\n\n    const isRequired = fieldsConfig['billingAddress.country']?.required || isAddressFieldRequired('billingAddress.country');\n\n    return (\n        <FormSelect<PaymentLinkCreationFormValues>\n            clearable\n            filterable\n            className=\"adyen-pe-payment-link-creation-form__billing-address-field--medium\"\n            fieldName=\"billingAddress.country\"\n            label={i18n.get('payByLink.creation.fields.billingAddress.country.label')}\n            items={countriesListItems}\n            readonly={isFetchingCountries || isFetchingCountryDataset}\n            hideOptionalLabel\n            isRequired={isRequired}\n        />\n    );\n};\n","import { useCallback } from 'preact/hooks';\nimport { useWizardFormContext } from '../../../../../../hooks/form/wizard/WizardFormContext';\nimport { useWatch } from '../../../../../../hooks/form';\nimport { PaymentLinkCreationFormValues } from '../../types';\nimport { FieldValues } from '../../../../../../hooks/form/types';\n\nconst DELIVERY_ADDRESS_FIELDS = [\n    'deliveryAddress.street',\n    'deliveryAddress.houseNumberOrName',\n    'deliveryAddress.country',\n    'deliveryAddress.city',\n    'deliveryAddress.postalCode',\n] as const;\n\nconst BILLING_ADDRESS_FIELDS = [\n    'billingAddress.street',\n    'billingAddress.houseNumberOrName',\n    'billingAddress.country',\n    'billingAddress.city',\n    'billingAddress.postalCode',\n] as const;\n\nexport type AddressFieldRequiredChecker = (fieldName: FieldValues<PaymentLinkCreationFormValues>) => boolean;\n\nexport const useAddressChecker = () => {\n    const { control } = useWizardFormContext<PaymentLinkCreationFormValues>();\n\n    const deliveryStreet = useWatch(control, 'deliveryAddress.street' as FieldValues<PaymentLinkCreationFormValues>);\n    const deliveryHouseNumber = useWatch(control, 'deliveryAddress.houseNumberOrName' as FieldValues<PaymentLinkCreationFormValues>);\n    const deliveryCountry = useWatch(control, 'deliveryAddress.country' as FieldValues<PaymentLinkCreationFormValues>);\n    const deliveryCity = useWatch(control, 'deliveryAddress.city' as FieldValues<PaymentLinkCreationFormValues>);\n    const deliveryPostalCode = useWatch(control, 'deliveryAddress.postalCode' as FieldValues<PaymentLinkCreationFormValues>);\n\n    const billingStreet = useWatch(control, 'billingAddress.street' as FieldValues<PaymentLinkCreationFormValues>);\n    const billingHouseNumber = useWatch(control, 'billingAddress.houseNumberOrName' as FieldValues<PaymentLinkCreationFormValues>);\n    const billingCountry = useWatch(control, 'billingAddress.country' as FieldValues<PaymentLinkCreationFormValues>);\n    const billingCity = useWatch(control, 'billingAddress.city' as FieldValues<PaymentLinkCreationFormValues>);\n    const billingPostalCode = useWatch(control, 'billingAddress.postalCode' as FieldValues<PaymentLinkCreationFormValues>);\n\n    const deliveryValues = {\n        'deliveryAddress.street': deliveryStreet,\n        'deliveryAddress.houseNumberOrName': deliveryHouseNumber,\n        'deliveryAddress.country': deliveryCountry,\n        'deliveryAddress.city': deliveryCity,\n        'deliveryAddress.postalCode': deliveryPostalCode,\n    };\n\n    const billingValues = {\n        'billingAddress.street': billingStreet,\n        'billingAddress.houseNumberOrName': billingHouseNumber,\n        'billingAddress.country': billingCountry,\n        'billingAddress.city': billingCity,\n        'billingAddress.postalCode': billingPostalCode,\n    };\n\n    const isAddressFieldRequired = useCallback(\n        (fieldName: FieldValues<PaymentLinkCreationFormValues>) => {\n            const isDeliveryField = DELIVERY_ADDRESS_FIELDS.includes(fieldName as (typeof DELIVERY_ADDRESS_FIELDS)[number]);\n            if (isDeliveryField) {\n                return DELIVERY_ADDRESS_FIELDS.some(field => {\n                    const value = deliveryValues[field];\n                    return value !== undefined && value !== '';\n                });\n            }\n\n            const isBillingField = BILLING_ADDRESS_FIELDS.includes(fieldName as (typeof BILLING_ADDRESS_FIELDS)[number]);\n            if (isBillingField) {\n                return BILLING_ADDRESS_FIELDS.some(field => {\n                    const value = billingValues[field];\n                    return value !== undefined && value !== '';\n                });\n            }\n\n            return false;\n        },\n        [deliveryValues, billingValues]\n    );\n\n    return { isAddressFieldRequired };\n};\n","import { ShopperEmailField } from './Fields/ShopperEmailField';\nimport { ShopperPhoneField } from './Fields/ShopperPhoneField';\nimport { CountryRegionField } from './Fields/CountryRegionField';\nimport { ShippingStreetField } from './Fields/Address/ShippingStreetField';\nimport { LanguageField } from './Fields/LanguageField';\nimport { BillingAndShippingCheckboxField } from './Fields/BillingAndShippingCheckboxField';\nimport { StateUpdater } from 'preact/hooks';\nimport { FormTextInput } from '../../../../../internal/FormWrappers/FormTextInput';\nimport { PaymentLinkCreationFormValues } from '../../types';\n// import { EmailDependentCheckboxField } from './Fields/EmailDependentCheckboxField';\nimport { ShippingHouseNumberField } from './Fields/Address/ShippingHouseNumberField';\nimport { ShippingCountryField } from './Fields/Address/ShippingCountryField';\nimport { ShippingCityField } from './Fields/Address/ShippingCityField';\nimport { ShippingPostalCodeField } from './Fields/Address/ShippingPostalCodeField';\nimport { BillingCountryField } from './Fields/Address/BillingCountryField';\nimport { TypographyElement, TypographyVariant } from '../../../../../internal/Typography/types';\nimport useCoreContext from '../../../../../../core/Context/useCoreContext';\nimport Typography from '../../../../../internal/Typography/Typography';\nimport './CustomerDetailsForm.scss';\nimport { PAYMENT_LINK_CREATION_FIELD_LENGTHS } from '../../../constants';\nimport { useWizardFormContext } from '../../../../../../hooks/form/wizard/WizardFormContext';\nimport { Dispatch } from 'preact/compat';\nimport { IPaymentLinkCountry } from '../../../../../../types';\nimport { useAddressChecker } from './useAddressChecker';\n\ninterface CustomerDetailsFormProps {\n    isSeparateAddress: boolean;\n    setIsSeparateAddress: Dispatch<StateUpdater<boolean>>;\n    countriesData?: { data?: IPaymentLinkCountry[] };\n    isFetchingCountries: boolean;\n    countryDatasetData?: Array<{ id: string; name: string }>;\n    isFetchingCountryDataset: boolean;\n}\n\nexport const CustomerDetailsForm = ({\n    isSeparateAddress,\n    setIsSeparateAddress,\n    countriesData,\n    isFetchingCountries,\n    countryDatasetData,\n    isFetchingCountryDataset,\n}: CustomerDetailsFormProps) => {\n    const { i18n } = useCoreContext();\n    const { fieldsConfig } = useWizardFormContext<PaymentLinkCreationFormValues>();\n    const { isAddressFieldRequired } = useAddressChecker();\n\n    const isNameVisible = fieldsConfig['shopperName.firstName']?.visible || fieldsConfig['shopperName.lastName']?.visible;\n    const isBillingAddressOptional = !fieldsConfig['billingAddress.street']?.required;\n    const isDeliveryAddressOptional = !fieldsConfig['deliveryAddress.street']?.required;\n    const isBillingAddressVisible = fieldsConfig['billingAddress.street']?.visible;\n    const isDeliveryAddressVisible = fieldsConfig['deliveryAddress.street']?.visible;\n\n    return (\n        <div className=\"adyen-pe-payment-link-creation-form__fields-container\">\n            <FormTextInput<PaymentLinkCreationFormValues>\n                fieldName={'shopperReference'}\n                label={i18n.get('payByLink.creation.fields.shopperReference.label')}\n                maxLength={PAYMENT_LINK_CREATION_FIELD_LENGTHS.shopperReference.max}\n                minLength={PAYMENT_LINK_CREATION_FIELD_LENGTHS.shopperReference.min}\n            />\n            {isNameVisible && (\n                <div className=\"adyen-pe-payment-link-creation-form__shopper-name-container\">\n                    <FormTextInput<PaymentLinkCreationFormValues>\n                        fieldName={'shopperName.firstName'}\n                        label={i18n.get('payByLink.creation.fields.shopperName.label')}\n                        maxLength={PAYMENT_LINK_CREATION_FIELD_LENGTHS.shopperName.firstName.max}\n                    />\n                    <FormTextInput<PaymentLinkCreationFormValues>\n                        maxLength={PAYMENT_LINK_CREATION_FIELD_LENGTHS.shopperName.lastName.max}\n                        fieldName={'shopperName.lastName'}\n                        label={i18n.get('payByLink.creation.fields.shopperLastName.label')}\n                    />\n                </div>\n            )}\n            <ShopperEmailField />\n            {/* TODO: Pending discussion on whether we want to show this functionality                 \n                <div className=\"adyen-pe-payment-link-creation-form__email-checkbox-container\">\n                    <EmailDependentCheckboxField name=\"sendLinkToShopper\" label={i18n.get('payByLink.creation.fields.sendLinkToShopper.label')} />\n                    <EmailDependentCheckboxField\n                        name=\"sendPaymentSuccessToShopper\"\n                        label={i18n.get('payByLink.creation.fields.sendPaymentSuccessToShopper.label')}\n                    />\n                </div> */}\n\n            <ShopperPhoneField />\n            <CountryRegionField\n                countriesData={countriesData}\n                isFetchingCountries={isFetchingCountries}\n                countryDatasetData={countryDatasetData}\n                isFetchingCountryDataset={isFetchingCountryDataset}\n            />\n            {isDeliveryAddressVisible && (\n                <>\n                    <div className=\"adyen-pe-payment-link-creation-form__shipping-address-container\">\n                        <div className=\"adyen-pe-payment-link-creation-form__shipping-address-title-container\">\n                            <Typography\n                                el={TypographyElement.SPAN}\n                                variant={TypographyVariant.SUBTITLE}\n                                stronger\n                                className=\"adyen-pe-payment-link-creation-form__billing-address-title\"\n                            >\n                                {i18n.get('payByLink.creation.sections.deliveryAddress.label')}\n                            </Typography>\n                            {isDeliveryAddressOptional && (\n                                <Typography\n                                    el={TypographyElement.SPAN}\n                                    variant={TypographyVariant.BODY}\n                                    className=\"adyen-pe-payment-link-creation-form__field-label-optional\"\n                                >\n                                    {`(${i18n.get('payByLink.common.fields.optional.label')})`}\n                                </Typography>\n                            )}\n                        </div>\n                        <div>\n                            <ShippingStreetField isSeparateAddress={isSeparateAddress} isAddressFieldRequired={isAddressFieldRequired} />\n                            <ShippingHouseNumberField isSeparateAddress={isSeparateAddress} isAddressFieldRequired={isAddressFieldRequired} />\n                        </div>\n                        <div>\n                            <ShippingCountryField\n                                countriesData={countriesData}\n                                isAddressFieldRequired={isAddressFieldRequired}\n                                isFetchingCountries={isFetchingCountries}\n                                isSeparateAddress={isSeparateAddress}\n                                countryDatasetData={countryDatasetData}\n                                isFetchingCountryDataset={isFetchingCountryDataset}\n                            />\n                            <ShippingCityField isAddressFieldRequired={isAddressFieldRequired} isSeparateAddress={isSeparateAddress} />\n                            <ShippingPostalCodeField isAddressFieldRequired={isAddressFieldRequired} isSeparateAddress={isSeparateAddress} />\n                        </div>\n                    </div>\n                    {isBillingAddressVisible && (\n                        <BillingAndShippingCheckboxField isSeparateAddress={isSeparateAddress} setIsSeparateAddress={setIsSeparateAddress} />\n                    )}\n                </>\n            )}\n            {(isSeparateAddress || (!isDeliveryAddressVisible && isBillingAddressVisible)) && (\n                <div className=\"adyen-pe-payment-link-creation-form__billing-address-container\">\n                    <div className=\"adyen-pe-payment-link-creation-form__billing-address-title-container\">\n                        <Typography\n                            el={TypographyElement.SPAN}\n                            variant={TypographyVariant.SUBTITLE}\n                            stronger\n                            className=\"adyen-pe-payment-link-creation-form__billing-address-title\"\n                        >\n                            {i18n.get('payByLink.creation.sections.billingAddress.label')}\n                        </Typography>\n                        {isBillingAddressOptional && (\n                            <Typography\n                                el={TypographyElement.SPAN}\n                                variant={TypographyVariant.BODY}\n                                className=\"adyen-pe-payment-link-creation-form__field-label-optional\"\n                            >\n                                {`(${i18n.get('payByLink.common.fields.optional.label')})`}\n                            </Typography>\n                        )}\n                    </div>\n                    <div>\n                        <FormTextInput<PaymentLinkCreationFormValues>\n                            maxLength={PAYMENT_LINK_CREATION_FIELD_LENGTHS.billingAddress.street.max}\n                            className=\"adyen-pe-payment-link-creation-form__billing-address-field--large\"\n                            fieldName=\"billingAddress.street\"\n                            label={i18n.get('payByLink.creation.fields.billingAddress.street.label')}\n                            hideOptionalLabel\n                            isRequired={fieldsConfig['billingAddress.street']?.required || isAddressFieldRequired('billingAddress.street')}\n                        />\n                        <FormTextInput<PaymentLinkCreationFormValues>\n                            maxLength={PAYMENT_LINK_CREATION_FIELD_LENGTHS.billingAddress.houseNumberOrName.max}\n                            className=\"adyen-pe-payment-link-creation-form__billing-address-field--small\"\n                            fieldName=\"billingAddress.houseNumberOrName\"\n                            label={i18n.get('payByLink.creation.fields.billingAddress.houseNumberOrName.label')}\n                            hideOptionalLabel\n                            isRequired={\n                                fieldsConfig['billingAddress.houseNumberOrName']?.required ||\n                                isAddressFieldRequired('billingAddress.houseNumberOrName')\n                            }\n                        />\n                    </div>\n                    <div>\n                        <BillingCountryField\n                            countriesData={countriesData}\n                            isAddressFieldRequired={isAddressFieldRequired}\n                            isFetchingCountries={isFetchingCountries}\n                            countryDatasetData={countryDatasetData}\n                            isFetchingCountryDataset={isFetchingCountryDataset}\n                        />\n                        <FormTextInput<PaymentLinkCreationFormValues>\n                            maxLength={PAYMENT_LINK_CREATION_FIELD_LENGTHS.billingAddress.city.max}\n                            className=\"adyen-pe-payment-link-creation-form__billing-address-field--medium\"\n                            fieldName=\"billingAddress.city\"\n                            label={i18n.get('payByLink.creation.fields.billingAddress.city.label')}\n                            hideOptionalLabel\n                            isRequired={fieldsConfig['billingAddress.city']?.required || isAddressFieldRequired('billingAddress.city')}\n                        />\n                        <FormTextInput<PaymentLinkCreationFormValues>\n                            maxLength={PAYMENT_LINK_CREATION_FIELD_LENGTHS.billingAddress.postalCode.max}\n                            className=\"adyen-pe-payment-link-creation-form__billing-address-field--small\"\n                            fieldName=\"billingAddress.postalCode\"\n                            label={i18n.get('payByLink.creation.fields.billingAddress.postalCode.label')}\n                            hideOptionalLabel\n                            isRequired={fieldsConfig['billingAddress.postalCode']?.required || isAddressFieldRequired('billingAddress.postalCode')}\n                        />\n                    </div>\n                </div>\n            )}\n            <LanguageField />\n        </div>\n    );\n};\n","import useCoreContext from '../../../../../../../core/Context/useCoreContext';\nimport { useMemo, useCallback, useState, useEffect } from 'preact/hooks';\nimport { FunctionalComponent, JSX } from 'preact';\nimport { IPaymentLinkValidity, IPaymentLinkConfiguration } from '../../../../../../../types/api/models/payByLink';\nimport { TranslationKey } from '../../../../../../../translations';\nimport { PaymentLinkCreationFormValues } from '../../../types';\nimport { useWizardFormContext } from '../../../../../../../hooks/form/wizard/WizardFormContext';\nimport { VisibleField } from '../../../../../../internal/FormWrappers/VisibleField';\nimport FormField from '../../../../../../internal/FormWrappers/FormField';\nimport { Controller } from '../../../../../../../hooks/form';\nimport Select from '../../../../../../internal/FormFields/Select';\nimport { LINK_VALIDITY_DURATION_UNITS } from '../../../../constants';\nimport InputBase from '../../../../../../internal/FormFields/InputBase';\nimport { transformToMS } from '../../../../../../../utils';\nimport { SelectChangeEvent } from '../../../../../../internal/FormFields/Select/types';\nimport { FieldError } from '../../../../../../internal/FormFields/FieldError/FieldError';\n\nexport type ValidityFieldProps = {\n    configuration?: IPaymentLinkConfiguration;\n};\n\nconst MAX_VALIDITY_DAYS = 70;\nconst FLEXIBLE_ID = 'flexible';\n\nexport const ValidityField: FunctionalComponent<ValidityFieldProps> = ({ configuration }) => {\n    const [customDurationUnit, setCustomDurationUnit] = useState('');\n    const [customDurationQuantity, setCustomDurationQuantity] = useState<number | undefined>(undefined);\n    const [validityValue, setValidityValue] = useState('');\n    const { i18n } = useCoreContext();\n    const { control, fieldsConfig, setValue, getValues, trigger } = useWizardFormContext<PaymentLinkCreationFormValues>();\n\n    const getValidityFromFormState = useCallback(\n        () => [getValues('linkValidity.durationUnit'), getValues('linkValidity.quantity')] as const,\n        [getValues]\n    );\n\n    const validitySelectItems = useMemo(() => {\n        const options: IPaymentLinkValidity[] = configuration?.linkValidity?.options ?? [];\n        return options.map(({ quantity, durationUnit, type }) => {\n            if (type === FLEXIBLE_ID) {\n                return { id: FLEXIBLE_ID, name: i18n.get('payByLink.creation.fields.validity.linkValidityUnit.custom') };\n            }\n            const key: TranslationKey = `payByLink.creation.fields.validity.linkValidityUnit.${durationUnit}`;\n            return { id: `${quantity} ${durationUnit}` || '', name: i18n.get(key, { values: { quantity }, count: quantity }) };\n        });\n    }, [configuration, i18n]);\n\n    const initializeDefaultValidity = useCallback(() => {\n        if (!validitySelectItems.length) return;\n        const [durationUnit, quantity] = getValidityFromFormState();\n        if (!quantity || !durationUnit) {\n            const [qty, unit] = `${validitySelectItems[0]?.id}`.split(' ');\n            setValue('linkValidity.quantity', qty);\n            setValue('linkValidity.durationUnit', unit);\n        }\n    }, [validitySelectItems, setValue, getValidityFromFormState]);\n\n    const findCurrentOption = useCallback(() => {\n        const [durationUnit, quantity] = getValidityFromFormState();\n        if (!quantity || !durationUnit) return validitySelectItems[0];\n        return validitySelectItems.find(item => item.id === `${quantity} ${durationUnit}`) || { id: FLEXIBLE_ID };\n    }, [validitySelectItems, getValidityFromFormState]);\n\n    useEffect(() => {\n        const [durationUnit, quantity] = getValidityFromFormState();\n        setCustomDurationUnit(durationUnit || '');\n        setCustomDurationQuantity(quantity || '');\n        setValidityValue(findCurrentOption()?.id || '');\n        initializeDefaultValidity();\n    }, [getValidityFromFormState, validitySelectItems, findCurrentOption, initializeDefaultValidity]);\n\n    const isDurationUnitRequired = fieldsConfig['linkValidity.durationUnit']?.required;\n    const isDurationQuantityRequired = fieldsConfig['linkValidity.quantity']?.required;\n\n    const handleCustomDurationQuantityChange = useCallback(\n        (e: JSX.TargetedEvent<HTMLInputElement>) => {\n            const eventValue = (e.target as HTMLInputElement)?.value;\n            const newQuantity = parseInt(eventValue, 10);\n            setValue('linkValidity.quantity', newQuantity);\n            setCustomDurationQuantity(newQuantity);\n            trigger('linkValidity.durationUnit');\n        },\n        [setValue, trigger]\n    );\n\n    const handleCustomDurationUnitChange = useCallback(\n        (selectedValue: string) => {\n            setValue('linkValidity.durationUnit', selectedValue);\n            setCustomDurationUnit(selectedValue);\n            trigger('linkValidity.quantity');\n        },\n        [setValue, trigger]\n    );\n\n    const dropdownItems = useMemo(\n        () =>\n            LINK_VALIDITY_DURATION_UNITS.map(unit => ({\n                id: unit,\n                name: i18n.get(`payByLink.creation.fields.validity.linkValidityUnit.${unit}__plural`),\n            })),\n        [i18n]\n    );\n\n    const validate = useCallback(() => {\n        if (validityValue !== FLEXIBLE_ID) return { valid: true };\n\n        const [durationUnit, durationQuantity] = getValidityFromFormState();\n        const qty = parseInt(durationQuantity, 10);\n\n        if (!durationQuantity) {\n            return { valid: false, message: i18n.get('payByLink.creation.fields.validity.customDuration.error.missingDurationValue') };\n        }\n        if (isNaN(qty) || qty <= 0) {\n            return { valid: false, message: i18n.get('payByLink.creation.fields.validity.customDuration.error.invalidDurationValue') };\n        }\n        if (!durationUnit) {\n            return { valid: false, message: i18n.get('payByLink.creation.fields.validity.customDuration.error.missingDurationUnit') };\n        }\n        // TODO: Change to use config\n        if (transformToMS(durationUnit, qty) > transformToMS('day', MAX_VALIDITY_DAYS)) {\n            return {\n                valid: false,\n                message: i18n.get('payByLink.creation.fields.validity.customDuration.error.durationTooLong', {\n                    values: { maxDays: MAX_VALIDITY_DAYS },\n                }),\n            };\n        }\n        return { valid: true };\n    }, [validityValue, i18n, getValidityFromFormState]);\n\n    return (\n        <VisibleField<PaymentLinkCreationFormValues> name=\"linkValidity.durationUnit\">\n            <Controller<PaymentLinkCreationFormValues>\n                name=\"linkValidity.durationUnit\"\n                control={control}\n                rules={{\n                    required: isDurationUnitRequired,\n                    validate,\n                }}\n                render={({ field: durationUnitField, fieldState: durationUnitFieldState }) => (\n                    <Controller<PaymentLinkCreationFormValues>\n                        name=\"linkValidity.quantity\"\n                        control={control}\n                        rules={{ required: isDurationQuantityRequired, validate }}\n                        render={({ field: durationQuantityField, fieldState: durationQuantityFieldState }) => {\n                            const onSelectInput = (e: SelectChangeEvent) => {\n                                const newValue = (e.target as HTMLSelectElement)?.value;\n                                if (newValue !== FLEXIBLE_ID) {\n                                    const [value, durationUnit] = newValue?.split(' ') || [];\n                                    durationQuantityField.onInput(value);\n                                    durationUnitField.onInput(durationUnit);\n                                    durationQuantityField.triggerValidation();\n                                    durationUnitField.triggerValidation();\n                                } else {\n                                    durationUnitField.onInput('');\n                                    durationQuantityField.onInput('');\n                                    setCustomDurationQuantity(undefined);\n                                    setCustomDurationUnit('');\n                                }\n                                setValidityValue(newValue);\n                            };\n\n                            const isInvalid =\n                                (durationQuantityFieldState.error || durationUnitFieldState.error) &&\n                                durationQuantityFieldState.isTouched &&\n                                durationUnitFieldState.isTouched;\n                            const isValid = !durationQuantityFieldState.error || !durationUnitFieldState.error;\n                            const errorMessage = durationQuantityFieldState.error?.message || durationUnitFieldState.error?.message;\n\n                            return (\n                                <div>\n                                    <div className=\"adyen-pe-payment-link-creation-form__validity-container\">\n                                        <FormField\n                                            label={i18n.get('payByLink.creation.fields.validity.label')}\n                                            supportText={i18n.get('payByLink.creation.fields.validity.supportText')}\n                                            optional={!isDurationUnitRequired && !isDurationQuantityRequired}\n                                        >\n                                            <Select\n                                                selected={validityValue}\n                                                onChange={onSelectInput}\n                                                items={validitySelectItems}\n                                                isValid={isValid}\n                                                isInvalid={isInvalid}\n                                            />\n                                        </FormField>\n                                        {validityValue === FLEXIBLE_ID && (\n                                            <FormField label={i18n.get('payByLink.creation.fields.validity.customDuration.label')} optional={false}>\n                                                <InputBase\n                                                    {...durationQuantityField}\n                                                    dropdown={{ items: dropdownItems, value: customDurationUnit || '', name: durationUnitField.name }}\n                                                    onDropdownInput={handleCustomDurationUnitChange}\n                                                    dropdownPosition=\"end\"\n                                                    value={customDurationQuantity}\n                                                    type=\"number\"\n                                                    onInput={handleCustomDurationQuantityChange}\n                                                    isValid={isValid}\n                                                    isInvalid={isInvalid}\n                                                />\n                                            </FormField>\n                                        )}\n                                    </div>\n                                    {isInvalid && errorMessage && <FieldError errorMessage={errorMessage} withTopMargin />}\n                                </div>\n                            );\n                        }}\n                    />\n                )}\n            />\n        </VisibleField>\n    );\n};\n","export const CURRENCY_INPUT_BASE_CLASS = 'adyen-pe-currency-input';\n","import { getDecimalAmount, getDivider } from '../../core/Localization/amount/amount-util';\n\nexport const formatAmount = (amount: number, currency: string) => getDecimalAmount(amount, currency).toFixed(getCurrencyExponent(currency));\nexport const getCurrencyExponent = (currency: string) => Math.log10(getDivider(currency));\n","import { h } from 'preact';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport InputBase from '../InputBase';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport { EMPTY_OBJECT, uniqueId } from '../../../../utils';\nimport { CURRENCY_INPUT_BASE_CLASS } from './constants';\nimport { useFetch } from '../../../../hooks/useFetch';\nimport { useConfigContext } from '../../../../core/ConfigContext';\nimport { IPaymentLinkCurrency } from '../../../../types';\nimport { formatAmount, getCurrencyExponent } from '../../../../utils/currency/main';\n\nconst PRIORITIZED_CURRENCY_CODES = ['EUR', 'GBP', 'USD'] as const;\n\nconst sortCurrencyItems = <T extends { id: string; name: string }>(items: readonly T[]): T[] => {\n    const priorityIndexByCode = new Map<string, number>(PRIORITIZED_CURRENCY_CODES.map((code, index) => [code, index]));\n\n    return [...items].sort((a, b) => {\n        const aCode = a.id.toUpperCase();\n        const bCode = b.id.toUpperCase();\n        const aPriorityIndex = priorityIndexByCode.get(aCode);\n        const bPriorityIndex = priorityIndexByCode.get(bCode);\n\n        if (aPriorityIndex !== undefined || bPriorityIndex !== undefined) {\n            if (aPriorityIndex === undefined) return 1;\n            if (bPriorityIndex === undefined) return -1;\n            return aPriorityIndex - bPriorityIndex;\n        }\n\n        return aCode.localeCompare(bCode);\n    });\n};\n\ninterface CurrencyInputProps {\n    amount?: number;\n    currency: string;\n    currencyItems?: { id: string; name: string }[];\n    hideCurrencySelector?: boolean;\n    interactionsDisabled?: boolean;\n    isInvalid?: boolean;\n    maxValue?: number;\n    name?: string;\n    onAmountChange: (amount: number) => void;\n    onCurrencyChange: (value: string) => void;\n    selectedCurrencyCode?: string;\n}\n\nexport const CurrencyInput = ({\n    amount,\n    currency,\n    currencyItems,\n    hideCurrencySelector,\n    interactionsDisabled,\n    isInvalid = false,\n    maxValue,\n    name,\n    onAmountChange,\n    onCurrencyChange,\n    selectedCurrencyCode,\n}: CurrencyInputProps) => {\n    const prevCurrency = useRef(currency);\n    const { i18n } = useCoreContext();\n    const { currencies: getCurrencies } = useConfigContext().endpoints;\n    const [displayValue, setDisplayValue] = useState(amount ? `${formatAmount(amount, currency)}` : '');\n\n    const computedNumberAmount = useCallback(\n        (value: string) => {\n            const decimalSeparator = (1.1).toLocaleString(i18n.locale).match(/\\d(.*?)\\d/)?.[1] || '.';\n            const normalizedValue = decimalSeparator === '.' ? value : value.replace(decimalSeparator, '.');\n            const exponent = getCurrencyExponent(currency);\n            return Math.trunc(+`${parseFloat(normalizedValue)}e${exponent}`) || 0;\n        },\n        [currency, i18n.locale]\n    );\n\n    useEffect(() => {\n        if (currency !== prevCurrency.current) {\n            setDisplayValue(amount ? `${formatAmount(amount, currency)}` : '');\n            prevCurrency.current = currency;\n        }\n    }, [amount, currency]);\n\n    const onInput = (evt: h.JSX.TargetedEvent<HTMLInputElement>) => {\n        let value = evt.currentTarget.value.trim();\n\n        // Get the decimal separator based on the user's locale\n        const decimalSeparator = (1.1).toLocaleString(i18n.locale).match(/\\d(.*?)\\d/)?.[1] || '.';\n        // Split the input value at the decimal separator\n        const parts = value.split(decimalSeparator);\n\n        if (parts.length === 2) {\n            const exponent = getCurrencyExponent(currency);\n\n            const integerPart = parts[0]!;\n            let decimalPart = parts[1]!;\n\n            if (decimalPart.length >= exponent) {\n                decimalPart = decimalPart.substring(0, exponent);\n                value = integerPart + decimalSeparator + decimalPart;\n                evt.currentTarget.value = value;\n            }\n        }\n\n        if (value.endsWith(decimalSeparator)) {\n            value = value.slice(0, -decimalSeparator.length);\n            evt.currentTarget.value = value;\n        }\n\n        if (typeof maxValue === 'number') {\n            const normalizedValue = decimalSeparator === '.' ? value : value.replace(decimalSeparator, '.');\n            const parsed = parseFloat(normalizedValue);\n\n            if (Number.isFinite(parsed) && parsed > maxValue) {\n                const exponent = getCurrencyExponent(currency);\n                const fixed = maxValue.toFixed(exponent);\n                value = decimalSeparator === '.' ? fixed : fixed.replace('.', decimalSeparator);\n                evt.currentTarget.value = value;\n            }\n        }\n\n        setDisplayValue(value);\n        onAmountChange(computedNumberAmount(value));\n    };\n\n    const currenciesQuery = useFetch({\n        fetchOptions: { enabled: !!getCurrencies && !currencyItems?.length },\n        queryFn: useCallback(async () => {\n            return getCurrencies?.(EMPTY_OBJECT);\n        }, [getCurrencies]),\n    });\n\n    const currencyDropdownItems = useMemo(() => {\n        const currencies: IPaymentLinkCurrency = currenciesQuery.data?.data ?? [];\n        const items = currencies.map(currency => {\n            return {\n                id: currency,\n                name: currency,\n            };\n        });\n        return items;\n    }, [currenciesQuery.data]);\n\n    const sortedCurrencyItems = useMemo(() => {\n        const items = currencyItems?.length ? currencyItems : currencyDropdownItems;\n        return sortCurrencyItems(items);\n    }, [currencyDropdownItems, currencyItems]);\n\n    const inputIdentifier = useRef(uniqueId());\n    const labelIdentifier = useRef(uniqueId());\n\n    const dropdownProps = useMemo(() => {\n        if (hideCurrencySelector) {\n            return {};\n        }\n\n        return {\n            onDropdownInput: onCurrencyChange,\n            dropdown: {\n                items: sortedCurrencyItems,\n                value: selectedCurrencyCode,\n                readonly: currenciesQuery.isFetching,\n            },\n        };\n    }, [hideCurrencySelector, sortedCurrencyItems, selectedCurrencyCode, currenciesQuery.isFetching, onCurrencyChange]);\n\n    return (\n        <div className=\"adyen-pe-currency-input__container\">\n            <label htmlFor={inputIdentifier.current} aria-labelledby={labelIdentifier.current}>\n                {/* {currency && <Tag label={currency} variant={TagVariant.DEFAULT} />} */}\n                <InputBase\n                    {...dropdownProps}\n                    type=\"number\"\n                    className={CURRENCY_INPUT_BASE_CLASS}\n                    disabled={interactionsDisabled || currenciesQuery.isFetching}\n                    isInvalid={isInvalid}\n                    lang={i18n.locale}\n                    min={0}\n                    name={name}\n                    onInput={onInput}\n                    uniqueId={inputIdentifier.current}\n                    value={displayValue}\n                />\n            </label>\n        </div>\n    );\n};\n","import { PaymentLinkCreationFormValues } from '../../../types';\nimport useCoreContext from '../../../../../../../core/Context/useCoreContext';\nimport { useCallback, useEffect, useMemo } from 'preact/hooks';\nimport { useWizardFormContext } from '../../../../../../../hooks/form/wizard/WizardFormContext';\nimport { CurrencyInput } from '../../../../../../internal/FormFields/CurrencyInput/CurrencyInput';\nimport { VisibleField } from '../../../../../../internal/FormWrappers/VisibleField';\nimport FormField from '../../../../../../internal/FormWrappers/FormField';\nimport { Controller } from '../../../../../../../hooks/form';\nimport { FieldError } from '../../../../../../internal/FormFields/FieldError/FieldError';\n\nconst VALUE_FIELD_NAME = 'amount.value';\nconst CURRENCY_FIELD_NAME = 'amount.currency';\nconst MAX_AMOUNT = 10_000_000_000_000; // 10 billion\n\nexport const AmountField = () => {\n    const { i18n } = useCoreContext();\n    const { control, setValue, getValues, fieldsConfig, trigger } = useWizardFormContext<PaymentLinkCreationFormValues>();\n\n    const currencyCodeFieldVisible = useMemo(() => fieldsConfig?.[CURRENCY_FIELD_NAME]?.visible ?? false, [fieldsConfig]);\n\n    const validate = useCallback(\n        (value: string) => {\n            if (Number(value) < 0) {\n                return { valid: false, message: i18n.get('payByLink.creation.fields.amountValue.error.negativeNumber') };\n            }\n            if (currencyCodeFieldVisible && !getValues(CURRENCY_FIELD_NAME)) {\n                return { valid: false, message: i18n.get('payByLink.creation.fields.amountValue.error.currency') };\n            }\n            if (!value || Number(value) === 0) {\n                return { valid: false, message: i18n.get('common.errors.fieldRequired') };\n            }\n            return { valid: true };\n        },\n        [i18n, getValues, currencyCodeFieldVisible]\n    );\n\n    const handleCurrencyChange = useCallback(\n        (value: string, isInvalid: boolean) => {\n            setValue(CURRENCY_FIELD_NAME, value);\n            if (isInvalid) {\n                trigger(VALUE_FIELD_NAME);\n            }\n        },\n        [setValue, trigger, getValues]\n    );\n\n    const isRequired = useMemo(() => fieldsConfig?.amount?.required, [fieldsConfig]);\n\n    const currencyItems = useMemo(() => {\n        const options = fieldsConfig?.[CURRENCY_FIELD_NAME]?.options as string[] | undefined;\n        return options?.map(option => ({ id: option, name: option }));\n    }, [fieldsConfig]);\n\n    useEffect(() => {\n        if (currencyItems?.length === 1) {\n            setValue(CURRENCY_FIELD_NAME, currencyItems[0]?.id);\n        }\n    }, [currencyItems]);\n\n    return (\n        <VisibleField<PaymentLinkCreationFormValues> name={VALUE_FIELD_NAME}>\n            <FormField label={i18n.get('payByLink.creation.fields.amount.label')} optional={false} supportText={undefined} className={undefined}>\n                <Controller<PaymentLinkCreationFormValues>\n                    name={VALUE_FIELD_NAME}\n                    control={control}\n                    rules={{\n                        validate,\n                        required: isRequired,\n                    }}\n                    render={({ field, fieldState }) => {\n                        const isInvalid = !!fieldState.error && fieldState.isTouched;\n                        const errorMessage = fieldState.error?.message;\n                        return (\n                            <>\n                                <CurrencyInput\n                                    {...field}\n                                    selectedCurrencyCode={getValues(CURRENCY_FIELD_NAME)}\n                                    onCurrencyChange={value => handleCurrencyChange(value, isInvalid)}\n                                    currency={getValues(CURRENCY_FIELD_NAME)}\n                                    currencyItems={currencyItems}\n                                    isInvalid={isInvalid}\n                                    name={VALUE_FIELD_NAME}\n                                    amount={field.value ? Number(field.value) : undefined}\n                                    onAmountChange={field.onInput}\n                                    maxValue={MAX_AMOUNT}\n                                />\n                                {isInvalid && errorMessage && <FieldError errorMessage={errorMessage} />}\n                            </>\n                        );\n                    }}\n                />\n            </FormField>\n        </VisibleField>\n    );\n};\n","import { PaymentLinkCreationFormValues } from '../../../types';\nimport useCoreContext from '../../../../../../../core/Context/useCoreContext';\nimport { useMemo } from 'preact/hooks';\nimport { FunctionalComponent } from 'preact';\nimport { IPaymentLinkConfiguration, IPaymentLinkType } from '../../../../../../../types/api/models/payByLink';\nimport { TranslationKey } from '../../../../../../../translations';\nimport { FormSelect } from '../../../../../../internal/FormWrappers/FormSelect';\n\nexport type LinkTypeFieldProps = {\n    configuration?: IPaymentLinkConfiguration;\n};\n\nconst LINK_TYPE_FALLBACK = ['open', 'singleUse'] satisfies IPaymentLinkType[];\n\nexport const LinkTypeField: FunctionalComponent<LinkTypeFieldProps> = ({ configuration }) => {\n    const { i18n } = useCoreContext();\n\n    const linkTypes = useMemo(() => {\n        const options = configuration?.linkType?.options?.length ? configuration?.linkType?.options : LINK_TYPE_FALLBACK;\n        return options.map((type: IPaymentLinkType) => {\n            const key: TranslationKey = `payByLink.creation.form.linkTypes.${type}`;\n            return {\n                id: type,\n                name: i18n.get(key),\n            };\n        });\n    }, [configuration, i18n]);\n\n    return (\n        <FormSelect<PaymentLinkCreationFormValues>\n            fieldName=\"linkType\"\n            label={i18n.get('payByLink.creation.fields.linkType.label')}\n            items={linkTypes}\n        />\n    );\n};\n","import { InteractionKeyCode } from '../../../../types';\nimport Button from '../../../Button';\nimport { ButtonVariant } from '../../../Button/types';\nimport Icon from '../../../Icon';\nimport cx from 'classnames';\nimport { MutableRef } from 'preact/hooks';\n\ninterface CalendarInputButtonProps {\n    label: string;\n    isOpen: boolean;\n    isInvalid?: boolean;\n    onClick: () => void;\n    onClear?: (e?: Event) => void;\n    showClearButton?: boolean;\n    buttonRef: MutableRef<HTMLButtonElement | null>;\n}\n\nexport function CalendarInputButton({ label, isOpen, isInvalid, onClick, onClear, showClearButton, buttonRef }: CalendarInputButtonProps) {\n    return (\n        <Button\n            ref={buttonRef}\n            onClick={e => {\n                e.preventDefault();\n                onClick();\n            }}\n            variant={ButtonVariant.SECONDARY}\n            aria-haspopup=\"dialog\"\n            aria-expanded={isOpen}\n            aria-invalid={isInvalid ? 'true' : undefined}\n            className={cx('adyen-pe-button adyen-pe-dropdown__button', {\n                ['adyen-pe-button--invalid']: isInvalid,\n            })}\n            iconRight={\n                showClearButton ? (\n                    <>\n                        <span\n                            role=\"button\"\n                            tabIndex={0}\n                            className=\"adyen-pe-dropdown__button-clear\"\n                            onClick={e => {\n                                e.preventDefault();\n                                e.stopPropagation();\n                                onClear?.(e as unknown as Event);\n                            }}\n                            onKeyDown={e => {\n                                if (e.code === InteractionKeyCode.ENTER || e.code === InteractionKeyCode.SPACE) {\n                                    e.preventDefault();\n                                    e.stopPropagation();\n                                    onClear?.(e as unknown as Event);\n                                }\n                            }}\n                        >\n                            <Icon name=\"cross-circle-fill\" />\n                        </span>\n                    </>\n                ) : (\n                    <Icon className=\"adyen-pe-dropdown__button-collapse-indicator\" name=\"chevron-down\" />\n                )\n            }\n        >\n            <span>{label}</span>\n        </Button>\n    );\n}\n","import Popover from '../../../Popover/Popover';\nimport { PopoverContainerPosition, PopoverContainerSize, PopoverContainerVariant } from '../../../Popover/types';\nimport Calendar from '../../../Calendar';\nimport { DEFAULT_FIRST_WEEK_DAY } from '../../../Calendar/calendar/timerange/presets/shared/offsetWeek';\nimport calendar from '../../../Calendar/calendar';\nimport { CalendarProps } from '../../../Calendar/types';\nimport useCalendarControlsRendering from '../../../Calendar/hooks/useCalendarControlsRendering';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { MutableRef } from 'preact/hooks';\n\ninterface CalendarInputPopoverProps {\n    isOpen: boolean;\n    onClose: () => void;\n    originDate?: Date[];\n    onHighlight: (from?: number) => void;\n    getGridLabel: CalendarProps['getGridLabel'];\n    targetElement: MutableRef<Element | null>;\n}\n\nexport function CalendarInputPopover({ isOpen, onClose, originDate, onHighlight, getGridLabel, targetElement }: CalendarInputPopoverProps) {\n    const { i18n } = useCoreContext();\n    const [controlsRenderer, controlsContainerRef] = useCalendarControlsRendering();\n\n    return (\n        <Popover\n            open={isOpen}\n            dismiss={() => {\n                onClose();\n            }}\n            variant={PopoverContainerVariant.POPOVER}\n            containerSize={PopoverContainerSize.MEDIUM}\n            targetElement={targetElement}\n            withContentPadding={true}\n            position={PopoverContainerPosition.TOP}\n            fixedPositioning={false}\n            dismissible={false}\n        >\n            <div\n                ref={controlsContainerRef}\n                role=\"group\"\n                className={'adyen-pe-datepicker__controls'}\n                aria-label={i18n.get('common.filters.types.date.calendar.navigation.label')}\n            />\n            <div>\n                <Calendar\n                    getGridLabel={getGridLabel}\n                    firstWeekDay={DEFAULT_FIRST_WEEK_DAY}\n                    controls={calendar.controls.MINIMAL}\n                    highlight={calendar.highlight.ONE}\n                    dynamicBlockRows={true}\n                    onlyCellsWithin={true}\n                    originDate={originDate}\n                    onHighlight={onHighlight}\n                    renderControl={controlsRenderer}\n                    trackCurrentDay={true}\n                />\n            </div>\n        </Popover>\n    );\n}\n","import { useState, useRef, useCallback, useMemo } from 'preact/hooks';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport { CalendarProps } from '../../Calendar/types';\nimport { DATE_FORMAT_DELIVERY_DATE } from '../../../../constants';\nimport useTimezoneAwareDateFormatting from '../../../../hooks/useTimezoneAwareDateFormatting';\nimport { CalendarInputButton } from './components/CalendarInputButton';\nimport { CalendarInputPopover } from './components/CalendarInputPopover';\n\ninterface CalendarInputProps {\n    clearable?: boolean;\n    value?: string;\n    onInput: (val: any) => void;\n    isInvalid?: boolean;\n    timezone?: string;\n}\n\nexport function CalendarInput({ clearable, value, onInput, isInvalid, timezone }: CalendarInputProps) {\n    const { i18n } = useCoreContext();\n    const { dateFormat } = useTimezoneAwareDateFormatting(timezone);\n    const [open, setOpen] = useState(false);\n    const buttonRef = useRef<HTMLButtonElement | null>(null);\n\n    const originDate = useMemo(() => (value ? [new Date(value)] : undefined), [value]);\n    const label = useMemo(\n        () => (value ? dateFormat(value, DATE_FORMAT_DELIVERY_DATE) : i18n.get('common.inputs.select.placeholder')),\n        [dateFormat, i18n, value]\n    );\n    const [lastUpdatedTimestamp, setLastUpdatedTimestamp] = useState<string | undefined>(value);\n    const getGridLabel = useCallback<CalendarProps['getGridLabel']>(\n        block => i18n.get('common.filters.types.date.calendar.label', { values: { monthOfYear: block.label } }),\n        [i18n]\n    );\n\n    const onHighlight = useCallback(\n        (from?: number) => {\n            if (from) {\n                const iso = new Date(from).toISOString();\n                onInput(iso);\n                setLastUpdatedTimestamp(iso);\n                if (iso !== lastUpdatedTimestamp) setOpen(false);\n            }\n        },\n        [lastUpdatedTimestamp, onInput]\n    );\n\n    const showClearButton = useMemo(() => !!clearable && !!value, [clearable, value]);\n\n    const onClear = useCallback(\n        (e?: Event) => {\n            e?.preventDefault?.();\n            e?.stopPropagation?.();\n            onInput('');\n            setLastUpdatedTimestamp(undefined);\n            setOpen(false);\n        },\n        [onInput]\n    );\n\n    return (\n        <div>\n            <CalendarInputButton\n                label={label}\n                isOpen={open}\n                isInvalid={isInvalid}\n                onClick={() => setOpen(prev => !prev)}\n                showClearButton={showClearButton}\n                onClear={onClear}\n                buttonRef={buttonRef}\n            />\n            <CalendarInputPopover\n                isOpen={open}\n                onClose={() => setOpen(false)}\n                originDate={originDate}\n                onHighlight={onHighlight}\n                getGridLabel={getGridLabel}\n                targetElement={buttonRef}\n            />\n        </div>\n    );\n}\n","import { useMemo } from 'preact/hooks';\nimport { Controller } from '../../../hooks/form';\nimport { FieldValues } from '../../../hooks/form/types';\nimport { useWizardFormContext } from '../../../hooks/form/wizard/WizardFormContext';\nimport FormField from './FormField';\nimport { CalendarInput } from '../FormFields/CalendarInput/CalendarInput';\nimport { VisibleField } from './VisibleField';\nimport { FieldError } from '../FormFields/FieldError/FieldError';\n\ninterface FormCalendarInputProps<TFieldValues> {\n    clearable?: boolean;\n    fieldName: FieldValues<TFieldValues>;\n    label: string;\n}\n\nexport function FormCalendarInput<TFieldValues>({ clearable, fieldName, label }: FormCalendarInputProps<TFieldValues>) {\n    const { control, fieldsConfig } = useWizardFormContext<TFieldValues>();\n\n    const isRequired = useMemo(() => fieldsConfig[fieldName]?.required, [fieldsConfig]);\n\n    return (\n        <VisibleField name={fieldName}>\n            <FormField label={label} optional={!isRequired}>\n                <Controller<TFieldValues>\n                    name={fieldName}\n                    control={control}\n                    rules={{\n                        required: isRequired,\n                    }}\n                    render={({ field, fieldState }) => {\n                        return (\n                            <div>\n                                <CalendarInput\n                                    value={field.value as string}\n                                    onInput={field.onInput}\n                                    isInvalid={!!fieldState.error && fieldState.isTouched}\n                                    clearable={clearable}\n                                />\n                                {fieldState.error?.message && <FieldError errorMessage={fieldState.error?.message} withTopMargin />}\n                            </div>\n                        );\n                    }}\n                />\n            </FormField>\n        </VisibleField>\n    );\n}\n","import { ValidityField } from './Fields/ValidityField';\nimport { AmountField } from './Fields/AmountField';\nimport { LinkTypeField } from './Fields/LinkTypeField';\nimport { FormTextInput } from '../../../../../internal/FormWrappers/FormTextInput';\nimport { PaymentLinkCreationFormValues } from '../../types';\nimport useCoreContext from '../../../../../../core/Context/useCoreContext';\nimport { FormCalendarInput } from '../../../../../internal/FormWrappers/FormCalendarInput';\nimport { PAYMENT_LINK_CREATION_FIELD_LENGTHS } from '../../../constants';\nimport './PaymentDetailsForm.scss';\nimport { IPaymentLinkConfiguration } from '../../../../../../types/api/models/payByLink';\n\ninterface PaymentDetailsFormProps {\n    configuration?: IPaymentLinkConfiguration;\n}\n\nexport const PaymentDetailsForm = ({ configuration }: PaymentDetailsFormProps) => {\n    const { i18n } = useCoreContext();\n    return (\n        <div className=\"adyen-pe-payment-link-creation-form__fields-container\">\n            <ValidityField configuration={configuration} />\n            <AmountField />\n            <FormTextInput<PaymentLinkCreationFormValues>\n                minLength={PAYMENT_LINK_CREATION_FIELD_LENGTHS.merchantReference.min}\n                maxLength={PAYMENT_LINK_CREATION_FIELD_LENGTHS.merchantReference.max}\n                fieldName=\"reference\"\n                label={i18n.get('payByLink.creation.fields.merchantReference.label')}\n            />\n            <LinkTypeField configuration={configuration} />\n            <FormTextInput<PaymentLinkCreationFormValues>\n                maxLength={PAYMENT_LINK_CREATION_FIELD_LENGTHS.description.max}\n                fieldName=\"description\"\n                label={i18n.get('payByLink.creation.fields.description.label')}\n                supportText={i18n.get('payByLink.creation.fields.description.supportText')}\n            />\n            <FormCalendarInput<PaymentLinkCreationFormValues>\n                clearable\n                fieldName=\"deliverAt\"\n                label={i18n.get('payByLink.creation.fields.deliverAt.label')}\n            />\n        </div>\n    );\n};\n","import { PaymentLinkCreationFormValues } from '../../types';\nimport { FieldValues } from '../../../../../../hooks/form/types';\n\nexport const invisibleFields: FieldValues<PaymentLinkCreationFormValues>[] = [\n    'amount.currency',\n    'linkValidity.durationUnit',\n    'deliverAt',\n    'shopperLocale',\n    'sendSuccessEmailToShopper',\n    'sendLinkToShopper',\n];\n","import cx from 'classnames';\nimport Alert from '../../../../../internal/Alert/Alert';\nimport useCoreContext from '../../../../../../core/Context/useCoreContext';\nimport Typography from '../../../../../internal/Typography/Typography';\nimport StructuredList from '../../../../../internal/StructuredList';\nimport { AlertTypeOption, AlertVariantOption } from '../../../../../internal/Alert/types';\nimport { containerQueries, useResponsiveContainer } from '../../../../../../hooks/useResponsiveContainer';\nimport { Divider } from '../../../../../internal/Divider/Divider';\nimport { TypographyElement, TypographyVariant } from '../../../../../internal/Typography/types';\nimport { invisibleFields } from './constants';\nimport { useWizardFormContext } from '../../../../../../hooks/form/wizard/WizardFormContext';\nimport { PaymentLinkCreationFormValues } from '../../types';\nimport { StructuredListItem } from '../../../../../internal/StructuredList/types';\nimport { useMemo } from 'preact/hooks';\nimport { Tag } from '../../../../../internal/Tag/Tag';\nimport { IPaymentLinkType } from '../../../../../../types';\nimport type { TranslationKey } from '../../../../../../translations';\nimport './FormSummary.scss';\n\ninterface FormSummaryProps {\n    countryDatasetData?: { id: string; name: string }[];\n}\n\nexport const FormSummary = ({ countryDatasetData }: FormSummaryProps) => {\n    const { getSummaryData, getValues, getDisplayValue } = useWizardFormContext<PaymentLinkCreationFormValues>();\n    const formValues = getSummaryData();\n    const { i18n } = useCoreContext();\n    const isMobile = useResponsiveContainer(containerQueries.down.xs);\n\n    const paymentListItems = useMemo<StructuredListItem[]>(() => {\n        const { payment } = formValues;\n        const visibleFields = payment?.fields.filter(({ id }) => !invisibleFields.includes(id));\n\n        // Store step does not exist when only one store is available, so we create it manually\n        // Also, we want to show it under the payment details section\n        const storeField = {\n            id: 'store',\n            label: 'payByLink.creation.summary.fields.store',\n            value: getValues('store'),\n            displayValue: getDisplayValue('store'),\n        };\n\n        const jointFields = [...(storeField ? [storeField] : []), ...(visibleFields || [])];\n\n        const items: StructuredListItem[] | undefined = jointFields?.map(({ label, value, id, displayValue }) => ({\n            key: (label || id) as TranslationKey,\n            value: displayValue || value,\n            id,\n            render: item => {\n                switch (item.id) {\n                    case 'linkValidity.quantity': {\n                        const durationUnit = payment?.fields?.find(field => field.id === 'linkValidity.durationUnit');\n                        return i18n.get(`payByLink.creation.fields.validity.linkValidityUnit.${durationUnit?.value}` as TranslationKey, {\n                            values: { quantity: item.value },\n                            count: Number(item.value),\n                        });\n                    }\n                    case 'amount.value': {\n                        const currencyField = payment?.fields?.find(field => field.id === 'amount.currency');\n                        return i18n.amount(item.value, currencyField?.value);\n                    }\n                    case 'linkType':\n                        return i18n.get(`payByLink.creation.form.linkTypes.${item.value as IPaymentLinkType}`);\n                    default:\n                        return item.value;\n                }\n            },\n        }));\n\n        return items || [];\n    }, [formValues, getDisplayValue, getValues, i18n]);\n\n    const customerListItems = useMemo(() => {\n        const { customer } = formValues;\n        const visibleFields = customer?.fields.filter(({ id }) => !invisibleFields.includes(id));\n        const createListItem = ({\n            label,\n            value,\n            id,\n            displayValue,\n        }: {\n            label?: string;\n            value: string;\n            id?: string;\n            displayValue?: string;\n        }): StructuredListItem => ({\n            key: (label || id) as TranslationKey,\n            value: displayValue || value,\n            id,\n            render: item => {\n                switch (item.id) {\n                    case 'countryCode':\n                    case 'deliveryAddress.country':\n                    case 'billingAddress.country':\n                        return countryDatasetData?.find(countryData => countryData.id === item.value)?.name;\n                    default:\n                        return item.value;\n                }\n            },\n        });\n\n        const deliveryAddressItems = visibleFields?.filter(field => field.id?.startsWith('deliveryAddress.'))?.map(createListItem);\n        const billingAddressItems = visibleFields?.filter(field => field.id?.startsWith('billingAddress.'))?.map(createListItem);\n        const nonAddressItems = visibleFields\n            ?.filter(field => !field?.id?.startsWith('deliveryAddress.') && !field?.id?.startsWith('billingAddress.'))\n            ?.map(createListItem);\n\n        const sendLinkToShopper = customer?.fields.find(field => field.id === 'sendLinkToShopper' && field.value === true);\n        const sendPaymentSuccessToShopper = customer?.fields.find(field => field.id === 'sendSuccessEmailToShopper' && field.value === true);\n\n        if (sendLinkToShopper || sendPaymentSuccessToShopper) {\n            nonAddressItems?.splice(3, 0, {\n                key: 'payByLink.creation.summary.fields.emailNotifications',\n                value: [sendPaymentSuccessToShopper, sendLinkToShopper].filter(Boolean),\n                render: () => (\n                    <div className=\"adyen-pe-payment-link-creation-form-summary__tags-container\">\n                        {sendLinkToShopper && (\n                            <Tag>\n                                <Typography variant={TypographyVariant.CAPTION} el={TypographyElement.SPAN} stronger>\n                                    {i18n.get('payByLink.creation.summary.fields.emailNotifications.emailCreation')}\n                                </Typography>\n                            </Tag>\n                        )}\n                        {sendPaymentSuccessToShopper && (\n                            <Tag>\n                                <Typography variant={TypographyVariant.CAPTION} el={TypographyElement.SPAN} stronger>\n                                    {i18n.get('payByLink.creation.summary.fields.emailNotifications.paymentSuccess')}\n                                </Typography>\n                            </Tag>\n                        )}\n                    </div>\n                ),\n            });\n        }\n\n        return { nonAddressItems, deliveryAddressItems, billingAddressItems };\n    }, [countryDatasetData, formValues, i18n]);\n\n    return (\n        <section className={cx('adyen-pe-payment-link-creation-form-summary', { 'adyen-pe-payment-link-creation-form-summary--mobile': isMobile })}>\n            <section className=\"adyen-pe-payment-link-creation-form-summary__section\">\n                <Typography variant={TypographyVariant.SUBTITLE} className=\"adyen-pe-payment-link-creation-form-summary__section-title\">\n                    {i18n.get('payByLink.creation.summary.paymentDetails')}\n                </Typography>\n                <div>\n                    <StructuredList layout={'5-7'} align={'start'} condensed={false} items={paymentListItems} />\n                </div>\n            </section>\n            {customerListItems.nonAddressItems?.length && (\n                <>\n                    <Divider />\n                    <section className=\"adyen-pe-payment-link-creation-form-summary__section\">\n                        <Typography variant={TypographyVariant.SUBTITLE} className=\"adyen-pe-payment-link-creation-form-summary__section-title\">\n                            {i18n.get('payByLink.creation.summary.shopperInformation')}\n                        </Typography>\n                        <div>\n                            <StructuredList layout={'5-7'} align={'start'} condensed={false} items={customerListItems.nonAddressItems} />\n                        </div>\n                    </section>\n                </>\n            )}\n            {!!customerListItems.deliveryAddressItems?.length && (\n                <section className=\"adyen-pe-payment-link-creation-form-summary__section\">\n                    <Typography variant={TypographyVariant.BODY} className=\"adyen-pe-payment-link-creation-form-summary__section-title\">\n                        {i18n.get('payByLink.creation.summary.deliveryAddress')}\n                    </Typography>\n                    <div>\n                        <StructuredList layout={'5-7'} align={'start'} condensed={false} items={customerListItems.deliveryAddressItems || []} />\n                    </div>\n                </section>\n            )}\n            {!!customerListItems.billingAddressItems?.length && (\n                <section className=\"adyen-pe-payment-link-creation-form-summary__section\">\n                    <Typography variant={TypographyVariant.BODY} className=\"adyen-pe-payment-link-creation-form-summary__section-title\">\n                        {i18n.get('payByLink.creation.summary.billingAddress')}\n                    </Typography>\n                    <div>\n                        <StructuredList layout={'5-7'} align={'start'} condensed={false} items={customerListItems.billingAddressItems || []} />\n                    </div>\n                </section>\n            )}\n            <Alert\n                className=\"adyen-pe-payment-link-creation-form-summary__alert\"\n                variant={AlertVariantOption.TIP}\n                type={AlertTypeOption.HIGHLIGHT}\n                description={i18n.get('payByLink.creation.summary.alertDescription')}\n            />\n        </section>\n    );\n};\n","import { PaymentLinkCreationFormValues } from '../../../types';\nimport useCoreContext from '../../../../../../../core/Context/useCoreContext';\n\nimport { FormSelect } from '../../../../../../internal/FormWrappers/FormSelect';\nimport { SelectChangeEvent } from '../../../../../../internal/FormFields/Select/types';\nimport { useWizardFormContext } from '../../../../../../../hooks/form/wizard/WizardFormContext';\nimport { useCallback } from 'preact/hooks';\n\ninterface StoreFieldProps {\n    items: { id: string; name: string }[];\n}\n\nconst StoreField = ({ items }: StoreFieldProps) => {\n    const { i18n } = useCoreContext();\n    const { setFieldDisplayValue } = useWizardFormContext<PaymentLinkCreationFormValues>();\n\n    const handleChange = useCallback(\n        (event: SelectChangeEvent) => {\n            const displayValue = items.find(item => item.id === event.target.value)?.name;\n            setFieldDisplayValue('store', displayValue);\n        },\n        [items]\n    );\n\n    return (\n        <FormSelect<PaymentLinkCreationFormValues>\n            fieldName={'store'}\n            label={i18n.get('payByLink.creation.fields.store.label')}\n            items={items}\n            onChange={handleChange}\n            preventInvalidState\n        />\n    );\n};\n\nexport default StoreField;\n","import useCoreContext from '../../../../../../core/Context/useCoreContext';\nimport Alert from '../../../../../internal/Alert/Alert';\nimport { AlertTypeOption } from '../../../../../internal/Alert/types';\nimport StoreField from './Fields/StoreField';\n\nimport { StateUpdater, useMemo } from 'preact/hooks';\nimport { useConfigContext } from '../../../../../../core/ConfigContext';\nimport { PaymentLinkCreationFormValues } from '../../types';\nimport { useWizardFormContext } from '../../../../../../hooks/form/wizard/WizardFormContext';\nimport { IPaymentLinkSettings, IPaymentLinkStore } from '../../../../../../types';\nimport { Dispatch } from 'preact/compat';\nimport { StoreIds } from '../../../../PaymentLinksOverview/types';\nimport './StoreForm.scss';\n\ninterface StoreFormProps {\n    setShowTermsAndConditions: Dispatch<StateUpdater<boolean>>;\n    storeIds?: StoreIds;\n    settingsData?: IPaymentLinkSettings;\n    storesData?: IPaymentLinkStore[];\n    selectItems: { id: string; name: string }[];\n    termsAndConditionsProvisioned: boolean;\n}\n\nexport const StoreForm = ({ setShowTermsAndConditions, settingsData, storesData, selectItems, termsAndConditionsProvisioned }: StoreFormProps) => {\n    const { i18n } = useCoreContext();\n    const { savePayByLinkSettings } = useConfigContext().endpoints;\n    const { getValues } = useWizardFormContext<PaymentLinkCreationFormValues>();\n    const canModifySettings = !!savePayByLinkSettings;\n\n    const selectedStoreId = getValues('store');\n\n    const alertLabel = useMemo(() => {\n        if (!termsAndConditionsProvisioned) {\n            if (canModifySettings) {\n                return 'payByLink.creation.storeForm.alerts.tcSetupRequired';\n            }\n            return 'payByLink.creation.storeForm.alerts.tcSetupRequiredWithoutPermissions';\n        }\n    }, [termsAndConditionsProvisioned, canModifySettings]);\n\n    const alertActions = useMemo(() => {\n        if (!canModifySettings) {\n            return [];\n        }\n        return [\n            {\n                label: i18n.get('payByLink.creation.storeForm.alerts.tcSetupRequiredAction'),\n                onClick: () => {\n                    setShowTermsAndConditions(true);\n                },\n            },\n        ];\n    }, [canModifySettings, setShowTermsAndConditions, i18n]);\n\n    return (\n        <div className=\"adyen-pe-payment-link-creation-form__fields-container\">\n            <StoreField items={selectItems} />\n            {settingsData && storesData && selectedStoreId && !termsAndConditionsProvisioned && (\n                <Alert\n                    className=\"adyen-pe-payment-link-creation-form__tc-alert\"\n                    title={i18n.get('payByLink.creation.storeForm.alerts.tcSetupRequiredTitle')}\n                    type={AlertTypeOption.WARNING}\n                    description={alertLabel && i18n.get(alertLabel)}\n                    actions={alertActions}\n                />\n            )}\n        </div>\n    );\n};\n","import { LinkCreationFormStep } from '../types';\nimport { CustomerDetailsForm } from '../Form/CustomerDetailsForm/CustomerDetailsForm';\nimport { PaymentDetailsForm } from '../Form/PaymentDetailsForm/PaymentDetailsForm';\nimport { FormSummary } from '../Form/Summary/FormSummary';\nimport { StoreForm } from '../Form/StoreForm/StoreForm';\nimport { Dispatch, SetStateAction } from 'preact/compat';\nimport { IPaymentLinkSettings, IPaymentLinkStore, IPaymentLinkConfiguration, IPaymentLinkCountry } from '../../../../../types/api/models/payByLink';\nimport { StateUpdater } from 'preact/hooks';\nimport { StoreIds } from '../../../PaymentLinksOverview/types';\n\ntype FormStepRendererProps = {\n    setShowTermsAndConditions: Dispatch<StateUpdater<boolean>>;\n    currentFormStep: LinkCreationFormStep;\n    settingsData?: IPaymentLinkSettings;\n    storeIds?: StoreIds;\n    storesData?: {\n        data: IPaymentLinkStore[];\n    };\n    selectItems: {\n        id: string;\n        name: string;\n    }[];\n    termsAndConditionsProvisioned: boolean;\n    configurationData?: IPaymentLinkConfiguration;\n    isSeparateAddress: boolean;\n    setIsSeparateAddress: Dispatch<SetStateAction<boolean>>;\n    countriesData?: {\n        data: IPaymentLinkCountry[];\n    };\n    isFetchingCountries: boolean;\n    countryDatasetData?: Array<{ id: string; name: string }>;\n    isFetchingCountryDataset: boolean;\n};\n\nexport const FormStepRenderer = ({\n    setShowTermsAndConditions,\n    currentFormStep,\n    settingsData,\n    storeIds,\n    storesData,\n    selectItems,\n    termsAndConditionsProvisioned,\n    configurationData,\n    isSeparateAddress,\n    setIsSeparateAddress,\n    countriesData,\n    isFetchingCountries,\n    countryDatasetData,\n    isFetchingCountryDataset,\n}: FormStepRendererProps) => {\n    switch (currentFormStep) {\n        case 'store':\n            return (\n                <StoreForm\n                    setShowTermsAndConditions={setShowTermsAndConditions}\n                    settingsData={settingsData}\n                    storeIds={storeIds}\n                    storesData={storesData?.data}\n                    selectItems={selectItems}\n                    termsAndConditionsProvisioned={termsAndConditionsProvisioned}\n                />\n            );\n        case 'payment':\n            return <PaymentDetailsForm configuration={configurationData} />;\n        case 'customer':\n            return (\n                <CustomerDetailsForm\n                    isSeparateAddress={isSeparateAddress}\n                    setIsSeparateAddress={setIsSeparateAddress}\n                    countriesData={countriesData}\n                    isFetchingCountries={isFetchingCountries}\n                    countryDatasetData={countryDatasetData}\n                    isFetchingCountryDataset={isFetchingCountryDataset}\n                />\n            );\n        case 'summary':\n            return <FormSummary countryDatasetData={countryDatasetData} />;\n        default:\n            return <PaymentDetailsForm configuration={configurationData} />;\n    }\n};\n","import { PaymentLinkSettingsItem, PaymentLinkSettingsMenuItem } from './types';\n\nexport const MenuItem = {\n    theme: 'theme',\n    termsAndConditions: 'termsAndConditions',\n} as const;\n\nexport const MENU_ITEMS = [\n    { value: MenuItem.theme, label: 'payByLink.settings.navigation.theme' },\n    { value: MenuItem.termsAndConditions, label: 'payByLink.settings.navigation.termsAndConditions' },\n] as PaymentLinkSettingsMenuItem[];\n\nexport const DEFAULT_MENU_ITEM = MenuItem.theme as PaymentLinkSettingsItem;\n","import { useEffect, useMemo, useState } from 'preact/hooks';\nimport { useConfigContext } from '../core/ConfigContext';\nimport { useFetch } from './useFetch';\nimport { EMPTY_OBJECT } from '../utils';\nimport AdyenPlatformExperienceError from '../core/Errors/AdyenPlatformExperienceError';\n\nexport const useStores = (storeIds?: string | string[], preselect = true) => {\n    const [selectedStore, setSelectedStore] = useState<string | undefined>(undefined);\n    const { getPayByLinkStores } = useConfigContext().endpoints;\n\n    //TODO: Add error cases and loading cases\n    const { data, error, isFetching } = useFetch(\n        useMemo(\n            () => ({\n                fetchOptions: {\n                    enabled: !!getPayByLinkStores,\n                },\n                queryFn: async () => getPayByLinkStores?.(EMPTY_OBJECT, EMPTY_OBJECT),\n            }),\n            [getPayByLinkStores]\n        )\n    );\n\n    const filteredStores = useMemo(\n        () =>\n            data?.data\n                ?.filter(store => {\n                    if (!store.storeId) return false;\n                    return !storeIds || (typeof storeIds === 'string' ? store.storeId === storeIds : storeIds?.includes(store.storeId));\n                })\n                .map(store => ({\n                    id: store.storeId || '',\n                    name: store.storeCode || '',\n                    storeCode: store.storeCode || '',\n                    description: store.description || '',\n                })),\n        [data, storeIds]\n    );\n\n    const allStores = useMemo(\n        () =>\n            data?.data?.map(store => ({\n                id: store.storeId || '',\n                name: store.storeCode || '',\n                storeCode: store.storeCode || '',\n                description: store.description || '',\n            })),\n        [data]\n    );\n\n    useEffect(() => {\n        if (!selectedStore && filteredStores && filteredStores?.length > 0 && preselect) {\n            setSelectedStore(filteredStores?.[0]?.id);\n        }\n    }, [filteredStores, selectedStore, preselect]);\n\n    const storesError = error as AdyenPlatformExperienceError;\n\n    return { filteredStores, selectedStore, setSelectedStore, isFetching, error: storesError, allStores };\n};\n","import { IPaymentLinkTheme } from '../../../../../../types';\n\nexport const cloneFormData = (formData: FormData) => {\n    const formDataClone = new FormData();\n    for (const [field, value] of formData.entries()) {\n        if (value instanceof File) {\n            formDataClone.set(field, value, value.name);\n        } else formDataClone.set(field, value);\n    }\n    return formDataClone;\n};\n\nexport const getThemePayload = (theme: IPaymentLinkTheme): FormData => {\n    const formData = new FormData();\n    for (const [key, value] of Object.entries(theme)) {\n        if (value) {\n            formData.set(key, value);\n        }\n    }\n    return cloneFormData(formData);\n};\n","import { StateUpdater, useEffect, useMemo } from 'preact/hooks';\nimport { EMPTY_OBJECT } from '../../../../utils';\nimport { useFetch } from '../../../../hooks/useFetch';\nimport { useConfigContext } from '../../../../core/ConfigContext';\nimport { Dispatch } from 'preact/compat';\nimport { getThemePayload } from '../components/PaymentLinkSettingsContainer/utils/getThemePayload';\nimport { IPaymentLinkTheme } from '../../../../types';\nimport { PaymentLinkSettingsPayload } from '../components/PaymentLinkSettingsContainer/context/types';\nimport AdyenPlatformExperienceError from '../../../../core/Errors/AdyenPlatformExperienceError';\n\nexport const useStoreTheme = (\n    selectedStore: string | undefined,\n    enabled: boolean,\n    setEnabled: Dispatch<StateUpdater<boolean>>,\n    setPayload: (payload: PaymentLinkSettingsPayload) => void,\n    setLoading: Dispatch<StateUpdater<boolean>>\n) => {\n    const { getPayByLinkTheme } = useConfigContext().endpoints;\n\n    //TODO: Add error cases and loading cases\n    const { data, error, isFetching } = useFetch(\n        useMemo(\n            () => ({\n                fetchOptions: {\n                    enabled: !!getPayByLinkTheme && enabled && !!selectedStore,\n                    onSuccess: () => {\n                        setEnabled(false);\n                        setLoading(false);\n                    },\n                },\n                queryFn: async () => getPayByLinkTheme?.(EMPTY_OBJECT, { path: { storeId: selectedStore! } }),\n            }),\n            [getPayByLinkTheme, selectedStore, enabled, setEnabled, setLoading]\n        )\n    );\n\n    //TODO: Add IDs for Select component compatibility\n    const theme = useMemo(() => {\n        if (!data && !isFetching && !error) return {};\n        return {\n            ...(data?.brandName ? { brandName: data?.brandName } : {}),\n            ...(data?.logoUrl ? { logo: data?.logoUrl } : {}),\n            ...(data?.fullWidthLogoUrl ? { fullWidthLogo: data?.fullWidthLogoUrl } : {}),\n        };\n    }, [data, isFetching, error]);\n\n    useEffect(() => {\n        setPayload(getThemePayload(theme as IPaymentLinkTheme));\n    }, [theme, setPayload]);\n\n    const themeError = error as AdyenPlatformExperienceError;\n\n    return { theme, isFetching, error: themeError };\n};\n","import { useEffect, useMemo } from 'preact/hooks';\nimport { EMPTY_OBJECT } from '../../../../utils';\nimport { useFetch } from '../../../../hooks/useFetch';\nimport { useConfigContext } from '../../../../core/ConfigContext';\nimport { Dispatch } from 'preact/compat';\nimport { StateUpdater } from 'preact/hooks';\nimport { PaymentLinkSettingsPayload } from '../components/PaymentLinkSettingsContainer/context/types';\nimport AdyenPlatformExperienceError from '../../../../core/Errors/AdyenPlatformExperienceError';\n\nexport const useStoreTermsAndConditions = (\n    selectedStore: string | undefined,\n    enabled: boolean,\n    setEnabled: Dispatch<StateUpdater<boolean>>,\n    setPayload: (payload: PaymentLinkSettingsPayload) => void,\n    setLoading: Dispatch<StateUpdater<boolean>>\n) => {\n    const { getPayByLinkSettings } = useConfigContext().endpoints;\n\n    //TODO: Add error cases and loading cases\n    const { data, isFetching, error } = useFetch(\n        useMemo(\n            () => ({\n                fetchOptions: {\n                    enabled: !!getPayByLinkSettings && enabled && !!selectedStore,\n                    onSuccess: () => {\n                        setEnabled(false);\n                        setLoading(false);\n                    },\n                },\n                queryFn: async () => getPayByLinkSettings?.(EMPTY_OBJECT, { path: { storeId: selectedStore! } }),\n            }),\n            [getPayByLinkSettings, selectedStore, enabled, setEnabled, setLoading]\n        )\n    );\n\n    const termsAndConditions = useMemo(() => {\n        if ((!data || !data?.termsOfServiceUrl) && !isFetching && !error) return { termsOfServiceUrl: '' };\n        return data;\n    }, [data, isFetching, error]);\n\n    useEffect(() => {\n        setPayload(termsAndConditions);\n    }, [termsAndConditions, setPayload]);\n\n    const termsAndConditionsError = error as AdyenPlatformExperienceError;\n\n    return { data: termsAndConditions, isFetching, error: termsAndConditionsError };\n};\n","import { IPaymentLinkTermsAndConditions } from '../../../../../types';\nimport { PaymentLinkSettingsData, PaymentLinkSettingsPayload, ThemeFormData } from '../PaymentLinkSettingsContainer/context/types';\nimport { hasOwnProperty } from '../../../../../utils';\n\nexport type LogoTypes = 'logo' | 'fullWidthLogo';\n\nexport interface ThemeFormProps {\n    theme: ThemeFormData;\n    initialPayload?: FormData;\n}\n\nexport const ThemeFormDataRequest = {\n    BRAND: 'brandName',\n    LOGO: 'logo',\n    FULL_WIDTH_LOGO: 'fullWidthLogo',\n};\n\nexport const isTermsAndConditionsData = (data: PaymentLinkSettingsData): data is IPaymentLinkTermsAndConditions => {\n    const dataObj = typeof data === 'object' ? data : {};\n    return hasOwnProperty(dataObj, 'termsOfServiceUrl');\n};\n\nexport const isThemeData = (data: PaymentLinkSettingsData): data is ThemeFormData => {\n    const dataObj = typeof data === 'object' ? data : {};\n    return hasOwnProperty(dataObj, 'brandName');\n};\n\nexport const isThemePayload = (data: PaymentLinkSettingsPayload): data is FormData => {\n    return data instanceof FormData;\n};\n","import { useConfigContext } from '../../../../core/ConfigContext';\nimport useMutation from '../../../../hooks/useMutation/useMutation';\nimport { StateUpdater, useCallback, useEffect, useRef } from 'preact/hooks';\nimport { MenuItem } from '../components/PaymentLinkSettingsContainer/context/constants';\nimport { isFunction, isUndefined } from '../../../../utils';\nimport {\n    PaymentLinkSettingsData,\n    PaymentLinkSettingsItem,\n    PaymentLinkSettingsPayload,\n} from '../components/PaymentLinkSettingsContainer/context/types';\nimport { getThemePayload } from '../components/PaymentLinkSettingsContainer/utils/getThemePayload';\nimport { Dispatch } from 'preact/compat';\nimport { isThemePayload } from '../components/PaymentLinkThemeContainer/types';\n\nexport const useSaveAction = (\n    setIsSaving: Dispatch<StateUpdater<boolean>>,\n    setIsSaveError: Dispatch<StateUpdater<boolean>>,\n    setIsSaveSuccess: Dispatch<StateUpdater<boolean>>,\n    selectedStore: string | undefined,\n    payload: PaymentLinkSettingsPayload,\n    activeMenuItem: PaymentLinkSettingsItem | null,\n    getIsValid: () => boolean,\n    setSaveActionCalled: Dispatch<StateUpdater<boolean | undefined>>,\n    setSavedData: (data: PaymentLinkSettingsData) => void,\n    setPayload: (payload: PaymentLinkSettingsPayload) => void,\n    navigateBack?: () => void\n) => {\n    const { updatePayByLinkTheme, savePayByLinkSettings } = useConfigContext().endpoints;\n    const navigationTimeoutRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n\n    useEffect(() => {\n        return () => {\n            if (navigationTimeoutRef.current) {\n                clearTimeout(navigationTimeoutRef.current);\n            }\n        };\n    }, []);\n\n    const onSaveComplete = useCallback(() => {\n        if (navigateBack && isFunction(navigateBack)) {\n            navigationTimeoutRef.current = setTimeout(() => {\n                navigateBack();\n            }, 500);\n        } else {\n            setIsSaving(false);\n        }\n    }, [navigateBack, setIsSaving]);\n\n    const savePayByLinkTheme = useMutation({\n        queryFn: updatePayByLinkTheme,\n        options: {\n            onSuccess: data => {\n                const themeData = { brandName: data?.brandName, logo: data?.logoUrl, fullWidthLogo: data?.fullWidthLogoUrl };\n                setSavedData(themeData);\n                setPayload(getThemePayload(themeData));\n                setIsSaveError(false);\n                setIsSaveSuccess(true);\n                setIsSaving(false);\n            },\n            onError: () => {\n                setIsSaveError(true);\n                setIsSaveSuccess(false);\n                setIsSaving(false);\n            },\n        },\n    });\n\n    const onSaveTheme = useCallback(() => {\n        if (!selectedStore || isUndefined(payload) || !getIsValid()) return;\n        if (!isThemePayload(payload)) return;\n        setIsSaving(true);\n        savePayByLinkTheme.mutate({ contentType: 'multipart/form-data', body: payload }, { path: { storeId: selectedStore! } });\n    }, [savePayByLinkTheme, selectedStore, payload, getIsValid, setIsSaving]);\n\n    const updatePayByLinkTermsAndConditions = useMutation({\n        queryFn: savePayByLinkSettings,\n        options: {\n            onSuccess: data => {\n                const savedData = !data || !data?.termsOfServiceUrl ? { termsOfServiceUrl: '' } : data;\n                setSavedData(savedData);\n                setPayload(savedData);\n                setIsSaveError(false);\n                setIsSaveSuccess(true);\n                onSaveComplete();\n            },\n            onError: () => {\n                setIsSaveError(true);\n                setIsSaveSuccess(false);\n                setIsSaving(false);\n            },\n        },\n    });\n\n    const onSaveTermsAndConditions = useCallback(() => {\n        if (!selectedStore || isUndefined(payload) || !getIsValid()) return;\n        if (isThemePayload(payload)) return;\n        setIsSaving(true);\n        updatePayByLinkTermsAndConditions.mutate(\n            {\n                contentType: 'application/json',\n                body: payload,\n            },\n            { path: { storeId: selectedStore! } }\n        );\n    }, [updatePayByLinkTermsAndConditions, selectedStore, payload, getIsValid, setIsSaving]);\n\n    const onSave = useCallback(() => {\n        if (!activeMenuItem) return;\n        setSaveActionCalled(true);\n        if (activeMenuItem === MenuItem.theme) return onSaveTheme();\n        if (activeMenuItem === MenuItem.termsAndConditions) return onSaveTermsAndConditions();\n    }, [activeMenuItem, onSaveTermsAndConditions, onSaveTheme, setSaveActionCalled]);\n\n    return { onSave };\n};\n","import { memo, PropsWithChildren } from 'preact/compat';\nimport { createContext } from 'preact';\nimport { useCallback, useContext, useRef, useState, useEffect, useMemo } from 'preact/hooks';\nimport { noop } from '../../../../../../utils';\nimport { IPaymentLinkSettingsContext, MenuItemType, PaymentLinkSettingsData, PaymentLinkSettingsItem, PaymentLinkSettingsPayload } from './types';\nimport { DEFAULT_MENU_ITEM, MenuItem } from './constants';\nimport { useStores } from '../../../../../../hooks/useStores';\nimport { SecondaryNavItem } from '../../../../../internal/SecondaryNav';\nimport { useStoreTheme } from '../../../hooks/useStoreTheme';\nimport { useStoreTermsAndConditions } from '../../../hooks/useStoreTermsAndConditions';\nimport { useSaveAction } from '../../../hooks/useSaveAction';\nimport { containerQueries, useResponsiveContainer } from '../../../../../../hooks/useResponsiveContainer';\n\nexport const PaymentLinkSettingsContext = createContext<IPaymentLinkSettingsContext>({\n    activeMenuItem: MenuItem.theme,\n    payload: undefined,\n    setPayload: noop,\n    selectedStore: undefined,\n    setSelectedMenuItem: noop,\n    saveActionCalled: undefined,\n    setIsValid: noop,\n    getIsValid: () => false,\n    setSaveActionCalled: noop,\n    filteredStores: undefined,\n    allStores: undefined,\n    setSelectedStore: noop,\n    savedData: undefined,\n    setSavedData: () => undefined,\n    menuItems: undefined,\n    isLoadingContent: true,\n    isSaveError: undefined,\n    isSaveSuccess: undefined,\n    isSaving: undefined,\n    isShowingRequirements: false,\n    onSave: noop,\n    setIsSaveError: noop,\n    setIsSaveSuccess: noop,\n    setIsShowingRequirements: noop,\n    isLoadingStores: false,\n    storesError: undefined,\n    termsAndConditionsError: undefined,\n    themeError: undefined,\n});\n\nexport const PaymentLinkSettingsProvider = memo(\n    ({\n        children,\n        selectedMenuItems,\n        storeIds,\n        embeddedInOverview,\n        navigateBack,\n    }: PropsWithChildren<{\n        selectedMenuItems: MenuItemType[];\n        storeIds?: string | string[];\n        embeddedInOverview?: boolean;\n        navigateBack?: () => void;\n    }>) => {\n        const [isShowingRequirements, setIsShowingRequirements] = useState(false);\n        const [menuItems] = useState<MenuItemType[]>(selectedMenuItems);\n        const [loading, setLoading] = useState<boolean>(false);\n        const isSmContainer = useResponsiveContainer(containerQueries.down.xs);\n\n        const menuItemPreSelect = useMemo(() => {\n            if (isSmContainer && menuItems.length > 1) return;\n            return menuItems.length > 0 && menuItems[0] ? menuItems[0].value : DEFAULT_MENU_ITEM;\n        }, [menuItems, isSmContainer]);\n\n        const [activeMenuItem, setActiveMenuItem] = useState<PaymentLinkSettingsItem | null>(null);\n        const [payload, setPayload] = useState<PaymentLinkSettingsPayload>(undefined);\n        const [savedData, setSavedData] = useState<PaymentLinkSettingsData>(undefined);\n        const isValid = useRef(false);\n        const [saveActionCalled, setSaveActionCalled] = useState<boolean | undefined>(false);\n        const { filteredStores, selectedStore, setSelectedStore, isFetching: isLoadingStores, error: storesError, allStores } = useStores(storeIds);\n        const [isSaving, setIsSaving] = useState(false);\n        const [isSaveError, setIsSaveError] = useState(false);\n        const [isSaveSuccess, setIsSaveSuccess] = useState(false);\n\n        useEffect(() => {\n            if (menuItemPreSelect) {\n                setActiveMenuItem(menuItemPreSelect);\n            }\n        }, [menuItemPreSelect]);\n\n        const getIsValid = useCallback(() => {\n            return isValid.current;\n        }, []);\n\n        const { onSave } = useSaveAction(\n            setIsSaving,\n            setIsSaveError,\n            setIsSaveSuccess,\n            selectedStore,\n            payload,\n            activeMenuItem,\n            getIsValid,\n            setSaveActionCalled,\n            setSavedData,\n            setPayload,\n            navigateBack\n        );\n\n        const [fetchThemeEnabled, setFetchThemeEnabled] = useState<boolean>(false);\n        const [fetchTermsAndConditionsEnabled, setFetchTermsAndConditionsEnabled] = useState<boolean>(false);\n\n        const resetState = useCallback(() => {\n            setIsSaving(false);\n            setIsSaveError(false);\n            setIsSaveSuccess(false);\n            setSaveActionCalled(false);\n            setSavedData(undefined);\n            setPayload(undefined);\n        }, []);\n\n        useEffect(() => {\n            resetState();\n            switch (activeMenuItem) {\n                case MenuItem.theme:\n                    setLoading(true);\n                    selectedStore && setFetchThemeEnabled(true);\n                    break;\n                case MenuItem.termsAndConditions:\n                    setLoading(true);\n                    selectedStore && setFetchTermsAndConditionsEnabled(true);\n                    break;\n            }\n        }, [activeMenuItem, selectedStore, resetState]);\n\n        const onPayloadChange = useCallback(\n            (payload: PaymentLinkSettingsPayload) => {\n                if (payload) {\n                    setPayload(payload);\n                }\n            },\n            [setPayload]\n        );\n\n        const {\n            theme,\n            isFetching: loadingThemes,\n            error: themeError,\n        } = useStoreTheme(selectedStore, fetchThemeEnabled, setFetchThemeEnabled, onPayloadChange, setLoading);\n        const {\n            data: termsAndConditions,\n            isFetching: loadingTermsAndConditions,\n            error: termsAndConditionsError,\n        } = useStoreTermsAndConditions(selectedStore, fetchTermsAndConditionsEnabled, setFetchTermsAndConditionsEnabled, onPayloadChange, setLoading);\n\n        const activeData = useMemo(() => {\n            switch (activeMenuItem) {\n                case MenuItem.theme:\n                    if (loadingThemes) return;\n                    return theme;\n                case MenuItem.termsAndConditions:\n                    if (loadingTermsAndConditions) return;\n                    return termsAndConditions;\n                default:\n                    return;\n            }\n        }, [activeMenuItem, theme, termsAndConditions, loadingThemes, loadingTermsAndConditions]);\n\n        useEffect(() => {\n            if (activeData) {\n                setSavedData(activeData);\n            }\n        }, [activeData, setSavedData]);\n\n        useEffect(() => {\n            if (!selectedStore) setSelectedStore(filteredStores?.[0]?.id);\n        }, [filteredStores, selectedStore, setSelectedStore]);\n\n        const onDataSave = useCallback(\n            (data: PaymentLinkSettingsData) => {\n                setSavedData(data);\n            },\n            [setSavedData]\n        );\n\n        useEffect(() => {\n            if (themeError || termsAndConditionsError) setLoading(false);\n        }, [themeError, termsAndConditionsError]);\n\n        const setIsValid = useCallback((validity: boolean) => {\n            if (isValid.current !== validity) {\n                isValid.current = validity;\n            }\n        }, []);\n\n        const setSelectedMenuItem = useCallback(\n            (item: SecondaryNavItem<PaymentLinkSettingsItem>) => {\n                if (activeMenuItem !== item.value) {\n                    setLoading(true);\n                    setActiveMenuItem(item.value);\n                }\n            },\n            [activeMenuItem]\n        );\n\n        const contentLoading = loading || loadingThemes || loadingTermsAndConditions || isLoadingStores;\n\n        return (\n            <PaymentLinkSettingsContext.Provider\n                value={{\n                    isLoadingContent: contentLoading,\n                    setPayload: onPayloadChange,\n                    menuItems,\n                    payload,\n                    activeMenuItem,\n                    selectedStore,\n                    setSelectedMenuItem,\n                    getIsValid,\n                    setIsValid,\n                    saveActionCalled: saveActionCalled,\n                    setSaveActionCalled: setSaveActionCalled,\n                    filteredStores,\n                    setSelectedStore,\n                    savedData,\n                    setSavedData: onDataSave,\n                    isSaveError,\n                    isSaveSuccess,\n                    isSaving,\n                    isShowingRequirements,\n                    setIsShowingRequirements,\n                    setIsSaveError,\n                    setIsSaveSuccess,\n                    onSave: onSave,\n                    allStores,\n                    isLoadingStores,\n                    storesError,\n                    embeddedInOverview,\n                    themeError,\n                    termsAndConditionsError,\n                }}\n            >\n                {!activeMenuItem && !isSmContainer ? null : children}\n            </PaymentLinkSettingsContext.Provider>\n        );\n    }\n);\n\nexport const usePaymentLinkSettingsContext = () => useContext(PaymentLinkSettingsContext);\nexport default usePaymentLinkSettingsContext;\n","import './SecondaryNav.scss';\nimport cx from 'classnames';\nimport { Divider } from '../Divider/Divider';\nimport { containerQueries, useResponsiveContainer } from '../../../hooks/useResponsiveContainer';\nimport { useCallback } from 'preact/hooks';\nimport { VNode } from 'preact';\nimport { ButtonVariant } from '../Button/types';\nimport Icon from '../Icon';\nimport Button from '../Button/Button';\nimport Typography from '../Typography/Typography';\nimport { TypographyVariant } from '../Typography/types';\n\ninterface SecondaryNavProps<T> {\n    className?: string;\n    items: T[];\n    activeValue: string | null;\n    onValueChange: (value: T) => void;\n    renderContent: (activeMenu: string) => VNode<any>;\n    renderLoadingContent: (activeMenu: string | null) => VNode<any>;\n    renderHeader: () => VNode<any>;\n    onContentVisibilityChange: (contentVisible: boolean) => void;\n    loading?: boolean;\n    contentVisible?: boolean;\n}\n\nexport interface SecondaryNavItem<T extends string = string> {\n    value: T;\n    label: string;\n}\n\nconst LoadingSkeleton = ({ rowNumber, className }: { rowNumber: number; className?: string }) => (\n    <div className={cx('adyen-pe-secondary-nav__skeleton', className)}>\n        {[...Array(rowNumber)].map((_, index) => (\n            <div key={index} className=\"adyen-pe-secondary-nav__skeleton-item\"></div>\n        ))}\n    </div>\n);\n\nexport const SecondaryNav = <T extends SecondaryNavItem>({\n    renderHeader,\n    className,\n    items,\n    activeValue,\n    onValueChange,\n    loading,\n    onContentVisibilityChange,\n    renderContent,\n    contentVisible,\n    renderLoadingContent,\n}: SecondaryNavProps<T>) => {\n    const isSmContainer = useResponsiveContainer(containerQueries.down.xs);\n\n    const onClick = useCallback(\n        (item: T) => {\n            onValueChange(item);\n            if (isSmContainer) {\n                onContentVisibilityChange(true);\n            }\n        },\n        [isSmContainer, onValueChange, onContentVisibilityChange]\n    );\n\n    if (loading) {\n        return !isSmContainer ? (\n            <div className={cx('adyen-pe-secondary-nav')}>\n                <div className={'adyen-pe-secondary-nav__container'}>\n                    <div className={'adyen-pe-secondary-nav__skeleton--aside'}>\n                        <LoadingSkeleton rowNumber={1} />\n                        <div className={'adyen-pe-secondary-nav__list'}>\n                            <LoadingSkeleton rowNumber={2} />\n                        </div>\n                    </div>\n                    <Divider variant=\"vertical\" />\n                    <div className={'adyen-pe-secondary-nav__loading-content'}>{renderLoadingContent(activeValue)}</div>\n                </div>\n            </div>\n        ) : (\n            <LoadingSkeleton rowNumber={3} className={'adyen-pe-secondary-nav__skeleton--content'} />\n        );\n    }\n\n    return (\n        <div className={cx('adyen-pe-secondary-nav', className, { 'adyen-pe-secondary-nav--mobile': isSmContainer })}>\n            <div className={cx('adyen-pe-secondary-nav__container', { 'adyen-pe-secondary-nav__container-mobile': isSmContainer })}>\n                {(!contentVisible || !isSmContainer) && (\n                    <aside className={cx('adyen-pe-secondary-nav--sidebar', { 'adyen-pe-secondary-nav--sidebar-mobile': isSmContainer })}>\n                        {renderHeader()}\n                        <ul className=\"adyen-pe-secondary-nav__list\">\n                            {items.map(item => (\n                                <li key={item.label} className=\"adyen-pe-secondary-nav__list-item\">\n                                    <Button\n                                        aria-selected={item.value === activeValue}\n                                        className={cx('adyen-pe-secondary-nav__item', {\n                                            'adyen-pe-secondary-nav__item--active': item.value === activeValue,\n                                            'adyen-pe-secondary-nav__item--mobile': isSmContainer,\n                                        })}\n                                        iconRight={isSmContainer ? <Icon name=\"chevron-right\" /> : undefined}\n                                        onClick={onClick.bind(null, item)}\n                                    >\n                                        <Typography\n                                            variant={TypographyVariant.BODY}\n                                            stronger\n                                            data-testid=\"typography\"\n                                            className=\"adyen-pe-secondary-nav__item-label\"\n                                        >\n                                            {item.label}\n                                        </Typography>\n                                    </Button>\n                                </li>\n                            ))}\n                        </ul>\n                    </aside>\n                )}\n                {!isSmContainer && <Divider variant=\"vertical\" />}\n                {contentVisible && activeValue && renderContent(activeValue)}\n            </div>\n        </div>\n    );\n};\n","export const BASE_CLASS_NAME = 'adyen-pe-payment-link-settings';\nexport const CONTAINER_CLASS_NAME = BASE_CLASS_NAME + '__content';\nexport const CONTENT_CONTAINER_CLASS_NAME = BASE_CLASS_NAME + '__content-container';\nexport const CONTENT_CONTAINER_MOBILE_CLASS_NAME = BASE_CLASS_NAME + '__container-container-item--mobile';\nexport const SIDEBAR_CONTAINER_CLASS_NAME = BASE_CLASS_NAME + '__sidebar-container';\nexport const SECONDARY_NAV_CLASS_NAME = BASE_CLASS_NAME + '__secondary-nav';\n","import Typography from '../../Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../Typography/types';\nimport Icon from '../../Icon';\nimport './StoreSelectorButton.scss';\n\ninterface StoreSelectorButtonContentProps {\n    name?: string;\n    description?: string;\n}\n\nexport const StoreSelectorButtonContent = ({ name, description }: StoreSelectorButtonContentProps) => (\n    <div className=\"adyen-pe-store-selector-button\">\n        <div className=\"adyen-pe-store-selector-button__labels\">\n            <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} className=\"adyen-pe-store-selector-button__name\">\n                {name}\n            </Typography>\n            <Typography el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION} className=\"adyen-pe-store-selector-button__description\">\n                {description}\n            </Typography>\n        </div>\n\n        <Icon name=\"chevron-up-down\" size=\"medium\" className=\"adyen-pe-store-selector-button__icon\" />\n    </div>\n);\n","import Typography from '../../Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../Typography/types';\nimport './StoreSelectorItem.scss';\n\ninterface StoreSelectorItemProps {\n    name?: string;\n    description?: string;\n}\n\nexport const StoreSelectorItem = ({ name, description }: StoreSelectorItemProps) => (\n    <div className=\"adyen-pe-store-selector-item\">\n        <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} className=\"adyen-pe-store-selector-item__name\">\n            {name}\n        </Typography>\n        <Typography el={TypographyElement.SPAN} variant={TypographyVariant.CAPTION} className=\"adyen-pe-store-selector-item__description\">\n            {description}\n        </Typography>\n    </div>\n);\n","import { useCallback } from 'preact/hooks';\nimport Select from '../FormFields/Select';\nimport { StoreSelectorButtonContent } from './StoreSelectorButton/StoreSelectorButton';\nimport { StoreSelectorItem } from './StoreSelectorItem/StoreSelectorItem';\nimport { StoreSelectorItemParams, StoreSelectorProps } from './types';\nimport { SelectChangeEvent } from '../FormFields/Select/types';\nimport { containerQueries, useResponsiveContainer } from '../../../hooks/useResponsiveContainer';\nimport './StoreSelector.scss';\n\nexport const StoreSelector = ({ stores = [], selectedStoreId, setSelectedStoreId }: StoreSelectorProps) => {\n    const isMobileContainer = useResponsiveContainer(containerQueries.down.xs);\n    const handleStoreChange = useCallback(\n        ({ target }: SelectChangeEvent) => {\n            setSelectedStoreId(target.value);\n        },\n        [setSelectedStoreId]\n    );\n\n    const renderButtonContent = (data: { item?: StoreSelectorItemParams }) => {\n        if (!data.item) {\n            return null;\n        }\n        return <StoreSelectorButtonContent name={data.item.storeCode} description={data.item.description} />;\n    };\n\n    if (!stores || !stores.length || stores.length === 1) {\n        return null;\n    }\n\n    return (\n        <Select\n            className={'adyen-pe-dropdown__store'}\n            filterable={false}\n            items={stores}\n            multiSelect={false}\n            onChange={handleStoreChange}\n            renderButtonContent={renderButtonContent}\n            renderListItem={data => <StoreSelectorItem name={data.item.name} description={data.item.description} />}\n            selected={selectedStoreId}\n            setToTargetWidth={isMobileContainer}\n            showOverlay={false}\n            withoutCollapseIndicator={true}\n        />\n    );\n};\n","import cx from 'classnames';\nimport { useEffect, useState, useRef, useCallback } from 'preact/hooks';\n\nimport { CheckboxProps } from './types';\nimport './Checkbox.scss';\nimport Icon from '../Icon';\nimport Typography from '../Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../Typography/types';\nimport { uniqueId } from '../../../utils';\nimport { h } from 'preact';\n\nexport const Checkbox = ({ checked, error, description, disabled, id, label, name, value, onInput, className, ...props }: CheckboxProps) => {\n    const [checkedInternal, setCheckedInternal] = useState(checked);\n    const inputRef = useRef(uniqueId());\n\n    const inputId = id || inputRef.current;\n\n    const handleInput = useCallback(\n        (event: h.JSX.TargetedEvent<HTMLInputElement>) => {\n            onInput?.(event);\n            if (checked === undefined) {\n                setCheckedInternal(event?.currentTarget?.checked ?? false);\n            }\n        },\n        [checked, onInput]\n    );\n\n    useEffect(() => {\n        setCheckedInternal(checked);\n    }, [checked]);\n\n    return (\n        <div className={cx('adyen-pe-checkbox', className)}>\n            <input\n                name={name}\n                type=\"checkbox\"\n                checked={checkedInternal}\n                disabled={disabled}\n                className={cx('adyen-pe-visually-hidden adyen-pe-checkbox__input')}\n                id={inputId}\n                onInput={handleInput}\n                {...props}\n            />\n            <label className=\"adyen-pe-checkbox__label\" htmlFor={inputId}>\n                {checkedInternal ? (\n                    <Icon name=\"checkmark-square-fill\" className=\"adyen-pe-checkbox__icon\" />\n                ) : (\n                    <Icon name=\"square\" className={cx('adyen-pe-checkbox__icon', { 'adyen-pe-checkbox__icon--error': error })} />\n                )}\n                <div className=\"adyen-pe-checkbox__label-content\">\n                    <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY}>\n                        {label}\n                    </Typography>\n                    {description && (\n                        <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} className=\"adyen-pe-checkbox__description\">\n                            {description}\n                        </Typography>\n                    )}\n                </div>\n            </label>\n        </div>\n    );\n};\n","export const isValidURL = (termsAndConditionsURL: string) => {\n    if (termsAndConditionsURL === '') return true;\n    try {\n        new URL(termsAndConditionsURL);\n        return true;\n    } catch {\n        return false;\n    }\n};\n","import { useCallback, useState } from 'preact/hooks';\nimport useCoreContext from '../../../../../../core/Context/useCoreContext';\nimport localTermsRequirementsConfig from '../../../../../../config/payByLink/termsRequirementsConfig.json';\nimport { TranslationKey } from '../../../../../../translations';\n\nexport interface TermsRequirementItem {\n    key: TranslationKey;\n}\n\nexport interface TermsRequirementSection {\n    id: string;\n    titleKey: TranslationKey;\n    descriptionKey: TranslationKey;\n    items: TermsRequirementItem[];\n}\n\nexport interface TermsRequirementsConfig {\n    titleKey: TranslationKey;\n    sections: TermsRequirementSection[];\n}\n\nexport const useTermsRequirementsConfig = () => {\n    const { getCdnConfig } = useCoreContext();\n\n    const localTerms = localTermsRequirementsConfig as unknown as TermsRequirementsConfig;\n    const [termsRequirementsConfig, setTermsRequirementsConfig] = useState<TermsRequirementsConfig>(localTerms);\n\n    const getTermsRequirementsConfig = useCallback(async () => {\n        const config = await getCdnConfig?.<TermsRequirementsConfig>({\n            subFolder: 'payByLink',\n            name: 'termsRequirementsConfig',\n            fallback: localTerms,\n        });\n\n        setTermsRequirementsConfig(config ?? localTerms);\n    }, [getCdnConfig, localTerms]);\n\n    return {\n        termsRequirementsConfig,\n        getTermsRequirementsConfig,\n    };\n};\n","import { useCallback, useEffect } from 'preact/hooks';\nimport useCoreContext from '../../../../../../core/Context/useCoreContext';\nimport Typography from '../../../../../internal/Typography/Typography';\nimport { TypographyVariant } from '../../../../../internal/Typography/types';\nimport { useTermsRequirementsConfig } from './useTermsRequirementsConfig';\nimport './Requirements.scss';\nimport Button from '../../../../../internal/Button';\nimport { ButtonVariant } from '../../../../../internal/Button/types';\nimport Modal from '../../../../../internal/Modal';\n\nexport const Requirements = ({\n    onGoBack,\n    acceptRequirements,\n    termsAndConditionsURL,\n    embeddedInOverview = false,\n}: {\n    onGoBack: () => void;\n    acceptRequirements: () => void;\n    termsAndConditionsURL?: string;\n    embeddedInOverview?: boolean;\n}) => {\n    const { termsRequirementsConfig, getTermsRequirementsConfig } = useTermsRequirementsConfig();\n    const { i18n } = useCoreContext();\n\n    const onAcceptRequirements = useCallback(() => {\n        acceptRequirements();\n        onGoBack();\n    }, [acceptRequirements, onGoBack]);\n\n    useEffect(() => {\n        void getTermsRequirementsConfig();\n    }, [getTermsRequirementsConfig]);\n\n    const content = (\n        <div className=\"adyen-pe-payment-link-requirements\">\n            <Typography variant={TypographyVariant.SUBTITLE} stronger>\n                {i18n.get(termsRequirementsConfig.titleKey)}\n            </Typography>\n            <div className=\"adyen-pe-payment-link-requirements__sections-container\">\n                {termsRequirementsConfig.sections.map(section => (\n                    <div key={section.id} className=\"adyen-pe-payment-link-requirements__section\">\n                        <Typography variant={TypographyVariant.SUBTITLE} stronger>\n                            {i18n.get(section.titleKey)}\n                        </Typography>\n                        <div className=\"adyen-pe-payment-link-requirements__section-content\">\n                            <Typography className=\"adyen-pe-payment-link-requirements__description\" variant={TypographyVariant.BODY}>\n                                {i18n.get(section.descriptionKey)}\n                            </Typography>\n                            <ul className=\"adyen-pe-payment-link-requirements__list\">\n                                {section.items.map(item => (\n                                    <li key={item.key}>\n                                        <Typography variant={TypographyVariant.BODY}>{i18n.get(item.key)}</Typography>\n                                    </li>\n                                ))}\n                            </ul>\n                        </div>\n                    </div>\n                ))}\n            </div>\n            <div className=\"adyen-pe-payment-link-requirements__buttons-container\">\n                <Button variant={ButtonVariant.SECONDARY} onClick={onGoBack}>\n                    {i18n.get('payByLink.settings.terms.requirements.actions.goBack')}\n                </Button>\n                {termsAndConditionsURL && (\n                    <Button variant={ButtonVariant.PRIMARY} onClick={onAcceptRequirements}>\n                        {i18n.get('payByLink.settings.terms.requirements.actions.confirmRequirements')}\n                    </Button>\n                )}\n            </div>\n        </div>\n    );\n\n    if (embeddedInOverview) {\n        return content;\n    }\n\n    return (\n        <Modal isOpen onClose={onGoBack} isDismissible={true} headerWithBorder={false} size=\"large\">\n            {content}\n        </Modal>\n    );\n};\n","import { uniqueId } from '../../../../../utils';\nimport './TermsAndConditions.scss';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { h } from 'preact';\nimport { Checkbox } from '../../../../internal/Checkbox';\nimport InputText from '../../../../internal/FormFields/InputText';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport { AlertTypeOption, AlertVariantOption } from '../../../../internal/Alert/types';\nimport Alert from '../../../../internal/Alert/Alert';\nimport Icon from '../../../../internal/Icon';\nimport { IPaymentLinkTermsAndConditions } from '../../../../../types';\nimport usePaymentLinkSettingsContext from '../PaymentLinkSettingsContainer/context/context';\nimport { isTermsAndConditionsData } from '../PaymentLinkThemeContainer/types';\nimport { Translation } from '../../../../internal/Translation';\nimport { isValidURL } from '../PaymentLinkSettingsContainer/utils/validateTermsAndConditionsURL';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport Button from '../../../../internal/Button';\nimport { Requirements } from './Requirements/Requirements';\nimport cx from 'classnames';\n\nexport const TermsAndConditions = ({ data, initialData }: { data: IPaymentLinkTermsAndConditions; initialData: IPaymentLinkTermsAndConditions }) => {\n    const { i18n } = useCoreContext();\n    const checkboxIdentifier = useRef(uniqueId());\n    const [termsAndConditionsURL, setTermsAndConditionsURL] = useState<string>(data?.termsOfServiceUrl ?? '');\n    const [isRequirementsChecked, setIsRequirementsChecked] = useState<boolean | undefined>(undefined);\n    const [showNotCheckedRequirementsError, setShowNotCheckedRequirementsError] = useState(false);\n    const [showInvalidURL, setShowInvalidURL] = useState(false);\n    const [isTermsAndConditionsChanged, setIsTermsAndConditionsChanged] = useState(false);\n    const [disabled, setDisabled] = useState(false);\n    const userRequirementsInput = useRef(false);\n    const {\n        savedData,\n        setPayload,\n        saveActionCalled,\n        setIsValid,\n        isSaving,\n        setSaveActionCalled,\n        setIsSaveError,\n        setIsSaveSuccess,\n        isShowingRequirements,\n        embeddedInOverview,\n        setIsShowingRequirements,\n    } = usePaymentLinkSettingsContext();\n\n    useEffect(() => {\n        if (isRequirementsChecked && isValidURL(termsAndConditionsURL)) {\n            setIsValid(true);\n        } else {\n            setIsValid(false);\n        }\n    }, [isRequirementsChecked, termsAndConditionsURL, setIsValid, setPayload]);\n\n    useEffect(() => {\n        userRequirementsInput.current = false;\n    }, [savedData]);\n\n    useEffect(() => {\n        if (saveActionCalled) {\n            setShowInvalidURL(Boolean(termsAndConditionsURL && !isValidURL(termsAndConditionsURL)));\n            setShowNotCheckedRequirementsError(!isRequirementsChecked);\n            setSaveActionCalled(false);\n            setIsSaveSuccess(false);\n            setIsSaveError(false);\n        }\n    }, [termsAndConditionsURL, isRequirementsChecked, saveActionCalled, setSaveActionCalled, setPayload, setIsSaveError, setIsSaveSuccess]);\n\n    useEffect(() => {\n        let data = isTermsAndConditionsData(savedData) ? (savedData as IPaymentLinkTermsAndConditions) : undefined;\n        if (!data) data = initialData;\n        const hasEmptyInitialValue = !data || !data.termsOfServiceUrl;\n        const isSameWithInitialValue =\n            data && (data?.termsOfServiceUrl === termsAndConditionsURL || (!data.termsOfServiceUrl && termsAndConditionsURL === ''));\n        if (isSameWithInitialValue) {\n            if (!hasEmptyInitialValue) {\n                setDisabled(true);\n                setIsRequirementsChecked(true);\n            }\n            setIsTermsAndConditionsChanged(false);\n        } else {\n            setDisabled(false);\n            setIsTermsAndConditionsChanged(true);\n            setIsRequirementsChecked(userRequirementsInput.current);\n        }\n    }, [termsAndConditionsURL, savedData, initialData]);\n\n    const onTermsAndConditionsURLInput = useCallback(\n        (e: h.JSX.TargetedEvent<HTMLInputElement>) => {\n            e.preventDefault();\n            setShowInvalidURL(false);\n            setTermsAndConditionsURL(e?.currentTarget?.value);\n            if (isValidURL(e?.currentTarget?.value)) {\n                setPayload({ termsOfServiceUrl: e?.currentTarget?.value });\n            }\n        },\n        [setPayload]\n    );\n\n    const onCheckboxInput = useCallback(\n        (e: h.JSX.TargetedEvent<HTMLInputElement>) => {\n            e.preventDefault();\n            if (e.currentTarget?.checked) setShowNotCheckedRequirementsError(false);\n            userRequirementsInput.current = e.currentTarget?.checked;\n            setIsRequirementsChecked(e.currentTarget?.checked);\n        },\n        [userRequirementsInput]\n    );\n\n    const openRequirements = useCallback(() => {\n        setIsShowingRequirements(true);\n    }, [setIsShowingRequirements]);\n\n    const checkboxLabel = useMemo(() => {\n        return (\n            <Translation\n                translationKey={'payByLink.settings.termsAndConditions.requirement.checkbox.part1'}\n                fills={{\n                    requirements: (\n                        <Button\n                            className=\"adyen-pe-payment-link-settings-terms-and-conditions__requirements-link\"\n                            variant={ButtonVariant.TERTIARY}\n                            onClick={openRequirements}\n                        >\n                            {i18n.get('payByLink.settings.termsAndConditions.requirement.checkbox.part2')}\n                        </Button>\n                    ),\n                }}\n            />\n        );\n    }, [i18n, openRequirements]);\n\n    const closeModal = useCallback(() => setIsShowingRequirements(false), [setIsShowingRequirements]);\n\n    const acceptRequirements = useCallback(() => setIsRequirementsChecked(true), []);\n\n    return (\n        <section className=\"adyen-pe-payment-link-settings-terms-and-conditions\">\n            <div\n                className={cx('adyen-pe-payment-link-settings-terms-and-conditions__content', {\n                    'adyen-pe-payment-link-settings-terms-and-conditions__content--hidden': isShowingRequirements,\n                })}\n            >\n                <div className=\"adyen-pe-payment-link-settings__input-container\">\n                    <label\n                        htmlFor={checkboxIdentifier.current}\n                        aria-labelledby={checkboxIdentifier.current}\n                        className=\"adyen-pe-payment-link-settings-terms-and-conditions-input__label\"\n                    >\n                        <Typography\n                            variant={TypographyVariant.BODY}\n                            stronger\n                            className=\"adyen-pe-payment-link-settings-terms-and-conditions-input__label--info-text\"\n                        >\n                            {i18n.get('payByLink.settings.termsAndConditions.urlInput.label')}\n                        </Typography>\n                    </label>\n                    <InputText\n                        disabled={!!isSaving}\n                        readonly={!!isSaving}\n                        uniqueId={checkboxIdentifier.current}\n                        value={termsAndConditionsURL}\n                        onInput={onTermsAndConditionsURLInput}\n                        maxLength={2000}\n                        isInvalid={showInvalidURL}\n                    />\n                    {showInvalidURL && (\n                        <div className=\"adyen-pe-payment-link-settings-terms-and-conditions__error\">\n                            <Icon name=\"cross-circle-fill\" className={'adyen-pe-payment-link-settings-terms-and-conditions__error-icon'} />\n                            <Typography\n                                className={'adyen-pe-payment-link-settings-terms-and-conditions__error-text'}\n                                el={TypographyElement.SPAN}\n                                variant={TypographyVariant.BODY}\n                            >\n                                {i18n.get('payByLink.settings.termsAndConditions.error.urlValidation')}\n                            </Typography>\n                        </div>\n                    )}\n                </div>\n                {isTermsAndConditionsChanged && (\n                    <Alert\n                        type={AlertTypeOption.WARNING}\n                        variant={AlertVariantOption.TIP}\n                        description={i18n.get('payByLink.settings.termsAndConditions.alert.urlChange')}\n                        className={'adyen-pe-payment-link-settings-terms-and-conditions__alert'}\n                    />\n                )}\n                <div className=\"adyen-pe-payment-link-settings-terms-and-conditions-checkbox__container\">\n                    <Checkbox\n                        checked={isRequirementsChecked}\n                        disabled={disabled || isSaving}\n                        className={'adyen-pe-payment-link-settings-terms-and-conditions-checkbox'}\n                        label={checkboxLabel}\n                        onInput={onCheckboxInput}\n                        error={showNotCheckedRequirementsError}\n                    />\n                    {showNotCheckedRequirementsError && (\n                        <div className=\"adyen-pe-payment-link-settings-terms-and-conditions__error\">\n                            <Icon name=\"cross-circle-fill\" className={'adyen-pe-payment-link-settings-terms-and-conditions__error-icon'} />\n                            <Typography\n                                className={'adyen-pe-payment-link-settings-terms-and-conditions__error-text'}\n                                el={TypographyElement.SPAN}\n                                variant={TypographyVariant.BODY}\n                            >\n                                {i18n.get('payByLink.settings.termsAndConditions.error.requirementsNotChecked')}\n                            </Typography>\n                        </div>\n                    )}\n                </div>\n            </div>\n            {isShowingRequirements && (\n                <Requirements\n                    onGoBack={closeModal}\n                    termsAndConditionsURL={termsAndConditionsURL}\n                    acceptRequirements={acceptRequirements}\n                    embeddedInOverview={embeddedInOverview}\n                />\n            )}\n        </section>\n    );\n};\n","import AdyenPlatformExperienceError from '../../../../../../core/Errors/AdyenPlatformExperienceError';\nimport { TranslationKey } from '../../../../../../translations';\nimport { ErrorMessage, UNDEFINED_ERROR } from '../../../../../utils/getCommonErrorCode';\nimport CopyText from '../../../../../internal/CopyText/CopyText';\nimport { AssetOptions } from '../../../../../../core/Assets/Assets';\n\nexport const ACCOUNT_MISCONFIGURATION = 'ACCOUNT_MISCONFIGURATION';\nexport const WRONG_STORE_IDS = 'WRONG_STORE_IDS';\n\nconst getSettingsErrorMessage = (\n    error: AdyenPlatformExperienceError | undefined,\n    errorMessage: TranslationKey,\n    onContactSupport?: () => void,\n    getImageAsset?: (props: AssetOptions) => string\n): ErrorMessage => {\n    if (!error) return UNDEFINED_ERROR;\n\n    const secondaryErrorMessage = onContactSupport ? 'common.errors.errorCode' : 'common.errors.errorCodeSupport';\n    const translationValues = {\n        [secondaryErrorMessage]: error.requestId ? (\n            <CopyText copyButtonAriaLabelKey=\"common.actions.copy.labels.errorCode\" textToCopy={error.requestId} />\n        ) : null,\n    };\n\n    switch (error.errorCode) {\n        case ACCOUNT_MISCONFIGURATION:\n            return {\n                title: 'common.errors.somethingWentWrong',\n                message: ['payByLink.common.errors.accountConfiguration', 'common.errors.contactSupport'],\n                translationValues,\n            };\n        case WRONG_STORE_IDS:\n            return {\n                title: 'common.errors.somethingWentWrong',\n                message: ['payByLink.common.errors.storeID', 'common.errors.contactSupport'],\n                translationValues,\n                onContactSupport,\n            };\n        case '00_500':\n            return {\n                title: 'common.errors.somethingWentWrong',\n                message: [errorMessage, secondaryErrorMessage],\n                translationValues,\n                refreshComponent: true,\n                images: {\n                    desktop: getImageAsset?.({ name: 'wrong-environment', subFolder: 'images/small' }),\n                },\n            };\n        default:\n            return {\n                title: 'common.errors.somethingWentWrong',\n                message: [errorMessage, secondaryErrorMessage],\n                translationValues,\n                refreshComponent: true,\n                images: {\n                    desktop: getImageAsset?.({ name: 'wrong-environment', subFolder: 'images/small' }),\n                },\n            };\n    }\n};\n\nexport default getSettingsErrorMessage;\n","import useCoreContext from '../../../../../../../core/Context/useCoreContext';\nimport AdyenPlatformExperienceError from '../../../../../../../core/Errors/AdyenPlatformExperienceError';\nimport { TranslationKey } from '../../../../../../../translations';\nimport { ErrorMessageDisplay } from '../../../../../../internal/ErrorMessageDisplay/ErrorMessageDisplay';\nimport getSettingsErrorMessage from '../../utils/getSettingsErrorMessage';\n\nconst SettingsError = ({\n    error,\n    errorMessage,\n    onContactSupport,\n    centered,\n    absolutePosition,\n}: {\n    error: AdyenPlatformExperienceError | undefined;\n    errorMessage: TranslationKey;\n    centered?: boolean;\n    absolutePosition?: boolean;\n    onContactSupport?: () => void;\n}) => {\n    const { getImageAsset } = useCoreContext();\n\n    const { title, message, refreshComponent, translationValues, images } = getSettingsErrorMessage(\n        error,\n        errorMessage,\n        onContactSupport,\n        getImageAsset\n    );\n\n    return (\n        <ErrorMessageDisplay\n            imageDesktop={images?.desktop}\n            imageMobile={images?.mobile}\n            withHeaderOffset\n            title={title}\n            message={message}\n            translationValues={translationValues}\n            withImage\n            centered={centered ?? false}\n            absolutePosition={absolutePosition ?? false}\n            refreshComponent={refreshComponent}\n            onContactSupport={onContactSupport}\n            outlined={false}\n        />\n    );\n};\nexport default SettingsError;\n","import cx from 'classnames';\nimport './LoadingSkeleton.scss';\n\nconst LoadingSkeleton = ({ rowNumber, className }: { rowNumber: number; className?: string }) => {\n    return (\n        <div className={cx('adyen-pe-payment-link-settings__skeleton', className)}>\n            <div className=\"adyen-pe-payment-link-settings__skeleton-item adyen-pe-payment-link-settings__skeleton-item--header\"></div>\n            {[...Array(rowNumber)].map((_, index) => (\n                <div className=\"adyen-pe-payment-link-settings__skeleton-container\" key={index}>\n                    <div className=\"adyen-pe-payment-link-settings__skeleton-item adyen-pe-payment-link-settings__skeleton-item--small\"></div>\n                    <div className=\"adyen-pe-payment-link-settings__skeleton-item adyen-pe-payment-link-settings__skeleton-item--large\"></div>\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default LoadingSkeleton;\n","import './TermsAndConditions.scss';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyVariant } from '../../../../internal/Typography/types';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { TermsAndConditions } from './TermsAndConditions';\nimport usePaymentLinkSettingsContext from '../PaymentLinkSettingsContainer/context/context';\nimport { useState, useEffect } from 'preact/hooks';\nimport { IPaymentLinkTermsAndConditions } from '../../../../../types';\nimport cx from 'classnames';\nimport { isTermsAndConditionsData } from '../PaymentLinkThemeContainer/types';\nimport SettingsError from '../PaymentLinkSettingsContainer/components/SettingsError/SettingsError';\nimport LoadingSkeleton from '../PaymentLinkSettingsContainer/components/LoadingSkeleton/LoadingSkeleton';\n\nconst ERROR_MESSAGE_KEY = 'payByLink.settings.termsAndConditions.errors.couldNotLoad';\n\nconst TermsAndConditionsContainer = () => {\n    const { i18n } = useCoreContext();\n    const { savedData: termsAndConditionsData, isLoadingContent, termsAndConditionsError, isShowingRequirements } = usePaymentLinkSettingsContext();\n    const [initialData, setInitialData] = useState<IPaymentLinkTermsAndConditions>();\n\n    useEffect(() => {\n        if (!isLoadingContent && !termsAndConditionsError) {\n            const data =\n                termsAndConditionsData && typeof termsAndConditionsData === 'object' && Object.keys(termsAndConditionsData).length > 0\n                    ? (termsAndConditionsData as IPaymentLinkTermsAndConditions)\n                    : { termsOfServiceUrl: '' };\n            setInitialData(data);\n        }\n    }, [termsAndConditionsData, setInitialData, isLoadingContent, termsAndConditionsError]);\n\n    if (termsAndConditionsError) {\n        return <SettingsError error={termsAndConditionsError} errorMessage={ERROR_MESSAGE_KEY} />;\n    }\n\n    if (!isTermsAndConditionsData(termsAndConditionsData) || !initialData) {\n        return <LoadingSkeleton rowNumber={2} />;\n    }\n\n    return (\n        <section className=\"adyen-pe-payment-link-settings-terms-and-conditions\">\n            <div\n                className={cx('adyen-pe-payment-link-settings-terms-and-conditions__content-header', {\n                    'adyen-pe-payment-link-settings-terms-and-conditions__content-header--hidden': isShowingRequirements,\n                })}\n            >\n                <div className=\"adyen-pe-payment-link-settings-terms-and-conditions__content-header\">\n                    <Typography variant={TypographyVariant.TITLE} medium>\n                        {i18n.get('payByLink.settings.termsAndConditions.title')}\n                    </Typography>\n                    <Typography variant={TypographyVariant.BODY} wide className=\"adyen-pe-payment-link-settings-terms-and-conditions-disclaimer\">\n                        {i18n.get('payByLink.settings.termsAndConditions.subtitle')}\n                    </Typography>\n                </div>\n            </div>\n            <TermsAndConditions data={termsAndConditionsData} initialData={initialData} />\n        </section>\n    );\n};\n\nexport default TermsAndConditionsContainer;\n","import { LogoTypes } from '../../types';\nimport { TranslationKey } from '../../../../../../../translations';\n\nexport const THEME_FORM_UPLOAD_DOCUMENT_MAX_SIZE = 51200; // 50KB\n\nexport const THEME_FORM_ALLOWED_FILE_TYPES = ['image/jpeg'] as const;\n\nexport const logoOptions: Record<string, LogoTypes> = {\n    LOGO: 'logo',\n    FULL_WIDTH_LOGO: 'fullWidthLogo',\n};\n\nexport const LogoLabel = {\n    logo: 'payByLink.settings.theme.logo.input.label',\n    fullWidthLogo: 'payByLink.settings.theme.wideLogo.input.label',\n} as Record<LogoTypes, TranslationKey>;\n\nexport const logoOptionsList: LogoTypes[] = ['logo', 'fullWidthLogo'];\n","import useUniqueId from '../../../../../../../hooks/useUniqueId';\nimport useCoreContext from '../../../../../../../core/Context/useCoreContext';\nimport { useCallback } from 'preact/hooks';\nimport { TypographyElement, TypographyVariant } from '../../../../../../internal/Typography/types';\nimport Typography from '../../../../../../internal/Typography/Typography';\nimport { LogoLabel } from '../ThemeForm/constants';\nimport { ButtonVariant } from '../../../../../../internal/Button/types';\nimport Button from '../../../../../../internal/Button';\nimport { LogoTypes } from '../../types';\n\nconst LogoPreview = ({\n    disabled,\n    logoType,\n    logoURL,\n    onRemoveLogo,\n}: {\n    disabled: boolean;\n    logoType: LogoTypes;\n    logoURL: string;\n    onRemoveLogo: (logoType: LogoTypes) => void;\n}) => {\n    const { i18n } = useCoreContext();\n    const logoURLId = useUniqueId();\n\n    const onRemoveURL = useCallback(() => {\n        onRemoveLogo(logoType);\n    }, [logoType, onRemoveLogo]);\n\n    return (\n        <div className=\"adyen-pe-payment-link-theme-form__preview--conteiner\">\n            <label htmlFor={logoURLId} aria-labelledby={logoURLId}>\n                <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} stronger>\n                    {i18n.get(LogoLabel[logoType])}\n                </Typography>\n            </label>\n            <img id={logoURLId} src={logoURL} alt={'full-width-logo'} className={'adyen-pe-payment-link-theme-form__preview--image'} />\n            <Button\n                disabled={disabled}\n                variant={ButtonVariant.SECONDARY}\n                onClick={onRemoveURL}\n                className=\"adyen-pe-payment-link-theme-form__preview--remove\"\n            >\n                {i18n.get('payByLink.settings.theme.action.logo.remove')}\n            </Button>\n        </div>\n    );\n};\n\nexport default LogoPreview;\n","import { TranslationKey } from '../../../../../translations';\nimport { validationErrors } from '../constants';\nimport { ValidationError } from '../types';\n\nexport const defaultMapErrors = (error: ValidationError): TranslationKey => {\n    switch (error) {\n        case validationErrors.DISALLOWED_FILE_TYPE:\n            return 'common.inputs.file.errors.disallowedType';\n        case validationErrors.FILE_REQUIRED:\n            return 'common.inputs.file.errors.required';\n        case validationErrors.TOO_MANY_FILES:\n            return 'common.inputs.file.errors.tooMany';\n        case validationErrors.VERY_LARGE_FILE:\n            return 'common.inputs.file.errors.tooLarge';\n        case validationErrors.MAX_DIMENSIONS:\n            return 'common.inputs.file.errors.maxDimensions';\n    }\n    return 'common.inputs.file.errors.default';\n};\n\nexport default defaultMapErrors;\n","const fileNameMappings = {\n    'image/png': 'PNG',\n    'image/jpeg': 'JPEG',\n    'image/jpg': 'JPG',\n    'application/pdf': 'PDF',\n};\n\nexport const getHumanReadableFileName = (fileName: string): string => {\n    return fileNameMappings[fileName as keyof typeof fileNameMappings] || fileName;\n};\n","import { FC } from 'preact/compat';\nimport useCoreContext from '../../../../../../../core/Context/useCoreContext';\nimport Typography from '../../../../../../internal/Typography/Typography';\nimport { TypographyVariant } from '../../../../../../internal/Typography/types';\nimport { logoOptions, THEME_FORM_ALLOWED_FILE_TYPES, THEME_FORM_UPLOAD_DOCUMENT_MAX_SIZE } from '../ThemeForm/constants';\nimport { getHumanReadableFileName } from '../../../../../../../utils/file/naming';\nimport { getHumanReadableFileSize } from '../../../../../../../utils';\nimport { LogoTypes } from '../../types';\n\nconst getImageSizeLimitation = (logoType: LogoTypes) => {\n    switch (logoType) {\n        case logoOptions.FULL_WIDTH_LOGO:\n            return '300 x 30 px';\n        case logoOptions.LOGO:\n        default:\n            return '200 x 200 px';\n    }\n};\n\nconst LogoRequirements: FC<{ logoType: LogoTypes }> = ({ logoType }: { logoType: LogoTypes }) => {\n    const { i18n } = useCoreContext();\n\n    const logoFileInformationText = getImageSizeLimitation(logoType);\n\n    return (\n        <div className=\"adyen-pe-payment-link-theme-form__file-info-container\">\n            <Typography variant={TypographyVariant.BODY} className=\"adyen-pe-payment-link-theme-form__file-info\">\n                {i18n.get('payByLink.settings.theme.limitations.file.input.supportedFile.text')}\n                {THEME_FORM_ALLOWED_FILE_TYPES.map(type => getHumanReadableFileName(type)).join(', ')}\n            </Typography>\n            <Typography variant={TypographyVariant.BODY} className=\"adyen-pe-payment-link-theme-form__file-info\">\n                {i18n.get('payByLink.settings.theme.limitations.file.input.maxSize.text')}\n                {getHumanReadableFileSize(THEME_FORM_UPLOAD_DOCUMENT_MAX_SIZE)}\n            </Typography>\n            <Typography variant={TypographyVariant.BODY} className=\"adyen-pe-payment-link-theme-form__file-info\">\n                {i18n.get('payByLink.settings.theme.limitations.file.input.imageSize.text')}\n                {logoFileInformationText}\n            </Typography>\n        </div>\n    );\n};\n\nexport default LogoRequirements;\n","import { LogoTypes } from '../../types';\nimport useCoreContext from '../../../../../../../core/Context/useCoreContext';\nimport useUniqueId from '../../../../../../../hooks/useUniqueId';\nimport { useCallback, useMemo } from 'preact/hooks';\nimport { TranslationKey } from '../../../../../../../translations';\nimport { MapErrorCallback } from '../../../../../DisputeManagement/components/DefendDisputeFlow/types';\nimport { validationErrors } from '../../../../../../internal/FormFields/FileInput/constants';\nimport defaultMapError from '../../../../../../internal/FormFields/FileInput/helpers/defaultMapError';\nimport Typography from '../../../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../../../internal/Typography/types';\nimport FileInput from '../../../../../../internal/FormFields/FileInput/FileInput';\nimport { LogoLabel, logoOptions, THEME_FORM_ALLOWED_FILE_TYPES, THEME_FORM_UPLOAD_DOCUMENT_MAX_SIZE } from '../ThemeForm/constants';\nimport LogoRequirements from '../LogoRequirements/LogoRequirements';\nimport { ValidationError } from '../../../../../../internal/FormFields/FileInput/types';\n\nconst getImageDimensionLimitation = (logoType: LogoTypes) => {\n    switch (logoType) {\n        case logoOptions.LOGO:\n            return { width: 200, height: 200 };\n        case logoOptions.FULL_WIDTH_LOGO:\n        default:\n            return { width: 300, height: 30 };\n    }\n};\n\nconst LogoInput = ({\n    disabled,\n    logoType,\n    onFileInputChange,\n}: {\n    disabled: boolean;\n    logoType: LogoTypes;\n    onFileInputChange: (logoType: LogoTypes, files: File[]) => void;\n}) => {\n    const { i18n } = useCoreContext();\n    const logoInputId = useUniqueId();\n\n    const onChange = useCallback(\n        (files: File[]) => {\n            onFileInputChange(logoType, files);\n        },\n        [logoType, onFileInputChange]\n    );\n\n    const dimensions: {\n        width: number;\n        height: number;\n    } = useMemo(() => getImageDimensionLimitation(logoType), [logoType]);\n\n    const dimensionError: TranslationKey = useMemo(\n        () =>\n            logoType === 'logo'\n                ? 'payByLink.settings.themes.inputs.file.errors.logo.maxDimension'\n                : 'payByLink.settings.themes.inputs.file.errors.fullWidthLogo.maxDimension',\n        [logoType]\n    );\n\n    const mapError: MapErrorCallback = useCallback(\n        (error: ValidationError) => {\n            switch (error) {\n                case validationErrors.MAX_DIMENSIONS:\n                    return i18n.get(dimensionError);\n                default:\n                    return i18n.get(defaultMapError(error));\n            }\n        },\n        [i18n, dimensionError]\n    );\n\n    return (\n        <>\n            <label htmlFor={logoInputId} aria-labelledby={logoInputId} className=\"adyen-pe-payment-link-theme-form__file-input\">\n                <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} stronger>\n                    {i18n.get(LogoLabel[logoType])}\n                </Typography>\n                <Typography\n                    el={TypographyElement.SPAN}\n                    variant={TypographyVariant.BODY}\n                    className=\"adyen-pe-payment-link-theme-form__field-label-optional\"\n                >\n                    {`(${i18n.get('payByLink.common.fields.optional.label')})`}\n                </Typography>\n            </label>\n            <FileInput\n                disabled={disabled}\n                maxDimensions={dimensions}\n                maxFileSize={THEME_FORM_UPLOAD_DOCUMENT_MAX_SIZE}\n                allowedFileTypes={THEME_FORM_ALLOWED_FILE_TYPES}\n                onChange={onChange}\n                id={logoInputId}\n                mapError={mapError}\n            />\n            <LogoRequirements logoType={logoType} />\n        </>\n    );\n};\n\nexport default LogoInput;\n","import InputText from '../../../../../../internal/FormFields/InputText';\nimport Typography from '../../../../../../internal/Typography/Typography';\nimport { TypographyElement, TypographyVariant } from '../../../../../../internal/Typography/types';\nimport useUniqueId from '../../../../../../../hooks/useUniqueId';\nimport useCoreContext from '../../../../../../../core/Context/useCoreContext';\nimport { logoOptions, logoOptionsList } from './constants';\nimport './ThemeForm.scss';\nimport { useCallback, useEffect, useState } from 'preact/hooks';\nimport { h } from 'preact';\nimport Icon from '../../../../../../internal/Icon';\nimport usePaymentLinkSettingsContext from '../../../PaymentLinkSettingsContainer/context/context';\nimport { LogoTypes, ThemeFormDataRequest, ThemeFormProps } from '../../types';\nimport LogoPreview from '../LogoPreview/LogoPreview';\nimport LogoInput from '../LogoInput/LogoInput';\nimport { cloneFormData } from '../../../PaymentLinkSettingsContainer/utils/getThemePayload';\n\nexport const ThemeForm = ({ theme, initialPayload }: ThemeFormProps) => {\n    const { setPayload, saveActionCalled, setSaveActionCalled, setIsValid, isSaving, setIsSaveSuccess, setIsSaveError } =\n        usePaymentLinkSettingsContext();\n\n    const { brandName: initialBrandName, logo, fullWidthLogo } = theme;\n    const [brandName, setBrandName] = useState(initialBrandName ?? undefined);\n    const [logoUrl, setLogoUrl] = useState(logo ?? null);\n    const [fullWidthLogoUrl, setFullWidthLogoUrl] = useState(fullWidthLogo ?? null);\n    const [themePayload, setThemePayload] = useState<FormData | undefined>();\n    const [showMissingBrandName, setShowMissingBrandName] = useState(false);\n\n    const brandInputId = useUniqueId();\n    const { i18n } = useCoreContext();\n\n    useEffect(() => {\n        setIsValid(!!brandName);\n    }, [brandName, setIsValid, themePayload, setPayload]);\n\n    useEffect(() => {\n        setThemePayload(initialPayload);\n    }, [initialPayload]);\n\n    useEffect(() => {\n        if (saveActionCalled) {\n            if (!brandName) {\n                setShowMissingBrandName(true);\n            }\n            setSaveActionCalled(false);\n            setIsSaveSuccess(false);\n            setIsSaveError(false);\n        }\n    }, [saveActionCalled, setSaveActionCalled, brandName, setShowMissingBrandName, setIsSaveError, setIsSaveSuccess]);\n\n    const addFileToThemePayload = useCallback(\n        (field: string, file: File) => {\n            setThemePayload(previousFormData => {\n                const nextFormData = previousFormData ? cloneFormData(previousFormData) : new FormData();\n                nextFormData.set(field, file, file.name);\n                nextFormData.set(field, file, file.name);\n                setPayload(nextFormData);\n                return nextFormData;\n            });\n        },\n        [setPayload]\n    );\n\n    const onBrandNameChange = useCallback(\n        (e: h.JSX.TargetedEvent<HTMLInputElement>) => {\n            const value = e?.currentTarget?.value;\n            setShowMissingBrandName(false);\n            setBrandName(value);\n            setThemePayload(previousFormData => {\n                const nextFormData = previousFormData ? cloneFormData(previousFormData) : new FormData();\n                nextFormData.set(ThemeFormDataRequest.BRAND, value);\n                setPayload(nextFormData);\n                return nextFormData;\n            });\n        },\n        [setShowMissingBrandName, setBrandName, setThemePayload, setPayload]\n    );\n\n    const removeFieldFromThemePayload = useCallback(\n        (field: string) => {\n            setThemePayload(previousFormData => {\n                if (previousFormData && previousFormData.has(field)) {\n                    const nextFormData = cloneFormData(previousFormData);\n                    nextFormData.delete(field);\n                    setPayload(nextFormData);\n                    return nextFormData;\n                }\n                return previousFormData;\n            });\n        },\n        [setPayload]\n    );\n\n    const logoPreview = useCallback(\n        (type: LogoTypes, file: File) => {\n            const reader = new FileReader();\n\n            reader.onload = function (e) {\n                const result = e?.target?.result as string;\n                if (type === logoOptions.LOGO) {\n                    setLogoUrl(result);\n                }\n                if (type === logoOptions.FULL_WIDTH_LOGO) {\n                    setFullWidthLogoUrl(result);\n                }\n            };\n            reader.readAsDataURL(file);\n        },\n        [setLogoUrl, setFullWidthLogoUrl]\n    );\n\n    const onLogoChange = useCallback(\n        (type: LogoTypes, files: File[]) => {\n            const file = files[0];\n            if (!file) return;\n            addFileToThemePayload(type, file);\n            logoPreview(type, file);\n        },\n        [addFileToThemePayload, logoPreview]\n    );\n\n    const onRemoveLogoUrl = useCallback(\n        (logoType: LogoTypes) => {\n            removeFieldFromThemePayload(logoType);\n            if (logoType === logoOptions.LOGO) {\n                setLogoUrl(null);\n            }\n            if (logoType === logoOptions.FULL_WIDTH_LOGO) {\n                setFullWidthLogoUrl(null);\n            }\n        },\n        [removeFieldFromThemePayload, setLogoUrl, setFullWidthLogoUrl]\n    );\n\n    const getLogoUrl = useCallback(\n        (logoType: LogoTypes) => {\n            return logoType === logoOptions.LOGO ? logoUrl : fullWidthLogoUrl;\n        },\n        [fullWidthLogoUrl, logoUrl]\n    );\n\n    return (\n        <div className=\"adyen-pe-payment-link-theme-form-container\">\n            <div className=\"adyen-pe-payment-link-theme-form\">\n                <div className=\"adyen-pe-payment-link-settings__input-container\">\n                    <label htmlFor={brandInputId} aria-labelledby={brandInputId} className=\"adyen-pe-payment-link-theme-form__brand-input\">\n                        <Typography el={TypographyElement.SPAN} variant={TypographyVariant.BODY} stronger>\n                            {i18n.get('payByLink.settings.theme.brandName.input.label')}\n                        </Typography>\n                    </label>\n                    <InputText\n                        type=\"text\"\n                        disabled={!!isSaving}\n                        readonly={!!isSaving}\n                        lang={i18n.locale}\n                        uniqueId={brandInputId}\n                        value={brandName}\n                        onInput={onBrandNameChange}\n                        placeholder={i18n.get('payByLink.settings.theme.brandName.input.placeholder')}\n                        isInvalid={showMissingBrandName}\n                    />\n                    {showMissingBrandName && (\n                        <div className=\"adyen-pe-payment-link-theme-form__error\">\n                            <Icon name=\"cross-circle-fill\" className={'adyen-pe-payment-link-theme-form__error-icon'} />\n                            <Typography\n                                className={'adyen-pe-payment-link-theme-form__error-text'}\n                                el={TypographyElement.SPAN}\n                                variant={TypographyVariant.BODY}\n                            >\n                                {i18n.get('payByLink.settings.theme.inputs.brandName.errors.missing')}\n                            </Typography>\n                        </div>\n                    )}\n                </div>\n                {logoOptionsList.map(logoType => {\n                    const url = getLogoUrl(logoType);\n                    return (\n                        <div key={logoType} className={'adyen-pe-payment-link-settings__input-container '}>\n                            {url ? (\n                                <LogoPreview disabled={!!isSaving} logoType={logoType} logoURL={url} onRemoveLogo={onRemoveLogoUrl} />\n                            ) : (\n                                <LogoInput disabled={!!isSaving} logoType={logoType} onFileInputChange={onLogoChange} />\n                            )}\n                        </div>\n                    );\n                })}\n            </div>\n        </div>\n    );\n};\n","import './PaymentLinkThemeContainer.scss';\nimport Typography from '../../../../internal/Typography/Typography';\nimport { TypographyVariant } from '../../../../internal/Typography/types';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport usePaymentLinkSettingsContext from '../PaymentLinkSettingsContainer/context/context';\nimport { useEffect, useMemo, useState } from 'preact/hooks';\nimport { ThemeForm } from './components/ThemeForm';\nimport { isThemeData, isThemePayload } from './types';\nimport LoadingSkeleton from '../PaymentLinkSettingsContainer/components/LoadingSkeleton/LoadingSkeleton';\nimport SettingsError from '../PaymentLinkSettingsContainer/components/SettingsError/SettingsError';\nimport { ThemeFormData } from '../PaymentLinkSettingsContainer/context/types';\n\nconst ERROR_MESSAGE_KEY = 'payByLink.settings.theme.errors.couldNotLoad';\n\nconst PaymentLinkThemeContainer = () => {\n    const { i18n } = useCoreContext();\n    const { payload, setSavedData, savedData: theme, themeError, isLoadingContent } = usePaymentLinkSettingsContext();\n    const [initialPayload, setInitialPayload] = useState<FormData>();\n\n    useEffect(() => {\n        if (isThemePayload(payload)) {\n            setInitialPayload(payload);\n        }\n    }, [payload, setSavedData, setInitialPayload]);\n\n    const data = useMemo(() => {\n        if (!isLoadingContent && !themeError) {\n            return theme && typeof theme === 'object' && Object.keys(theme).length > 0 ? (theme as ThemeFormData) : { brandName: '' };\n        }\n        return { brandName: '' };\n    }, [theme, isLoadingContent, themeError]);\n\n    if (themeError) {\n        return (\n            <section className=\"adyen-pe-payment-link-theme\">\n                <SettingsError error={themeError} errorMessage={ERROR_MESSAGE_KEY} />\n            </section>\n        );\n    }\n\n    if (!theme || !isThemeData(data) || !initialPayload) {\n        return <LoadingSkeleton rowNumber={3} />;\n    }\n\n    return (\n        <section className=\"adyen-pe-payment-link-theme\">\n            <div className=\"adyen-pe-payment-link-settings__content-header\">\n                <Typography variant={TypographyVariant.TITLE} medium>\n                    {i18n.get('payByLink.settings.theme.title')}\n                </Typography>\n                <Typography variant={TypographyVariant.BODY} wide className=\"adyen-pe-payment-link-settings-terms-and-conditions-disclaimer\">\n                    {i18n.get('payByLink.settings.theme.subtitle')}\n                </Typography>\n            </div>\n            <ThemeForm theme={data} initialPayload={initialPayload} />\n        </section>\n    );\n};\n\nexport default PaymentLinkThemeContainer;\n","import { MenuItem } from '../../context/constants';\nimport LoadingSkeleton from '../LoadingSkeleton/LoadingSkeleton';\n\nconst PaymentLinkSettingsContentLoading = ({ activeMenuItem }: { activeMenuItem: string | null }) => {\n    switch (activeMenuItem) {\n        case MenuItem.theme:\n            return <LoadingSkeleton rowNumber={3} />;\n        case MenuItem.termsAndConditions:\n            return <LoadingSkeleton rowNumber={2} />;\n        default:\n            return <LoadingSkeleton rowNumber={3} />;\n    }\n};\n\nexport default PaymentLinkSettingsContentLoading;\n","import TermsAndConditionsContainer from '../../../TermsAndConditions/TermsAndConditionsContainer';\nimport PaymentLinkThemeContainer from '../../../PaymentLinkThemeContainer/PaymentLinkThemeContainer';\nimport { MenuItem } from '../../context/constants';\nimport { containerQueries, useResponsiveContainer } from '../../../../../../../hooks/useResponsiveContainer';\nimport Alert from '../../../../../../internal/Alert/Alert';\nimport { AlertTypeOption, AlertVariantOption } from '../../../../../../internal/Alert/types';\nimport useCoreContext from '../../../../../../../core/Context/useCoreContext';\nimport usePaymentLinkSettingsContext from '../../context/context';\nimport PaymentLinkSettingsContentLoading from '../PaymentLinkSettingsContentLoading/PaymentLinkSettingsContentLoading';\n\ntype PaymentLinkSettingsContentProps = {\n    activeMenuItem: string | null;\n    isLoadingContent: boolean;\n    navigateBack?: () => void;\n};\n\nconst PaymentLinkSettingsContentItem = ({ activeMenuItem, isLoadingContent }: PaymentLinkSettingsContentProps) => {\n    if (isLoadingContent) {\n        return <PaymentLinkSettingsContentLoading activeMenuItem={activeMenuItem} />;\n    }\n    switch (activeMenuItem) {\n        case MenuItem.theme:\n            return <PaymentLinkThemeContainer />;\n        case MenuItem.termsAndConditions:\n            return <TermsAndConditionsContainer />;\n        default:\n            return null;\n    }\n};\n\nconst PaymentLinkSettingsContent = ({ activeMenuItem, isLoadingContent, navigateBack }: PaymentLinkSettingsContentProps) => {\n    const isSmContainer = useResponsiveContainer(containerQueries.down.xs);\n    const { i18n } = useCoreContext();\n    const { isSaveSuccess, isSaveError, setIsSaveSuccess, setIsSaveError } = usePaymentLinkSettingsContext();\n\n    return (\n        <div className={isSmContainer ? 'adyen-pe-payment-link-settings__content-item--mobile' : 'adyen-pe-payment-link-settings__content-item'}>\n            <PaymentLinkSettingsContentItem activeMenuItem={activeMenuItem} isLoadingContent={isLoadingContent} />\n            {isSaveSuccess && !navigateBack && (\n                <Alert\n                    type={AlertTypeOption.SUCCESS}\n                    variant={AlertVariantOption.TIP}\n                    onClose={() => setIsSaveSuccess(false)}\n                    description={i18n.get('payByLink.settings.common.alerts.saveSuccess')}\n                    className={'adyen-pe-payment-link-settings__content-item--alert'}\n                />\n            )}\n            {isSaveError && (\n                <Alert\n                    type={AlertTypeOption.CRITICAL}\n                    variant={AlertVariantOption.TIP}\n                    onClose={() => setIsSaveError(false)}\n                    description={i18n.get('payByLink.settings.common.alerts.saveError')}\n                    className={'adyen-pe-payment-link-settings__content-item--alert'}\n                />\n            )}\n        </div>\n    );\n};\n\nexport default PaymentLinkSettingsContent;\n","import useCoreContext from '../../../../../../../core/Context/useCoreContext';\nimport usePayByLinkSettingsContext from '../../context/context';\nimport { containerQueries, useResponsiveContainer } from '../../../../../../../hooks/useResponsiveContainer';\nimport { boolOrFalse, noop } from '../../../../../../../utils';\nimport { ButtonActionObject, ButtonActionsLayout, ButtonActionsLayoutBasic } from '../../../../../../internal/Button/ButtonActions/types';\nimport ButtonActions from '../../../../../../internal/Button/ButtonActions/ButtonActions';\nimport { useMemo } from 'preact/hooks';\nimport './SettingsActionButton.scss';\nimport { ButtonVariant } from '../../../../../../internal/Button/types';\nimport cx from 'classnames';\nimport Icon from '../../../../../../internal/Icon';\n\nconst SettingsActionButtons = ({ navigateBack, closeContent }: { navigateBack?: () => void | undefined; closeContent?: () => void | undefined }) => {\n    const { i18n } = useCoreContext();\n    const { onSave, isSaving, isLoadingContent, isLoadingStores, isSaveSuccess } = usePayByLinkSettingsContext();\n    const isSmContainer = useResponsiveContainer(containerQueries.down.xs);\n    const isLoading = isLoadingContent || isLoadingStores;\n\n    const saveButton = useMemo(() => {\n        return {\n            disabled: boolOrFalse(isSaving || isLoading || (navigateBack && isSaveSuccess)),\n            event: onSave,\n            iconLeft:\n                navigateBack && isSaveSuccess ? (\n                    <Icon className={'adyen-pe-payment-link-settings-save-success__cta-icon'} name={'checkmark'} />\n                ) : undefined,\n            title: i18n.get('payByLink.settings.common.action.save'),\n            variant: ButtonVariant.PRIMARY,\n            state: boolOrFalse(isSaving && !(navigateBack && isSaveSuccess)) ? 'loading' : 'default',\n            classNames: isSmContainer ? ['adyen-pe-payment-link-settings__cta--mobile'] : [],\n        } as ButtonActionObject;\n    }, [i18n, onSave, isSaving, isSmContainer, navigateBack, isSaveSuccess, isLoading]);\n\n    const goBackButton = useMemo(() => {\n        return {\n            disabled: boolOrFalse(isLoading),\n            event: navigateBack ?? closeContent ?? noop,\n            title: i18n.get('payByLink.common.actions.goBack'),\n            variant: ButtonVariant.SECONDARY,\n            classNames: isSmContainer ? ['adyen-pe-payment-link-settings__cta--mobile'] : [],\n        } as ButtonActionObject;\n    }, [navigateBack, i18n, isSmContainer, closeContent, isLoading]);\n\n    const buttonActions = useMemo(() => {\n        if (!navigateBack && !closeContent) return [saveButton];\n        return [saveButton, goBackButton];\n    }, [saveButton, goBackButton, navigateBack, closeContent]);\n\n    const layout = useMemo(() => (isSmContainer ? ButtonActionsLayout.VERTICAL_STACK : ButtonActionsLayoutBasic.BUTTONS_END), [isSmContainer]);\n\n    return (\n        <div\n            className={cx('adyen-pe-payment-link-settings__cta-container', {\n                ['adyen-pe-payment-link-settings__cta-container--mobile']: isSmContainer,\n            })}\n        >\n            <ButtonActions actions={buttonActions} layout={layout} />\n        </div>\n    );\n};\n\nexport default SettingsActionButtons;\n","import { SecondaryNav } from '../../../../internal/SecondaryNav';\nimport {\n    CONTAINER_CLASS_NAME,\n    SIDEBAR_CONTAINER_CLASS_NAME,\n    SECONDARY_NAV_CLASS_NAME,\n    CONTENT_CONTAINER_CLASS_NAME,\n    CONTENT_CONTAINER_MOBILE_CLASS_NAME,\n} from './constants';\nimport { type ExternalUIComponentProps, PaymentLinkSettingsComponentProps } from '../../../../types';\nimport './PaymentLinkSettingsContainer.scss';\nimport { StoreSelector } from '../../../../internal/StoreSelector';\nimport { Header } from '../../../../internal/Header';\nimport { usePaymentLinkSettingsContext } from './context/context';\nimport PaymentLinkSettingsContent from './components/PaymentLinkSettingsContent/PaymentLinkSettingsContent';\nimport SettingsActionButtons from './components/SettingsActionButtons/SettingsActionButtons';\nimport { MenuItemType } from './context/types';\nimport { useCallback, useEffect, useState } from 'preact/hooks';\nimport { containerQueries, useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport cx from 'classnames';\nimport LoadingSkeleton from './components/LoadingSkeleton/LoadingSkeleton';\nimport { useMemo } from 'preact/hooks';\nimport AdyenPlatformExperienceError from '../../../../../core/Errors/AdyenPlatformExperienceError';\nimport SettingsError from './components/SettingsError/SettingsError';\nimport { ACCOUNT_MISCONFIGURATION, WRONG_STORE_IDS } from './utils/getSettingsErrorMessage';\n\nconst ERROR_MESSAGE_KEY = 'payByLink.settings.errors.couldNotLoadSettings' as const;\n\nconst PaymentLinkSettings = ({\n    navigateBack,\n    ...props\n}: ExternalUIComponentProps<PaymentLinkSettingsComponentProps> & {\n    navigateBack?: () => void;\n}) => {\n    const {\n        activeMenuItem,\n        setSelectedMenuItem,\n        selectedStore,\n        isLoadingStores,\n        isShowingRequirements,\n        storesError,\n        setSelectedStore,\n        filteredStores,\n        menuItems,\n        isLoadingContent,\n        allStores,\n        themeError,\n        termsAndConditionsError,\n    } = usePaymentLinkSettingsContext();\n    const isSmContainer = useResponsiveContainer(containerQueries.down.xs);\n    const [contentVisible, setContentVisible] = useState(false);\n\n    useEffect(() => {\n        const visibility = Boolean(!isSmContainer || (isSmContainer && menuItems && menuItems?.length === 1));\n        setContentVisible(visibility);\n    }, [isSmContainer, menuItems]);\n\n    const onContentVisibilityChange = useCallback(\n        (contentVisible: boolean) => {\n            setContentVisible(contentVisible);\n        },\n        [setContentVisible]\n    );\n\n    const closeContent = useCallback(() => {\n        if (!isSmContainer) return;\n        setContentVisible(false);\n    }, [isSmContainer]);\n\n    const noStoresError = useMemo(() => {\n        if (!allStores || allStores.length > 0 || isLoadingStores) return undefined;\n        return {\n            errorCode: ACCOUNT_MISCONFIGURATION,\n            type: 'error',\n            requestId: '',\n        } as AdyenPlatformExperienceError;\n    }, [allStores, isLoadingStores]);\n\n    const storesFilteredError = useMemo(() => {\n        if ((allStores && allStores?.length > 0 && filteredStores?.length !== 0) || isLoadingStores) return undefined;\n        return {\n            errorCode: WRONG_STORE_IDS,\n            type: 'error',\n            requestId: '',\n        } as AdyenPlatformExperienceError;\n    }, [allStores, filteredStores, isLoadingStores]);\n\n    const error = storesError ?? noStoresError ?? storesFilteredError;\n\n    const errorDisplay = useMemo(() => {\n        if (!error) return null;\n        return <SettingsError error={error} onContactSupport={props.onContactSupport} errorMessage={ERROR_MESSAGE_KEY} />;\n    }, [props.onContactSupport, error]);\n\n    const hasError = !!noStoresError || !!storesError || !!storesFilteredError;\n\n    if (!menuItems || menuItems.length === 0) return null;\n\n    const showActionButtons = contentVisible && !themeError && !storesError && !termsAndConditionsError && !isShowingRequirements;\n\n    return (\n        <div className={CONTAINER_CLASS_NAME}>\n            {(!isSmContainer || !contentVisible) && <Header hideTitle={props.hideTitle} titleKey=\"payByLink.settings.title\" />}\n            {hasError ? (\n                errorDisplay\n            ) : (\n                <>\n                    <div className={cx(CONTENT_CONTAINER_CLASS_NAME, { [CONTENT_CONTAINER_MOBILE_CLASS_NAME]: isSmContainer && contentVisible })}>\n                        {menuItems.length > 1 ? (\n                            <div className={SIDEBAR_CONTAINER_CLASS_NAME}>\n                                <SecondaryNav<MenuItemType>\n                                    renderHeader={() => (\n                                        <StoreSelector\n                                            stores={filteredStores}\n                                            selectedStoreId={selectedStore}\n                                            setSelectedStoreId={setSelectedStore}\n                                        />\n                                    )}\n                                    contentVisible={contentVisible}\n                                    loading={isLoadingStores}\n                                    className={SECONDARY_NAV_CLASS_NAME}\n                                    items={menuItems}\n                                    activeValue={activeMenuItem}\n                                    onValueChange={setSelectedMenuItem}\n                                    onContentVisibilityChange={onContentVisibilityChange}\n                                    renderContent={(activeMenuItem: string) => (\n                                        <PaymentLinkSettingsContent\n                                            activeMenuItem={activeMenuItem}\n                                            isLoadingContent={isLoadingContent}\n                                            navigateBack={navigateBack}\n                                        />\n                                    )}\n                                    renderLoadingContent={() => <LoadingSkeleton rowNumber={3} />}\n                                />\n                            </div>\n                        ) : (\n                            <PaymentLinkSettingsContent\n                                activeMenuItem={activeMenuItem}\n                                isLoadingContent={isLoadingContent}\n                                navigateBack={navigateBack}\n                            />\n                        )}\n                    </div>\n                    {showActionButtons && (\n                        <SettingsActionButtons\n                            navigateBack={navigateBack ? navigateBack : undefined}\n                            closeContent={isSmContainer ? closeContent : undefined}\n                        />\n                    )}\n                </>\n            )}\n        </div>\n    );\n};\n\nexport default PaymentLinkSettings;\n","import { type ExternalUIComponentProps, PaymentLinkSettingsComponentProps } from '../../../../types';\nimport './PaymentLinkSettingsContainer.scss';\nimport { PaymentLinkSettingsProvider } from './context/context';\nimport PaymentLinkSettings from './PaymentLinkSettings';\nimport { PaymentLinkSettingsItem } from './context/types';\nimport { useMemo } from 'preact/hooks';\nimport { MENU_ITEMS } from './context/constants';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\n\nconst PaymentLinkSettingsContainer = ({\n    settingsItems,\n    storeIds,\n    embeddedInOverview,\n    ...props\n}: ExternalUIComponentProps<PaymentLinkSettingsComponentProps> & {\n    settingsItems?: PaymentLinkSettingsItem[];\n    navigateBack?: () => void;\n    embeddedInOverview?: boolean;\n}) => {\n    const { i18n } = useCoreContext();\n\n    const filteredMenuItems = useMemo(\n        () => (settingsItems && settingsItems?.length > 0 ? MENU_ITEMS.filter(item => settingsItems.includes(item.value)) : MENU_ITEMS),\n        [settingsItems]\n    );\n\n    const paymentLinkSettingsItem = useMemo(() => {\n        const settingsItems = filteredMenuItems.length > 0 ? filteredMenuItems : MENU_ITEMS;\n        return settingsItems.map(item => ({ ...item, label: i18n.get(item.label) }));\n    }, [i18n, filteredMenuItems]);\n\n    return (\n        <PaymentLinkSettingsProvider\n            embeddedInOverview={embeddedInOverview}\n            selectedMenuItems={paymentLinkSettingsItem}\n            storeIds={storeIds}\n            navigateBack={props?.navigateBack}\n        >\n            <PaymentLinkSettings {...props} />\n        </PaymentLinkSettingsProvider>\n    );\n};\n\nexport default PaymentLinkSettingsContainer;\n","import { useCallback, useEffect, useState } from 'preact/hooks';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport localInvalidFieldsConfig from '../../../../config/payByLink/invalidFieldsConfig.json';\nimport { TranslationKey } from '../../../../translations';\n\nexport type InvalidFieldsConfig = {\n    fields: Record<string, TranslationKey>;\n    messages: Record<string, TranslationKey>;\n};\n\nexport const useInvalidFieldsConfig = () => {\n    const { getCdnConfig } = useCoreContext();\n    const localConfig = localInvalidFieldsConfig as unknown as InvalidFieldsConfig;\n    const [invalidFieldsConfig, setInvalidFieldsConfig] = useState<InvalidFieldsConfig>(localConfig);\n\n    const getInvalidFieldsConfig = useCallback(async () => {\n        const config = await getCdnConfig?.<InvalidFieldsConfig>({\n            subFolder: 'payByLink',\n            name: 'invalidFieldsConfig',\n            fallback: localConfig,\n        });\n        setInvalidFieldsConfig(config ?? localConfig);\n    }, [getCdnConfig, localConfig]);\n\n    useEffect(() => {\n        void getInvalidFieldsConfig();\n    }, [getInvalidFieldsConfig]);\n\n    return {\n        invalidFieldsConfig,\n        getInvalidFieldsConfig,\n    };\n};\n","import Typography from '../../../../internal/Typography/Typography';\nimport useCoreContext from '../../../../../core/Context/useCoreContext';\nimport { TypographyElement, TypographyVariant } from '../../../../internal/Typography/types';\nimport { Stepper } from '../../../../internal/Stepper/Stepper';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { PaymentLinkCreationFormValues, LinkCreationFormStep } from '../types';\nimport { WizardFormProvider } from '../../../../../hooks/form/wizard/WizardFormContext';\nimport { ButtonVariant } from '../../../../internal/Button/types';\nimport Button from '../../../../internal/Button';\nimport '../../PaymentLinkCreation.scss';\nimport './PaymentLinkCreationForm.scss';\nimport useMutation from '../../../../../hooks/useMutation/useMutation';\nimport { SuccessResponse } from '../../../../../types/api/endpoints';\nimport Icon from '../../../../internal/Icon';\nimport { usePaymentLinkFormData } from './usePaymentLinkFormData';\nimport { PaymentLinkCreationComponentProps } from '../../../../types';\nimport { scrollToFirstErrorField } from '../../utils';\nimport { useResponsiveContainer } from '../../../../../hooks/useResponsiveContainer';\nimport { containerQueries } from '../../../../../hooks/useResponsiveContainer';\nimport { FormStepRenderer } from './FormStepRenderer';\nimport PaymentLinkSettingsContainer from '../../../PaymentLinkSettings/components/PaymentLinkSettingsContainer/PaymentLinkSettingsContainer';\nimport { StoreIds } from '../../../PaymentLinksOverview/types';\nimport { AlertTypeOption } from '../../../../internal/Alert/types';\nimport Alert from '../../../../internal/Alert/Alert';\nimport { ErrorMessageDisplay } from '../../../../internal/ErrorMessageDisplay/ErrorMessageDisplay';\nimport { useInvalidFieldsConfig } from '../../hooks/useInvalidFieldsConfig';\nimport { AdyenErrorResponse } from '../../../../../core/Http/types';\nimport { Translation } from '../../../../internal/Translation';\nimport CopyText from '../../../../internal/CopyText/CopyText';\n\ntype PaymentLinkCreationFormContainerProps = {\n    fieldsConfig?: PaymentLinkCreationComponentProps['fieldsConfig'];\n    onCreationDismiss?: () => void;\n    onPaymentLinkCreated?: (data: PaymentLinkCreationFormValues & { paymentLink: SuccessResponse<'createPBLPaymentLink'> }) => void;\n    storeIds?: StoreIds;\n    onContactSupport?: () => void;\n    embeddedInOverview?: boolean;\n};\n\nconst FIELD_LABEL_AND_MARGIN_OFFSET = 28;\n\nconst LoadingSkeleton = () => (\n    <div className=\"adyen-pe-payment-link-creation-form__skeleton\">\n        <div className=\"adyen-pe-payment-link-creation-form__skeleton-item adyen-pe-payment-link-creation-form__skeleton-item--large\" />\n        {[...Array(3)].map((_, index) => (\n            <>\n                <div\n                    key={`${index}-small`}\n                    className=\"adyen-pe-payment-link-creation-form__skeleton-item adyen-pe-payment-link-creation-form__skeleton-item--small\"\n                />\n                <div\n                    key={`${index}-large`}\n                    className=\"adyen-pe-payment-link-creation-form__skeleton-item adyen-pe-payment-link-creation-form__skeleton-item--large\"\n                />\n            </>\n        ))}\n    </div>\n);\n\nexport const PaymentLinkCreationFormContainer = ({\n    fieldsConfig,\n    storeIds,\n    onCreationDismiss,\n    onPaymentLinkCreated,\n    onContactSupport,\n    embeddedInOverview,\n}: PaymentLinkCreationFormContainerProps) => {\n    const [showFormValidationError, setShowFormValidationError] = useState<boolean>(false);\n    const containerRef = useRef<HTMLDivElement>(null);\n    const headerRef = useRef<HTMLDivElement>(null);\n    const hasPrefilledBillingAddress = !!fieldsConfig?.data?.billingAddress;\n    const [isSeparateAddress, setIsSeparateAddress] = useState<boolean>(hasPrefilledBillingAddress);\n    const selectedStoreNavigationCache = useRef<string>('');\n    const { i18n } = useCoreContext();\n    const isXsAndDownContainer = useResponsiveContainer(containerQueries.down.xs);\n\n    const {\n        storesData,\n        configurationData,\n        countriesData,\n        isFetchingCountries,\n        countryDatasetData,\n        isFetchingCountryDataset,\n        settingsData,\n        storesSelectorItems,\n        termsAndConditionsProvisioned,\n        formSteps,\n        stepperItems,\n        formStepsAriaLabel,\n        wizardForm,\n        createPaymentLink,\n        isDataLoading,\n        isFirstLoadDone,\n        selectedStore,\n        setSelectedStore,\n    } = usePaymentLinkFormData({\n        defaultValues: fieldsConfig?.data,\n        storeIds,\n    });\n\n    const { isLastStep, isFirstStep, currentStep, validateStep, canGoNext, isStepComplete, nextStep, previousStep, goToStep } = wizardForm;\n    const [showTermsAndConditions, setShowTermsAndConditions] = useState<boolean>(false);\n\n    const handleNext = useCallback(\n        async (index: number) => {\n            if (!isLastStep) {\n                const isValid = await validateStep(index);\n                if (!isValid) {\n                    const headerHeight = headerRef.current?.getBoundingClientRect().height ?? 0;\n                    const offsetTop = isXsAndDownContainer ? headerHeight + FIELD_LABEL_AND_MARGIN_OFFSET : FIELD_LABEL_AND_MARGIN_OFFSET;\n                    scrollToFirstErrorField(Object.keys(wizardForm.formState.errors), offsetTop);\n                    return;\n                }\n                await nextStep();\n            }\n        },\n        [isLastStep, nextStep, validateStep, wizardForm.formState.errors, isXsAndDownContainer]\n    );\n\n    useEffect(() => {\n        // Scroll to top of the form on each step change\n        if (isXsAndDownContainer) {\n            containerRef.current?.scrollIntoView({ block: 'start' });\n        }\n    }, [currentStep, isXsAndDownContainer]);\n\n    const onClickStep = useCallback(\n        (index: number) => {\n            void goToStep(index);\n        },\n        [goToStep]\n    );\n\n    const currentFormStep = useMemo<LinkCreationFormStep>(() => {\n        const step = formSteps?.[currentStep];\n        return step ? (step.id as LinkCreationFormStep) : 'store';\n    }, [currentStep, formSteps]);\n\n    const handlePrevious = () => {\n        if (isFirstStep) {\n            onCreationDismiss?.();\n            return;\n        }\n        submitMutation.reset();\n        previousStep();\n    };\n\n    const handleContinue = async () => {\n        await handleNext(currentStep);\n    };\n\n    // Only called when the form is actually submitted (final step)\n    const submitMutation = useMutation({\n        queryFn: createPaymentLink,\n    });\n\n    const onSubmit = async (data: PaymentLinkCreationFormValues) => {\n        const { store, ...dataWithoutStore } = data;\n\n        try {\n            const result = await submitMutation.mutate(\n                {\n                    body: dataWithoutStore,\n                    contentType: 'application/json',\n                },\n                { path: { storeId: store } }\n            );\n\n            onPaymentLinkCreated?.({ ...data, paymentLink: result });\n        } catch (error) {\n            console.error('Failed to create payment link:', error);\n            throw error;\n        }\n    };\n\n    const navigateBackFromTermsAndConditions = useCallback(() => {\n        setSelectedStore(selectedStoreNavigationCache.current);\n        setShowTermsAndConditions(false);\n        selectedStoreNavigationCache.current = '';\n    }, [setShowTermsAndConditions, setSelectedStore]);\n\n    const onError = (errors: any) => {\n        // Form validation errors, should not happen since last step\n        // (summary) does not include any validations\n        setShowFormValidationError(true);\n    };\n\n    const isNextStepLoading = submitMutation.isLoading || isDataLoading;\n\n    const accountIsMisconfigured = useMemo(() => {\n        return storesData && storesData.data && storesData.data.length === 0;\n    }, [storesData]);\n\n    const displayConfigurationError = useMemo(() => {\n        return currentFormStep !== 'store' && !configurationData;\n    }, [configurationData, currentFormStep]);\n\n    const nextButtonIsDisabled = useMemo(() => {\n        return !termsAndConditionsProvisioned || accountIsMisconfigured || displayConfigurationError;\n    }, [accountIsMisconfigured, displayConfigurationError, termsAndConditionsProvisioned]);\n\n    const { invalidFieldsConfig } = useInvalidFieldsConfig();\n\n    const getMappedInvalidFields = useCallback(\n        (error: Error | AdyenErrorResponse | null) => {\n            if (!error || !('invalidFields' in error) || !error.invalidFields?.length) return [];\n\n            return error.invalidFields\n                .map((field: { name: string; message: string }) => {\n                    const fieldKey = invalidFieldsConfig.fields?.[field.name];\n                    const messageKey = invalidFieldsConfig.messages?.[field.message];\n\n                    if (!fieldKey && !messageKey) return null;\n\n                    const fieldName = fieldKey ? i18n.get(fieldKey) : field.name;\n\n                    if (!messageKey) return `${fieldName}`;\n\n                    const message = i18n.get(messageKey);\n\n                    return `${fieldName} (${message})`;\n                })\n                .filter((msg: string | null): msg is string => msg !== null);\n        },\n        [i18n, invalidFieldsConfig]\n    );\n\n    const onNavigateToTermsAndConditions = useCallback(() => {\n        selectedStoreNavigationCache.current = selectedStore;\n        setSelectedStore('');\n        setShowTermsAndConditions(true);\n    }, [selectedStore, setSelectedStore, setShowTermsAndConditions]);\n\n    const getSubmitErrorLabel = useCallback(\n        (error: Error | AdyenErrorResponse | null) => {\n            if (getMappedInvalidFields(error).length) return i18n.get('payByLink.creation.form.alert.invalidFields');\n            return i18n.get('payByLink.creation.form.alert.somethingWentWrong');\n        },\n        [getMappedInvalidFields, i18n]\n    );\n\n    const renderErrorDescription = useMemo(() => {\n        const submitError = submitMutation.error as AdyenErrorResponse;\n        const mappedErrors = getMappedInvalidFields(submitError);\n        const hasInvalidFields = mappedErrors.length > 0;\n\n        return (\n            <div className=\"adyen-pe-payment-link-creation-form__error-alert\">\n                {hasInvalidFields && (\n                    <ul className=\"adyen-pe-payment-link-creation-form__invalid-fields-error\">\n                        {mappedErrors.map((msg, idx) => (\n                            <li key={idx}>\n                                <Typography variant={TypographyVariant.CAPTION}>{msg}</Typography>\n                            </li>\n                        ))}\n                    </ul>\n                )}\n                {onContactSupport && (\n                    <div className=\"adyen-pe-payment-link-creation-form__contact-support\">\n                        <Translation\n                            translationKey=\"payByLink.creation.form.error.submit.contactSupport\"\n                            fills={{\n                                contactSupport: (\n                                    <Button variant={ButtonVariant.TERTIARY} onClick={onContactSupport}>\n                                        {i18n.get('common.actions.contactSupport.labels.reachOut')}\n                                    </Button>\n                                ),\n                                errorCode: <CopyText stronger textToCopy={submitError?.requestId || submitError?.errorCode} />,\n                            }}\n                        />\n                    </div>\n                )}\n            </div>\n        );\n    }, [getMappedInvalidFields, i18n, onContactSupport, submitMutation.error]);\n\n    if (!isFirstLoadDone) {\n        return (\n            <div className=\"adyen-pe-payment-link-creation-form__component\">\n                <div className=\"adyen-pe-payment-link-creation-form__header\">\n                    <Typography variant={TypographyVariant.SUBTITLE} stronger>\n                        {i18n.get('payByLink.creation.form.title')}\n                    </Typography>\n                    <LoadingSkeleton />\n                </div>\n            </div>\n        );\n    }\n\n    if (showTermsAndConditions) {\n        return (\n            <PaymentLinkSettingsContainer\n                hideTitle={true}\n                storeIds={selectedStoreNavigationCache.current}\n                settingsItems={['termsAndConditions']}\n                navigateBack={navigateBackFromTermsAndConditions}\n                embeddedInOverview={embeddedInOverview}\n            />\n        );\n    }\n\n    return (\n        <div className=\"adyen-pe-payment-link-creation-form__component\" ref={containerRef}>\n            <div className=\"adyen-pe-payment-link-creation-form__header\" ref={headerRef}>\n                <Typography variant={TypographyVariant.SUBTITLE} stronger>\n                    {i18n.get('payByLink.creation.form.title')}\n                </Typography>\n                <Stepper\n                    nextStepDisabled={!canGoNext || !isStepComplete(currentStep)}\n                    variant=\"horizontal\"\n                    activeIndex={currentStep}\n                    ariaLabel={formStepsAriaLabel}\n                    onChange={onClickStep}\n                >\n                    {stepperItems.map(item => (\n                        <>{item.label}</>\n                    ))}\n                </Stepper>\n            </div>\n            <WizardFormProvider {...wizardForm}>\n                <div className=\"adyen-pe-payment-link-creation-form__container\">\n                    <form\n                        className=\"adyen-pe-payment-link-creation-form\"\n                        onSubmit={e => {\n                            e.preventDefault();\n                            wizardForm.handleSubmit(onSubmit, onError)(e);\n                        }}\n                    >\n                        <div>\n                            <FormStepRenderer\n                                setShowTermsAndConditions={onNavigateToTermsAndConditions}\n                                currentFormStep={currentFormStep}\n                                settingsData={settingsData}\n                                storeIds={storeIds}\n                                storesData={storesData}\n                                selectItems={storesSelectorItems}\n                                termsAndConditionsProvisioned={termsAndConditionsProvisioned}\n                                configurationData={configurationData}\n                                isSeparateAddress={isSeparateAddress}\n                                setIsSeparateAddress={setIsSeparateAddress}\n                                countriesData={countriesData}\n                                isFetchingCountries={isFetchingCountries}\n                                countryDatasetData={countryDatasetData}\n                                isFetchingCountryDataset={isFetchingCountryDataset}\n                            />\n                        </div>\n\n                        {(displayConfigurationError || showFormValidationError) && (\n                            <ErrorMessageDisplay\n                                condensed\n                                title={'common.errors.somethingWentWrong'}\n                                withImage\n                                absolutePosition={false}\n                                outlined={false}\n                                withBackground={false}\n                                message={['payByLink.creation.errors.unavailable', 'common.errors.retry']}\n                            />\n                        )}\n                        {accountIsMisconfigured && (\n                            <Alert\n                                type={AlertTypeOption.WARNING}\n                                title={i18n.get('payByLink.common.errors.accountConfiguration')}\n                                description={\n                                    <div className=\"adyen-pe-payment-link-creation-form__warning-alert\">\n                                        <Typography variant={TypographyVariant.CAPTION} el={TypographyElement.SPAN}>\n                                            {i18n.get('common.errors.contactSupport')}\n                                        </Typography>\n                                        {onContactSupport ? (\n                                            <Button variant={ButtonVariant.TERTIARY} onClick={onContactSupport}>\n                                                {i18n.get('common.actions.contactSupport.labels.reachOut')}\n                                            </Button>\n                                        ) : null}\n                                    </div>\n                                }\n                            />\n                        )}\n                        {submitMutation.isError && (\n                            <Alert\n                                type={AlertTypeOption.CRITICAL}\n                                title={getSubmitErrorLabel(submitMutation.error)}\n                                description={renderErrorDescription}\n                            />\n                        )}\n                        <div className=\"adyen-pe-payment-link-creation-form__buttons-container\">\n                            {(!isFirstStep || onCreationDismiss) && (\n                                <Button variant={ButtonVariant.SECONDARY} onClick={handlePrevious}>\n                                    {i18n.get('payByLink.creation.form.steps.back')}\n                                </Button>\n                            )}\n                            <Button\n                                className=\"adyen-pe-payment-link-creation-form__submit-button\"\n                                type={isLastStep ? 'submit' : 'button'}\n                                variant={ButtonVariant.PRIMARY}\n                                onClick={!isLastStep ? handleContinue : undefined}\n                                state={isNextStepLoading ? 'loading' : undefined}\n                                disabled={nextButtonIsDisabled}\n                                iconRight={<Icon name=\"arrow-right\" />}\n                            >\n                                {isLastStep ? i18n.get('payByLink.creation.form.steps.submit') : i18n.get('payByLink.creation.form.steps.continue')}\n                            </Button>\n                        </div>\n                    </form>\n                </div>\n            </WizardFormProvider>\n        </div>\n    );\n};\n","import cx from 'classnames';\nimport useCoreContext from '../../../../../../core/Context/useCoreContext';\nimport Typography from '../../../../../internal/Typography/Typography';\nimport { TypographyVariant } from '../../../../../internal/Typography/types';\nimport Icon from '../../../../../internal/Icon/Icon';\nimport Button from '../../../../../internal/Button/Button';\nimport { ButtonVariant } from '../../../../../internal/Button/types';\nimport './FormSuccess.scss';\nimport { useCallback, useEffect, useRef, useState } from 'preact/hooks';\n\ntype FormSuccessProps = {\n    onGoToDetails: () => void;\n    paymentLinkUrl: string;\n};\nexport const FormSuccess = ({ onGoToDetails, paymentLinkUrl }: FormSuccessProps) => {\n    const { i18n } = useCoreContext();\n\n    const [copied, setCopied] = useState(false);\n    const copiedTimeoutRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n\n    useEffect(() => {\n        return () => {\n            if (copiedTimeoutRef.current) {\n                clearTimeout(copiedTimeoutRef.current);\n            }\n        };\n    }, []);\n\n    const onCopy = useCallback(async () => {\n        if (!paymentLinkUrl) return;\n        try {\n            await navigator.clipboard.writeText(paymentLinkUrl);\n\n            setCopied(true);\n            if (copiedTimeoutRef.current) {\n                clearTimeout(copiedTimeoutRef.current);\n            }\n            copiedTimeoutRef.current = setTimeout(() => {\n                setCopied(false);\n                copiedTimeoutRef.current = null;\n            }, 3000);\n        } catch (e) {\n            // no-op\n        }\n    }, [paymentLinkUrl]);\n\n    return (\n        <section className={cx('adyen-pe-payment-link-creation-form-success')}>\n            <div className=\"adyen-pe-payment-link-creation-form-success__content\">\n                <Icon name=\"checkmark-circle-fill\" className=\"adyen-pe-payment-link-creation-form-success__icon\" />\n                <Typography variant={TypographyVariant.TITLE} className=\"adyen-pe-payment-link-creation-form-success__title\">\n                    {i18n.get('payByLink.creation.success.title')}\n                </Typography>\n                <Typography variant={TypographyVariant.BODY} className=\"adyen-pe-payment-link-creation-form-success__description\">\n                    {i18n.get('payByLink.creation.success.description')}\n                </Typography>\n            </div>\n            <div className=\"adyen-pe-payment-link-creation-form-success__actions\">\n                <Button variant={ButtonVariant.SECONDARY} onClick={onGoToDetails}>\n                    {i18n.get('payByLink.creation.success.showDetails')}\n                </Button>\n                <Button\n                    variant={ButtonVariant.PRIMARY}\n                    onClick={onCopy}\n                    iconLeft={<Icon className=\"adyen-pe-payment-link-creation-form-success__button-icon\" name={copied ? 'checkmark' : 'copy'} />}\n                >\n                    {copied ? i18n.get('payByLink.creation.success.copiedToClipboard') : i18n.get('payByLink.creation.success.copyLink')}\n                </Button>\n            </div>\n        </section>\n    );\n};\n","import { ExternalUIComponentProps, PaymentLinkCreationComponentProps } from '../../../../types';\nimport { PaymentLinkCreationFormContainer } from '../PaymentLinkCreationFormContainer/PaymentLinkCreationFormContainer';\nimport '../../PaymentLinkCreation.scss';\nimport { useState } from 'preact/hooks';\nimport { FormSuccess } from '../Form/FormSuccess/FormSuccess';\nimport { PaymentLinkDetails } from '../../../PaymentLinkDetails/components/PaymentLinkDetails/PaymentLinkDetails';\n\ntype PaymentLinkCreationState = 'Creation' | 'Success' | 'Details';\n\nconst PaymentLinkCreationContainer = (props: ExternalUIComponentProps<PaymentLinkCreationComponentProps> & { embeddedInOverview?: boolean }) => {\n    const [state, setState] = useState<PaymentLinkCreationState>('Creation');\n    const [paymentLinkUrl, setPaymentLinkUrl] = useState<string>('');\n    const [paymentLinkId, setPaymentLinkId] = useState<string>('');\n\n    return (\n        <div className=\"adyen-pe-payment-link-creation\">\n            {(() => {\n                switch (state) {\n                    case 'Creation':\n                        return (\n                            <PaymentLinkCreationFormContainer\n                                {...props}\n                                onPaymentLinkCreated={data => {\n                                    props.onPaymentLinkCreated?.(data);\n                                    setPaymentLinkUrl(data.paymentLink?.url ?? '');\n                                    setPaymentLinkId(data.paymentLink?.paymentLinkId ?? '');\n                                    setState('Success');\n                                }}\n                            />\n                        );\n                    case 'Success':\n                        return (\n                            <div>\n                                <FormSuccess paymentLinkUrl={paymentLinkUrl} onGoToDetails={() => setState('Details')} />\n                            </div>\n                        );\n                    case 'Details':\n                        return <PaymentLinkDetails id={paymentLinkId} />;\n                    default:\n                        return null;\n                }\n            })()}\n        </div>\n    );\n};\n\nexport default PaymentLinkCreationContainer;\n","import useCoreContext from '../../../../core/Context/useCoreContext';\nimport { useCallback, useEffect, useState } from 'preact/hooks';\nimport { popoverUtil } from '../../../internal/Popover/utils/popoverUtil';\nimport Modal from '../../../internal/Modal';\nimport { PaymentLinksOverviewModalType } from './types';\nimport PaymentLinkCreationContainer from '../../PaymentLinkCreation/components/PaymentLinkCreationContainer/PaymentLinkCreationContainer';\nimport PaymentLinkSettingsContainer from '../../PaymentLinkSettings/components/PaymentLinkSettingsContainer/PaymentLinkSettingsContainer';\nimport { PaymentLinksOverviewComponentProps } from '../../../types';\nimport { StoreIds } from '../types';\nimport { PaymentLinkCreationFormValues } from '../../PaymentLinkCreation/components/types';\n\nexport interface PaymentLinksOverviewModalProps {\n    isModalVisible: boolean;\n    onCloseModal: () => void;\n    onContactSupport?: () => void;\n    modalType?: PaymentLinksOverviewModalType;\n    paymentLinkCreation: PaymentLinksOverviewComponentProps['paymentLinkCreation'];\n    paymentLinkSettings: PaymentLinksOverviewComponentProps['paymentLinkSettings'];\n    storeIds?: StoreIds;\n    refreshPaymentLinkList?: () => void;\n}\n\nexport const PaymentLinksOverviewModal = ({\n    isModalVisible,\n    onCloseModal,\n    modalType,\n    paymentLinkCreation,\n    paymentLinkSettings,\n    storeIds,\n    onContactSupport,\n    refreshPaymentLinkList,\n}: PaymentLinksOverviewModalProps) => {\n    const { i18n } = useCoreContext();\n    const [hasToRefresh, setHasToRefresh] = useState(false);\n\n    const onCloseCallback = useCallback(() => {\n        onCloseModal();\n        if (hasToRefresh) {\n            refreshPaymentLinkList?.();\n            setHasToRefresh(false);\n        }\n    }, [onCloseModal, hasToRefresh, refreshPaymentLinkList]);\n\n    useEffect(() => {\n        if (isModalVisible) {\n            popoverUtil.closeAll();\n        }\n    }, [isModalVisible]);\n\n    const onPaymentLinkCreated = useCallback(\n        (paymentLink: PaymentLinkCreationFormValues) => {\n            paymentLinkCreation?.onPaymentLinkCreated?.(paymentLink);\n            setHasToRefresh(true);\n        },\n        [paymentLinkCreation]\n    );\n\n    if (!isModalVisible || !modalType) return null;\n\n    return (\n        <div>\n            <Modal\n                isOpen={isModalVisible}\n                aria-label={i18n.get('payByLink.overview.title')}\n                onClose={onCloseCallback}\n                isDismissible={true}\n                headerWithBorder={false}\n                size={'large'}\n            >\n                {modalType === 'Creation' ? (\n                    <PaymentLinkCreationContainer\n                        {...paymentLinkCreation}\n                        onPaymentLinkCreated={onPaymentLinkCreated}\n                        storeIds={storeIds}\n                        onContactSupport={onContactSupport}\n                        embeddedInOverview\n                    />\n                ) : null}\n                {modalType === 'Settings' ? (\n                    <PaymentLinkSettingsContainer\n                        {...paymentLinkSettings}\n                        storeIds={storeIds}\n                        onContactSupport={onContactSupport}\n                        embeddedInOverview\n                    />\n                ) : null}\n            </Modal>\n        </div>\n    );\n};\n","import {\n    ACTION_BUTTON_CLASS,\n    ACTION_BUTTONS_CONTAINER_CLASS,\n    BASE_CLASS,\n    BASE_XS_CLASS,\n    DEFAULT_PAYMENT_LINK_STATUS_GROUP,\n    EARLIEST_PAYMENT_LINK_DATE,\n    FILTERS_ALERT_CONTAINER_CLASS,\n    FILTERS_CONTAINER_CLASS,\n    PAYMENT_LINK_STATUS_GROUPS_FILTER_MAPPING,\n    PAYMENT_LINK_STATUS_GROUPS_TABS,\n    PAYMENT_LINK_STATUSES,\n    PAYMENT_LINK_TYPES,\n    TABS_CONTAINER_CLASS,\n} from './constants';\nimport { ExternalUIComponentProps, FilterParam, PaymentLinksOverviewComponentProps } from '../../../types';\nimport { IPaymentLinkFilters, IPaymentLinkStatus, IPaymentLinkStatusGroup, IPaymentLinkType, IPaymentLinkItem } from '../../../../types';\nimport useDefaultOverviewFilterParams from '../../../../hooks/useDefaultOverviewFilterParams';\nimport { FilterBar, FilterBarMobileSwitch, useFilterBarState } from '../../../internal/FilterBar';\nimport { useCursorPaginatedRecords } from '../../../internal/Pagination/hooks';\nimport { Header } from '../../../internal/Header';\nimport { DateFilter } from '../../../internal/FilterBar/filters/DateFilter';\nimport MultiSelectionFilter, { useMultiSelectionFilter } from '../../TransactionsOverview/components/MultiSelectionFilter';\nimport AdyenPlatformExperienceError from '../../../../core/Errors/AdyenPlatformExperienceError';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { isFunction, listFrom } from '../../../../utils';\nimport { useConfigContext } from '../../../../core/ConfigContext';\nimport useCoreContext from '../../../../core/Context/useCoreContext';\nimport { DEFAULT_PAGE_LIMIT, LIMIT_OPTIONS } from '../../../internal/Pagination/constants';\nimport useModalDetails from '../../../../hooks/useModalDetails';\nimport { PaymentLinksTable } from './PaymentLinksTable';\nimport TextFilter from '../../../internal/FilterBar/filters/TextFilter';\nimport Tabs from '../../../internal/Tabs/Tabs';\nimport { TabComponentProps } from '../../../internal/Tabs/types';\nimport './PaymentLinksOverview.scss';\nimport cx from 'classnames';\nimport { containerQueries, useResponsiveContainer } from '../../../../hooks/useResponsiveContainer';\nimport Select from '../../../internal/FormFields/Select';\nimport { AriaAttributes } from 'preact/compat';\nimport { PopoverContainerSize } from '../../../internal/Popover/types';\nimport * as RangePreset from '../../../internal/Calendar/calendar/timerange/presets';\nimport { PaymentLinkDetailsModal } from './PaymentLinkDetailsModal/PaymentLinkDetailsModal';\nimport { PaymentLinksOverviewModalType, StoreData } from './types';\nimport Button from '../../../internal/Button';\nimport { ButtonVariant } from '../../../internal/Button/types';\nimport Icon from '../../../internal/Icon';\nimport { PaymentLinksOverviewModal } from './PaymentLinksOverviewModal';\nimport Alert from '../../../internal/Alert/Alert';\nimport { AlertTypeOption, AlertVariantOption } from '../../../internal/Alert/types';\nimport {\n    getTimeRangeSelectionDefaultPresetOptions,\n    TIME_RANGE_SELECTION_PRESET_OPTION_KEYS,\n} from '../../../internal/DatePicker/components/TimeRangeSelector';\n\nconst PAYMENT_LINK_TYPES_FILTER_PARAM = 'linkTypes';\nconst PAYMENT_LINK_STATUSES_FILTER_PARAM = 'statuses';\nconst PAYMENT_LINK_STORES_FILTER_PARAM = 'storeIds';\nconst LAST_REFRESH_TIMESTAMP_PARAM = '_t';\nconst PAYMENT_LINK_STATUSES_FILTER_VALUES = Object.keys(PAYMENT_LINK_STATUSES) as IPaymentLinkStatus[];\n\nconst PaymentLinksOverviewTabsDropdown = ({\n    ['aria-label']: ariaLabel,\n    activeTab,\n    onChange,\n}: {\n    activeTab: IPaymentLinkStatusGroup;\n    onChange: NonNullable<TabComponentProps<IPaymentLinkStatusGroup>['onChange']>;\n} & Pick<AriaAttributes, 'aria-label'>) => {\n    const { i18n } = useCoreContext();\n\n    const [statusGroup, setStatusGroup] = useState(activeTab);\n\n    const selectItems = useMemo(() => PAYMENT_LINK_STATUS_GROUPS_TABS.map(({ id, label }) => ({ id, name: i18n.get(label) })), [i18n]);\n\n    useEffect(() => {\n        const currentTab = PAYMENT_LINK_STATUS_GROUPS_TABS.find(tab => tab.id === statusGroup);\n        currentTab && onChange(currentTab);\n    }, [onChange, statusGroup]);\n\n    useEffect(() => setStatusGroup(activeTab), [activeTab]);\n\n    return (\n        <Select\n            aria-label={ariaLabel}\n            items={selectItems}\n            selected={statusGroup}\n            onChange={({ target }) => setStatusGroup(target.value as IPaymentLinkStatusGroup)}\n            showOverlay={true}\n            multiSelect={false}\n            filterable={false}\n        />\n    );\n};\n\ninterface PaymentLinksPageRequestParams extends Record<FilterParam | 'cursor', string> {\n    [LAST_REFRESH_TIMESTAMP_PARAM]: DOMHighResTimeStamp;\n}\n\nexport const PaymentLinksOverview = ({\n    onFiltersChanged,\n    allowLimitSelection = true,\n    preferredLimit = DEFAULT_PAGE_LIMIT,\n    onRecordSelection,\n    showDetails,\n    onContactSupport,\n    hideTitle,\n    isFiltersLoading,\n    filterParams,\n    stores,\n    allStores,\n    paymentLinkCreation,\n    paymentLinkSettings,\n    storeIds,\n    filterError,\n    storeError,\n}: ExternalUIComponentProps<\n    PaymentLinksOverviewComponentProps & {\n        filterParams?: IPaymentLinkFilters;\n        stores?: StoreData[];\n        isFiltersLoading: boolean;\n        filterError?: AdyenPlatformExperienceError | undefined;\n        storeError?: AdyenPlatformExperienceError | undefined;\n        allStores?: StoreData[];\n    }\n>) => {\n    const { i18n } = useCoreContext();\n    const { getPaymentLinks, createPBLPaymentLink, getPayByLinkSettings } = useConfigContext().endpoints;\n    const timeRangeOptions = getTimeRangeSelectionDefaultPresetOptions({ exclude: [TIME_RANGE_SELECTION_PRESET_OPTION_KEYS.YEAR_TO_DATE] });\n    const { defaultParams, nowTimestamp, refreshNowTimestamp } = useDefaultOverviewFilterParams(\n        'paymentLinks',\n        undefined,\n        undefined,\n        timeRangeOptions\n    );\n    const [statusGroup, setStatusGroup] = useState<IPaymentLinkStatusGroup>(DEFAULT_PAYMENT_LINK_STATUS_GROUP);\n    const [statusGroupActiveTab, setStatusGroupActiveTab] = useState<IPaymentLinkStatusGroup | undefined>(statusGroup);\n    const [statusGroupFetchPending, setStatusGroupFetchPending] = useState(false);\n    const isMobileContainer = useResponsiveContainer(containerQueries.down.xs);\n    const [showFiltersAlert, setShowFiltersAlert] = useState(false);\n\n    const getPaymentLinksData = useCallback(\n        async ({ [LAST_REFRESH_TIMESTAMP_PARAM]: _, ...pageRequestParams }: PaymentLinksPageRequestParams, signal?: AbortSignal) => {\n            const requestOptions = { signal, errorLevel: 'error' } as const;\n            const filterStoreIds = listFrom<string>(pageRequestParams[FilterParam.STORE_IDS]);\n            const propStoreIds = storeIds ? listFrom<string>(storeIds) : undefined;\n            return getPaymentLinks!(requestOptions, {\n                query: {\n                    ...pageRequestParams,\n                    storeIds: filterStoreIds?.length ? filterStoreIds : propStoreIds,\n                    statuses: listFrom<IPaymentLinkItem['status']>(pageRequestParams[FilterParam.STATUSES]),\n                    linkTypes: listFrom<IPaymentLinkItem['linkType']>(pageRequestParams[FilterParam.LINK_TYPES]),\n                    createdSince:\n                        pageRequestParams[FilterParam.CREATED_SINCE] ?? defaultParams.current.defaultFilterParams[FilterParam.CREATED_SINCE],\n                    createdUntil:\n                        pageRequestParams[FilterParam.CREATED_UNTIL] ?? defaultParams.current.defaultFilterParams[FilterParam.CREATED_UNTIL],\n                    merchantReference:\n                        pageRequestParams[FilterParam.MERCHANT_REFERENCE] ??\n                        defaultParams.current.defaultFilterParams[FilterParam.MERCHANT_REFERENCE],\n                    paymentLinkId:\n                        pageRequestParams[FilterParam.PAYMENT_LINK_ID] ?? defaultParams.current.defaultFilterParams[FilterParam.PAYMENT_LINK_ID],\n                },\n            });\n        },\n        [defaultParams, getPaymentLinks, storeIds]\n    );\n\n    // FILTERS\n    const filterBarState = useFilterBarState();\n    const _onFiltersChanged = useMemo(() => (isFunction(onFiltersChanged) ? onFiltersChanged : void 0), [onFiltersChanged]);\n    const preferredLimitOptions = useMemo(() => (allowLimitSelection ? LIMIT_OPTIONS : undefined), [allowLimitSelection]);\n\n    const defaultFilters = Object.assign(defaultParams.current.defaultFilterParams, {\n        [PAYMENT_LINK_TYPES_FILTER_PARAM]: undefined,\n        [PAYMENT_LINK_STATUSES_FILTER_PARAM]: undefined,\n        statusGroup: DEFAULT_PAYMENT_LINK_STATUS_GROUP,\n        [PAYMENT_LINK_STORES_FILTER_PARAM]: undefined,\n        [LAST_REFRESH_TIMESTAMP_PARAM]: performance.now(),\n    });\n\n    //TODO - Infer the return type of getPaymentLinksData instead of having to specify it\n    const { canResetFilters, error, fetching, filters, limit, limitOptions, records, resetFilters, updateFilters, updateLimit, ...paginationProps } =\n        useCursorPaginatedRecords<IPaymentLinkItem, 'data', string, FilterParam>({\n            fetchRecords: getPaymentLinksData,\n            dataField: 'data',\n            filterParams: defaultFilters,\n            initialFiltersSameAsDefault: true,\n            onFiltersChanged: _onFiltersChanged,\n            preferredLimit,\n            preferredLimitOptions,\n            enabled: !!getPaymentLinks,\n        });\n\n    const linkStatusFilter = useMultiSelectionFilter({\n        mapFilterOptionName: useCallback((status: IPaymentLinkStatus) => i18n.get(PAYMENT_LINK_STATUSES[status]), [i18n]),\n        filterParam: PAYMENT_LINK_STATUSES_FILTER_PARAM,\n        filterValues: filterParams?.statuses?.[PAYMENT_LINK_STATUS_GROUPS_FILTER_MAPPING[statusGroup!]] ?? PAYMENT_LINK_STATUSES_FILTER_VALUES,\n        defaultFilters,\n        updateFilters,\n        filters,\n    });\n\n    const linkTypesFilter = useMultiSelectionFilter({\n        mapFilterOptionName: useCallback((linkType: IPaymentLinkType) => i18n.get(PAYMENT_LINK_TYPES[linkType]), [i18n]),\n        filterParam: PAYMENT_LINK_TYPES_FILTER_PARAM,\n        filterValues: filterParams?.linkTypes,\n        defaultFilters,\n        updateFilters,\n        filters,\n    });\n\n    const storesTypesFilter = useMultiSelectionFilter({\n        mapFilterOptionName: useCallback((storeId: string) => stores?.find(store => store.id === storeId)?.storeCode ?? storeId, [stores]),\n        filterParam: PAYMENT_LINK_STORES_FILTER_PARAM,\n        filterValues: useMemo(() => (stores && stores.length > 0 ? stores.filter(store => store.id).map(store => store.id!) : undefined), [stores]),\n        defaultFilters,\n        updateFilters,\n        filters,\n    });\n\n    useEffect(() => {\n        updateFilters({\n            [FilterParam.CURRENCIES]: undefined,\n        });\n    }, [updateFilters]);\n\n    useEffect(() => {\n        refreshNowTimestamp();\n    }, [filters, refreshNowTimestamp]);\n\n    const paymentLinkDetails = useMemo(\n        () => ({\n            showDetails: showDetails ?? true,\n            callback: onRecordSelection,\n        }),\n        [showDetails, onRecordSelection]\n    );\n\n    const modalOptions = useMemo(() => ({ paymentLink: paymentLinkDetails }), [paymentLinkDetails]);\n\n    const { updateDetails, resetDetails, selectedDetail } = useModalDetails(modalOptions);\n\n    const onRowClick = useCallback(\n        ({ paymentLinkId: id }: IPaymentLinkItem) => {\n            updateDetails({\n                selection: {\n                    type: 'paymentLink',\n                    data: id,\n                },\n                modalSize: 'small',\n            }).callback({ id });\n        },\n        [updateDetails]\n    );\n\n    const onMerchantReferenceFilterChange = useCallback(\n        (merchantReference?: string) => {\n            if (!merchantReference) merchantReference = undefined;\n            updateFilters({ merchantReference: merchantReference });\n        },\n        [updateFilters]\n    );\n\n    const onPaymentLinkIDFilterChange = useCallback(\n        (paymentLinkId?: string) => {\n            if (!paymentLinkId) paymentLinkId = undefined;\n            updateFilters({ paymentLinkId: paymentLinkId });\n        },\n        [updateFilters]\n    );\n\n    const debounceTimeoutIdRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n\n    const onStatusGroupChange = useCallback<NonNullable<TabComponentProps<IPaymentLinkStatusGroup>['onChange']>>(\n        ({ id: statusGroup }) => {\n            debounceTimeoutIdRef.current && clearTimeout(debounceTimeoutIdRef.current);\n\n            debounceTimeoutIdRef.current = setTimeout(() => {\n                requestAnimationFrame(() => setStatusGroupFetchPending(false));\n\n                const statusFilterParam = PAYMENT_LINK_STATUSES_FILTER_PARAM as FilterParam;\n                const filterUpdates = { statusGroup, [statusFilterParam]: undefined } as any;\n\n                updateFilters(filterUpdates);\n                debounceTimeoutIdRef.current = null;\n            }, 500);\n\n            setStatusGroup(statusGroup);\n            setStatusGroupFetchPending(true);\n\n            // Resetting statusGroupActiveTab to undefined here to allow for subsequent\n            // programmatic status group tab navigation (will not change the active tab).\n            setStatusGroupActiveTab(undefined);\n        },\n        [updateFilters]\n    );\n\n    const statusGroupAriaLabel = useMemo(() => i18n.get('payByLink.overview.list.filters.types.statusGroup'), [i18n]);\n\n    const showTypeFilter = (filterParams?.linkTypes && filterParams?.linkTypes?.length > 0) || !!filterError;\n    const showStatusFilter =\n        (filterParams?.statuses && filterParams?.statuses?.[statusGroup] && filterParams?.statuses?.[statusGroup]?.length > 0) || !!filterError;\n    const showStoreFilter = (stores && stores?.length > 1) || !!storeError;\n\n    const sinceDate = useMemo(() => {\n        return new Date(RangePreset.lastNDays(EARLIEST_PAYMENT_LINK_DATE).from).toString();\n    }, []);\n\n    const [isModalVisible, setModalVisible] = useState(false);\n    const [modalType, setModalType] = useState<PaymentLinksOverviewModalType | undefined>(undefined);\n\n    const openPaymentLinkModal = useCallback(() => {\n        setModalType('Creation');\n        setModalVisible(true);\n    }, []);\n\n    const openSettingsModal = useCallback(() => {\n        setModalType('Settings');\n        setModalVisible(true);\n    }, []);\n\n    const onCloseModal = useCallback(() => {\n        setModalVisible(false);\n    }, []);\n\n    const refreshPaymentLinkList = useCallback(() => {\n        const now = new Date();\n        const currentCreatedUntil = filters?.[FilterParam.CREATED_UNTIL];\n        const createdUntilDate = currentCreatedUntil ? new Date(currentCreatedUntil) : null;\n\n        const isSameDay = createdUntilDate?.toDateString() === now.toDateString();\n\n        updateFilters({\n            ...(isSameDay && { [FilterParam.CREATED_UNTIL]: now.toISOString() }),\n            [LAST_REFRESH_TIMESTAMP_PARAM]: performance.now(),\n        } as any);\n    }, [filters, updateFilters]);\n\n    const sharedModalProps = useMemo(() => {\n        return {\n            onContactSupport,\n            storeIds,\n        };\n    }, [onContactSupport, storeIds]);\n\n    useEffect(() => {\n        setShowFiltersAlert(!!storeError || !!filterError);\n    }, [storeError, filterError]);\n\n    const closeFiltersAlert = useCallback(() => {\n        setShowFiltersAlert(false);\n    }, [setShowFiltersAlert]);\n\n    const hasActionButtons = !!(getPayByLinkSettings || createPBLPaymentLink);\n\n    return (\n        <div className={cx(BASE_CLASS, { [BASE_XS_CLASS]: isMobileContainer })}>\n            <Header hideTitle={hideTitle} titleKey=\"payByLink.overview.title\">\n                <FilterBarMobileSwitch {...filterBarState} />\n            </Header>\n            <div className={TABS_CONTAINER_CLASS}>\n                {isMobileContainer ? (\n                    <PaymentLinksOverviewTabsDropdown\n                        aria-label={statusGroupAriaLabel}\n                        activeTab={statusGroupActiveTab ?? statusGroup}\n                        onChange={onStatusGroupChange}\n                    />\n                ) : (\n                    <Tabs\n                        aria-label={statusGroupAriaLabel}\n                        tabs={PAYMENT_LINK_STATUS_GROUPS_TABS}\n                        activeTab={statusGroupActiveTab}\n                        onChange={onStatusGroupChange}\n                    />\n                )}\n            </div>\n            <>\n                {!isFiltersLoading && (\n                    <div className={FILTERS_CONTAINER_CLASS}>\n                        <FilterBar {...filterBarState} ariaLabelKey=\"payByLink.overview.filters.label\">\n                            {showStoreFilter && (\n                                <MultiSelectionFilter\n                                    {...storesTypesFilter}\n                                    isInvalid={!!storeError}\n                                    readonly={!!storeError}\n                                    placeholder={i18n.get('payByLink.overview.filters.types.stores.label')}\n                                />\n                            )}\n                            <DateFilter\n                                canResetFilters={canResetFilters}\n                                defaultParams={defaultParams}\n                                filters={filters}\n                                sinceDate={sinceDate}\n                                nowTimestamp={nowTimestamp}\n                                refreshNowTimestamp={refreshNowTimestamp}\n                                updateFilters={updateFilters}\n                            />\n                            {showTypeFilter && (\n                                <MultiSelectionFilter\n                                    {...linkTypesFilter}\n                                    isInvalid={!!filterError}\n                                    readonly={!!filterError}\n                                    placeholder={i18n.get('payByLink.overview.filters.types.linkTypes.label')}\n                                />\n                            )}\n                            {showStatusFilter && (\n                                <MultiSelectionFilter\n                                    {...linkStatusFilter}\n                                    isInvalid={!!filterError}\n                                    readonly={!!filterError}\n                                    placeholder={i18n.get('payByLink.overview.filters.types.status.label')}\n                                />\n                            )}\n                            <TextFilter\n                                name={i18n.get('payByLink.overview.filters.types.merchantReference.label')}\n                                label={\n                                    filters[FilterParam.MERCHANT_REFERENCE]\n                                        ? filters[FilterParam.MERCHANT_REFERENCE]\n                                        : i18n.get('payByLink.overview.filters.types.merchantReference.label')\n                                }\n                                value={filters[FilterParam.MERCHANT_REFERENCE]}\n                                onChange={onMerchantReferenceFilterChange}\n                                type={'text'}\n                                containerSize={PopoverContainerSize.MEDIUM}\n                            ></TextFilter>\n                            <TextFilter\n                                name={i18n.get('payByLink.overview.filters.types.paymentLinkID.label')}\n                                label={\n                                    filters[FilterParam.PAYMENT_LINK_ID]\n                                        ? filters[FilterParam.PAYMENT_LINK_ID]\n                                        : i18n.get('payByLink.overview.filters.types.paymentLinkID.label')\n                                }\n                                value={filters[FilterParam.PAYMENT_LINK_ID]}\n                                onChange={onPaymentLinkIDFilterChange}\n                                type={'text'}\n                                containerSize={PopoverContainerSize.MEDIUM}\n                            ></TextFilter>\n                            {isMobileContainer && showFiltersAlert && (\n                                <Alert\n                                    className={cx(FILTERS_ALERT_CONTAINER_CLASS)}\n                                    type={AlertTypeOption.CRITICAL}\n                                    variant={AlertVariantOption.TIP}\n                                    closeButton={true}\n                                    onClose={closeFiltersAlert}\n                                    description={i18n.get('payByLink.overview.filters.errors.networkError')}\n                                />\n                            )}\n                        </FilterBar>\n                        {hasActionButtons && (\n                            <div className={ACTION_BUTTONS_CONTAINER_CLASS}>\n                                {createPBLPaymentLink && (\n                                    <Button variant={ButtonVariant.PRIMARY} className={ACTION_BUTTON_CLASS} onClick={openPaymentLinkModal}>\n                                        {i18n.get('payByLink.overview.list.actions.createPaymentLink')}\n                                    </Button>\n                                )}\n                                {getPayByLinkSettings && (\n                                    <Button\n                                        aria-label={i18n.get('payByLink.overview.actions.settings.a11y.label')}\n                                        variant={ButtonVariant.SECONDARY}\n                                        className={ACTION_BUTTON_CLASS}\n                                        onClick={openSettingsModal}\n                                    >\n                                        <Icon name=\"cog\" />\n                                    </Button>\n                                )}\n                            </div>\n                        )}\n                    </div>\n                )}\n                {!isMobileContainer && showFiltersAlert && (\n                    <Alert\n                        className={cx(FILTERS_ALERT_CONTAINER_CLASS)}\n                        type={AlertTypeOption.CRITICAL}\n                        variant={AlertVariantOption.TIP}\n                        closeButton={true}\n                        onClose={closeFiltersAlert}\n                        description={i18n.get('payByLink.overview.filters.errors.networkError')}\n                    />\n                )}\n            </>\n            <PaymentLinkDetailsModal\n                selectedDetail={selectedDetail as ReturnType<typeof useModalDetails>['selectedDetail']}\n                resetDetails={resetDetails}\n                onUpdate={refreshPaymentLinkList}\n            >\n                <PaymentLinksTable\n                    stores={stores}\n                    storeError={storeError}\n                    error={error as AdyenPlatformExperienceError}\n                    limit={limit}\n                    allStores={allStores}\n                    limitOptions={limitOptions}\n                    loading={statusGroupFetchPending || fetching || isFiltersLoading}\n                    onContactSupport={onContactSupport}\n                    onLimitSelection={updateLimit}\n                    onRowClick={onRowClick}\n                    showPagination={true}\n                    paymentLinks={records}\n                    {...paginationProps}\n                />\n            </PaymentLinkDetailsModal>\n            <PaymentLinksOverviewModal\n                modalType={modalType}\n                isModalVisible={isModalVisible}\n                onCloseModal={onCloseModal}\n                paymentLinkSettings={paymentLinkSettings}\n                paymentLinkCreation={paymentLinkCreation}\n                storeIds={sharedModalProps.storeIds}\n                onContactSupport={sharedModalProps.onContactSupport}\n                refreshPaymentLinkList={refreshPaymentLinkList}\n            />\n        </div>\n    );\n};\n","import { useConfigContext } from '../core/ConfigContext';\nimport { useFetch } from './useFetch';\nimport { EMPTY_OBJECT } from '../utils';\nimport { useMemo } from 'preact/hooks';\nimport { useStores } from './useStores';\nimport AdyenPlatformExperienceError from '../core/Errors/AdyenPlatformExperienceError';\n\nconst usePaymentLinkFilters = (storeIds?: string | string[], enabled?: boolean) => {\n    const { payByLinkFilters: getPayByLinkFiltersEndpointCall } = useConfigContext().endpoints;\n\n    // TODO: Add error case. Fallback can be static values or be received from CDN.\n    const {\n        data: filters,\n        isFetching: isFetchingFilters,\n        error: filterError,\n    } = useFetch(\n        useMemo(\n            () => ({\n                fetchOptions: { enabled: !!getPayByLinkFiltersEndpointCall && (enabled ?? true), keepPrevData: true },\n                queryFn: async () => getPayByLinkFiltersEndpointCall?.(EMPTY_OBJECT),\n            }),\n            [getPayByLinkFiltersEndpointCall, enabled]\n        )\n    );\n\n    const { filteredStores: stores, allStores, isFetching: isFetchingStores, error: storeError } = useStores(storeIds);\n\n    const isFetching = isFetchingStores || isFetchingFilters;\n\n    return {\n        filters,\n        stores,\n        isFetching,\n        allStores,\n        filterError: filterError as AdyenPlatformExperienceError,\n        storeError: storeError as AdyenPlatformExperienceError,\n    } as const;\n};\n\nexport default usePaymentLinkFilters;\n","import { PaymentLinksOverview } from './PaymentLinksOverview';\nimport type { ExternalUIComponentProps, PaymentLinksOverviewComponentProps } from '../../../types';\nimport usePaymentLinkFilters from '../../../../hooks/usePaymentLinkFilters';\nimport './PaymentLinksOverview.scss';\n\nfunction PaymentLinksOverviewContainer({ ...props }: ExternalUIComponentProps<PaymentLinksOverviewComponentProps>) {\n    const { filters, isFetching, stores, filterError, allStores, storeError } = usePaymentLinkFilters(props?.storeIds);\n\n    return (\n        <PaymentLinksOverview\n            {...props}\n            filterParams={filters}\n            stores={stores}\n            allStores={allStores}\n            isFiltersLoading={isFetching}\n            filterError={filterError}\n            storeError={storeError}\n        />\n    );\n}\n\nexport default PaymentLinksOverviewContainer;\n","import { _UIComponentProps, ExternalComponentType, PaymentLinksOverviewComponentProps } from '../../types';\nimport UIElement from '../UIElement/UIElement';\nimport PaymentLinksOverviewContainer from './components/PaymentLinksOverviewContainer';\n\nexport class PaymentLinksOverviewElement extends UIElement<PaymentLinksOverviewComponentProps> {\n    public static type: ExternalComponentType = 'paymentLinksOverview';\n\n    constructor(props: _UIComponentProps<PaymentLinksOverviewComponentProps>) {\n        super(props);\n        this.componentToRender = this.componentToRender.bind(this);\n    }\n\n    public componentToRender = () => {\n        return <PaymentLinksOverviewContainer {...this.props} />;\n    };\n}\n\nexport default PaymentLinksOverviewElement;\n","import { _UIComponentProps, PaymentLinkCreationComponentProps, ExternalComponentType } from '../../types';\nimport UIElement from '../UIElement/UIElement';\nimport PaymentLinkCreationContainer from './components/PaymentLinkCreationContainer/PaymentLinkCreationContainer';\n\nexport class PaymentLinkCreationElement extends UIElement<PaymentLinkCreationComponentProps> {\n    public static type: ExternalComponentType = 'paymentLinkCreation';\n\n    constructor(props: _UIComponentProps<PaymentLinkCreationComponentProps>) {\n        super(props);\n    }\n\n    public componentToRender = () => {\n        return <PaymentLinkCreationContainer {...this.props} />;\n    };\n}\n\nexport default PaymentLinkCreationElement;\n","import { _UIComponentProps, PaymentLinkSettingsComponentProps, ExternalComponentType } from '../../types';\nimport UIElement from '../UIElement/UIElement';\nimport PaymentLinkSettingsContainer from './components/PaymentLinkSettingsContainer/PaymentLinkSettingsContainer';\n\nexport class PaymentLinkSettingsElement extends UIElement<PaymentLinkSettingsComponentProps> {\n    public static type: ExternalComponentType = 'paymentLinkSettings';\n\n    constructor(props: _UIComponentProps<PaymentLinkSettingsComponentProps>) {\n        super(props);\n    }\n\n    public componentToRender = () => {\n        return <PaymentLinkSettingsContainer {...this.props} />;\n    };\n}\n\nexport default PaymentLinkSettingsElement;\n","import { _UIComponentProps, ExternalComponentType } from '../../types';\nimport UIElement from '../UIElement/UIElement';\nimport { PaymentLinkDetails } from './components/PaymentLinkDetails/PaymentLinkDetails';\nimport { PaymentLinkDetailsProps } from './types';\n\nexport class PaymentLinkDetailsElement extends UIElement<PaymentLinkDetailsProps> {\n    public static type: ExternalComponentType = 'paymentLinkDetails';\n\n    constructor(props: _UIComponentProps<PaymentLinkDetailsProps>) {\n        super(props);\n        this.componentToRender = this.componentToRender.bind(this);\n    }\n\n    public componentToRender = () => {\n        return <PaymentLinkDetails {...this.props} />;\n    };\n}\n\nexport default PaymentLinkDetailsElement;\n","import { Core, CoreOptions, TranslationSourceRecord } from './core';\nimport './components/shared.scss';\nimport './style/index.scss';\n\nexport * from './core';\nexport * from './components';\nexport * from './types';\n\nexport async function AdyenPlatformExperience<AvailableTranslations extends TranslationSourceRecord[] = [], CustomTranslations extends {} = {}>(\n    props: CoreOptions<AvailableTranslations, CustomTranslations>\n) {\n    const core = new Core(props);\n    return await core.initialize();\n}\n"],"names":["API_ENVIRONMENTS","CDN_ENVIRONMENTS","fn","asyncNoop","identity","value","noop","unreachable","_toString","toStringTag","deepFreeze","obj","prop","isBoolean","isFunction","isNull","isNullish","isNumber","isPlainObject","isString","isSymbol","isUndefined","ABORT_EVENT","DEFAULT_ABORT_ERROR_MESSAGE","boolify","fallbackBoolean","boolOrFalse","boolOrTrue","falsify","_","truthify","enumerable","writable","getter","get","hasOwnProperty","sameValue","a","b","abortError","message","augmentSignalReason","signal","reason","abortedSignal","_controller","_reason","abortSignalForAny","signals","_sourceSignals","abort","setup","NIL_EXCEPTION","_exception","filter","maybeSignal","isAbortSignal","ex","EMPTY_ARRAY","EMPTY_OBJECT","ALREADY_RESOLVED_PROMISE","tryResolve","args","resolve","getMappedValue","key","map","factory","listFrom","fallbackList","stringedValue","stringedList","pickFrom","list","option","defaultOption","some","_uniqueFlatten","reversed","items","uniqueItems","item","MINUTE_IN_MS","HOUR_IN_MS","DAY_IN_MS","WEEK_IN_MS","parseDate","timestamp","transformToMS","unit","downloadBlob","blob","filename","url","clickHandler","clamp","min","max","isBitSafeInteger","isInfinity","mid","low","high","mod","modulo","MAX_BYTE_SCALE","getByteScale","bytes","getFileSize","scale","size","getHumanReadableFileSize","getUploadedFilesFromSource","uploadedFileSource","uploadedFiles","file","uniqueId","counter","prefix","uuid","_UUID_V4_FILLER_STRING","xy","randomNibble","asPlainObject","fallback","structFrom","struct","withFreezeProxyHandlers","handler","capitalize","str","isEmptyString","API_VERSION","AdyenPlatformExperienceError","type","requestId","errorCode","invalidFields","status","__publicField","FILENAME_EXTRACTION_REGEX","ErrorTypes","getErrorType","getApiVersion","options","version","getResponseContentType","response","_a","getResponseDownloadFilename","getRequestBodyForContentType","body","contentType","getRequestObject","headers","method","SDKVersion","handleFetchError","level","isAdyenErrorResponse","data","parseSearchParams","parameters","params","param","errorHandlerHelper","errorHandler","error","http","errorLevel","loadingContext","path","versionless","apiVersion","request","baseUrl","normalizeLoadingContext","versionPath","normalizeUrl","decodedValue","errorPassThrough","res","httpGet","FALLBACK_ENV","FALLBACK_CDN_ENV","resolveEnvironment","envs","cdnEnvs","env","cdnUrl","getConfigFromCdn","name","extension","subFolder","getDatasetFromCdn","module","localError","SETUP_ENDPOINTS_API_VERSIONS","SETUP_ENDPOINT_PATH","AUTO_REFRESH","MAX_AGE_MS","maxAgeMs","createAbortable","abortReason","_abortController","_abortSignal","_abortPromise","_abort","_getAbortPromise","reject","_refresh","abortable","createDeferred","_promise","_reject","_resolve","previousResolve","currentPromise","deferred","createPromisor","_abortable","_deferred","isLatestPromise","bytesToBase64","binString","byte","encodeAnalyticsEvent","event","formattedOptions","encodedData","SetupContext","_session","promisorSignal","abortSignal","_refreshPromise","endpoints","rest","retryPayload","payload","availableEndpoints","sessionAwareEndpoints","target","endpoint","receiver","overrideHttpOptions","httpOptions","requestParams","pathParams","searchParams","pathParamKey","ERR_SESSION_EXPIRED","ERR_SESSION_FACTORY_UNAVAILABLE","ERR_SESSION_HTTP_UNAVAILABLE","ERR_SESSION_INVALID","ERR_SESSION_REFRESH_ABORTED","EVT_SESSION_EXPIRED","EVT_SESSION_READY","EVT_SESSION_REFRESHED","EVT_SESSION_REFRESHING_END","EVT_SESSION_REFRESHING_START","INTERNAL_EVT_SESSION_DEADLINE","INTERNAL_EVT_SESSION_READY","INTERNAL_EVT_SESSION_REFRESHING_END","INTERNAL_EVT_SESSION_REFRESHING_START","_canAutofresh","refresher","specification","canAutofresh","_autoRefresh","createSessionAutofresher","_unlistenExpired","_autofresh","_autofreshSignal","_autofreshPromisor","skipCanAutofreshCheck","_destruct","DEFAULT_INTERVAL_MS","MAX_INTERVAL_MS","createInterval","callback","ms","runCallbackAsap","_intervalDelay","_shouldRunCallbackAsap","_startTime","_cancel","_frame","time","_scheduleFrame","delay","elapsed","roundedElapsed","createWatchListCurrentStateRecord","entries","statePropertyDescriptors","entriesPropertyDescriptors","createWatchListSubscriptionEventCallbacks","callbacks","descriptors","UNSUBSCRIBE_TOKEN","isWatchlistUnsubscribeToken","currentStateSnapshotOrUnsubscribeToken","createWatchlist","lastStateSnapshot","currentState","subscriptionEventCallbacks","subscriptionCallbacksWithReferenceCounting","unsubscribeCallbacks","_getCurrentStateSnapshot","_isWithoutSubscriptionCallbacks","_notifySubscriptions","unsubscribeToken","subscriptionCallbacks","referenceCount","unsubscribeCallback","currentStateSnapshot","subscribe","subscriptionCallback","unsubscribe","subscriptionCallbackReferenceCount","willResumeSubscriptions","clock","interval","cancelSubscriptions","requestNotification","on","createEventEmitter","_eventTarget","_emitEvent","restArgs","detail","_onEvent","listener","_listener","evt","createSessionDeadline","emitter","_deadlineSignal","_deadlineTimestamp","_refreshPromisorSignal","_stopDeadlineClock","_deadlineAbortable","_deadlineEmitter","_clearDeadline","_refreshPromisor","session","deadline","_deadline","_deadlines","_deadlineElapsed","_signals","_startDeadlineClock","unsubscribeClock","snapshotOrSignal","createSessionRefresher","_refreshPending","_refreshingPromise","_refreshingSignal","_waitForRefreshingPromise","_sessionPlaceholder","_refresherEmitter","_assertSession","_assertSessionFactory","_refreshSession","nextSession","SessionContext","_specification","beforeHttp","AuthSessionSpecification","onSessionCreate","maybeSession","id","token","deadlines","issuedAt","expiresAt","issuedAtDate","sessionSignal","restOptions","sessionHttpOptions","_http","_NO_ERR","_assertError","createErrorContainer","_error","_resetError","_setError","AuthSession","skipSessionRefreshIfPossible","authStateChanged","isLatestRefresh","onlySetupRefresh","unlisteners","unlisten","analyticsEnabled","_en_US","EN_US","da_DK","de_DE","es_ES","fi_FI","fr_FR","it_IT","nl_NL","no_NO","pt_BR","sv_SE","en_US","all_locales","FALLBACK_LOCALE","DEFAULT_TRANSLATIONS","DEFAULT_DATETIME_FORMAT","EXCLUDE_PROPS","getLocalesFromTranslationSourcesRecord","sources","locale","SUPPORTED_LOCALES","CURRENCY_CODES","CURRENCY_DECIMALS","getDivider","currencyCode","isValidCurrencyCode","getCurrencyCode","getDecimalAmount","amount","divider","getLocalisedAmount","hideCurrency","stringAmount","decimalAmount","formatterLocale","formatterOptions","formatAmountWithoutCurrency","p","REGEX_TZ_OFFSET","BASE_FORMAT_OPTIONS","BASE_LOCALE","SYSTEM_TIMEZONE","SYSTEM_TIMEZONE_FORMATTER","DIGITS_2","NUMERIC","REGEX_GMT_OFFSET_UNWANTED_SUBSTRINGS","REGEX_TZ_SINGLE_DIGIT_OFFSET","computeTimezoneOffsetInMinutes","offsetHours","offsetMinutes","computeTimezoneOffsetsFromMinutes","timezoneOffsetInMinutes","parseTimezoneOffset","offset","getGMTSuffixForTimezoneOffset","timezoneOffset","getTimezoneOffsetFromFormattedDateString","date","offsets","getTimezoneOffsetForTimestamp","timezoneFormatter","systemOffset","restamp","restamper","direction","systemToTimezone","timezoneToSystem","getTimeZone","setTimeZone","timeZone","nextFormatter","nextTimeZone","formatter","context","set","tz","DEFAULT_TRANSLATION_OPTIONS","LOCALE_FORMAT_REGEX","toTwoLetterCode","matchLocale","supportedLocales","twoLetterCode","supportedLocale","formatLocale","localeString","languageCode","countryCode","fullLocale","parseLocale","trimmedLocale","formattedLocale","formatCustomTranslations","customTranslations","translations","replaceTranslationValues","translation","values","repetitions","placeholderIndex","placeholder","repetitionIndex","replacementValue","getTranslation","count","countKey","pluralKey","loadTranslations","fetchTranslationFromCdnPromise","localeToLoad","loadedLocale","createTranslationsLoader","_locale","_preferredLocale","_supportedLocales","getLocalizationProxyDescriptors","descriptor","Localization","availableTranslations","cdnTranslationsUrl","cdnConfigUrl","__privateAdd","_Localization_instances","_languageCode","__privateGet","_availableLocales","_customTranslations","_translations","_translationsLoader","_fetchTranslationFromCdnPromise","_ready","_currentRefresh","_markRefreshAsDone","_refreshWatchlist","_restamp","_keySwapConfig","localSwapConfig","_warnedDeprecatedKeys","__privateSet","records","curr","config","localesFromCustomTranslations","index","locales","__privateMethod","refreshTranslations_fn","timezone","oldKey","translationForOldKey","restOfOptions","localisedAmount","dateOptions","currentRefreshDone","currentRefresh","Assets","cdnContext","resourceUrl","mainFolder","props","defaultProps","oldTranslationKeys","currentTranslationKeys","currentTranslations","getCustomTranslationsAnalyticsPayload","payloads","customizedLocale","keys","oldCustomizedKeys","oldTranslationsEvent","matchingCustomizedKeys","allTranslationsEvent","newLanguageEvent","Core","component","c","_b","cdnAssetsUrl","apiUrl","analyticsPayload","n","l","t","u","i","r","o","e","f","s","h","v","y","d","w","g","m","k","x","S","C","M","$","O","z","I","P","q","A","L","B","H","T","j","F","D","N","V","E","J","K","defaultUserEvents","AnalyticsContext","createContext","UserEvents","componentName","nextEvent","eventName","properties","completeEvent","variant","baseTrackingPayload","createUserEvents","U","W","Z","Y","G","Q","X","en","rn","un","ln","an","sn","fixedForwardRef","render","forwardRef","memoComparator","_comparedProps","_propHasChanged","prev","next","getters","EXCESS_WHITESPACE_CHAR","parseClassName","fallbackClassName","className","getClassName","requiredClassName","classnames","getModifierClasses","modifiers","baseClasses","parseBooleanProp","DEFAULT_BUTTON_CLASSNAME","BUTTON_ANCHOR_CLASSNAME","BUTTON_ACTION_CLASSNAME","ICON_BUTTON_CLASSNAME","ICON_BUTTON_CONTENT_CLASSNAME","BUTTON_ACTION_CONTAINER_CLASSNAME","BUTTON_LABEL_CLASSNAME","BUTTON_ICON_RIGHT_CLASSNAME","BUTTON_ICON_LEFT_CLASSNAME","BUTTON_CONDENSED_CLASSNAME","BUTTON_FULL_WIDTH_CLASSNAME","BUTTON_LOADING_CLASSNAME","BUTTON_LABEL_CENTERED_CLASSNAME","Spinner","inline","jsx","DEFAULT_TYPOGRAPHY_CLASSNAME","TypographyVariant","TypographyModifier","TypographyElement","Typography","el","stronger","strongest","medium","large","testId","wide","children","Tag","conditionalClasses","useMemo","cx","memo","useButton","classNameModifiers","defaultClassName","disabled","onClick","iconLeft","iconRight","iconButton","fullWidth","condensed","state","click","useCallback","classes","allProps","allChildren","jsxs","Fragment","ButtonVariant","Button","ref","classNameValue","disabledValue","restOfAllProps","Button$1","CoreContext","useCoreContext","useContext","BASE_CLASS","IMAGE_BREAKPOINT_MEDIUM_PX","ErrorMessageSeparator","ErrorMessageDisplay","title","imageDesktop","imageMobile","withImage","centered","refreshComponent","onContactSupport","translationValues","absolutePosition","outlined","renderSecondaryButton","withBackground","withHeaderOffset","i18n","updateCore","getImageAsset","renderMessage","errorMessage","getComponentAvailabilityFromEndpoint","componentAvailabilityRegistry","sessionReady","ready","readyPromise","refreshInProgress","didTriggerRefresh","canRefreshSession","sessionUnsubscribe","maybeUnsubscribeToken","sessionAwareComponentAvailability","componentAvailabilityErrors","ConfigContext","ConfigProvider","refresh","setContextCounter","useState","unsubscribeCounter","setUnsubscribeCounter","hasPermission","setHasPermission","useEffect","maybeContext","toChildArray","useConfigContext","catchCallback","useMutation","queryFn","retry","retryDelay","onSuccess","onError","onSettled","shouldRetry","setData","setError","setStatus","mountedRef","useRef","retryCountRef","reset","resetRetries","mutate","variables","result","maxRetries","usePushAnalyticEvent","sendTrackEvent","sendAnalytics","track","AnalyticsProvider","pushAnalyticsEvent","pushEvent","userEvents","useBooleanState","initialState","setState","updateState","toggleState","CoreProvider","_commonProps","_loadingContext","externalErrorHandler","componentRef","getDatasetAsset","getCdnDataset","getCdnConfig","setReady","commonProps","coreContextValues","BaseElement","newState","domNode","node","newComponent","UIElement","createRef","core","popoverUtil","popoverRefs","closePopoversOutsideOfClick","eventPath","pathMatchIndex","popoverRef","popoverRefId","pathId","closeNestedPopovers","remove","currentRef","refs","add","fromIndex","popoverLength","REF","ReflexError","UnknownRefError","MissingReflexActionError","assertReflexAction","isReflex","notDefined","unwrap","reflexable","isRefObject","createReflexRegister","_getRecordForRef","register","record","_bindReflexAction","action","actions","_ref","isCallbackRef","_updateCurrentInstance","instance","_current","reflex","previous","_unbindReflexAction","bindings","_register","$globalReflexRegister","createIsolatedFauxReflex","$actions","createReflexContainer","_reflex","_reflexable","_reflexAction","_released","_refreshContainer","_releaseContainer","currentReflexable","useReflex","container","useLayoutEffect","CONTROL_ELEMENT_PROPERTY","ClickOutsideVariant","onFocusout","useClickOutside","rootElementRef","disableClickOutside","mouseDownInsideRef","handleClickOutside","eventPathIndex","samePath","currentElement","handleMouseDown","handleClick","current","LONG","SHORT","SHORT_OFFSET","BASE_DATE_FORMAT","BASE_TIME_FORMAT","BASE_DATE_TIME_FORMAT","BASE_DATE_TIME_MOBILE_FORMAT","DATE_FORMAT_CAPITAL_OVERVIEW","DATE_FORMAT_MISSING_ACTION","DATE_FORMAT_DISPUTES","DATE_FORMAT_DISPUTE_DETAILS","DATE_FORMAT_PAYMENT_LINKS_OVERVIEW","DATE_FORMAT_PAYMENT_LINKS_OVERVIEW_EXPIRATION_DATE","DATE_FORMAT_PAYMENT_LINK_DETAILS_TABS","DATE_FORMAT_PAYMENT_LINK_DETAILS_SUMMARY","DATE_FORMAT_PAYOUTS","DATE_FORMAT_PAYOUTS_MOBILE","DATE_FORMAT_PAYOUT_DETAILS","DATE_FORMAT_REPORTS","DATE_FORMAT_TRANSACTIONS","DATE_FORMAT_TRANSACTIONS_MOBILE","DATE_FORMAT_TRANSACTION_DETAILS","DATE_FORMAT_RESPONSE_DEADLINE","DATE_FORMAT_DELIVERY_DATE","BREAKPOINTS","useContainerQuery","query","width","setWidth","breakpoint","minMax","queryMatch","containerElement","resizeObserver","entry","containerQueries","useResponsiveContainer","SELECTORS","ATTRIBUTES","CHECKED_RADIOS","isInput","element","isRadio","isCheckedRadio","form","checkedRadiosForForm","checkedRadio","shouldRefresh","tabbables","shouldRefreshTabbables","isTabbable","focusIsWithin","rootElement","elementWithFocus","parentElement","isFocusable","withTabbableRoot","observer","getTabbables","currentIndex","root","focusAt","tabbableIndex","constrainedIndex","maybeTabbable","tabbableRoot","maybeTabbableOrOffset","maybeElement","InteractionKeyCode","FilterParam","useFocusTrap","onEscape","escapedFocus","focusElement","interactionKeyPressed","lastInteractionKey","lastTabDirection","setRootTabIndex","focusFallback","lastFocused","onClickCapture","lastFocusableElement","raf","onFocusInCapture","onDocumentFocusInCapture","nextIndex","onFocusOut","onKeyDownCapture","icons","Icon","IconComponent","setIconComponent","LoadedIcon","ModalContext","useModalContext","Modal","isOpen","onClose","isDismissible","headerWithBorder","isSmContainer","focusCaptureElement","focusRestoreElement","handleDismiss","modalRootElement","tabbableHandle","tabbable","useFetch","keepPrevData","enabled","cancelRequest","fetchData","fetchReducer","dispatch","useReducer","useUniqueId","ACCORDION_BASE_CLASS","ACCORDION_HEADER_CLASS","ACCORDION_HEADER_CONTAINER_CLASS","ACCORDION_HEADER_CONTROLLER_CLASS","ACCORDION_CONTENT_CLASS","Accordion","classNames","header","headerInformation","isExpanded","setIsExpanded","accordionContentRef","toggle","contentElementId","controllerElementId","CARD_BASE_CLASS","CARD_EXPANDABLE_CLASS","CARD_TOGGLE_CLASS","CARD_BODY","CARD_HEADER","CARD_TITLE","CARD_SUBTITLE","CARD_HEADER_CONTENT","CARD_BODY_WITH_TITLE","CARD_NO_OUTLINE","CARD_NO_PADDING","CARD_FILLED","CARD_FOOTER","CARD_COMPACT","Card","subTitle","expandable","footer","renderHeader","renderFooter","filled","noOutline","noPadding","compact","showContent","setShowContent","cardId","toggleExpansion","onKeyDown","cardContainerAttributes","SL_BASE_CLASS","SL_ALIGN_END","SL_EXPANDED_CLASS","SL_ITEM_CLASS","SL_GRID_CLASS","SL_CONTENT_CLASS","SL_LABEL_CLASS","SL_ITEM_WITH_HIGHLIGHT_CLASS","useStructuredListItems","DEFAULT_LAYOUT","StructuredList","ariaLabel","highlightable","renderValue","renderLabel","layout","grid","align","LABEL_COL_CLASS","VALUE_COL_CLASS","formattedItems","typographyVariant","SKELETON_CLASS","SKELETON_CONTAINER","SKELETON_LOADING","STATUS_SKELETON","DataOverviewDetailsSkeleton","skeletonRowNumber","skeletonRows","statusSkeletonRows","_useAtomicTimezoneOperation","operation","timezoneToRestore","_useActiveTimezone","getActiveTimezone","useTimezoneAwareDateFormatting","activeTimezone","dateFormat","fullDateFormat","PD_BASE_CLASS","PD_TITLE_CONTAINER_CLASS","PD_TITLE_CLASS","PD_TITLE_CLASS_WITH_EXTRA_DETAILS","PD_TITLE_BA_CLASS","PD_CONTENT_CLASS","PD_EXTRA_DETAILS_CLASS","PD_EXTRA_DETAILS_LABEL","PD_EXTRA_DETAILS_ICON","PD_BUTTON_ACTIONS","PD_SECTION_CLASS","PD_CARD_CLASS","PD_CARD_TITLE_CLASS","PD_SECTION_AMOUNT_CLASS","PD_SECTION_GROSS_AMOUNT_CLASS","PD_SECTION_NET_AMOUNT_CLASS","PD_UNPAID_AMOUNT","TagVariant","label","Link","href","truncate","withIcon","alt","DataGridContext","useDataGridContext","DataGridCell","column","position","registerCells","isValidElement","cloneElement","isCustomDataObject","_isIconType","_isButtonType","_isLinkType","TableCells","columns","customCells","rowIndex","icon","_c","_d","buttonCallback","_e","_f","_g","ButtonActionsLayoutBasic","ButtonActionsLayoutExtended","ButtonActionsLayout","ButtonActions","generateButtonVariantByIndex","actionIndex","lastActionIndex","reversedActions","button","createKeyFactoryFromConfig","suffix","createDynamicTranslationFactory","keyFactory","translationFallback","translationKey","DISPUTE_ACTION_NEEDED_URGENTLY_THRESHOLD_DAYS","DISPUTE_PAYMENT_SCHEMES","DISPUTE_REASON_CATEGORIES","DISPUTE_STATUS_GROUPS","DISPUTE_STATUSES","DISPUTE_TYPES","TransactionsView","createRangeTimestampsConfigRestampingContext","getRangeTimestampsContextIntegerPropertyFactory","minInteger","maxInteger","defaultInteger","_getNormalizedValue","fallbackValue","normalizedValue","clampedValue","initialValue","valueGetter","currentValue","getRangeTimestampsConfigParameterUnwrapper","isRangeTimestampsConfigWithoutOffsets","isRangeTimestampsConfigWithFromOffsets","nowTimestamp","now","offsetsForNDays","_cache","numberOfDays","parseRangeTimestamp","normalizedTimestamp","parsedTimestamp","createRangeTimestampsFactory","additionalContext","_config","_additionalContext","_restamper","nowDescriptor","NOW","tzDescriptor","configContext","from","to","nowSetter","parsing","withRangeFrom","years","months","days","hours","minutes","seconds","tzSetter","currentTimezone","DATE_PARTS_REGEX","_startTimestamp","adjustDate","withTimezone","restampedDate","startOfDay","startOfMonth","startOfYear","startOfWeek","firstWeekDay","dateOffset","getWeekDayIndex","isLeapYear","year","getMonthDays","month","nextMonth","monthIndex","nextYear","weekDay","computeTimestampOffset","getDateObjectFromTimestamp","getTimezoneDateString","getTimezoneDateParts","dateString","day","getEdgesDistance","fromTime","toTime","fromYear","fromMonth","toYear","toMonth","ONE_MONTH_OFFSETS","offsetMonth","monthCount","lastMonth","MAX_NUM_DAYS","MIN_NUM_DAYS","DEFAULT_NUM_DAYS","_getNumberOfDaysContext","lastNDays","numberOfDaysContext","DEFAULT_FIRST_WEEK_DAY","ONE_WEEK_OFFSETS","_getFirstWeekDayContext","offsetWeek","weekCount","weeks","restConfig","firstWeekDayContext","lastWeek","thisMonth","thisWeek","yearToDate","ROOT_CLASS","DETAILS_CLASS","TRANSACTION_DATE_RANGES","RangePreset.lastNDays","RangePreset.thisWeek","RangePreset.lastWeek","RangePreset.thisMonth","RangePreset.lastMonth","RangePreset.yearToDate","TRANSACTION_DATE_RANGE_CUSTOM","TRANSACTION_DATE_RANGE_DEFAULT","TRANSACTION_DATE_RANGE_DEFAULT_TIMESTAMPS","TRANSACTION_DATE_RANGE_MAX_YEARS","TRANSACTION_CATEGORIES","TRANSACTIONS_VIEW_TABS","INITIAL_FILTERS","EXPORT_COLUMNS","DEFAULT_EXPORT_COLUMNS","TRANSACTION_ANALYTICS_CATEGORY","TRANSACTION_ANALYTICS_SUBCATEGORY_DETAILS","TRANSACTION_ANALYTICS_SUBCATEGORY_INSIGHTS","TRANSACTION_ANALYTICS_SUBCATEGORY_LIST","UNDEFINED_ERROR","getCommonErrorMessage","DEFAULT_POPOVER_CLASSNAME","DEFAULT_TOOLTIP_CLASSNAME","POPOVER_CONTAINER_CLASSNAME","POPOVER_HEADER_CLASSNAME","POPOVER_HEADER_TITLE_CLASSNAME","POPOVER_CONTENT_CLASSNAME","TOOLTIP_CONTENT_CLASSNAME","POPOVER_FOOTER_CLASSNAME","PopoverDismissButton","image","PopoverTitle","isImageTitle","PopoverContainerVariant","PopoverContainerPosition","PopoverContainerSize","getIntersectionObserver","observerCallbackMap","withIntersectionObserver","findObserver","callbackFn","observerInstance","currentObserver","FULL_WIDTH_TOOLTIP_POSITIONS","POPOVER_DIAGONAL_HORIZONTAL_OFFSET","ARROW_OFFSET","SCREEN_EDGE_MARGIN","calculateOffset","additionalStyle","fixedPositioning","popover","targetElement","translateX","translateY","isTooltip","popoverHeight","popoverWidth","popoverContent","popoverContentHeight","popoverContentWidth","bodyPosition","targetPosition","toCenterFullWidth","toCenterX","toCenterY","scrollX","scrollY","offsetStyle","isMaxLimits","isMinLimits","targetVerticalPosition","height","targetHeight","usePopoverPositioner","arrowRef","setToTargetWidth","showOverlay","fitPosition","contentRef","initialPosition","setInitialPosition","showPopover","setShowPopover","currentPosition","setCurrentPosition","checkedPositions","setCheckedPosition","observerCallback","screenWidth","bestPos","pos","observerCallbackRef","style","positionX","positionY","useUniqueIdentifier","findFirstFocusableElement","focusable","elements","elem","getGapByVariant","Popover","disableFocusTrap","actionsLayout","open","dismissible","fitContent","withoutSpace","containerSize","dismiss","withContentPadding","setPopoverElement","uncontrolledProps","popoverOpen","onCloseFocusTrap","cachedOnKeyDown","autoFocusAnimFrame","popoverPositionAnchorElement","popoverFocusTrapElement","popoverElement","popoverElementWithId","classNamesByVariant","classNamesContentByVariant","createPortal","useTooltipListeners","isVisible","setIsVisible","visibilityTimerRef","clearVisibilityTimer","showTooltip","hideTooltip","content","Tooltip","isUnderlineVisible","listeners","targetElementRef","canShowTooltip","targetClassName","BASE_CLASSNAME","CopyText","copyButtonAriaLabelKey","textToCopy","visibleText","onCopyText","showCopyTextTooltip","restProps","isCopied","setIsCopied","resetIsCopied","copyButtonLabel","visibleTextToCopy","getErrorMessage","commonError","secondaryErrorMessage","DataOverviewError","ContactSupport","TableBody","onRowHover","onHoverEnter","onHoverLeave","useInteractiveDataGrid","totalRows","total","INITIAL_STATE","optionIndex","onFocusCapture","InteractiveBody","onRowClick","onClickCallBack","SkeletonBody","columnsNumber","loading","emptyMessageDisplay","rows","DataGridProvider","minWidthByColumn","existingWidth","getMinWidthByColumn","TableHeaderCell","cellKey","DataGrid","errorDisplay","DataGridTable","autoFitColumns","child","DataGridFooter","emptyBody","showMessage","visibleCols","cellWidths","col","DataGridBody","showSkeleton","ARIA_ERROR_SUFFIX","CommitAction","useCommitAction","applyDisabled","applyTitle","resetDisabled","resetTitle","onResetAction","commitAction","setCommitAction","applyAction","resetAction","resetCommitAction","applyButtonAction","resetButtonAction","commitActionButtons","committing","Img","backgroundUrl","src","showOnError","loaded","setLoaded","imageRef","handleLoad","handleError","modifier","DROPDOWN_BASE_CLASS","DROPDOWN_BUTTON_CLASSNAME","DROPDOWN_BUTTON_CLASS","DROPDOWN_BUTTON_ACTIVE_CLASS","DROPDOWN_BUTTON_COLLAPSE_INDICATOR_CLASS","DROPDOWN_BUTTON_CLEAR_CLASS","DROPDOWN_BUTTON_HAS_SELECTION_CLASS","DROPDOWN_BUTTON_ICON_CLASS","DROPDOWN_BUTTON_MULTI_SELECT_COUNTER_CLASS","DROPDOWN_BUTTON_READONLY_CLASS","DROPDOWN_BUTTON_TEXT_CLASS","DROPDOWN_BUTTON_VALID_CLASS","DROPDOWN_BUTTON_INVALID_CLASS","DROPDOWN_ELEMENT_CLASS","DROPDOWN_ELEMENT_ACTIVE_CLASS","DROPDOWN_ELEMENT_KEYBOARD_ACTIVE_CLASS","DROPDOWN_ELEMENT_CHECKBOX_CLASS","DROPDOWN_ELEMENT_CHECKMARK_CLASS","DROPDOWN_ELEMENT_CONTENT_CLASS","DROPDOWN_ELEMENT_DISABLED_CLASS","DROPDOWN_ELEMENT_ICON_CLASS","DROPDOWN_ELEMENT_NO_OPTION_CLASS","DROPDOWN_LIST_CLASS","DROPDOWN_LIST_ACTIVE_CLASS","DROPDOWN_MULTI_SELECT_CLASS","SelectButtonElement","active","filterable","toggleButtonRef","buttonVariant","baseClassName","SelectButton","clearable","multiSelect","onClear","readonly","showList","withoutCollapseIndicator","placeholderText","buttonActiveItem","buttonTitleText","showClearButton","PopoverContainer","setLastScrollCallbackTimestamp","popoverStyle","setPopoverStyle","shouldTrackVerticalScrolling","scrollElement","scrollElementHeight","scrollElementY","rafId","delayedCallback","renderDefaultMultiSelectionCheckedness","renderDefaultSingleSelectionCheckedness","renderListItemDefault","SelectListItem","onSelect","renderListItem","selected","isKeyboardActive","itemRef","dataDisabled","itemClassName","SelectList","commitActions","selectListId","textFilter","dismissPopover","popoverClassNameModifiers","fixedPopoverPositioning","activeIndex","filteredItems","listClassName","noOptionsClassName","renderSelectOption","multipleSelection","useSelect","getSelectedItems","selectedItems","_selected","_selectedItems","selection","setSelection","resetSelection","nextSelection","select","currentSelection","Select","disableToggleFocusOnClose","onChange","isInvalid","isValid","renderButtonContent","isCollatingErrors","ariaAttributeProps","setShowList","setTextFilter","setActiveIndex","filterInputRef","selectListRef","selectButtonUniqueId","selectButtonId","pendingClickOutsideTriggeredHideList","clearSelectionInProgress","cachedSelectedItems","appliedFilterNumber","dropdownClassName","closeList","commitSelection","clearAndResetSelection","handleSelect","handleButtonKeyDown","focus","firstAvailableItem","handleListKeyDown","handleFilterInputKeyDown","availableItems","prevIndex","handleTextFilter","showingList","toggleList","handleClear","normalizeFill","fill","Translation","defaultFill","fills","getFill","_defaultFill","lookupProperty","placeholderFill","firstFragment","restFragments","fragment","Pagination","hasNext","hasPrev","limit","limitOptions","onLimitSelection","ariaLabelKey","limitSelectAriaLabelKey","_limitOptions","_onLimitChanged","AMOUNT_CLASS","PAYMENT_METHOD_CLASS","PAYMENT_METHOD_LOGO_CONTAINER_CLASS","PAYMENT_METHOD_LOGO_CLASS","DATE_AND_PAYMENT_METHOD_CLASS","DATE_METHOD_CLASS","FALLBACK_CDN_CONTEXT","returnImage","resourceContext","imageFolder","parentFolder","useImageUrl","Image","folder","imageUrl","allFilters","PAYMENT_METHODS","parsePaymentMethodType","paymentMethod","format","lastFourDigits","description","getTransactionsFilterQueryParams","filters","getTransactionsFilterParams","balanceAccountId","categories","currencies","statuses","restFilterParams","compareTransactionsFilters","filtersA","filtersB","filterName","filterValueA","filterValueB","PaymentMethodCell","bankAccount","removeUndefinedProperties","useTableColumns","fields","customColumns","columnConfig","fieldsKeys","tableColumns","field","isSmAndUpContainer","newFields","cc","colum","mergedColumns","customColumnsMap","acc","columnMap","hiddenColumn","existing","flex","TRANSACTION_FIELDS","TRANSACTION_FIELDS_REMAPS","FIELDS_KEYS","TransactionsTable","activeBalanceAccount","availableCurrencies","hasMultipleCurrencies","showDetails","showPagination","transactions","paginationProps","hoveredRow","setHoveredRow","isMdAndUpContainer","isXsAndDownContainer","EMPTY_TABLE_MESSAGE","onHover","category","getTransactionCategory","tooltip","getTransactionCategoryDescription","renderCategory","netAmount","currency","ActiveView","DetailsTab","RefundedState","RefundedState2","RefundMode","RefundType","TX_DATA_CLASS","TX_DATA_AMOUNT","TX_DATA_ACTION_BAR","TX_DATA_CONTAINER","TX_DATA_HEAD_CONTAINER","TX_DATA_INPUT","TX_DATA_INPUT_CONTAINER","TX_DATA_INPUT_CONTAINER_SHORT","TX_DATA_INPUT_CONTAINER_TEXT","TX_DATA_INPUT_CONTAINER_WITH_ERROR","TX_DATA_INPUT_HEAD","TX_DATA_LABEL","TX_DATA_LIST","TX_DATA_TAGS","TX_STATUS_BOX","TX_TIMELINE_LABEL","TX_TIMELINE_VALUE","TX_REFUND_RESPONSE","TX_REFUND_RESPONSE_ICON","TX_REFUND_RESPONSE_SUCCESS_ICON","TX_REFUND_RESPONSE_ERROR_ICON","TX_REFUND_STATUSES_CONTAINER","TX_DETAILS_RESERVED_FIELDS_SET","TX_DETAILS_FIELDS_REMAPS","tx","account","TX_DETAILS_TABS","REFUND_STATUSES","REFUND_REASONS","REFUND_REASONS_KEYS","sharedTransactionDetailsEventProperties","originalValueFallback","payoutAdjustmentTypeKeyFactory","getPayoutAdjustmentType","payoutFundsCapturedTypeKeyFactory","getPayoutFundsCapturedType","reportTypeKeyFactory","getReportType","txAmountAdjustmentTypeKeyFactory","getTransactionAmountAdjustmentType","txCategoryKeyFactory","txCategoryDescriptionKeyFactory","txTimelineStatusKeyFactory","getTransactionTimelineTxStatus","txTimelineTypeKeyFactory","getTransactionTimelineTxType","txRefundReasonKey","txRefundReasonKeyFactory","getTransactionRefundReason","disputeReasonKey","disputeReasonKeyFactory","getDisputeReason","disputeStatusKey","disputeStatusKeyFactory","getDisputeStatus","disputeTypeKey","disputeTypeKeyFactory","getDisputeType","PayoutData","balanceAccountDescription","payoutData","extraFields","payout","adjustments","accumulator","fundsCaptured","breakdown","captureType","payoutAdjustmentTypeLabelRenderer","payoutFundsCapturedTypeLabelRenderer","payoutBreakdownTypeLabelRenderer","translationFn","extraDetails","buttonActions","val","cache","useBalanceAccounts","getBalanceAccounts","balanceAccountsFromCache","setBalanceAccountsFromCache","canFetchBalanceAccounts","isFetching","allBalanceAccounts","balanceAccounts","isBalanceAccountIdWrong","fetchedBalanceAccounts","TITLES_BY_TYPE","useDataOverviewDetailsTitle","_hideTitle","withinModal","forcedHideTitle","setForcedHideTitle","hideTitle","titleKey","NET_PAYOUT_CLASS","AMOUNT_FIELDS","PAYOUT_TABLE_FIELDS","_isAmountFieldKey","PayoutsTable","refreshing","isLoading","getAmountFieldConfig","ComponentHeadingType","useComponentHeadingElement","headingType","forwardedToRoot","headingElementId","headingElementRef","ariaAttribute","componentElement","DIVIDER_CLASS_NAMES","Divider","Header","hasDivider","subtitleKey","subtitleConfig","titleElemId","titleElemRef","subtitleElemId","subtitleElemRef","ENDPOINTS_BY_TYPE","DataOverviewDetails","getDetail","queryParam","hasBalanceAccountDetail","errorProps","errorMessageKey","detailsData","setExtraFields","getExtraFields","dataCustomization","PayoutElement","WITH_ERROR_CLASS","DataOverviewContainer","balanceAccountsError","hasError","BASE_CLASS_DETAILS","EARLIEST_PAYOUT_SINCE_DATE","MOBILE_SWITCH_CLASS","useFilterBarState","isMobileContainer","showingFilters","setShowingFilters","filterBarElementId","FilterBarMobileSwitch","expanded","FilterBar","useAnalyticsContext","useFilterAnalyticsEvent","subCategory","analytics","defaultPayload","actionType","err","ALL_BALANCE_ACCOUNTS_SELECTION_ID","useBalanceAccountSelection","allowAllSelection","eventCategory","eventSubCategory","eventLabel","onUpdateSelection","logEvent","selectedBalanceAccountIndex","setSelectedBalanceAccountIndex","activeBalanceAccountId","cachedBalanceAccountIdRef","balanceAccountSelectionOptions","onBalanceAccountSelection","resetBalanceAccountSelection","cachedBalanceAccountId","BA_SELECTOR_CLASS","BA_SELECTOR_ACCOUNT_ID_CLASS","BA_SELECTOR_ACCOUNT_LABEL_CLASS","BalanceAccountSelector","balanceAccountLabel","LIMIT_OPTIONS","MAX_PAGE_LIMIT","DEFAULT_PAGE_LIMIT","getClampedPageLimit","pageLimit","getNearestFromSortedUniqueNums","nums","lastindex","lo","hi","usePageLimit","preferredLimit","preferredLimitOptions","cachedLimitOptions","cachedLimit","uniqueOptions","useMounted","beforeUnmount","$mounted","unmount","usePagination","paginationSetupConfig","requestPageCallback","$controller","$maxVisitedPage","$maxVisitedPageSize","$page","page","setCurrentPage","paginationChanged","updatePaginationChanged","getPageCount","getPageParams","resetPageCount","updatePagination","goto","PAGES","requestedPage","paginationData","pages","pageSize","resetPagination","hasNextPage","hasPrevPage","useCursorPagination","cursors","updateCursor","cursor","currentCursor","useOffsetPagination","currentPage","useReactiveState","initialStateSameAsDefault","$hasDefaultState","$defaultState","$stateParams","$changedParams","resetState","requestStateUpdate","stateUpdateRequest","stateUpdate","stateUpdateFlags","defaultValue","updateValue","flagIndex","updateFlag","STATE","flag","canResetState","usePaginatedRecordsFilters","filterParams","initialFiltersSameAsDefault","canResetFilters","defaultFilters","resetFilters","updateFilters","PageNeighbour","PaginationType","offsetPaginatedResponseFields","isCursorPaginatedResponseData","dataProperties","parseCursorPaginatedResponseData","dataField","parseOffsetPaginatedResponseData","hasPrevious","usePaginatedRecords","fetchRecords","initialize","onFiltersChanged","pagination","setRecords","fetching","updateFetching","preferredPageLimit","setPreferredPageLimit","$initialFetchInProgress","$lastRequestedPage","$recordsFilters","filtersProps","parsePaginatedResponseData","updateLimit","pageRequestParams","useCursorPaginatedRecords","initOptions","getTimezoneTime","getUsedTimezone","REGEX_CLOCK_TIME_MATCHER","$restamper","formatted","meridian","clockTime","GMTOffsetString","useTimezone","withClock","shouldWatchClock","setTimestamp","GMTOffset","snapshot","TIME_RANGE_SELECTION_PRESET_OPTION_KEYS","getTimeRangeSelectionDefaultPresetOptions","exclude","allOptions","excludeSet","useTimeRangeSelection","presetOptions","selectedPresetOption","setFrom","setTo","selectedOption","setSelectedOption","TZ","customOption","getRangesForOption","selectionOptions","optionKeys","currentOption","isCustomSelection","setIsCustomSelection","selectionOptionsWithCustomOption","onSelection","ranges","customSelection","TimeRangeSelector","calendarRef","onTimeRangeSelected","useTimeRangeSelectionConfig","selectOptions","onSelectedOptionChanged","rangeSelectionInProgress","cachedTimestamp","property","isPropDescriptor","setter","propsProperty","deepImmutable","$props","maybeDescriptor","isDescriptor","CalendarGridRenderToken","CalendarGridRenderToken2","DEFAULT_DATE_CELL_CLASSNAME","DEFAULT_DATE_TIME_CLASSNAME","getGridDateRenderProps","computedProps","prepare","renderProps","CalendarGridDate","datetime","flags","onlyCellsWithin","cursorElementRef","withinMonth","withinRange","extendedProps","CalendarGridDate$1","DEFAULT_CELL_CLASSNAME","DEFAULT_CELL_ABBR_CLASSNAME","getGridDayOfWeekRenderProps","CalendarGridDayOfWeek","longLabel","shortLabel","onCommand","__","childClassName","extendedChildProps","childClasses","CalendarGridDayOfWeek$1","CalendarGrid","cursorRootProps","getGridLabel","block","row","rowindex","DAY_MS","DAY_OF_WEEK_FORMATS","FIRST_WEEK_DAYS","FRAME_SIZES","MAXIMUM_MONTH_UNITS","WEEKEND_DAYS_SEED","CONTROLS_ALL","CONTROLS_MINIMAL","CONTROLS_NONE","CALENDAR_CONTROLS","SELECT_MANY","SELECT_NONE","SELECT_ONE","CALENDAR_SELECTIONS","CURSOR_BACKWARD","CURSOR_BLOCK_END","CURSOR_BLOCK_START","CURSOR_DOWNWARD","CURSOR_FORWARD","CURSOR_LINE_END","CURSOR_LINE_START","CURSOR_NEXT_BLOCK","CURSOR_PREV_BLOCK","CURSOR_UPWARD","RANGE_FROM","RANGE_TO","SELECTION_COLLAPSE","SELECTION_FARTHEST","SELECTION_FROM","SELECTION_NEAREST","SELECTION_TO","SHIFT_BLOCK","SHIFT_FRAME","SHIFT_PERIOD","downsizeTimeFrame","maxsize","resolveTimeFrameBlockSize","getWeekendDays","seed","__TimeSlice__","_numberOfMonths","_endTimestamp","_endTimestampOffset","_startTimestampOffset","__privateWrapper","slice","UNBOUNDED_SLICE","sinceNow","untilNow","timeslice","TimeFlag","CalendarShiftControlFlag","CalendarShiftControlsFlag","createFlagsRecord","CACHE","FLAG_PROPS","isFlagProp","flagsTruncated","indexedProxyGetTrap","mapIteratorFactory","thisArg","__INDEXED_PROTO__","createIndexed","iterablePropertyDescriptorsOrSize","iteratorValueGetter","today","timezones","getTimestampWithTomorrowOffset","withTimestamp","currentTimestamp","nextTimestamp","tomorrowOffset","getTimestamp","refreshTimestamps","_TimeFrame","_TimeFrame_instances","_cursorBlockIndex","_cursorBlockStartIndex","_cursorBlockEndIndex","_cursorStartIndex","_cursorEndIndex","_cursorIndex","_cursorOffset","_cursorTimestamp","_dynamicBlockHeight","_effect","_firstWeekDay","_frameBlocksCached","_DEFAULT_LOCALE","_maxFrameSize","_selectionStartTimestamp","_selectionEndTimestamp","_size","__timeslice","_timeslice","_timezone","_today","_unwatchCurrentDay","_fromTimestamp","_toTimestamp","_fromBlockOffsetFromOrigin","_toBlockOffsetFromOrigin","_numberOfBlocks","_numberOfUnits","_daysOfWeek","_frameBlocks","getFrameBlockAtIndex_fn","bool","effect","currentLocale","nextFrameSize","shiftOriginIfNecessary_fn","$timeslice","applyTimeSliceUpdate_fn","skipCursorRefresh","cursorBlock","startIndex","endIndex","nextCursorTimestamp","getContainedTimestamp_fn","nextCursorOffset","clampedNextCursorOffset","firstBlock","lastBlock","offsetType","shiftOrigin_fn","nextCursorPosition","shiftFrameCursorByOffset_fn","currentStart","currentEnd","startDistance","endDistance","span","selectionStartTimestamp","selectionEndTimestamp","getClampedFrameOffset_fn","frameOffset","withMidRangeFallback","clampedTimestamp","blockStartIndex","indexOffset","clampedOffset","size_1","TimeFrame","MonthFrame","_MonthFrame_instances","_daysInWeek","_daysOfWeekCached","_daysOfWeekend","_currentDayTimestamp","_originMonthStartOffset","_originMonthStartTimestamp","_originYear","_selectionFromTimestamp","_selectionToTimestamp","labelDescriptors","getBlockTimestampOffsetFromOrigin_fn","monthDays","innerStartIndex","innerEndIndex","outerStartIndex","outerEndAfterIndex","numberOfUnits","proxyForIndexPropertyAccess","startTimestamp","originYear","originMonth","weekStartTimestamp","getDayOffsetTimestamp_fn","updateSelectionTimestamps_fn","getStartForTimestamp_fn","offsetYear","originTimestamp","fromTimestamp","dayOffset","restampedTimestamp","hrs","mins","timeOffset","_NO_EXCEPTION","createEffectStack","_stack","exception","Calendar$2","_Calendar_instances","_destructed","_highlightFrom","_highlightTo","_highlightInProgress","_highlightSelection","_pendingWatchNotification","_rangeOffsets","_lastHighlightRange","_cursorIndexFromEvent","_shiftFactorFromEvent","_watchCallback","_watchableEffect","_unwatch","_shiftControlsHandles","_shiftControlsList","_shiftControls","getShiftControlRecordAtIndex_fn","_watchlist","_lastWatchableSnapshot","_chainedNotifyEffectStack","_chainedWatchEffectStack","currentConfig_get","_grid","configure_fn","watchCallback","_watchableEffectCallback","_Calendar_static","withNotifyEffect_fn","cursorHandle_fn","blank","clearHighlight_fn","rangeHighlight_fn","_DAYS_OF_WEEK_FALLBACK","destruct_fn","_RANGE_OFFSETS_FORMAT_REGEX","_CURSOR_POINTER_INTERACTION_EVENTS","_SHIFT_ACTIVATION_KEYS","_SHIFT_ALL_CONTROLS","_SHIFT_MINIMAL_CONTROLS","getOffsetsFromRange_fn","range","getShiftOffsetType_fn","getShiftOffsetUnit_fn","timeframe_get","canShiftInDirection_fn","shiftDirection","highlight","minified","reframe_fn","refreshShiftControls_fn","refreshHighlighting_fn","highlight_fn","cursorIndex","isClick","control","shiftOffsetType","shiftOffsetUnit","canShift","shiftFactor","getShiftFactorFromEvent_fn","factor","secretFauxHighlightingHint","toTimestamp","selectionDirection","isFauxHighlighting","selectionStartDay","selectionStartDayEndTimestamp","selectionEndDay","selectionEndDayStartTimestamp","rangeOffsets","restoreHighlight_fn","controlsChanged","highlightChanged","selectionChanged","highlightRange","calendar","init","kill","Calendar","CalendarControls","controls","renderer","handle","useFocusCursor","finallyCallback","useCalendar","blocks","dynamicBlockRows","onHighlight","originDate","renderControl","sinceDate","trackCurrentDay","untilDate","useYearView","lastMutationTimestamp","setLastMutationTimestamp","activeControls","activeHighlight","highlightStart","highlightEnd","pointerHandle","useImperativeHandle","origins","useDetachedRender","targetRef","setRender","renderTarget","useCalendarControlsRendering","directionModifier","labelModifier","iconName","shouldRenderControl","DatePicker","controlsRenderer","controlsContainerRef","lastUpdatedTimestamp","setLastUpdatedTimestamp","datePickerClassName","timezoneI18nOptions","getCalendarGridLabel","DEFAULT_FILTER_BUTTON_CLASSNAME","FilterButton","restAttributes","FilterButton$1","ALLOWED_NAVIGATION_KEYS","filterDisallowedCharacters","inputType","onValidInput","input","isAllowedChar","hasDecimal","isDecimalKey","isNavigationKey","FieldError","withTopMargin","InputBase","onInput","onKeyUp","trimOnBlur","onBlurHandler","onBlur","onFocusHandler","iconBeforeSlot","iconAfterSlot","dropdown","dropdownPosition","onDropdownInput","onUpdateDropdown","handleInput","handleKeyUp","handleBlur","handleFocus","handleDropdownChange","selectedValue","inputClassNames","handleKeyDown","cnm","uid","iiv","iv","ce","autoFocus","autofocus","newProps","hasIcons","shouldShowDropdown","shouldDisplayDropdownAtStart","shouldDisplayDropdownAtEnd","hasDropdownOrIcons","isDropdownReadOnly","inputElement","renderDropdown","isValueEmptyFallback","renderFallback","DefaultEditModalBody","editAction","onValueUpdated","setCurrentValue","inputRef","InputText","BaseFilter","editMode","_updateEditMode","editModalMounting","updateEditModalMounting","isValueEmpty","hasEmptyValue","updateHasEmptyValue","hasInitialValue","updateHasInitialValue","valueChanged","updateValueChanged","disabledApply","updateDisabledApply","filterButtonId","renderModalBody","editModeActive","closeEditDialog","openEditDialog","updateEditMode","mode","isOnlySmContainer","isOnlyMdContainer","DateRangeFilterParam","formattingOptions","computeDateFilterValue","fromDate","toDate","resolveDate","renderDateFilterModalBody","DateFilterEditModalBody","showTimezoneInfo","timeRangePresetOptions","timeRangeSelectorLabel","presetOption","setPresetOption","datePickerRef","customDateRangeFormat","DateFilterCore","selectedPresetOptionValue","setSelectedPresetOption","fromValue","toValue","dateTimeFormatter","_formattingOptions","DateFilter","defaultParams","refreshNowTimestamp","defaultTimeRangePreset","selectedTimeRangePreset","setSelectedTimeRangePreset","updateCreatedDateFilter","hasCallback","useModalDetails","selectedDetail","setSelectedDetail","updateDetails","resetDetails","detailsToShow","details","MultiSelectionFilter","updateSelection","selectionOptionsFor","mapOptionName","mapOption","useMultiSelectionFilter","filterParam","filterValues","mapFilterOptionName","TRANSACTIONS_OVERVIEW_MULTI_SELECTION_FILTERS","DEFAULT_TRANSACTIONS_OVERVIEW_MULTI_SELECTION_FILTER_PARAMS","getDefaultFilterParams","timeRange","timeRangeOptionsSubset","timeRangeOptions","defaultTimeRange","useDefaultOverviewFilterParams","filterType","balanceAccount","setNowTimestamp","ModalContent","restData","detailProps","DataDetailsModal","isModalOpen","useCustomColumnsData","hasCustomColumn","onDataRetrieve","mergeCustomData","customRecords","setCustomRecords","loadingCustomRecords","setLoadingCustomRecords","mergedRecords","retrievedData","hasCustomField","preferredFields","standardFields","fieldName","mergeRecords","originalRecords","modifiedRecords","matchRecordCallback","originalRecord","modifiedRecord","PayoutsOverview","allowLimitSelection","onRecordSelection","isLoadingBalanceAccount","payoutsEndpointCall","getPayouts","filterBarState","_onFiltersChanged","payoutDetails","modalOptions","PayoutsOverviewContainer","PayoutsElement","Payouts","normalizeCustomFields","customFields","fieldMappings","remappedFieldGetter","remappedFieldName","useComponentTiming","duration","startTime","PaymentRefundActions","beginRefund","maxAmount","refundAmount","refundedAmount","refundingAmounts","refundReason","setRefundInProgress","setRefundResult","transactionId","initiateRefund","refundTransaction","amountWithinRange","isFullRefundAmount","refundDisabled","backButtonLabel","refundButtonLabelsWithoutAmount","refundButtonLabelWithAmount","refundButtonLabel","primaryAction","secondaryAction","PaymentRefundAmount","inputIdentifier","labelIdentifier","currencyExponent","refundableAmount","formattedAmount","setRefundAmount","validationError","setValidationError","errorMessages","inputLabel","inputElementRef","decimalSeparator","parts","integerPart","decimalPart","cachedRefundableAmount","PaymentRefundNotice","titleEl","PaymentRefundReason","selectLabelId","selectLabel","refundReasons","onReasonChange","AlertTypeOption","AlertVariantOption","AlertIcon","Alert","closeButton","PaymentRefund","refreshTransaction","setActiveView","setLocked","formProps","refundResult","initiatedRefund","lockRefunds","loggedEntryEvent","transaction","refundInProgress","setRefundReason","maxAmountAlert","isErrorResult","descriptionKey","isDisabledOption","getNearestActiveOptionIndex","numberOfOptions","nearestIndex","unvisitedOptions","findActiveOptionIndex","activeOption","fallbackActiveOptionIndex","activeOptionIndex","nearestActiveOptionIndex","useTabbedControl","activeOptionFromProps","focusPending","setFocusPending","activeOptionRef","optionElementsRef","clickedOptionIndex","keyMap","optionElement","Tabs","activeTab","tabs","tab","isActive","baseAlertProps","PaymentRefundAlerts","fullRefundFailed","fullRefundInProgress","refundAmounts","refundCurrency","refundedState","refundLocked","getFormattedAmountsList","listFormatter","amounts","nextAlert","alertProps","alerts","PaymentDetailsActions","refundAvailable","transactionNavigator","currentTransactionId","canNavigateBackward","canNavigateForward","backward","forward","actionButtons","transactionNavigation","actionButton","isBackNavigation","transactionNavigationAction","customActions","copyButtonAnalyticsEventProperties","paymentDataKeys","paymentDataCopyButtonKeys","SKIP_ITEM","PaymentDetailsProperties","standardPropertiesList","merchantReference","paymentPspReference","refundMetadata","isRefundTransaction","customizedFields","listItems","isVisibleField","customPropertiesList","renderListPropertyLabel","renderListPropertyValue","trackingName","copyTextProps","STATUS_BOX_CLASS","STATUS_BOX_DATA_AMOUNT","STATUS_BOX_DATA_LABEL","STATUS_BOX_DATA_PAY_METHOD","STATUS_BOX_DATA_PAY_METHOD_DETAIL","STATUS_BOX_DATA_PAY_METHOD_LOGO","STATUS_BOX_DATA_PAY_METHOD_LOGO_CONTAINER","STATUS_BOX_DATA_TAGS","StatusBox","tag","paymentMethodType","formattedDate","getPaymentMethodType","getDisplayablePaymentMethod","useStatusBoxData","paymentMethodData","amountData","paymentProps","getAmountStyleForTransaction","getRefundTypeForTransaction","refundType","PaymentDetailsStatusBox","statusBoxOptions","statusBoxClassNames","statusBoxTags","paymentAmountKeys","isAmount","ADJUSTMENTS_TOOLTIP_CONTENT","PaymentDetailsSummary","summaryListItems","additions","deductions","amountBeforeDeductions","originalAmount","getFormattedAmount","tooltipContent","TimelineDateFormat","TimelineContext","getDateFormatOptions","DateText","formatDistanceStrict","dateLeft","dateRight","leftTime","rightTime","diffMs","UNIT_TRANSLATION_KEYS","TimelineItem","dataList","registerTimelineEntry","showAll","showMoreIndex","hiddenItems","visibleIndexes","timeGapLimit","toggleShowAll","instanceIdRef","allItemsShowing","timeGap","previousEntry","currentDate","previousDate","timegapInSelectedUnit","formattedTimeGap","timeGapAriaLabel","displayShowMoreButton","isLastItem","iconConditionalClasses","Timeline","showMore","setEntries","setShowAll","entryIdCounter","timelineIndexes","lastIndex","firstIndex","entryId","entryWithId","contextValue","PaymentDetailsTimeline","createdAt","events","defaultTimestamp","eventKeys","renderTimelineListPropertyLabel","renderTimelineListPropertyValue","formattedType","formattedStatus","fixedType","PaymentDetails","setActiveTab","navigationTabs","tabContent","useRefundMetadata","refundMode","refundable","refundAuthorization","latestNonFailedRefundIndex","isNonFailedRefund","isMoreRecentRefund","updatedStatusAmounts","sum","failedRefundAmounts","useLandedPageEvent","eventProperties","TransactionDataContent","fetchingTransaction","activeView","locked","cachedRefundLocked","refundIsDisabled","refundIsLocked","lineItems","createDuplexTransactionNavigator","previousTransactionId","fromTransactionId","toTransactionId","onNavigation","triggerNavigationCallback","_fromTransactionId","_toTransactionId","cachedCurrentTransactionId","setNavigationCallback","getTransactionNavigatorState","navigatorState","useTransaction","setTransactionId","setTransaction","setNavigatorState","getTransaction","cachedFetchingTransaction","lastFetchedTransactionId","transactionWithBalanceAccount","TransactionData","shouldHideTitle","initialTransaction","customizedDetails","TransactionElement","useTransactionsList","fetchEnabled","getTransactions","initialFilterParams","cachedFilterParams","canFetchTransactions","fetchTransactions","normalizedFields","ZERO_TOTALS","useTransactionsTotals","loadingBalances","getTransactionTotals","canGetTransactionTotals","canFetchTransactionTotals","fetchTransactionTotals","createdSince","createdUntil","json","totals","totalsLookup","currentCurrency","useAccountBalances","getBalances","canGetBalances","canFetchBalances","fetchBalances","balances","balancesLookup","currencySortedBalances","balance","useDurationEvent","analyticsEventProperties","TransactionDetailsModal","TransactionsList","accountBalancesResult","loadingBalanceAccounts","transactionsListResult","transactionsError","loadingTransactions","transactionsFields","DEFAULT_BASE_BUTTON_CLASSNAME","BaseButton","BaseButton$1","NAMESPACE","CONTAINER_CLASS","CONTENT_CLASS","CHEVRON_CLASS","CONTAINER_BUTTON_CLASS","CONTAINER_FILLED_CLASS","CONTAINER_HIDDEN_CLASS","CONTAINER_IN_FLOW_CLASS","CONTAINER_OVERLAY_CLASS","CONTENT_EXPANDABLE_CLASS","CARD_HEIGHT_PROPERTY","ExpandableCard","renderContent","inFlow","setIsOpen","collapsedCardHeight","setCollapsedCardHeight","inNormalFlow","toggleIsOpen","expandableCardRef","expandButtonRef","expandedContentId","isClosedFromOutside","isOpenRef","clickOutsideRef","renderCardContent","collapsibleContent","cardElement","MARGIN_CLASS","LOADING_CLASS","AmountSkeleton","hasMargin","LABEL_CONTAINER_CLASS","LABEL_CONTAINER_CLASS_LOADING","BODY_CLASS","LABEL_CLASS","PLACEHOLDER_CLASS","SummaryItemLabel","isSkeletonVisible","SummaryItem","columnConfigs","isHeader","showLabelUnderline","widths","onWidthsSet","isEmpty","newWidths","getColumnStyle","isXsContainer","isLongValue","TransactionTotalItem","hiddenField","isSkeleton","expensesElemId","incomingsElemId","incomingRef","expenseRef","currencyRef","incomingsConfig","expensesConfig","useMaxWidthsState","maxWidths","setMaxWidths","setMaxWidthsConditionally","currentMaxWidths","currentMaxWidth","TotalsCard","ariaAttributes","isHovered","setIsHovered","localizedPlainCurrencyText","firstTotal","restOfTotals","totalsListLabel","renderFirstTotal","renderRestOfTotals","ITEM_CLASS","TransactionTotals","loadingTotals","isNarrowContainer","BalanceItem","availableBalanceElemId","reservedBalanceElemId","availableAmountRef","reservedAmountRef","availableBalanceConfig","reservedBalanceConfig","BalancesCard","firstBalance","restOfBalances","balancesListLabel","renderFirstBalance","renderRestOfBalances","Balances","sharedAnalyticsEventProperties","TransactionsOverviewList","transactionsTotalsResult","transactionsListProps","defaultCurrencyCode","defaultCurrencyFirstSortFn","firstCurrency","secondCurrency","sortedBalances","sortedTotals","AmountDisplay","amountTypographyProps","currencyTypographyProps","InsightsTotals","insightsCurrency","breakdownArray","breakdownListArray","amountDisplayProps","TransactionsOverviewInsights","useMultiSelectionFilterProps","onResetFilter","onUpdateFilter","sortedSelection","TransactionMultiSelectionFilter","useMultiSelectionFilterPropsConfig","filterProps","TextFilter","TransactionPspReferenceFilter","pendingResetAction","setPendingResetAction","cachedValue","onValueChange","firstInputElementRef","inputId","labelId","selectionEnd","useCurrencySelection","selectedCurrency","currencySelectionOptions","getCurrencyIndex","onCurrencySelection","selectedIndex","setSelectedCurrencyIndex","selectedCurrencyIndex","activeCurrency","cachedActiveCurrencyRef","cachedAvailableCurrencies","cachedSelectedCurrency","cachedActiveCurrency","getDateRangeSelectionEventValue","dateRangeSelection","TransactionDateFilter","createdDate","setCreatedDate","filterLabel","customDateRange","defaultDateRange","cachedCreatedDate","selectedDateRange","setSelectedDateRange","since","until","onFilterChange","selectedDateRangeKey","nextCreatedDate","eventValue","onFilterResetAction","dateRangeKey","timestamps","TransactionsFilters","isTransactionsView","setInsightsCurrency","filterBarProps","initialFilters","setStatuses","setCategories","setCurrencies","setPaymentPspReference","setBalanceAccount","currentFilters","categoriesFilterOptions","categoriesFilterPlaceholder","currenciesFilterOptions","currenciesFilterPlaceholder","currencyFilterEventLabel","balanceAccountFilterProps","useDownload","endpointName","downloadEndpoint","ToggleSwitch","labelBeforeSwitch","readOnly","POPOVER_CLASS","Text","typographyProps","ExportColumn","toggleSwitchProps","SectionTitle","textProps","TransactionsExport","setPopoverOpen","exportStarted","setExportStarted","exportColumns","setExportColumns","popoverOpenRef","activeFilters","exportParams","downloadTransactions","canDownloadTransactions","canExportTransactions","exportCancelled","onExportSuccess","exportButtonRef","exportButtonLabel","exportingButtonLabel","cancelButtonLabel","downloadButtonLabel","activeFiltersTitle","exportColumnsTitle","exportColumnsTitleId","columnSwitches","masterSwitchLabel","masterSwitchId","masterSwitchRef","masterSwitchAriaControls","masterSwitchChecked","onExportColumnChange","checkbox","checkedColumn","checked","isMasterSwitch","columnIndex","openPopover","cancelAction","downloadAction","exportedFields","exportingDefaultColumns","exportingAllColumns","isExportedColumn","isDefaultColumn","attemptFocusCapture","renderAlertError","SegmentedControl","activeItem","TransactionsOverview","cachedFilters","setFilters","exportButton","viewSwitcher","TransactionsOverviewContainer","TransactionsElement","Transactions","SupportedLocation","supportedCountries","supportedRegions","getCapitalRegion","legalEntity","capitalRegion","region","getSubtitleByRegion","getSubtitleByCountry","getCapitalHeaderSubtitleByLegalEntity","isCapitalRegionSupported","COMMON_CAPITAL_ERROR_MESSAGE","UNKNOWN_ERROR","getCapitalErrorMessage","errorCodeMessage","CapitalErrorMessageDisplay","emptyGrantOffer","onBack","unsupportedRegion","capitalError","CAPITAL_OFFER_CLASS_NAMES","sharedCapitalOfferAnalyticsEventProperties","CapitalHeader","subtitle","InfoBox","InfoBoxTag","dateStartUTCTimestampOffset","getExpectedRepaymentDate","expectedRepaymentPeriodDays","calculateMaximumRepaymentPeriodInMonths","getPercentage","rate","calculateProgress","step","effectiveStep","percentage","calculateSliderAdjustedMidValue","minValue","maxValue","adjustedMid","Slider","restOfProps","progress","CapitalSlider","dynamicOffersConfig","onRelease","sliderId","dynamicOfferAmount","handleValueChange","handleRelease","CAPITAL_REPAYMENT_FREQUENCY","BACKEND_REDACTED_DATA_MARKER","FRONTEND_REDACTED_DATA_MARKER","debounce","func","timeoutId","lastArgs","debounced","LoadingSkeleton","InformationDisplay","expectedRepaymentDate","CapitalOfferSelection","dynamicOffersConfigError","onOfferDismiss","onOfferSelect","requestedAmount","requestedValue","setRequestedValue","createGrantOffer","getDynamicGrantOffer","getDynamicGrantOfferMutation","setIsLoading","reviewOfferMutation","onReview","getOffer","debouncedGetOfferCall","onChangeHandler","handleSliderRelease","loadingButtonState","AnchorButton","AnchorButton$1","SUMMARY_TEXT_EMAIL","CapitalOfferLegalNotice","errorMessageWithAlert","CapitalOfferSummary","grantOffer","onFundsRequest","requestFunds","requestFundsMutation","requestFundsCallback","onRequestFundsHandler","onBackWithTracking","maximumRepaymentPeriod","requestErrorAlert","structuredListItems","summaryItems","showWarningIcon","DynamicCapitalOffer","externalDynamicOffersConfig","setEmptyGrantOffer","setRequestedAmount","selectedOffer","setSelectedOffer","getDynamicGrantOffersConfiguration","internalDynamicOffersConfig","onOfferSelectHandler","capitalOfferState","CapitalOffer","CapitalOfferElement","useFreezePeriod","timeout","frozen","setFrozen","freeze","DownloadButton","onDownloadRequested","setFetchData","buttonIcon","buttonLabel","DISABLED_BUTTONS_TIMEOUT","DATE_TYPE_CLASS","DATE_TYPE_DATE_SECTION_CLASS","FIELDS","ReportsTable","alert","setAlert","removeAlert","errorIcon","onDownloadErrorAlert","alertDetails","ReportsOverview","reportsEndpointCall","getReports","reports","ReportsOverviewContainer","ReportsElement","Reports","CAPITAL_OVERVIEW_CLASS_NAMES","sharedCapitalOverviewAnalyticsEventProperties","Unqualified","PreQualifiedIntro","dynamicOfferConfig","onOfferOptionsRequest","onOfferOptionsRequestWithTracking","PreQualified","dynamicOffer","skipPreQualifiedIntro","handleOfferOptionsRequest","isOfferDismissButtonVisible","handleOfferDismiss","BaseList","ProgressBar","labels","tooltips","shouldDisplayLegend","ProgressBarSegment","getContent","GRANT_ITEM_CLASS_NAMES","getHasDetails","getIsBackgroundFilled","getAmountLabelKey","getAmount","grant","getStatusKey","missingActions","getStatusTagVariant","getRepaymentPeriodEndDate","repaymentPeriodLeft","endDate","getStatusTooltipKey","pendingToS","getGrantConfig","isGrantActive","isGrantPending","GRANT_DETAILS_CLASS_NAMES","GrantDetails","formatAmount","maximumRepaymentPeriodMonths","GRANT_ACTION_CLASS_NAMES","getTopWindowHref","setTopWindowHref","GrantActions","offerExpiresAt","ACTION_CONFIG","loadingAction","setLoadingAction","onRedirect","actionMutation","endpointByAction","callbackQuery","formattedExpiryDate","logMissingActionEvent","singleAction","GrantItem","grantConfig","showUnscheduledRepaymentAccounts","elementIds","grantOverview","GRANT_ADJUSTMENT_DETAILS","AccountDetail","contentClassName","isPrimary","labelClassName","getHumanReadableIban","iban","useNonBreakingSpaces","spaceSeparator","isCopyableAccountField","getAccountFieldTextToCopy","getAccountFieldFormattedValue","getAccountFieldCopyButtonLabelKey","getAccountFieldTranslationKey","isAccountFieldPrimary","CLASS_NAMES","AccountDetails","orderedBankAccountFields","accountNumber","order","accountDetails","accountFields","orderedFields","fieldValue","GrantAdjustmentDetails","headerTitleKey","headerSubtitleKey","onDetailsClose","GrantRepaymentDetails","repaymentAccountDetailsLabelElemId","repaymentInstructionsLabelElemId","transferInstrumentsLabelElemId","accountIdentifier","List","grants","GrantsDisplay","grantList","newOfferAvailable","onNewOfferRequest","selectedGrantDetail","setSelectedGrantDetail","selectedGrant","setSelectedGrant","activeGrants","inactiveGrants","inactive","displayMode","showNewOfferButton","onNewOfferRequestWithTracking","selectedGrantConfig","hideGrantDetails","showGrantDetails","GrantList","onGrantListUpdateRequest","isCapitalOfferVisible","setIsCapitalOfferVisible","goBackToPreviousStep","goToNextStep","goBackToList","handleFundsRequest","CapitalOverview","isRegionSupported","grantsEndpointCall","dynamicConfigurationEndpointCall","grantsQuery","dynamicOfferQuery","requestedGrant","setRequestedGrant","handlePreQualifiedFundsRequest","showError","CapitalOverviewElement","getGrants","BASE_XS_CLASS","TABS_CONTAINER_CLASS","EARLIEST_DISPUTES_SINCE_DATE","getDisputeActionNeededLevel","disputeData","deadlineTimestamp","isDisputeActionNeeded","isDisputeActionNeededUrgently","DisputeStatusTag","dispute","disputeStatus","FIELD_KEYS","EMPTY_TABLE_MESSAGE_KEYS","DisputesTable","statusGroup","getTimeToDeadline","dueDate","diffInMs","diffInDays","isUrgent","isActionableDispute","renderDueDate","cloneFormData","formData","formDataClone","DisputeFlowContext","DisputeContextProvider","setDispute","flowState","setFlowState","selectedDefenseReason","setSelectedDefenseReason","applicableDocuments","setApplicableDocuments","defendDisputePayload","setDefendDisputePayload","defendResponse","setDefendResponse","clearFiles","previousFormData","fileFields","nextFormData","goBack","clearStates","addFileToDefendPayload","moveFieldInDefendPayload","fromField","toField","fromFieldValue","removeFieldFromDefendPayload","onDefendSubmit","defenseReasonConfig","setDefenseReasonConfig","localDefenseReasonConfig","defenseDocumentConfig","setDefenseDocumentConfig","localDefenseDocumentConfig","getDisputesConfig","useDisputeFlow","AcceptDisputeFlow","onDisputeAccept","acceptDispute","cachedDispute","disputePspReference","isRequestForInformation","acceptedLabel","acceptDisclaimer","acceptTitle","acceptButtonTitle","isRFI","termsAgreed","setTermsAgreed","disputeAccepted","setDisputeAccepted","acceptDisputeMutation","interactionsDisabled","canAcceptDispute","acceptDisputeCallback","toggleTermsAgreement","acceptCallbackHasBeenCalled","termsAgreementInputId","DEFAULT_FILE_TYPES","DEFAULT_MAX_FILE_SIZE","validationErrors","UploadedFile","deleteFile","fileSize","useTrackedRef","currentInstance","updateRef","trackedRef","Dropzone","required","maxDimensions","maxFileSize","allowedFileTypes","mapError","uploadFiles","inputError","setInputError","largeFileErrorContext","setLargeFileErrorContext","dragOver","setDragOver","inputName","handleDragOver","handleDragLeave","handleDrop","updateFiles","handleFileChange","handleInputBlur","handleInputInvalid","updateInputValidationError","currentRequired","getImageDimensions","source","allowedFiles","dimensions","currentMaxFileSize","FileInput","onDelete","files","setFiles","uploadedFile","defaultMapError","mapErrorWithFallback","fileToDelete","currentFiles","fileIndex","currentFilesCopy","getTranslationIfExists","prefixedKey","configItemKey","translationPrefix","configItem","descriptionKeys","primaryDescriptionItems","secondaryDescriptionItems","getDefenseDocumentContent","defenseDocumentKey","getDefenseReasonContent","defenseReasonKey","UPLOAD_DOCUMENT_MAX_SIZE","ALLOWED_FILE_TYPES","DOCUMENT_MAX_SIZE","DefendDocumentUpload","document","desc","SelectAndUploadOptionalDoc","onRemoveOption","documentSelectLabel","getDocInfo","updateDocumentSelection","documentSelection","activeSelectItems","documentRequirements","DefendDisputeFileUpload","defendDispute","oneOrMoreSelectedDocument","setOneOrMoreSelectedDocument","optionalSelectedDocuments","setOptionalSelectedDocuments","goBackToDetails","requiredDocuments","optionalDocuments","oneOrMoreDocuments","docs","documentTypeCode","requirementLevel","requiredDocumentsUploaded","requiredDocumentsPresent","defendDisputeMutation","disputeDefended","canSubmitDocuments","defendDisputeCallback","addOptionalDocument","documentType","newDocs","canAddOptionalDocument","optionalDocumentsCount","addEmptyOptionalDocument","availableOptionalDocuments","doc","removeSelectedOptionalDocument","indexToRemove","prevDocs","docToRemove","DefendDisputeReason","allowedDefenseReasons","isReasonSubmitted","setIsReasonSubmitted","defenseReasons","getApplicableDefenseDocuments","fetchCallback","onDefenseReasonSubmit","showAlert","setShowAlert","closeAlert","defenseReasonContent","defendDisputeLabel","DefendDisputeResponse","onDisputeDefend","goBackToFileUploadView","defendCallbackHasBeenCalled","DefendDisputeFlow","defendDisputeTitle","DISPUTE_DATA_CLASS","DISPUTE_DATA_MOBILE_CLASS","DISPUTE_STATUS_BOX","DISPUTE_DATA_ACTION_BAR","DISPUTE_DATA_LABEL","DISPUTE_DATA_LIST","DISPUTE_DATA_LIST_EVIDENCE","DISPUTE_DATA_LIST_EVIDENCE_ERROR_MESSAGE","DISPUTE_DATA_ISSUER_COMMENT","DISPUTE_DATA_ISSUER_COMMENTS","DISPUTE_DATA_ISSUER_COMMENTS_EXPANDED","DISPUTE_DATA_ISSUER_COMMENTS_TRUNCATED","DISPUTE_DATA_ISSUER_COMMENTS_ALERT","DISPUTE_DATA_ISSUER_COMMENTS_GROUP","DISPUTE_DATA_ERROR_CONTAINER","DISPUTE_DATA_STATUS_BOX_SKELETON","DISPUTE_DATA_PROPERTIES_SKELETON","DISPUTE_DATA_PROPERTIES_SKELETON_ELEMENT","DISPUTE_DATA_PROPERTIES_SKELETON_CONTAINER","DISPUTE_DATA_STATUS_BOX_STATUS_CONTAINER","DISPUTE_DATA_STATUS_BOX_STATUS","DISPUTE_DATA_STATUS_BOX_AMOUNT","DISPUTE_DATA_STATUS_BOX_PAYMENT_METHOD","DISPUTE_DATA_SKELETON_CONTAINER","DISPUTE_DATA_STATUS_BOX_PAYMENT_METHOD_CONTAINER","DISPUTE_DETAILS_RESERVED_FIELDS_SET","DisputeIssuerComments","issuerComments","minimumHeight","setMinimumHeight","maximumHeight","setMaximumHeight","isTruncated","setIsTruncated","commentsGroupRef","onButtonClick","commentsGroup","firstComment","lineHeight","issuerComment","disputeDataKeys","DISPUTE_STATUSES_WITH_ACCEPTED_DATE","DisputeDataProperties","disputeReference","disputeReason","acceptedDate","paymentReference","defenseReason","defendedOn","suppliedDocuments","isFraudNotification","isExpiredDispute","itemsWithExtraFields","SVGIcon","getDisputesErrorMessage","DisputeDataAlert","alertMode","DisputeData","disputeId","onDismiss","storedDispute","getDisputeDetail","acceptAuthorization","defendAuthorization","defensibility","chargeback","preArbitration","comments","commentGroup","commentKey","raw","trimmed","disputeType","showContactSupport","isDefendable","isAcceptable","onAcceptClick","onDefendClick","extraButtons","setExtraButtons","getCustomButtons","customData","defendButtonLabel","ctaButtons","actionNeeded","renderBackButton","isDefended","disputeAlertMode","DisputeDetailsContainer","DisputeDetails","setDisputeCallback","DisputeManagementModal","refreshDisputesList","setModalVisible","disputeManagementSuccessful","setDisputeManagementSuccessful","onCloseCallback","onDisputeManagementSuccessful","DEFAULT_DISPUTE_STATUS_GROUP","DISPUTE_SCHEMES_FILTER_PARAM","DISPUTE_REASONS_FILTER_PARAM","LAST_REFRESH_TIMESTAMP_PARAM","DISPUTE_SCHEMES_FILTER_VALUES","DISPUTE_REASONS_FILTER_VALUES","DISPUTE_STATUS_GROUPS_VALUES","DISPUTE_STATUS_GROUPS_TABS","labelTranslationKey","DisputesOverviewTabsDropdown","setStatusGroup","selectItems","currentTab","DisputesOverview","getDisputesCall","modalVisible","mobileStyleOverrides","setMobileStyleOverrides","statusGroupFetchPending","setStatusGroupFetchPending","statusGroupActiveTab","setStatusGroupActiveTab","statusGroupAriaLabel","disputeDetails","getDisputes","cachedDisputeReasonsFilter","disputeReasonsFilter","disputeSchemesFilter","scheme","oneYearUntilNow","earliestTimestamp","debounceTimeoutIdRef","onStatusGroupChange","reasonsFilterParam","filterUpdates","gotoStatusGroup","DisputesOverviewContainer","DisputesOverviewElement","Disputes","DisputeManagementElement","BASE_TABLE_GRID_CLASS","MOBILE_TABLE_CELL_CLASS","MOBILE_AMOUNT_CELL_CLASS","MOBILE_EXPIRE_DATE_CELL_CLASS","FILTERS_CONTAINER_CLASS","ACTION_BUTTONS_CONTAINER_CLASS","FILTERS_ALERT_CONTAINER_CLASS","ACTION_BUTTON_CLASS","EARLIEST_PAYMENT_LINK_DATE","DEFAULT_PAYMENT_LINK_STATUS_GROUP","PAYMENT_LINK_STATUS_GROUPS","PAYMENT_LINK_STATUS_GROUPS_TABS","PAYMENT_LINK_STATUS_GROUPS_FILTER_MAPPING","PAYMENT_LINK_STATUSES","PAYMENT_LINK_TYPES","ACTION_NEEDED_URGENTLY_THRESHOLD_DAYS","getActionNeededLevel","isActionNeededUrgently","ACCOUNT_MISCONFIGURATION","WRONG_STORE_IDS","getPaymentLinksErrorMessage","PaymentLinksErrors","images","getTagVariantForStatus","PAYMENT_LINKS_TABLE_FIELDS","ERROR_MESSAGE_KEY","PaymentLinksTable","paymentLinks","stores","allStores","storeError","noStoresError","storesFilteredError","CLASSNAMES","PaymentLinkSummary","paymentLink","getStatusVariant","getTitleKey","activity","getDescriptionKey","getStatus","PaymentLinkActivity","activities","timelineItems","PaymentLinkTabs","isAddressRedacted","address","linkType","_h","_i","_j","_k","_l","_m","_n","_p","_o","_r","_q","_t","_s","_v","_u","_x","_w","_y","_z","_B","_A","_D","_C","_F","_E","_H","_G","_J","_I","categoryItems","renderListItemLabel","renderListItemValue","transformedValue","PaymentLinkExpiration","onCancel","onExpirationSuccess","expirePayByLinkPaymentLink","expirePaymentLinkMutation","handleConfirmExpire","PaymentLinkSkeleton","getPaymentLinkErrorMessage","PaymentLinkError","PaymentLinkDetails","onUpdate","isDismissButtonHidden","getPayByLinkPaymentLinkById","paymentLinkData","isFetchingPaymentLinkData","paymentLinkDataError","refetch","countries","isFetchingCountries","fileName","getCountryName","country","activeScreen","setActiveScreen","isCopiedIndicatorVisible","setCopiedIndicatorVisible","handleCopyLink","handleExpireNow","handleExpirationSuccess","handleNavigationToDetailsAfterExpiration","handleNavigationToListAfterExpiration","PaymentLinkDetailsModal","isPaymentLinkUpdated","setIsPaymentLinkUpdated","handlePaymentLinkUpdate","DefaultRenderStep","completed","Step","totalSteps","Stepper","nextStepDisabled","latestActiveStep","setLatestActiveStep","listRef","stepRefs","focusedStep","setFocusedStep","steps","isHorizontal","stepElement","canActivate","handleStepClick","stepIndex","focusStep","focusNext","focusPrev","activateFocused","focusedElement","WizardFormContext","useWizardFormContext","WizardFormProvider","methods","scrollToFirstErrorField","errorFields","visibilityOffset","firstElement","rectA","rectB","rect","top","getFormSteps","getFieldConfig","getNestedValue","setNestedValue","lastKey","nextKey","purgeEmptyValues","cleaned","flattenObject","newKey","validateField","rules","useForm","defaultValues","controlRef","cb","isDirty","modeToUse","validateFieldWithRaceConditionHandling","touched","fieldsToValidate","hasTouchedChanged","validationPromises","flattenedDefaults","errors","dirtyFields","touchedFields","formState","setValue","getValues","resetValues","flattenedResetValues","trigger","handleSubmit","onValid","onInvalid","currentCounter","errorObj","wizardReducer","nextStep","newValidation","displayValue","useWizardForm","onStepChange","validateBeforeNext","wizardState","currentStepConfig","isFirstStep","isLastStep","canGoPrevious","canGoNext","fieldsConfig","validateStep","enabledFieldNames","visible","validationResults","validateCurrentStep","isStepValid","isStepComplete","goToStep","previousStep","previousStepIndex","resetWizard","setFieldDisplayValue","resetFieldDisplayValues","getSummaryData","summary","stepFields","getDisplayValue","usePaymentLinkFormData","storeIds","selectedStore","setSelectedStore","getCountries","getPayByLinkConfiguration","createPBLPaymentLink","getPayByLinkSettings","getPayByLinkStores","storesData","isFetchingStores","storesSelectorItems","storeId","storeCode","configurationData","isFetchingConfiguration","configurationError","settingsData","isFetchingSettings","settingsError","termsAndConditionsProvisioned","isCountriesQueryEnabled","countriesData","countryDatasetData","isFetchingCountryDataset","formSteps","skipStoreStep","stepperItems","formStepsAriaLabel","wizardForm","storeValue","isDataLoading","shouldSkipStoreSelection","FormField","optional","supportText","Controller","rerender","prevRequiredRef","unregister","fieldState","handleChange","newValue","triggerValidation","useWatch","getCurrent","prevRef","handleUpdate","VisibleField","FormTextInput","isRequiredProp","validate","maxLength","minLength","hideOptionalLabel","isRequired","onInputHandler","handleValidate","isBelowMinLength","PAYMENT_LINK_CREATION_FIELD_LENGTHS","LINK_VALIDITY_DURATION_UNITS","ShopperEmailField","invalidEMailObject","validateEmail","email","localPart","domain","ShopperPhoneField","phoneCode","phoneNumberWithoutPhoneCode","code","number","phonesDatasetQuery","phoneCodesDropdown","numberValue","currentNumber","FormSelect","preventInvalidState","CountryRegionField","countriesListItems","allowedCodes","countryName","ShippingStreetField","isSeparateAddress","isAddressFieldRequired","LanguageField","configCountryList","languagesQuery","localeListItems","text","BillingAndShippingCheckboxField","setIsSeparateAddress","isSeparateAddressInputId","toggleBillingAndDeliveryAddress","ShippingHouseNumberField","ShippingCountryField","ShippingCityField","ShippingPostalCodeField","BillingCountryField","DELIVERY_ADDRESS_FIELDS","BILLING_ADDRESS_FIELDS","useAddressChecker","deliveryStreet","deliveryHouseNumber","deliveryCountry","deliveryCity","deliveryPostalCode","billingStreet","billingHouseNumber","billingCountry","billingCity","billingPostalCode","deliveryValues","billingValues","CustomerDetailsForm","isNameVisible","isBillingAddressOptional","isDeliveryAddressOptional","isBillingAddressVisible","isDeliveryAddressVisible","MAX_VALIDITY_DAYS","FLEXIBLE_ID","ValidityField","configuration","customDurationUnit","setCustomDurationUnit","customDurationQuantity","setCustomDurationQuantity","validityValue","setValidityValue","getValidityFromFormState","validitySelectItems","quantity","durationUnit","initializeDefaultValidity","qty","findCurrentOption","isDurationUnitRequired","isDurationQuantityRequired","handleCustomDurationQuantityChange","newQuantity","handleCustomDurationUnitChange","dropdownItems","durationQuantity","durationUnitField","durationUnitFieldState","durationQuantityField","durationQuantityFieldState","onSelectInput","CURRENCY_INPUT_BASE_CLASS","getCurrencyExponent","PRIORITIZED_CURRENCY_CODES","sortCurrencyItems","priorityIndexByCode","aCode","bCode","aPriorityIndex","bPriorityIndex","CurrencyInput","currencyItems","hideCurrencySelector","onAmountChange","onCurrencyChange","selectedCurrencyCode","prevCurrency","getCurrencies","setDisplayValue","computedNumberAmount","exponent","parsed","fixed","currenciesQuery","currencyDropdownItems","sortedCurrencyItems","dropdownProps","VALUE_FIELD_NAME","CURRENCY_FIELD_NAME","MAX_AMOUNT","AmountField","currencyCodeFieldVisible","handleCurrencyChange","LINK_TYPE_FALLBACK","LinkTypeField","linkTypes","CalendarInputButton","buttonRef","CalendarInputPopover","CalendarInput","setOpen","iso","FormCalendarInput","PaymentDetailsForm","invisibleFields","FormSummary","formValues","isMobile","paymentListItems","payment","visibleFields","storeField","jointFields","currencyField","customerListItems","customer","createListItem","countryData","deliveryAddressItems","billingAddressItems","nonAddressItems","sendLinkToShopper","sendPaymentSuccessToShopper","StoreField","StoreForm","setShowTermsAndConditions","savePayByLinkSettings","canModifySettings","selectedStoreId","alertLabel","alertActions","FormStepRenderer","currentFormStep","MenuItem","MENU_ITEMS","DEFAULT_MENU_ITEM","useStores","preselect","filteredStores","store","getThemePayload","theme","useStoreTheme","setEnabled","setPayload","setLoading","getPayByLinkTheme","useStoreTermsAndConditions","termsAndConditions","ThemeFormDataRequest","isTermsAndConditionsData","isThemeData","isThemePayload","useSaveAction","setIsSaving","setIsSaveError","setIsSaveSuccess","activeMenuItem","getIsValid","setSaveActionCalled","setSavedData","navigateBack","updatePayByLinkTheme","navigationTimeoutRef","onSaveComplete","savePayByLinkTheme","themeData","onSaveTheme","updatePayByLinkTermsAndConditions","savedData","onSaveTermsAndConditions","PaymentLinkSettingsContext","PaymentLinkSettingsProvider","selectedMenuItems","embeddedInOverview","isShowingRequirements","setIsShowingRequirements","menuItems","menuItemPreSelect","setActiveMenuItem","saveActionCalled","isLoadingStores","storesError","isSaving","isSaveError","isSaveSuccess","onSave","fetchThemeEnabled","setFetchThemeEnabled","fetchTermsAndConditionsEnabled","setFetchTermsAndConditionsEnabled","onPayloadChange","loadingThemes","themeError","loadingTermsAndConditions","termsAndConditionsError","activeData","onDataSave","setIsValid","validity","setSelectedMenuItem","contentLoading","usePaymentLinkSettingsContext","rowNumber","SecondaryNav","activeValue","onContentVisibilityChange","contentVisible","renderLoadingContent","BASE_CLASS_NAME","CONTAINER_CLASS_NAME","CONTENT_CONTAINER_CLASS_NAME","CONTENT_CONTAINER_MOBILE_CLASS_NAME","SIDEBAR_CONTAINER_CLASS_NAME","SECONDARY_NAV_CLASS_NAME","StoreSelectorButtonContent","StoreSelectorItem","StoreSelector","setSelectedStoreId","handleStoreChange","Checkbox","checkedInternal","setCheckedInternal","isValidURL","termsAndConditionsURL","useTermsRequirementsConfig","localTerms","localTermsRequirementsConfig","termsRequirementsConfig","setTermsRequirementsConfig","getTermsRequirementsConfig","Requirements","onGoBack","acceptRequirements","onAcceptRequirements","section","TermsAndConditions","initialData","checkboxIdentifier","setTermsAndConditionsURL","isRequirementsChecked","setIsRequirementsChecked","showNotCheckedRequirementsError","setShowNotCheckedRequirementsError","showInvalidURL","setShowInvalidURL","isTermsAndConditionsChanged","setIsTermsAndConditionsChanged","setDisabled","userRequirementsInput","hasEmptyInitialValue","onTermsAndConditionsURLInput","onCheckboxInput","openRequirements","checkboxLabel","closeModal","getSettingsErrorMessage","SettingsError","TermsAndConditionsContainer","termsAndConditionsData","isLoadingContent","setInitialData","THEME_FORM_UPLOAD_DOCUMENT_MAX_SIZE","THEME_FORM_ALLOWED_FILE_TYPES","logoOptions","LogoLabel","logoOptionsList","LogoPreview","logoType","logoURL","onRemoveLogo","logoURLId","onRemoveURL","defaultMapErrors","fileNameMappings","getHumanReadableFileName","getImageSizeLimitation","LogoRequirements","logoFileInformationText","getImageDimensionLimitation","LogoInput","onFileInputChange","logoInputId","dimensionError","ThemeForm","initialPayload","initialBrandName","logo","fullWidthLogo","brandName","setBrandName","logoUrl","setLogoUrl","fullWidthLogoUrl","setFullWidthLogoUrl","themePayload","setThemePayload","showMissingBrandName","setShowMissingBrandName","brandInputId","addFileToThemePayload","onBrandNameChange","removeFieldFromThemePayload","logoPreview","reader","onLogoChange","onRemoveLogoUrl","getLogoUrl","PaymentLinkThemeContainer","setInitialPayload","PaymentLinkSettingsContentLoading","PaymentLinkSettingsContentItem","PaymentLinkSettingsContent","SettingsActionButtons","closeContent","usePayByLinkSettingsContext","saveButton","goBackButton","PaymentLinkSettings","setContentVisible","visibility","showActionButtons","PaymentLinkSettingsContainer","settingsItems","filteredMenuItems","paymentLinkSettingsItem","useInvalidFieldsConfig","localConfig","localInvalidFieldsConfig","invalidFieldsConfig","setInvalidFieldsConfig","getInvalidFieldsConfig","FIELD_LABEL_AND_MARGIN_OFFSET","PaymentLinkCreationFormContainer","onCreationDismiss","onPaymentLinkCreated","showFormValidationError","setShowFormValidationError","containerRef","headerRef","hasPrefilledBillingAddress","selectedStoreNavigationCache","createPaymentLink","isFirstLoadDone","currentStep","showTermsAndConditions","handleNext","headerHeight","offsetTop","onClickStep","handlePrevious","submitMutation","handleContinue","onSubmit","dataWithoutStore","navigateBackFromTermsAndConditions","isNextStepLoading","accountIsMisconfigured","displayConfigurationError","nextButtonIsDisabled","getMappedInvalidFields","fieldKey","messageKey","msg","onNavigateToTermsAndConditions","getSubmitErrorLabel","renderErrorDescription","submitError","mappedErrors","hasInvalidFields","idx","FormSuccess","onGoToDetails","paymentLinkUrl","copied","setCopied","copiedTimeoutRef","onCopy","PaymentLinkCreationContainer","setPaymentLinkUrl","paymentLinkId","setPaymentLinkId","PaymentLinksOverviewModal","isModalVisible","onCloseModal","modalType","paymentLinkCreation","paymentLinkSettings","refreshPaymentLinkList","hasToRefresh","setHasToRefresh","PAYMENT_LINK_TYPES_FILTER_PARAM","PAYMENT_LINK_STATUSES_FILTER_PARAM","PAYMENT_LINK_STORES_FILTER_PARAM","PAYMENT_LINK_STATUSES_FILTER_VALUES","PaymentLinksOverviewTabsDropdown","PaymentLinksOverview","isFiltersLoading","filterError","getPaymentLinks","showFiltersAlert","setShowFiltersAlert","getPaymentLinksData","requestOptions","filterStoreIds","propStoreIds","linkStatusFilter","linkTypesFilter","storesTypesFilter","paymentLinkDetails","onMerchantReferenceFilterChange","onPaymentLinkIDFilterChange","showTypeFilter","showStatusFilter","showStoreFilter","setModalType","openPaymentLinkModal","openSettingsModal","currentCreatedUntil","createdUntilDate","isSameDay","sharedModalProps","closeFiltersAlert","hasActionButtons","usePaymentLinkFilters","getPayByLinkFiltersEndpointCall","isFetchingFilters","PaymentLinksOverviewContainer","PaymentLinksOverviewElement","PaymentLinkCreationElement","PaymentLinkSettingsElement","PaymentLinkDetailsElement","AdyenPlatformExperience"],"mappings":"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CL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,MACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,MACL,IAAK,KACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,MACL,IAAK,MACL,IAAK,KACL,IAAK,MACL,IAAK,IACL,IAAK,IACL,IAAK,OACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,MACL,IAAK,MACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,MACL,IAAK,OACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,OACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,MACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,MACL,IAAK,IACL,IAAK,MACL,IAAK,MACL,IAAK,IACL,IAAK,MACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,KACL,IAAK,MACL,IAAK,OACL,IAAK,IACL,IAAK,IACL,IAAK,MACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACT,ECxKMC,GAAoB,CAEtB,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EAC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Aa,GAAGA,CAAU,IAAM,EAAE,GAAGxW,EAAY,GAAGA,CAAS,IAAM,EAAE,GAAGF,CAAI,GAAGC,EAAY,IAAIA,CAAS,GAAK,EAAE,IAE7HrD,EAAA,mBAAe+Z,GACkC,KAAA,YAAW,CAAA,iCAAwB,KAAmC,GAP3H,KAAK,gBAAkBH,CAAA,CAUpB,SAASI,EAA6B,GAAI,CACtC,OAACD,GAAwB,KAAK,YAAY,CAAE,GAAGC,EAAc,GAAGD,EAAO,CAAA,CAEtF,CCzBa,MAAAE,OAAyB,IAAI,CACtC,UACA,iBACA,qBACA,YACA,YACA,cACA,SACA,MACA,QACA,OACA,iBACA,mBACA,sBACA,SACA,kBACA,oBACA,qBACA,yBACA,oBACA,4BACA,uBACA,+BACA,2DACA,6BACA,0BACA,4BACA,8BACA,4BACA,uBACA,4BACA,iCACA,mCACA,iBACA,uCACA,sCACA,6BACA,0BACA,kCACA,iBACA,eACA,sBACA,iCACA,kBACA,gCACA,qBACA,0BACA,0BACA,0BACA,0BACA,0BACA,iCACA,oDACA,6BACA,wCACA,kCACA,mBACA,kBACA,yBACA,oBACA,0BACA,wBACA,iBACA,uBACA,qBACA,+BACA,6BACA,yBACA,uBACA,qBACA,sBACA,kBACA,sBACA,qBACA,wBACA,8BACA,gCACA,+CACA,yCACA,4BACA,mBACA,4CACA,6BACA,oBACA,+BACA,uCACA,iCACA,yCACA,8DACA,wCACA,+CACA,gFACA,8EACA,gFACA,mEACA,qBACA,gBACA,kBACA,mBACA,+CACA,kDACA,oCACA,iEACA,iEACA,iCACA,mDACA,kEACA,+CACA,UACA,WACA,aACA,iBACA,iBACA,wBACA,yCACA,SACA,OACA,aACA,WACA,OACA,YACA,UACA,cACA,UACA,kBACA,2BACA,6BACA,kCACA,oCACA,yBACA,wCACA,gDACA,kDACA,sBACA,mBACA,8BACA,+BACA,oCACA,iCACA,kCACA,0CACA,wDACA,uDACA,oBACA,6BACA,2CACA,2BACA,2BACA,oCACA,sCACA,qCACA,yBACA,8CACA,6CACA,sBACA,qDACA,2EACA,2DACA,iFACA,iDACA,kDACA,6EACA,sDACA,wCACA,kDACA,+EACA,oDACA,wDACA,qEACA,oEACA,4CACA,qDACA,yDACA,uEACA,kEACA,+DACA,mEACA,uDACA,sDACA,0DACA,wCACA,8CACA,yCACA,0EACA,mDACA,iDACA,qCACA,oDACA,8CACA,kDACA,oDACA,uEACA,uDACA,2CACA,iDACA,qDACA,2DACA,sDACA,8DACA,8CACA,kDACA,0DACA,6CACA,kEACA,0DACA,8CACA,kDACA,wDACA,4DACA,iDACA,8DACA,2DACA,uDACA,uDACA,kEACA,wDACA,wDACA,8DACA,yDACA,mEACA,gDACA,+CACA,+CACA,mDACA,2DACA,qEACA,2DACA,uCACA,2CACA,uCACA,iEACA,4CACA,wDACA,0CACA,+DACA,wCACA,4CACA,0DACA,2CACA,oDACA,8EACA,2CACA,2CACA,+CACA,uDACA,6CACA,0DACA,kDACA,qDACA,kDACA,sDACA,uEACA,2DACA,+DACA,qEACA,mDACA,4CACA,gDACA,2DACA,mCACA,oDACA,wDACA,0CACA,6DACA,0CACA,6EACA,iCACA,qCACA,uDACA,2DACA,8CACA,uCACA,yDACA,2DACA,gDACA,2CACA,+CACA,uDACA,2DACA,6CACA,gDACA,0DACA,8DACA,yEACA,sFACA,kEACA,kDACA,2CACA,kDACA,8CACA,oDACA,iDACA,uDACA,yCACA,uDACA,yCACA,6CACA,oDACA,gFACA,kDACA,mEACA,2DACA,sDACA,2CACA,yEACA,4CACA,iDACA,6DACA,2DACA,qDACA,kEACA,iEACA,0CACA,6CACA,qDACA,sDACA,0DACA,8CACA,kDACA,iDACA,yCACA,qDACA,sDACA,iDACA,sCACA,0CACA,+DACA,wDACA,sDACA,6CACA,2CACA,gEACA,oEACA,sEACA,0EACA,kFACA,sFACA,8CACA,iDACA,0DACA,iEACA,yBACA,+DACA,qEACA,4DACA,qEACA,yCACA,mEACA,oEACA,+CACA,4DACA,oDACA,yEACA,mDACA,+CACA,oCACA,wDACA,0CACA,kEACA,kDACA,2CACA,yDACA,gFACA,oDACA,+CACA,0EACA,8DACA,qEACA,4EACA,+DACA,sEACA,sDACA,gDACA,qEACA,gEACA,2DACA,2CACA,6DACA,wEACA,6CACA,mDACA,4DACA,2EACA,oEACA,4CACA,yCACA,qDACA,0EACA,4CACA,iEACA,kDACA,oDACA,wDACA,6DACA,yEACA,gDACA,+CACA,8DACA,0DACA,6CACA,sDACA,2CACA,+DACA,wDACA,sEACA,2DACA,gEACA,6CACA,8DACA,6CACA,2CACA,iEACA,iDACA,kFACA,4DACA,uEACA,yEACA,mDACA,0DACA,iEACA,gDACA,sDACA,+DACA,kDACA,uCACA,0CACA,iDACA,iDACA,8CACA,qDACA,4CACA,oDACA,8DACA,sDACA,iDACA,2CACA,qDACA,qDACA,4CACA,sEACA,0DACA,kEACA,qEACA,+DACA,qDACA,yDACA,mDACA,4DACA,gDACA,sDACA,yDACA,wEACA,iEACA,0EACA,2DACA,mEACA,yDACA,sCACA,mDACA,2CACA,gDACA,4CACA,2CACA,8CACA,iDACA,6CACA,4DACA,4CACA,qDACA,wCACA,mDACA,yEACA,iEACA,uEACA,uEACA,4DACA,kDACA,oFACA,qEACA,oEACA,mDACA,yDACA,+DACA,gDACA,wCACA,oFACA,yEACA,gEACA,wEACA,sCACA,iDACA,0DACA,+CACA,gDACA,mDACA,2CACA,uCACA,gEACA,6CACA,qDACA,2DACA,kEACA,sEACA,kDACA,mEACA,wDACA,+CACA,qDACA,gEACA,0DACA,+CACA,+EACA,kFACA,0DACA,kEACA,8EACA,+DACA,wDACA,wDACA,wEACA,+DACA,kEACA,iDACA,uEACA,2DACA,sEACA,kDACA,wDACA,mFACA,+DACA,kFACA,qEACA,gDACA,mEACA,kDACA,4DACA,iDACA,oDACA,4CACA,oDACA,0DACA,iEACA,mEACA,0BACA,kCACA,yBACA,4BACA,gCACA,wDACA,gDACA,gDACA,oCACA,iCACA,oCACA,sEACA,mEACA,sEACA,8CACA,mCACA,yCACA,6BACA,2CACA,4CACA,2EACA,oBACA,qBACA,kBACA,4BACA,8EACA,iEACA,mEACA,kCACA,kCACA,+BACA,6BACA,oBACA,yBACA,4BACA,kBACA,qCACA,6CACA,0CACA,gCACA,gCACA,0CACA,gDACA,sBACA,qBACA,8BACA,kBACA,2BACA,0BACA,uBACA,0BACA,4BACA,6BACA,8BACA,sBACA,mCACA,mCACA,wCACA,iBACA,8BACA,2BACA,oCACA,sCACA,+CACA,iDACA,4CACA,8CACA,yDACA,WACA,cACA,QACA,oBACA,0BACA,4BACA,uCACA,0BACA,wBACA,SACA,MACA,OACA,oBACA,oBACA,YACA,6BACA,6BACA,2BACA,OACA,OACA,gBACA,SACA,cACA,iBACA,cACA,KACA,kBACA,aACA,gCACA,0BACA,0BACA,2BACA,UACA,MACA,MACA,SACA,YACA,cACA,SACA,2BACA,iBACA,iBACA,sBACA,QACA,sBACA,sBACA,0BACA,qBACA,UACA,YACA,gBACA,gBACA,gBACA,eACA,UACA,sBACA,uCACA,qBACA,yBACA,wBACA,wBACA,uBACA,wBACA,uBACA,yBACA,oBACA,cACA,UACA,SACA,+BACA,sBACA,0BACA,aACA,0BACA,4BACA,qBACA,2BACA,wBACA,wBACA,yBACA,6BACA,sBACA,mBACA,4BACA,wBACA,mCACA,eACA,4BACA,yBACA,8BACA,2BACA,eACA,sBACA,wBACA,gBACA,mBACA,eACA,gBACA,eACA,yBACA,0BACA,oCACA,qBACA,qCACA,kBACA,8BACA,kBACA,SACA,gCACA,gBACA,eACA,oBACA,QACA,WACA,4BACA,wBACA,qBACA,iDACA,SACA,iBACA,eACA,sBACA,OACA,iBACA,oBACA,yDACA,4BACA,uCACA,WACA,KACA,cACA,kBACA,qBACA,qBACA,cACA,gBACA,kBACA,iBACA,wBACA,wBACA,mBACA,gBACA,gBACA,yCACA,qBACA,eACA,4BACA,kBACA,WACA,wDACA,sCACA,WACA,a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","x_google_ignoreList":[63,64,65,68]}