import { jsx as t } from "../../../../external/preact/jsx-runtime/dist/jsxRuntime.module.js";
import { useCallback as C, useMemo as _ } from "../../../../external/preact/hooks/dist/hooks.module.js";
import O from "classnames";
import { BUTTON_LOADING_CLASSNAME as g, BUTTON_FULL_WIDTH_CLASSNAME as h, BUTTON_CONDENSED_CLASSNAME as u, ICON_BUTTON_CLASSNAME as M, ICON_BUTTON_CONTENT_CLASSNAME as U, BUTTON_ICON_LEFT_CLASSNAME as d, BUTTON_LABEL_CLASSNAME as D, BUTTON_LABEL_CENTERED_CLASSNAME as I, BUTTON_ICON_RIGHT_CLASSNAME as y } from "../constants.js";
import x from "../../Typography/Typography.js";
import { TypographyVariant as v, TypographyElement as F } from "../../Typography/types.js";
import { getModifierClasses as R } from "../../../../utils/preact/className.js";
import G from "../../Spinner/Spinner.js";
import { Fragment as H } from "../../../../external/preact/dist/preact.module.js";
const w = (A, l, T, o, r, S, N) => {
  const { children: e, iconLeft: i, iconRight: s, iconButton: n = !1, fullWidth: E, condensed: c, state: a = "default" } = r, f = C(
    (L) => {
      S !== "submit" && L.preventDefault(), o || N == null || N(L);
    },
    [o, N, S]
  ), m = _(
    () => R(T, l, [T, A]),
    [T, l, A]
  ), B = _(
    () => ({
      ...r,
      className: O(m, {
        [M]: n,
        [u]: c,
        [h]: E,
        [g]: a === "loading"
      }),
      disabled: o || a === "loading"
    }),
    [m, c, o, E, n, r, a]
  ), p = _(
    () => n ? /* @__PURE__ */ t("div", { className: `${U}`, children: e }) : /* @__PURE__ */ t(H, { children: [
      a === "loading" && /* @__PURE__ */ t(G, { size: "x-small" }),
      i && /* @__PURE__ */ t("span", { className: d, children: i }),
      /* @__PURE__ */ t(
        x,
        {
          className: O(D, {
            [I]: r.align === "center"
          }),
          el: F.SPAN,
          variant: v.BODY,
          children: e
        }
      ),
      s && /* @__PURE__ */ t("span", { className: y, children: s })
    ] }),
    [e, n, i, s, r.align, a]
  );
  return { classes: m, click: f, allChildren: p, allProps: B };
};
export {
  w as default
};
