import { useMemo as u, useEffect as p } from "../../../../external/preact/hooks/dist/hooks.module.js";
import { useFetch as C } from "../../../../hooks/useFetch.js";
import { useConfigContext as d } from "../../../../core/ConfigContext/context.js";
import { EMPTY_OBJECT as h } from "../../../../utils/value/constants.js";
const v = (n, i, m, f, c) => {
  const { getPayByLinkSettings: o } = d().endpoints, { data: r, isFetching: s, error: t } = C(
    u(
      () => ({
        fetchOptions: {
          enabled: !!o && i && !!n,
          onSuccess: () => {
            m(!1), c(!1);
          }
        },
        queryFn: async () => o == null ? void 0 : o(h, { path: { storeId: n } })
      }),
      [o, n, i, m, c]
    )
  ), e = u(() => (!r || !(r != null && r.termsOfServiceUrl)) && !s && !t ? { termsOfServiceUrl: "" } : r, [r, s, t]);
  return p(() => {
    f(e);
  }, [e, f]), { data: e, isFetching: s, error: t };
};
export {
  v as useStoreTermsAndConditions
};
