import { useMemo as l, useEffect as h } from "../../../../external/preact/hooks/dist/hooks.module.js";
import { useFetch as c } from "../../../../hooks/useFetch.js";
import { getThemePayload as p } from "../components/PaymentLinkSettingsContainer/utils/getThemePayload.js";
import { useConfigContext as g } from "../../../../core/ConfigContext/context.js";
import { EMPTY_OBJECT as E } from "../../../../utils/value/constants.js";
const b = (e, f, t, u, i) => {
  const { getPayByLinkTheme: r } = g().endpoints, { data: o, error: m, isFetching: n } = c(
    l(
      () => ({
        fetchOptions: {
          enabled: !!r && f && !!e,
          onSuccess: () => {
            t(!1), i(!1);
          }
        },
        queryFn: async () => r == null ? void 0 : r(E, { path: { storeId: e } })
      }),
      [r, e, f, t, i]
    )
  ), s = l(() => !o && !n && !m ? {} : {
    ...o != null && o.brandName ? { brandName: o == null ? void 0 : o.brandName } : {},
    ...o != null && o.logoUrl ? { logo: o == null ? void 0 : o.logoUrl } : {},
    ...o != null && o.fullWidthLogoUrl ? { fullWidthLogo: o == null ? void 0 : o.fullWidthLogoUrl } : {}
  }, [o, n, m]);
  return h(() => {
    u(p(s));
  }, [s, u]), { theme: s, isFetching: n, error: m };
};
export {
  b as useStoreTheme
};
