import { jsx as e } from "../../../../../../external/preact/jsx-runtime/dist/jsxRuntime.module.js";
import y from "classnames";
import f from "../../../../../../core/Context/useCoreContext.js";
import i from "../../../../../internal/Typography/Typography.js";
import { TypographyVariant as o } from "../../../../../internal/Typography/types.js";
import { Icon as s } from "../../../../../internal/Icon/Icon.js";
import m from "../../../../../internal/Button/Button.js";
import { ButtonVariant as p } from "../../../../../internal/Button/types.js";
/* empty css                 */
import { useState as d, useRef as k, useEffect as h, useCallback as _ } from "../../../../../../external/preact/hooks/dist/hooks.module.js";
const A = ({ onGoToDetails: l, paymentLinkUrl: n }) => {
  const { i18n: t } = f(), [r, a] = d(!1), c = k(null);
  h(() => () => {
    c.current && clearTimeout(c.current);
  }, []);
  const u = _(async () => {
    if (n)
      try {
        await navigator.clipboard.writeText(n), a(!0), c.current && clearTimeout(c.current), c.current = setTimeout(() => {
          a(!1), c.current = null;
        }, 3e3);
      } catch {
      }
  }, [n]);
  return /* @__PURE__ */ e("section", { className: y("adyen-pe-payment-link-creation-form-success"), children: [
    /* @__PURE__ */ e("div", { className: "adyen-pe-payment-link-creation-form-success__content", children: [
      /* @__PURE__ */ e(s, { name: "checkmark-circle-fill", className: "adyen-pe-payment-link-creation-form-success__icon" }),
      /* @__PURE__ */ e(i, { variant: o.TITLE, className: "adyen-pe-payment-link-creation-form-success__title", children: t.get("payByLink.creation.success.title") }),
      /* @__PURE__ */ e(i, { variant: o.BODY, className: "adyen-pe-payment-link-creation-form-success__description", children: t.get("payByLink.creation.success.description") })
    ] }),
    /* @__PURE__ */ e("div", { className: "adyen-pe-payment-link-creation-form-success__actions", children: [
      /* @__PURE__ */ e(m, { variant: p.SECONDARY, onClick: l, children: t.get("payByLink.creation.success.showDetails") }),
      /* @__PURE__ */ e(
        m,
        {
          variant: p.PRIMARY,
          onClick: u,
          iconLeft: /* @__PURE__ */ e(s, { className: "adyen-pe-payment-link-creation-form-success__button-icon", name: r ? "checkmark" : "copy" }),
          children: r ? t.get("payByLink.creation.success.copiedToClipboard") : t.get("payByLink.creation.success.copyLink")
        }
      )
    ] })
  ] });
};
export {
  A as FormSuccess
};
