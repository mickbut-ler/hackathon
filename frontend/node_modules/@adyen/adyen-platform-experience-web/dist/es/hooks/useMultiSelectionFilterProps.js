import { useCallback as m } from "../external/preact/hooks/dist/hooks.module.js";
import b from "./useAnalytics/useFilterAnalyticsEvent.js";
import { listFrom as p } from "../utils/collection/main.js";
const d = ({
  eventCategory: f,
  eventSubCategory: h,
  eventLabel: r,
  onResetFilter: c,
  onUpdateFilter: a,
  selectionOptions: t,
  selection: o
}) => {
  const { logEvent: s } = b({ category: f, subCategory: h, label: r }), i = m(() => {
    o.length > 0 && (s == null || s("reset"), c == null || c());
  }, [o, s, c]), S = m(
    ({ target: u }) => {
      const e = new Set(p((u == null ? void 0 : u.value) || ""));
      if (o.some((n) => !e.has(n)) || o.length !== e.size) {
        const n = Object.freeze([...e].sort((l, C) => l.localeCompare(C)));
        s == null || s("update", String(n)), a == null || a(n);
      }
    },
    [o, s, a]
  );
  return { selection: o, selectionOptions: t, onResetAction: i, updateSelection: S };
};
export {
  d as default
};
