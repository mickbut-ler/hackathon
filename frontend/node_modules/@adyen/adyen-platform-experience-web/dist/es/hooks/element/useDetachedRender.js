import { createPortal as c } from "../../external/preact/compat/dist/compat.module.js";
import { useState as i, useMemo as m } from "../../external/preact/hooks/dist/hooks.module.js";
import f from "../useReflex.js";
const R = (r, o) => {
  const [t, s] = i(), d = f(
    m(() => {
      const u = (e) => (...a) => {
        const n = r(e, ...a);
        return n && c(n, e);
      };
      return s(void 0), (e) => s(e instanceof Element ? () => u(e) : void 0);
    }, [r, o]),
    o
  );
  return [t, d];
};
export {
  R as default
};
