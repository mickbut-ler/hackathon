import { useRef as a, useEffect as i } from "../../external/preact/hooks/dist/hooks.module.js";
import c from "../../core/Context/analytics/useAnalyticsContext.js";
import e from "../useComponentTiming.js";
const d = (o) => {
  const { duration: n } = e(), t = c(), r = a(o);
  i(() => {
    r.current = o;
  }, [o]), i(() => () => {
    var u;
    n.current !== void 0 && ((u = t.addEvent) == null || u.call(t, "Duration", {
      ...r.current,
      duration: Math.floor(n.current)
    }));
  }, [n, t]);
};
export {
  d as useDurationEvent
};
