import { useCallback as c } from "../../external/preact/hooks/dist/hooks.module.js";
import a from "../useMutation/useMutation.js";
import { encodeAnalyticsEvent as i } from "../../core/Analytics/analytics/utils.js";
import { useConfigContext as p } from "../../core/ConfigContext/context.js";
import { EMPTY_OBJECT as s } from "../../utils/value/constants.js";
const E = () => {
  const { sendTrackEvent: m } = p().endpoints, { mutate: t } = a({
    queryFn: m
  }), n = c(
    (o, e) => t == null ? void 0 : t(
      {
        body: o.toString(),
        contentType: "application/x-www-form-urlencoded",
        keepalive: !0
      },
      {
        ...e ? {
          query: {
            component: e
          }
        } : s
      }
    ),
    [t]
  );
  return c(
    (o) => {
      const e = o.properties.componentName, r = i(o);
      r && n(r, e);
    },
    [n]
  );
};
export {
  E as usePushAnalyticEvent
};
