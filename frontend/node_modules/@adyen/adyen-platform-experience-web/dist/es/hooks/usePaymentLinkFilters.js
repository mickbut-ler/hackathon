import { useFetch as u } from "./useFetch.js";
import { useMemo as F } from "../external/preact/hooks/dist/hooks.module.js";
import { useStores as a } from "./useStores.js";
import { useConfigContext as p } from "../core/ConfigContext/context.js";
import { EMPTY_OBJECT as h } from "../utils/value/constants.js";
const T = (t, e) => {
  const { payByLinkFilters: r } = p().endpoints, {
    data: s,
    isFetching: o,
    error: i
  } = u(
    F(
      () => ({
        fetchOptions: { enabled: !!r && (e ?? !0), keepPrevData: !0 },
        queryFn: async () => r == null ? void 0 : r(h)
      }),
      [r, e]
    )
  ), { filteredStores: n, allStores: c, isFetching: m, error: f } = a(t);
  return {
    filters: s,
    stores: n,
    isFetching: m || o,
    allStores: c,
    filterError: i,
    storeError: f
  };
};
export {
  T as default
};
